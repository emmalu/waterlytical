var WG=Object.defineProperty,JG=Object.defineProperties;var YG=Object.getOwnPropertyDescriptors;var Fb=Object.getOwnPropertySymbols;var bM=Object.prototype.hasOwnProperty,vM=Object.prototype.propertyIsEnumerable;var yM=(e,t,i)=>t in e?WG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,D=(e,t)=>{for(var i in t||(t={}))bM.call(t,i)&&yM(e,i,t[i]);if(Fb)for(var i of Fb(t))vM.call(t,i)&&yM(e,i,t[i]);return e},ne=(e,t)=>JG(e,YG(t));var H_=(e,t)=>{var i={};for(var n in e)bM.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&Fb)for(var n of Fb(e))t.indexOf(n)<0&&vM.call(e,n)&&(i[n]=e[n]);return i};const KG=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}};KG();function kt(){}function Fy(e,t){for(const i in t)e[i]=t[i];return e}function sN(e){return e()}function wM(){return Object.create(null)}function Wm(e){e.forEach(sN)}function BC(e){return typeof e=="function"}function or(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Nb;function lN(e,t){return Nb||(Nb=document.createElement("a")),Nb.href=t,e===Nb.href}function ZG(e){return Object.keys(e).length===0}function GC(e,...t){if(e==null)return kt;const i=e.subscribe(...t);return i.unsubscribe?()=>i.unsubscribe():i}function s3(e,t,i){e.$$.on_destroy.push(GC(t,i))}function cN(e,t,i,n){if(e){const r=uN(e,t,i,n);return e[0](r)}}function uN(e,t,i,n){return e[1]&&n?Fy(i.ctx.slice(),e[1](n(t))):i.ctx}function dN(e,t,i,n){if(e[2]&&n){const r=e[2](n(i));if(t.dirty===void 0)return r;if(typeof r=="object"){const a=[],o=Math.max(t.dirty.length,r.length);for(let s=0;s<o;s+=1)a[s]=t.dirty[s]|r[s];return a}return t.dirty|r}return t.dirty}function hN(e,t,i,n,r,a){if(r){const o=uN(t,i,n,a);e.p(o,r)}}function pN(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let n=0;n<i;n++)t[n]=-1;return t}return-1}function XG(e){return e&&BC(e.destroy)?e.destroy:kt}function $e(e,t){e.appendChild(t)}function We(e,t,i){e.insertBefore(t,i||null)}function Ge(e){e.parentNode.removeChild(e)}function mN(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function Ne(e){return document.createElement(e)}function pk(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ka(e){return document.createTextNode(e)}function xi(){return Ka(" ")}function Tl(){return Ka("")}function le(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function Ow(e,t){for(const i in t)le(e,i,t[i])}function QG(e){return Array.from(e.childNodes)}function q_(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ko(e,t,i){e.classList[i?"add":"remove"](t)}function eW(e,t,i=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i,!1,t),n}let Zg;function mg(e){Zg=e}function WC(){if(!Zg)throw new Error("Function called outside component initialization");return Zg}function tW(e){WC().$$.after_update.push(e)}function iW(e){WC().$$.on_destroy.push(e)}function nW(){const e=WC();return(t,i)=>{const n=e.$$.callbacks[t];if(n){const r=eW(t,i);n.slice().forEach(a=>{a.call(e,r)})}}}function xM(e,t){const i=e.$$.callbacks[t.type];i&&i.slice().forEach(n=>n.call(this,t))}const p0=[],l3=[],s1=[],c3=[],fN=Promise.resolve();let u3=!1;function gN(){u3||(u3=!0,fN.then(yN))}function rW(){return gN(),fN}function d3(e){s1.push(e)}function aW(e){c3.push(e)}const U_=new Set;let zb=0;function yN(){const e=Zg;do{for(;zb<p0.length;){const t=p0[zb];zb++,mg(t),oW(t.$$)}for(mg(null),p0.length=0,zb=0;l3.length;)l3.pop()();for(let t=0;t<s1.length;t+=1){const i=s1[t];U_.has(i)||(U_.add(i),i())}s1.length=0}while(p0.length);for(;c3.length;)c3.pop()();u3=!1,U_.clear(),mg(e)}function oW(e){if(e.fragment!==null){e.update(),Wm(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(d3)}}const l1=new Set;let Dd;function es(){Dd={r:0,c:[],p:Dd}}function ts(){Dd.r||Wm(Dd.c),Dd=Dd.p}function Ee(e,t){e&&e.i&&(l1.delete(e),e.i(t))}function Be(e,t,i,n){if(e&&e.o){if(l1.has(e))return;l1.add(e),Dd.c.push(()=>{l1.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}}function mk(e,t){const i={},n={},r={$$scope:1};let a=e.length;for(;a--;){const o=e[a],s=t[a];if(s){for(const l in o)l in s||(n[l]=1);for(const l in s)r[l]||(i[l]=s[l],r[l]=1);e[a]=s}else for(const l in o)r[l]=1}for(const o in n)o in i||(i[o]=void 0);return i}function bN(e){return typeof e=="object"&&e!==null?e:{}}function sW(e,t,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function ki(e){e&&e.c()}function ci(e,t,i,n){const{fragment:r,on_mount:a,on_destroy:o,after_update:s}=e.$$;r&&r.m(t,i),n||d3(()=>{const l=a.map(sN).filter(BC);o?o.push(...l):Wm(l),e.$$.on_mount=[]}),s.forEach(d3)}function ui(e,t){const i=e.$$;i.fragment!==null&&(Wm(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function lW(e,t){e.$$.dirty[0]===-1&&(p0.push(e),gN(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Rr(e,t,i,n,r,a,o,s=[-1]){const l=Zg;mg(e);const u=e.$$={fragment:null,ctx:null,props:a,update:kt,not_equal:r,bound:wM(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:wM(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let h=!1;if(u.ctx=i?i(e,t.props||{},(m,f,...g)=>{const b=g.length?g[0]:f;return u.ctx&&r(u.ctx[m],u.ctx[m]=b)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](b),h&&lW(e,m)),f}):[],u.update(),h=!0,Wm(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const m=QG(t.target);u.fragment&&u.fragment.l(m),m.forEach(Ge)}else u.fragment&&u.fragment.c();t.intro&&Ee(e.$$.fragment),ci(e,t.target,t.anchor,t.customElement),yN()}mg(l)}class Fr{$destroy(){ui(this,1),this.$destroy=kt}$on(t,i){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!ZG(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pt={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Xh,vN,fk,wN=!1,Aw=!1,JC=!1,_r=!1,kM=null,h3=!1;const Jm=typeof window!="undefined"?window:{};pt.cssVarShim&&Jm.CSS;const ro=Jm.document||{head:{}},X=Jm.HTMLElement||class{},en={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},Pw=pt.shadowDomShim&&pt.shadowDom?(()=>(ro.head.attachShadow+"").indexOf("[native")>-1)():!0,cW=(()=>{let e=!1;try{ro.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),uW=e=>Promise.resolve(e),dW=pt.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,xN=(e,t,i,n)=>{i&&i.map(([r,a,o])=>{const s=pW(e,r),l=hW(t,o),u=mW(r);en.ael(s,a,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>en.rel(s,a,l,u))})},hW=(e,t)=>i=>{try{pt.lazyLoad||e.$hostElement$[t](i)}catch(n){Ny(n)}},pW=(e,t)=>t&4?ro:t&8?Jm:t&16?ro.body:e,mW=e=>cW?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,_M="http://www.w3.org/1999/xlink",Zd=(e,t="")=>()=>{},SM=new WeakMap,fW=(e,t,i)=>{let n=Fw.get(e);dW&&i?(n=n||new CSSStyleSheet,n.replace(t)):n=t,Fw.set(e,n)},gW=(e,t,i,n)=>{let r=kN(t,i),a=Fw.get(r);if(e=e.nodeType===11?e:ro,a)if(typeof a=="string"){e=e.head||e;let o=SM.get(e),s;o||SM.set(e,o=new Set),o.has(r)||(s=ro.createElement("style"),s.innerHTML=a,e.insertBefore(s,e.querySelector("link")),o&&o.add(r))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return r},yW=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=Zd("attachStyles",t.$tagName$),a=gW(Pw&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&(i["s-sc"]=a,i.classList.add(a+"-h"),n&2&&i.classList.add(a+"-s")),r()},kN=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),bW=e=>WW.map(t=>t(e)).find(t=>!!t),DM={},vW="http://www.w3.org/2000/svg",wW="http://www.w3.org/1999/xhtml",xW=e=>e!=null,YC=e=>(e=typeof e,e==="object"||e==="function"),y=(e,t,...i)=>{let n=null,r=null,a=null,o=!1,s=!1,l=[];const u=m=>{for(let f=0;f<m.length;f++)n=m[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!YC(n))&&(n=String(n)),o&&s?l[l.length-1].$text$+=n:l.push(o?Lw(null,n):n),s=o)};if(u(i),t&&(pt.isDev&&e==="input"&&SW(t),pt.vdomKey&&t.key&&(r=t.key),pt.slotRelocation&&t.name&&(a=t.name),pt.vdomClass)){const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(f=>m[f]).join(" "))}if(pt.isDev&&l.some(_N)&&GW(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),pt.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,kW);const h=Lw(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),pt.vdomKey&&(h.$key$=r),pt.slotRelocation&&(h.$name$=a),h},Lw=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return pt.vdomAttribute&&(i.$attrs$=null),pt.vdomKey&&(i.$key$=null),pt.slotRelocation&&(i.$name$=null),i},Ae={},_N=e=>e&&e.$tag$===Ae,kW={forEach:(e,t)=>e.map($M).forEach(t),map:(e,t)=>e.map($M).map(t).map(_W)},$M=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),_W=e=>{if(typeof e.vtag=="function"){const i=Object.assign({},e.vattrs);return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),y(e.vtag,i,...e.vchildren||[])}const t=Lw(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},SW=e=>{const t=Object.keys(e),i=t.indexOf("value");if(i===-1)return;const n=t.indexOf("type"),r=t.indexOf("min"),a=t.indexOf("max"),o=t.indexOf("step");(i<n||i<r||i<a||i<o)&&PN('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},CM=(e,t,i,n,r,a)=>{if(i!==n){let o=MM(e,t),s=t.toLowerCase();if(t==="class"){const l=e.classList,u=TM(i),h=TM(n);l.remove(...u.filter(m=>m&&!h.includes(m))),l.add(...h.filter(m=>m&&!u.includes(m)))}else if(t==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):MM(Jm,s)?t=s.slice(2):t=s[2]+t.slice(3),i&&en.rel(e,t,i,!1),n&&en.ael(e,t,n,!1);else{const l=YC(n);if((o||l&&n!==null)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let h=n==null?"":n;t==="list"?o=!1:(i==null||e[t]!=h)&&(e[t]=h)}}catch{}let u=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(_M,t):e.removeAttribute(t)):(!o||a&4||r)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(_M,t,n):e.setAttribute(t,n))}}},DW=/\s/,TM=e=>e?e.split(DW):[],SN=(e,t,i,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||DM,o=t.$attrs$||DM;for(n in a)n in o||CM(r,n,a[n],void 0,i,t.$flags$);for(n in o)CM(r,n,a[n],o[n],i,t.$flags$)},Rw=(e,t,i,n)=>{let r=t.$children$[i],a=0,o,s,l;if(wN||(JC=!0,r.$tag$==="slot"&&(Xh&&n.classList.add(Xh+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=ro.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=ro.createTextNode("");else{if(_r||(_r=r.$tag$==="svg"),o=r.$elm$=ro.createElementNS(_r?vW:wW,r.$flags$&2?"slot-fb":r.$tag$),_r&&r.$tag$==="foreignObject"&&(_r=!1),SN(null,r,_r),xW(Xh)&&o["s-si"]!==Xh&&o.classList.add(o["s-si"]=Xh),r.$children$)for(a=0;a<r.$children$.length;++a)s=Rw(e,r,a,o),s&&o.appendChild(s);r.$tag$==="svg"?_r=!1:o.tagName==="foreignObject"&&(_r=!0)}return o["s-hn"]=fk,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=vN,o["s-sn"]=r.$name$||"",l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&Xg(e.$elm$,!1)),o},Xg=(e,t)=>{en.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==fk&&r["s-ol"]&&(CN(r).insertBefore(r,KC(r)),r["s-ol"].remove(),r["s-ol"]=void 0,JC=!0),t&&Xg(r,t)}en.$flags$&=-2},DN=(e,t,i,n,r,a)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,s;for(o.shadowRoot&&o.tagName===fk&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=Rw(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,KC(t))))},$N=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,IN(n),Aw=!0,r["s-ol"]?r["s-ol"].remove():Xg(r,!0),r.remove())},$W=(e,t,i,n)=>{let r=0,a=0,o=0,s=0,l=t.length-1,u=t[0],h=t[l],m=n.length-1,f=n[0],g=n[m],b,v;for(;r<=l&&a<=m;)if(u==null)u=t[++r];else if(h==null)h=t[--l];else if(f==null)f=n[++a];else if(g==null)g=n[--m];else if(jb(u,f))Qh(u,f),u=t[++r],f=n[++a];else if(jb(h,g))Qh(h,g),h=t[--l],g=n[--m];else if(jb(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&Xg(u.$elm$.parentNode,!1),Qh(u,g),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++r],g=n[--m];else if(jb(h,f))(u.$tag$==="slot"||g.$tag$==="slot")&&Xg(h.$elm$.parentNode,!1),Qh(h,f),e.insertBefore(h.$elm$,u.$elm$),h=t[--l],f=n[++a];else{for(o=-1,s=r;s<=l;++s)if(t[s]&&t[s].$key$!==null&&t[s].$key$===f.$key$){o=s;break}o>=0?(v=t[o],v.$tag$!==f.$tag$?b=Rw(t&&t[a],i,o,e):(Qh(v,f),t[o]=void 0,b=v.$elm$),f=n[++a]):(b=Rw(t&&t[a],i,a,e),f=n[++a]),b&&CN(u.$elm$).insertBefore(b,KC(u.$elm$))}r>l?DN(e,n[m+1]==null?null:n[m+1].$elm$,i,n,a,m):a>m&&$N(t,r,l)},jb=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,KC=e=>e&&e["s-ol"]||e,CN=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Qh=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,o=t.$text$;let s;o===null?(_r=a==="svg"?!0:a==="foreignObject"?!1:_r,a==="slot"||SN(e,t,_r),n!==null&&r!==null?$W(i,n,t,r):r!==null?(e.$text$!==null&&(i.textContent=""),DN(i,null,t,r,0,r.length-1)):n!==null&&$N(n,0,n.length-1),_r&&a==="svg"&&(_r=!1)):(s=i["s-cr"])?s.parentNode.textContent=o:e.$text$!==o&&(i.data=o)},TN=e=>{let t=e.childNodes,i,n,r,a,o,s;for(n=0,r=t.length;n<r;n++)if(i=t[n],i.nodeType===1){if(i["s-sr"]){for(o=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(s=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||o!==""){if(s===1&&o===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(s===1||s===3&&t[a].textContent.trim()!==""){i.hidden=!0;break}}TN(i)}},Za=[],EN=e=>{let t,i,n,r,a,o,s=0,l=e.childNodes,u=l.length;for(;s<u;s++){if(t=l[s],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],o=n.length-1;o>=0;o--)i=n[o],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==t["s-hn"]&&(EM(i,r)?(a=Za.find(h=>h.$nodeToRelocate$===i),Aw=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:Za.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&Za.map(h=>{EM(h.$nodeToRelocate$,i["s-sn"])&&(a=Za.find(m=>m.$nodeToRelocate$===i),a&&!h.$slotRefNode$&&(h.$slotRefNode$=a.$slotRefNode$))})):Za.some(h=>h.$nodeToRelocate$===i)||Za.push({$nodeToRelocate$:i}));t.nodeType===1&&EN(t)}},EM=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",IN=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(IN)},CW=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||Lw(null,null),a=_N(t)?t:y(null,null,t);fk=i.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map(([o,s])=>a.$attrs$[s]=i[o])),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=r.$elm$=i.shadowRoot||i,Xh=i["s-sc"],vN=i["s-cr"],wN=Pw&&(n.$flags$&1)!==0,Aw=!1,Qh(r,a);{if(en.$flags$|=1,JC){EN(a.$elm$);let o,s,l,u,h,m,f=0;for(;f<Za.length;f++)o=Za[f],s=o.$nodeToRelocate$,s["s-ol"]||(l=ro.createTextNode(""),l["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<Za.length;f++)if(o=Za[f],s=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,h=o.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if(m=l["s-nr"],m&&m["s-sn"]===s["s-sn"]&&u===m.parentNode&&(m=m.nextSibling,!m||!m["s-nr"])){h=m;break}(!h&&u!==s.parentNode||s.nextSibling!==h)&&s!==h&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),u.insertBefore(s,h))}else s.nodeType===1&&(s.hidden=!0)}Aw&&TN(a.$elm$),en.$flags$&=-2,Za.length=0}},TW=e=>pt.lazyLoad?Km(e).$hostElement$:e,U=(e,t,i)=>{const n=TW(e);return{emit:r=>(pt.isDev&&!n.isConnected&&PN(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),EW(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r}))}},EW=(e,t,i)=>{const n=en.ce(t,i);return e.dispatchEvent(n),n},IW=(e,t)=>{},ZC=(e,t)=>{pt.taskQueue&&pt.updatable&&(e.$flags$|=16),IW(e,e.$ancestorComponent$);const i=()=>MW(e,t);return pt.taskQueue?KW(i):i()},MW=(e,t)=>{const i=e.$hostElement$,n=Zd("scheduleUpdate",e.$cmpMeta$.$tagName$),r=i;let a;return t?a=Xp(r,"componentWillLoad"):a=Xp(r,"componentWillUpdate"),a=IM(a,()=>Xp(r,"componentWillRender")),n(),IM(a,()=>OW(e,r,t))},OW=async(e,t,i)=>{const n=e.$hostElement$,r=Zd("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&yW(e);const a=Zd("render",e.$cmpMeta$.$tagName$);AW(e,t,n),a(),r(),PW(e)},AW=(e,t,i)=>{try{kM=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(pt.hasRenderFn||pt.reflect)&&(pt.vdomRender||pt.reflect)&&(pt.hydrateServerSide||CW(e,t))}catch(s){Ny(s,e.$hostElement$)}return kM=null,null},PW=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=Zd("postUpdate",t),r=i;e.$ancestorComponent$,Xp(r,"componentDidRender"),e.$flags$&64?(Xp(r,"componentDidUpdate"),n()):(e.$flags$|=64,Xp(r,"componentDidLoad"),n())},Ym=e=>{if(pt.updatable){const t=Km(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&ZC(t,!1),i}return!1},Xp=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){Ny(n)}},IM=(e,t)=>e&&e.then?e.then(t):t(),LW=(e,t)=>e!=null&&!YC(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,RW=(e,t)=>Km(e).$instanceValues$.get(t),FW=(e,t,i,n)=>{const r=Km(e),a=e,o=r.$instanceValues$.get(t),s=r.$flags$,l=a;i=LW(i,n.$members$[t][0]);const u=Number.isNaN(o)&&Number.isNaN(i);if(i!==o&&!u){r.$instanceValues$.set(t,i);{if(n.$watchers$&&s&128){const m=n.$watchers$[t];m&&m.map(f=>{try{l[f](i,o,t)}catch(g){Ny(g,a)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,t)===!1)return;ZC(r,!1)}}}},NW=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;n.map(([a,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,a,{get(){return RW(this,a)},set(s){FW(this,a,s,t)},configurable:!0,enumerable:!0})});{const a=new Map;r.attributeChangedCallback=function(o,s,l){en.jmp(()=>{const u=a.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(r.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,s])=>s[0]&15).map(([o,s])=>{const l=s[1]||o;return a.set(l,o),s[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},zW=async(e,t,i,n,r)=>{if((t.$flags$&32)===0&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>t.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[t.$modeName$=bW(e)]);const s=kN(i,t.$modeName$);if(!Fw.has(s)){const l=Zd("registerStyles",i.$tagName$);fW(s,o,!!(i.$flags$&1)),l()}}t.$ancestorComponent$,(()=>ZC(t,!0))()},jW=e=>{},VW=e=>{if((en.$flags$&1)===0){const t=Km(e),i=t.$cmpMeta$,n=Zd("connectedCallback",i.$tagName$);t.$flags$&1?(xN(e,t,i.$listeners$),jW(t.$lazyInstance$)):(t.$flags$|=1,i.$flags$&12&&HW(e),i.$members$&&Object.entries(i.$members$).map(([r,[a]])=>{if(a&31&&e.hasOwnProperty(r)){const o=e[r];delete e[r],e[r]=o}}),zW(e,t,i)),n()}},HW=e=>{const t=e["s-cr"]=ro.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},qW=e=>{if((en.$flags$&1)===0){const t=Km(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},Q=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[],!Pw&&i.$flags$&1&&(i.$flags$|=8);const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){BW(this,i)},connectedCallback(){VW(this),n&&n.call(this)},disconnectedCallback(){qW(this),r&&r.call(this)},__attachShadow(){Pw?this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)}):this.shadowRoot=this}}),e.is=i.$tagName$,NW(e,i)},MN=e=>{const t=new URL(e,en.$resourcesUrl$);return t.origin!==Jm.location.origin?t.href:t.pathname},UW=e=>en.$resourcesUrl$=e,mn=(e,t)=>t,ON=new WeakMap,Km=e=>ON.get(e),BW=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return xN(e,i,t.$listeners$),ON.set(e,i)},MM=(e,t)=>t in e,Ny=(e,t)=>(0,console.error)(e,t),AN=pt.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],GW=(...e)=>console.error(...AN,...e),PN=(...e)=>console.warn(...AN,...e),Fw=new Map,WW=[],OM=[],LN=[],JW=(e,t)=>i=>{e.push(i),h3||(h3=!0,t&&en.$flags$&4?YW(p3):en.raf(p3))},AM=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){Ny(i)}e.length=0},p3=()=>{AM(OM),AM(LN),(h3=OM.length>0)&&en.raf(p3)},YW=e=>uW().then(e),KW=JW(LN,!0),su={isDev:!!pt.isDev,isBrowser:!0,isServer:!1,isTesting:!!pt.isTesting};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */const ZW="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:block;max-width:100%;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-ui-border-2);--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}.accordion--transparent{--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}.accordion--minimal{--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0}.accordion{border-width:1px;border-bottom-width:0px;border-style:solid;border-color:var(--calcite-ui-border-2)}",XW=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAccordionChange=U(this,"calciteAccordionChange",7),this.appearance="default",this.iconPosition="end",this.iconType="chevron",this.scale="m",this.selectionMode="multi",this.items=[],this.sorted=!1,this.sortItems=e=>e.sort((t,i)=>t.position-i.position).map(t=>t.item)}componentDidLoad(){this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}render(){return y("div",{class:{"accordion--transparent":this.appearance==="transparent","accordion--minimal":this.appearance==="minimal",accordion:this.appearance==="default"}},y("slot",null))}calciteAccordionItemKeyEvent(e){const t=e.detail.item,i=e.detail.parent;if(this.el===i){const n=t.key,r=e.target,a=this.itemIndex(r)===0,o=this.itemIndex(r)===this.items.length-1;switch(n){case"ArrowDown":o?this.focusFirstItem():this.focusNextItem(r);break;case"ArrowUp":a?this.focusLastItem():this.focusPrevItem(r);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}}}registerCalciteAccordionItem(e){const t={item:e.target,parent:e.detail.parent,position:e.detail.position};this.el===t.parent&&this.items.push(t)}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.calciteAccordionChange.emit({requestedAccordionItem:this.requestedAccordionItem})}focusFirstItem(){const e=this.items[0];this.focusElement(e)}focusLastItem(){const e=this.items[this.items.length-1];this.focusElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.items[t+1]||this.items[0];this.focusElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.items[t-1]||this.items[this.items.length-1];this.focusElement(i)}itemIndex(e){return this.items.indexOf(e)}focusElement(e){e.focus()}get el(){return this}static get style(){return ZW}},QW="calcite-theme-auto",eJ="calcite-theme-dark",tJ="calcite-theme-light",Xo={autoTheme:QW,darkTheme:eJ,lightTheme:tJ,rtl:"calcite--rtl"},iJ={loading:"Loading"};function nJ(e){return e.map(t=>{let i="";for(let n=0;n<t;n++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const ri=()=>nJ([2,1,1,1,3]);function PM(e){return e?e.id=e.id||`${e.tagName.toLowerCase()}-${ri()}`:""}function eo(e){return Array.isArray(e)?e:Array.from(e)}function RN(e){const t=jy(e,`.${Xo.darkTheme}, .${Xo.lightTheme}`);return t!=null&&t.classList.contains("calcite-theme-dark")?"dark":"light"}function Li(e){const t="dir",i=`[${t}]`,n=jy(e,i);return n?n.getAttribute(t):"ltr"}function Bt(e,t,i){const n=`[${t}]`,r=e.closest(n);return r?r.getAttribute(t):i}function XC(e){return e.getRootNode()}function QC(e){return e.host||null}function rJ(e,t){function i(n,r){if(!n)return r;n.assignedSlot&&(n=n.assignedSlot);const a=XC(n),s=Array.from(a.querySelectorAll(t)).filter(u=>!r.includes(u));r=[...r,...s];const l=QC(a);return l?i(l,r):r}return i(e,[])}function zy(e,{selector:t,id:i}){function n(r){if(!r)return null;r.assignedSlot&&(r=r.assignedSlot);const a=XC(r),o=i?a.getElementById(i):t?a.querySelector(t):null,s=QC(a);return o||(s?n(s):null)}return n(e)}function jy(e,t){function i(n){return n?n.closest(t)||i(QC(XC(n))):null}return i(e)}function FN(e){return typeof(e==null?void 0:e.setFocus)=="function"}async function ti(e){if(!!e)return FN(e)?e.setFocus():e.focus()}const Qg=":not([slot])";function ve(e,t,i){t&&!Array.isArray(t)&&typeof t!="string"&&(i=t,t=null);const n=t?Array.isArray(t)?t.map(r=>`[slot="${r}"]`).join(","):`[slot="${t}"]`:Qg;return i!=null&&i.all?aJ(e,n,i):oJ(e,n,i)}function NN(e,t){return e?Array.from(e.children||[]).filter(i=>i==null?void 0:i.matches(t)):[]}function aJ(e,t,i){let n=t===Qg?NN(e,Qg):Array.from(e.querySelectorAll(t));n=i&&i.direct===!1?n:n.filter(a=>a.parentElement===e),n=i!=null&&i.matches?n.filter(a=>a==null?void 0:a.matches(i.matches)):n;const r=i==null?void 0:i.selector;return r?n.map(a=>Array.from(a.querySelectorAll(r))).reduce((a,o)=>[...a,...o],[]).filter(a=>!!a):n}function oJ(e,t,i){let n=t===Qg?NN(e,Qg)[0]||null:e.querySelector(t);n=i&&i.direct===!1||(n==null?void 0:n.parentElement)===e?n:null,n=i!=null&&i.matches?n!=null&&n.matches(i.matches)?n:null:n;const r=i==null?void 0:i.selector;return r?n==null?void 0:n.querySelector(r):n}function m3(e,t){return Array.from(e.children).filter(i=>i.matches(t))}function eu(e,t,i){if(typeof t=="string"&&t!=="")return t;if(t==="")return e[i]}function LM(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}const sJ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:calc(90deg * -1);--calcite-accordion-item-active-icon-rotation:0deg;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0deg}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0deg;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0deg;--calcite-accordion-item-active-icon-rotation-rtl:calc(180deg * -1)}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;background-color:var(--calcite-accordion-item-background, var(--calcite-ui-foreground-1))}:host .accordion-item-header{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus) .accordion-item-header{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([active]){color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-content{display:block;color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-header{border-bottom-color:transparent}:host .accordion-item-header{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-direction:var(--calcite-accordion-item-flex-direction);flex-direction:var(--calcite-accordion-item-flex-direction)}:host .accordion-item-icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-start);margin-inline-end:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-end);margin-inline-start:var(--calcite-accordion-item-icon-spacing-end)}:host .accordion-item-content,:host .accordion-item-header{padding:var(--calcite-accordion-item-padding);border-bottom:1px solid var(--calcite-accordion-item-border, var(--calcite-ui-border-2))}:host .accordion-item-header *{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .accordion-item-content{display:none;padding-top:0px;color:var(--calcite-ui-text-3);text-align:initial}:host .accordion-item-expand-icon{color:var(--calcite-ui-text-3);-webkit-margin-start:var(--calcite-accordion-item-icon-spacing-start);margin-inline-start:var(--calcite-accordion-item-icon-spacing-start);-webkit-margin-end:var(--calcite-accordion-item-icon-spacing-end);margin-inline-end:var(--calcite-accordion-item-icon-spacing-end);-webkit-transform:rotate(var(--calcite-accordion-item-icon-rotation));transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .accordion-item-expand-icon{-webkit-transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl));transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1);-webkit-transform:rotate(var(--calcite-accordion-item-active-icon-rotation));transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([active]) .calcite--rtl .accordion-item-expand-icon{-webkit-transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl));transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .accordion-item-header-text{margin-top:0px;margin-bottom:0px;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;padding-top:0px;padding-bottom:0px;text-align:initial;-webkit-margin-end:auto;margin-inline-end:auto}:host .accordion-item-title,:host .accordion-item-subtitle{display:-ms-flexbox;display:flex;width:100%}:host .accordion-item-title{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .accordion-item-subtitle{margin-top:0.25rem;color:var(--calcite-ui-text-3)}:host(:focus) .accordion-item-title,:host(:hover) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:hover) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:hover) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:hover) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}:host(:focus) .accordion-item-title,:host(:active) .accordion-item-title,:host([active]) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:active) .accordion-item-icon,:host([active]) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:active) .accordion-item-expand-icon,:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:active) .accordion-item-subtitle,:host([active]) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}",lJ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAccordionItemKeyEvent=U(this,"calciteAccordionItemKeyEvent",7),this.calciteAccordionItemSelect=U(this,"calciteAccordionItemSelect",7),this.calciteAccordionItemClose=U(this,"calciteAccordionItemClose",7),this.calciteAccordionItemRegister=U(this,"calciteAccordionItemRegister",7),this.active=!1,this.guid=ri(),this.iconPosition="end",this.itemHeaderClickHandler=()=>this.emitRequestedItem()}connectedCallback(){this.parent=this.el.parentElement,this.selectionMode=Bt(this.el,"selection-mode","multi"),this.iconType=Bt(this.el,"icon-type","chevron"),this.iconPosition=Bt(this.el,"icon-position",this.iconPosition)}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.calciteAccordionItemRegister.emit({parent:this.parent,position:this.itemPosition})}render(){const e=Li(this.el),t=y("calcite-icon",{class:"accordion-item-icon",icon:this.icon,scale:"s"}),{guid:i}=this,n=`${i}-region`,r=`${i}-button`;return y(Ae,{tabindex:"0"},y("div",{class:{[`icon-position--${this.iconPosition}`]:!0,[`icon-type--${this.iconType}`]:!0}},y("div",{"aria-controls":n,class:{"accordion-item-header":!0,[Xo.rtl]:e==="rtl"},id:r,onClick:this.itemHeaderClickHandler,role:"button"},this.icon?t:null,y("div",{class:"accordion-item-header-text"},y("span",{class:"accordion-item-title"},this.itemTitle),this.itemSubtitle?y("span",{class:"accordion-item-subtitle"},this.itemSubtitle):null),y("calcite-icon",{class:"accordion-item-expand-icon",icon:this.iconType==="chevron"?"chevronDown":this.iconType==="caret"?"caretDown":this.active?"minus":"plus",scale:"s"})),y("div",{"aria-expanded":this.active.toString(),"aria-labelledby":r,class:"accordion-item-content",id:n,role:"region"},y("slot",null))))}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteAccordionItemKeyEvent.emit({parent:this.parent,item:e}),e.preventDefault();break}}updateActiveItemOnChange(e){this.requestedAccordionItem=e.detail.requestedAccordionItem,this.el.parentNode===this.requestedAccordionItem.parentNode&&this.determineActiveItem()}determineActiveItem(){switch(this.selectionMode){case"multi":this.el===this.requestedAccordionItem&&(this.active=!this.active);break;case"single":this.active=this.el===this.requestedAccordionItem?!this.active:!1;break;case"single-persist":this.active=this.el===this.requestedAccordionItem;break}}emitRequestedItem(){this.calciteAccordionItemSelect.emit({requestedAccordionItem:this.el})}getItemPosition(){return Array.prototype.indexOf.call(this.parent.querySelectorAll("calcite-accordion-item"),this.el)}get el(){return this}static get style(){return sJ}},Al={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible"},cJ={loading:"Loading"};function Nt(e,t,i){const n=uJ(e);return su.isBrowser?new n(t,i):void 0}function uJ(e){return e==="intersection"?window.IntersectionObserver:e==="mutation"?window.MutationObserver:window.ResizeObserver}function dJ(){}function Je(e,t=!1){if(e.disabled){e.el.setAttribute("tabindex","-1"),e.el.setAttribute("aria-disabled","true"),e.el.contains(document.activeElement)&&document.activeElement.blur(),e.el.click=dJ;return}e.el.click=HTMLElement.prototype.click,typeof t=="function"?e.el.setAttribute("tabindex",t.call(e)?"0":"-1"):t===!0?e.el.setAttribute("tabindex","0"):t===!1&&e.el.removeAttribute("tabindex"),e.el.removeAttribute("aria-disabled")}const hJ='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.button{position:relative;margin:0px;display:-ms-flexbox;display:flex;width:auto;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;border-style:none;background-color:var(--calcite-ui-foreground-1);fill:var(--calcite-ui-text-3);font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:unset;-ms-flex:1 0 auto;flex:1 0 auto}.button:hover{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.button:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.button:active{background-color:var(--calcite-ui-foreground-3)}.button .icon-container{pointer-events:none;margin:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;min-width:1rem;min-height:1rem}.button .text-container{margin:0px;width:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1rem;opacity:0;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-property:margin;transition-property:margin;-webkit-transition-property:width;transition-property:width}.button .text-container--visible{width:auto;-ms-flex:1 1 auto;flex:1 1 auto;opacity:1}:host([scale=s]) .button{padding:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=s]) .button--text-visible .icon-container{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([scale=m]) .button{padding:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=m]) .button--text-visible .icon-container{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([scale=l]) .button{padding:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal)}:host([scale=l]) .button--text-visible .icon-container{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([alignment=center]) .button{-ms-flex-pack:center;justify-content:center}:host([alignment=end]) .button{-ms-flex-pack:end;justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{-ms-flex:0 1 auto;flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-left:0px;padding-right:0px}.slot-container{display:-ms-flexbox;display:flex}.slot-container--hidden{display:none}.button--text-visible{width:100%}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus,:host([active][loading]) .button{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([active]) .button:active{background-color:var(--calcite-ui-foreground-1)}:host([appearance=clear]) .button{background-color:transparent;-webkit-transition-property:-webkit-box-shadow;transition-property:-webkit-box-shadow;transition-property:box-shadow;transition-property:box-shadow, -webkit-box-shadow;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host([appearance=clear]) .button:hover,:host([appearance=clear]) .button:focus{background-color:transparent;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-border-1) inset;box-shadow:0 0 0 2px var(--calcite-ui-border-1) inset}:host([active][appearance=clear]) .button,:host([active][appearance=clear]) .button:hover,:host([active][appearance=clear]) .button:focus{background-color:var(--calcite-ui-foreground-3);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}:host([appearance=clear][loading]) .button,:host([appearance=clear][disabled]) .button{background-color:transparent}:host([loading]) .button,:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-ui-foreground-1)}:host([loading]) .button .text-container,:host([loading]) .button:hover .text-container,:host([loading]) .button:focus .text-container{opacity:var(--calcite-ui-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-right:0px;color:var(--calcite-ui-text-3)}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;background-color:var(--calcite-ui-foreground-1);opacity:var(--calcite-ui-opacity-disabled)}:host([disabled][active]) .button,:host([disabled][active]) .button:hover,:host([disabled][active]) .button:focus{background-color:var(--calcite-ui-foreground-3);opacity:var(--calcite-ui-opacity-disabled)}:host([indicator]) .button::after{content:"";position:absolute;z-index:10;height:0.5rem;width:0.5rem;border-radius:9999px;border-width:2px;background-color:var(--calcite-ui-brand);border-color:var(--calcite-ui-foreground-1);inset-block-end:0.75rem;inset-inline-end:0.75rem}:host([indicator]) .button--text-visible::after{inset-block-end:auto}:host([indicator]) .button--text-visible .text-container--visible{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([indicator]) .button:hover::after,:host([indicator]) .button:focus::after{border-color:var(--calcite-ui-foreground-1)}:host([indicator][scale=s]) .button::after{inset-block-end:0.25rem;inset-inline-end:0.25rem}:host([indicator][scale=s]) .button--text-visible::after{inset-block-end:auto;inset-inline-end:0.5rem}:host([indicator][active]) .button::after{border-color:var(--calcite-ui-foreground-3)}',pJ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionClick=U(this,"calciteActionClick",7),this.active=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.indicator=!1,this.intlLoading=cJ.loading,this.loading=!1,this.scale="m",this.textEnabled=!1,this.mutationObserver=Nt("mutation",()=>Ym(this)),this.calciteActionClickHandler=()=>{this.disabled||this.calciteActionClick.emit()}}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentDidRender(){Je(this)}async setFocus(){this.buttonEl.focus()}renderTextContainer(){const{text:e,textEnabled:t}=this,i={[Al.textContainer]:!0,[Al.textContainerVisible]:t};return e?y("div",{class:i,key:"text-container"},e):null}renderIconContainer(){var e;const{loading:t,icon:i,scale:n,el:r,intlLoading:a}=this,o=n==="l"?"m":"s",l=t?y("calcite-loader",{active:!0,inline:!0,label:a,scale:n==="l"?"l":"m"}):null,u=i?y("calcite-icon",{icon:i,scale:o}):null,h=l||u,m=h||((e=r.children)===null||e===void 0?void 0:e.length),f=y("div",{class:{[Al.slotContainer]:!0,[Al.slotContainerHidden]:t}},y("slot",null));return m?y("div",{"aria-hidden":"true",class:Al.iconContainer,key:"icon-container"},h,f):null}render(){const{compact:e,disabled:t,loading:i,textEnabled:n,label:r,text:a}=this,o=r||a,s={[Al.button]:!0,[Al.buttonTextVisible]:n,[Al.buttonCompact]:e};return y(Ae,{onClick:this.calciteActionClickHandler},y("button",{"aria-busy":i.toString(),"aria-disabled":t.toString(),"aria-label":o,class:s,disabled:t,ref:l=>this.buttonEl=l},this.renderIconContainer(),this.renderTextContainer()))}get el(){return this}static get style(){return hJ}},RM={menu:"menu",defaultTrigger:"default-trigger"},hl={tooltip:"tooltip",trigger:"trigger"},mJ={menu:"ellipsis"},$d={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},FM={more:"More"},fJ={menu:"ellipsis"},gJ=150,yJ=2,bJ=({height:e,actionHeight:t,groupCount:i})=>Math.floor((e-i*yJ)/t),vJ=({actionCount:e,actionHeight:t,height:i,groupCount:n})=>Math.max(e-bJ({height:i,actionHeight:t,groupCount:n}),0),eT=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===hl.trigger:!0),wJ=({actionGroups:e,expanded:t,overflowCount:i})=>{let n=i;e.reverse().forEach(r=>{let a=0;const o=eT(r).reverse();o.forEach(s=>{s.slot===$d.menuActions&&(s.removeAttribute("slot"),s.textEnabled=t)}),n>0&&o.some(s=>(o.filter(u=>!u.slot).length>1&&o.length>2&&!s.closest("calcite-action-menu")&&(s.textEnabled=!0,s.setAttribute("slot",$d.menuActions),a++,a>1&&n--),n<1)),Ym(r)})},NM={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function xJ(e,t){var i;return e||((i=t.closest("calcite-shell-panel"))===null||i===void 0?void 0:i.position)||"start"}function fg({parent:e,expanded:t}){eT(e).filter(i=>i.slot!==$d.menuActions).forEach(i=>i.textEnabled=t),e.querySelectorAll("calcite-action-group").forEach(i=>i.expanded=t)}const kJ=({tooltip:e,referenceElement:t,expanded:i,ref:n})=>(e&&(e.referenceElement=!i&&t?t:null),n&&n(t),t),zN=({expanded:e,intlExpand:t,intlCollapse:i,toggle:n,el:r,position:a,tooltip:o,ref:s,scale:l})=>{const u=Li(r)==="rtl",h=e?i:t,m=[NM.chevronsLeft,NM.chevronsRight];u&&m.reverse();const f=xJ(a,r)==="end",g=f?m[1]:m[0],b=f?m[0]:m[1],v=y("calcite-action",{icon:e?g:b,onClick:n,ref:w=>kJ({tooltip:o,referenceElement:w,expanded:e,ref:s}),scale:l,text:h,textEnabled:e});return o?y("calcite-tooltip-manager",null,v):v},_J={actionGroupBottom:"action-group--bottom"},Tf={bottomActions:"bottom-actions",expandTooltip:"expand-tooltip"},zM={expand:"Expand",collapse:"Collapse"};var jN=typeof global=="object"&&global&&global.Object===Object&&global,SJ=typeof self=="object"&&self&&self.Object===Object&&self,tT=jN||SJ||Function("return this")(),bm=tT.Symbol,VN=Object.prototype,DJ=VN.hasOwnProperty,$J=VN.toString,Ef=bm?bm.toStringTag:void 0;function CJ(e){var t=DJ.call(e,Ef),i=e[Ef];try{e[Ef]=void 0;var n=!0}catch{}var r=$J.call(e);return n&&(t?e[Ef]=i:delete e[Ef]),r}var TJ=Object.prototype,EJ=TJ.toString;function IJ(e){return EJ.call(e)}var MJ="[object Null]",OJ="[object Undefined]",jM=bm?bm.toStringTag:void 0;function gk(e){return e==null?e===void 0?OJ:MJ:jM&&jM in Object(e)?CJ(e):IJ(e)}function yk(e){return e!=null&&typeof e=="object"}var AJ="[object Symbol]";function HN(e){return typeof e=="symbol"||yk(e)&&gk(e)==AJ}function PJ(e,t){for(var i=-1,n=e==null?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var qN=Array.isArray,LJ=1/0,VM=bm?bm.prototype:void 0,HM=VM?VM.toString:void 0;function UN(e){if(typeof e=="string")return e;if(qN(e))return PJ(e,UN)+"";if(HN(e))return HM?HM.call(e):"";var t=e+"";return t=="0"&&1/e==-LJ?"-0":t}var RJ=/\s/;function FJ(e){for(var t=e.length;t--&&RJ.test(e.charAt(t)););return t}var NJ=/^\s+/;function zJ(e){return e&&e.slice(0,FJ(e)+1).replace(NJ,"")}function vm(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qM=0/0,jJ=/^[-+]0x[0-9a-f]+$/i,VJ=/^0b[01]+$/i,HJ=/^0o[0-7]+$/i,qJ=parseInt;function UM(e){if(typeof e=="number")return e;if(HN(e))return qM;if(vm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=vm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zJ(e);var i=VJ.test(e);return i||HJ.test(e)?qJ(e.slice(2),i?2:8):jJ.test(e)?qM:+e}function UJ(e){return e}var BJ="[object AsyncFunction]",GJ="[object Function]",WJ="[object GeneratorFunction]",JJ="[object Proxy]";function YJ(e){if(!vm(e))return!1;var t=gk(e);return t==GJ||t==WJ||t==BJ||t==JJ}var KJ=9007199254740991,ZJ=/^(?:0|[1-9]\d*)$/;function XJ(e,t){var i=typeof e;return t=t==null?KJ:t,!!t&&(i=="number"||i!="symbol"&&ZJ.test(e))&&e>-1&&e%1==0&&e<t}var QJ=9007199254740991;function BN(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=QJ}function eY(e){return e!=null&&BN(e.length)&&!YJ(e)}var tY=Object.prototype;function iY(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||tY;return e===i}function nY(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var rY="[object Arguments]";function BM(e){return yk(e)&&gk(e)==rY}var GN=Object.prototype,aY=GN.hasOwnProperty,oY=GN.propertyIsEnumerable,sY=BM(function(){return arguments}())?BM:function(e){return yk(e)&&aY.call(e,"callee")&&!oY.call(e,"callee")};function lY(){return!1}var WN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,GM=WN&&typeof module=="object"&&module&&!module.nodeType&&module,cY=GM&&GM.exports===WN,WM=cY?tT.Buffer:void 0,uY=WM?WM.isBuffer:void 0,dY=uY||lY,hY="[object Arguments]",pY="[object Array]",mY="[object Boolean]",fY="[object Date]",gY="[object Error]",yY="[object Function]",bY="[object Map]",vY="[object Number]",wY="[object Object]",xY="[object RegExp]",kY="[object Set]",_Y="[object String]",SY="[object WeakMap]",DY="[object ArrayBuffer]",$Y="[object DataView]",CY="[object Float32Array]",TY="[object Float64Array]",EY="[object Int8Array]",IY="[object Int16Array]",MY="[object Int32Array]",OY="[object Uint8Array]",AY="[object Uint8ClampedArray]",PY="[object Uint16Array]",LY="[object Uint32Array]",It={};It[CY]=It[TY]=It[EY]=It[IY]=It[MY]=It[OY]=It[AY]=It[PY]=It[LY]=!0;It[hY]=It[pY]=It[DY]=It[mY]=It[$Y]=It[fY]=It[gY]=It[yY]=It[bY]=It[vY]=It[wY]=It[xY]=It[kY]=It[_Y]=It[SY]=!1;function RY(e){return yk(e)&&BN(e.length)&&!!It[gk(e)]}function FY(e){return function(t){return e(t)}}var JN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gg=JN&&typeof module=="object"&&module&&!module.nodeType&&module,NY=gg&&gg.exports===JN,B_=NY&&jN.process,JM=function(){try{var e=gg&&gg.require&&gg.require("util").types;return e||B_&&B_.binding&&B_.binding("util")}catch{}}(),YM=JM&&JM.isTypedArray,zY=YM?FY(YM):RY,jY=Object.prototype,VY=jY.hasOwnProperty;function HY(e,t){var i=qN(e),n=!i&&sY(e),r=!i&&!n&&dY(e),a=!i&&!n&&!r&&zY(e),o=i||n||r||a,s=o?nY(e.length,String):[],l=s.length;for(var u in e)(t||VY.call(e,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||XJ(u,l)))&&s.push(u);return s}function qY(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var UY=Object.prototype,BY=UY.hasOwnProperty;function GY(e){if(!vm(e))return qY(e);var t=iY(e),i=[];for(var n in e)n=="constructor"&&(t||!BY.call(e,n))||i.push(n);return i}function WY(e){return eY(e)?HY(e,!0):GY(e)}function JY(e){return e==null?"":UN(e)}function YY(e){return function(t,i,n){for(var r=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++r];if(i(a[l],l,a)===!1)break}return t}}var KY=YY(),G_=function(){return tT.Date.now()},ZY="Expected a function",XY=Math.max,QY=Math.min;function Vd(e,t,i){var n,r,a,o,s,l,u=0,h=!1,m=!1,f=!0;if(typeof e!="function")throw new TypeError(ZY);t=UM(t)||0,vm(i)&&(h=!!i.leading,m="maxWait"in i,a=m?XY(UM(i.maxWait)||0,t):a,f="trailing"in i?!!i.trailing:f);function g(M){var L=n,j=r;return n=r=void 0,u=M,o=e.apply(j,L),o}function b(M){return u=M,s=setTimeout(x,t),h?g(M):o}function v(M){var L=M-l,j=M-u,G=t-L;return m?QY(G,a-j):G}function w(M){var L=M-l,j=M-u;return l===void 0||L>=t||L<0||m&&j>=a}function x(){var M=G_();if(w(M))return S(M);s=setTimeout(x,v(M))}function S(M){return s=void 0,f&&n?g(M):(n=r=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,n=l=r=s=void 0}function T(){return s===void 0?o:S(G_())}function C(){var M=G_(),L=w(M);if(n=arguments,r=this,l=M,L){if(s===void 0)return b(l);if(m)return clearTimeout(s),s=setTimeout(x,t),g(l)}return s===void 0&&(s=setTimeout(x,t)),o}return C.cancel=E,C.flush=T,C}function eK(e){return typeof e=="function"?e:UJ}var YN=/[\\^$.*+?()[\]{}|]/g,tK=RegExp(YN.source);function iK(e){return e=JY(e),e&&tK.test(e)?e.replace(YN,"\\$&"):e}function KN(e,t){return e==null?e:KY(e,eK(t),WY)}var nK="Expected a function";function rK(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(nK);return vm(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),Vd(e,t,{leading:n,maxWait:t,trailing:r})}const KM=new Set;let Qp;const ZN={childList:!0};function pi(e){Qp||(Qp=Nt("mutation",XN)),Qp.observe(e.el,ZN)}function mi(e){KM.delete(e.el),XN(Qp.takeRecords()),Qp.disconnect();for(const[t]of KM.entries())Qp.observe(t,ZN)}function XN(e){e.forEach(({target:t})=>{Ym(t)})}const aK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{pointer-events:auto;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:stretch;align-self:stretch;max-width:15vw}:host([overflow-actions-disabled]){overflow-y:auto}:host([expanded]){max-width:20vw}::slotted(calcite-action-group){border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}::slotted(calcite-action-group:last-child){border-bottom-width:0px}.action-group--bottom{-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:end;justify-content:flex-end;padding-bottom:0px}",oK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionBarToggle=U(this,"calciteActionBarToggle",7),this.expandDisabled=!1,this.expanded=!1,this.overflowActionsDisabled=!1,this.mutationObserver=Nt("mutation",()=>{const{el:e,expanded:t}=this;fg({parent:e,expanded:t}),this.conditionallyOverflowActions()}),this.resizeObserver=Nt("resize",e=>this.resizeHandlerEntries(e)),this.actionMenuOpenChangeHandler=e=>{if(e.detail){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.resizeHandlerEntries=e=>{e.forEach(this.resizeHandler)},this.resizeHandler=e=>{const{height:t}=e.contentRect;this.resize(t)},this.resize=Vd(e=>{var t;const{el:i,expanded:n,expandDisabled:r}=this;if(!e)return;const a=eT(i),o=r?a.length:a.length+1,s=Array.from(i.querySelectorAll("calcite-action-group")),l=ve(i,Tf.bottomActions)||!r?s.length+1:s.length,u=vJ({actionCount:o,actionHeight:(t=a[0])===null||t===void 0?void 0:t.clientHeight,height:e,groupCount:l});wJ({actionGroups:s,expanded:n,overflowCount:u})},gJ),this.conditionallyOverflowActions=()=>{this.overflowActionsDisabled||this.overflowActions()},this.toggleExpand=()=>{this.expanded=!this.expanded},this.setExpandToggleRef=e=>{this.expandToggleEl=e}}expandHandler(){this.conditionallyOverflowActions()}expandedHandler(e){fg({parent:this.el,expanded:e}),this.calciteActionBarToggle.emit()}overflowDisabledHandler(e){e?this.resizeObserver.disconnect():this.resizeObserver.observe(this.el)}componentDidLoad(){this.conditionallyOverflowActions()}connectedCallback(){var e,t;const{el:i,expanded:n}=this;fg({parent:i,expanded:n}),(e=this.mutationObserver)===null||e===void 0||e.observe(i,{childList:!0,subtree:!0}),this.overflowActionsDisabled||(t=this.resizeObserver)===null||t===void 0||t.observe(i),this.conditionallyOverflowActions(),pi(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),mi(this)}async overflowActions(){this.resize(this.el.clientHeight)}async setFocus(e){if(e==="expand-toggle"){await ti(this.expandToggleEl);return}this.el.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,intlExpand:i,intlCollapse:n,el:r,position:a,toggleExpand:o,scale:s}=this,l=ve(r,Tf.expandTooltip),u=i||zM.expand,h=n||zM.collapse,m=t?null:y(zN,{el:r,expanded:e,intlCollapse:h,intlExpand:u,position:a,ref:this.setExpandToggleRef,scale:s,toggle:o,tooltip:l});return ve(r,Tf.bottomActions)||m?y("calcite-action-group",{class:_J.actionGroupBottom,scale:s},y("slot",{name:Tf.bottomActions}),y("slot",{name:Tf.expandTooltip}),m):null}render(){return y(Ae,{onCalciteActionMenuOpenChange:this.actionMenuOpenChangeHandler},y("slot",null),this.renderBottomActionGroup())}get el(){return this}static get watchers(){return{expandDisabled:["expandHandler"],expanded:["expandedHandler"],overflowActionsDisabled:["overflowDisabledHandler"]}}static get style(){return aK}},sK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;--calcite-action-group-columns:3}:host([columns="1"]){--calcite-action-group-columns:1}:host([columns="2"]){--calcite-action-group-columns:2}:host([columns="3"]){--calcite-action-group-columns:3}:host([columns="4"]){--calcite-action-group-columns:4}:host([columns="5"]){--calcite-action-group-columns:5}:host([columns="6"]){--calcite-action-group-columns:6}:host(:first-child){padding-top:0px}:host([layout=horizontal]){-ms-flex-direction:row;flex-direction:row}:host([layout=grid]){display:grid;place-content:stretch;gap:1px;background-color:var(--calcite-ui-background);padding:1px;grid-template-columns:repeat(var(--calcite-action-group-columns), auto)}',lK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.expanded=!1,this.layout="vertical",this.menuOpen=!1,this.setMenuOpen=e=>{this.menuOpen=!!e.detail}}expandedHandler(){this.menuOpen=!1}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}renderTooltip(){const{el:e}=this;return ve(e,$d.menuTooltip)?y("slot",{name:$d.menuTooltip,slot:hl.tooltip}):null}renderMenu(){const{el:e,expanded:t,intlMore:i,menuOpen:n,scale:r}=this;return ve(e,$d.menuActions)?y("calcite-action-menu",{expanded:t,flipPlacements:["left","right"],label:i||FM.more,onCalciteActionMenuOpenChange:this.setMenuOpen,open:n,placement:"leading-start",scale:r},y("calcite-action",{icon:fJ.menu,scale:r,slot:hl.trigger,text:i||FM.more,textEnabled:t}),y("slot",{name:$d.menuActions}),this.renderTooltip()):null}render(){return y(mn,null,y("slot",null),this.renderMenu())}get el(){return this}static get watchers(){return{expanded:["expandedHandler"]}}static get style(){return sK}};function wm(e,t){return(e+t)%t}const cK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size-1);color:var(--calcite-ui-text-2)}.menu ::slotted(calcite-action){margin:0.125rem;display:-ms-flexbox;display:flex;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}::slotted(calcite-action[active]){outline:2px solid var(--calcite-ui-brand);outline-offset:0px}.default-trigger{position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}.menu{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;outline:2px solid transparent;outline-offset:2px}",ZM=["ArrowUp","ArrowDown"],XM=["ArrowUp","ArrowDown","End","Home"],uK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionMenuOpenChange=U(this,"calciteActionMenuOpenChange",7),this.expanded=!1,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.actionElements=[],this.mutationObserver=Nt("mutation",()=>this.getActions()),this.guid=`calcite-action-menu-${ri()}`,this.menuId=`${this.guid}-menu`,this.menuButtonId=`${this.guid}-menu-button`,this.activeMenuItemIndex=-1,this.connectMenuButtonEl=()=>{const{el:e,menuButtonId:t,menuId:i,open:n,label:r}=this,a=ve(e,hl.trigger)||this.defaultMenuButtonEl;this.menuButtonEl!==a&&(this.disconnectMenuButtonEl(),this.menuButtonEl=a,this.setTooltipReferenceElement(),a&&(a.active=n,a.setAttribute("aria-controls",i),a.setAttribute("aria-expanded",n.toString()),a.setAttribute("aria-haspopup","true"),a.id||(a.id=t),a.label||(a.label=r),a.text||(a.text=r),a.addEventListener("click",this.menuButtonClick),a.addEventListener("keydown",this.menuButtonKeyDown),a.addEventListener("keyup",this.menuButtonKeyUp)))},this.disconnectMenuButtonEl=()=>{const{menuButtonEl:e}=this;!e||(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown),e.removeEventListener("keyup",this.menuButtonKeyUp))},this.setDefaultMenuButtonEl=e=>{this.defaultMenuButtonEl=e,this.connectMenuButtonEl()},this.handleCalciteActionClick=()=>{this.open=!1,this.setFocus()},this.menuButtonClick=()=>{this.toggleOpen()},this.setTooltipReferenceElement=()=>{const{el:e,expanded:t,menuButtonEl:i}=this,n=ve(e,hl.tooltip),r=(n==null?void 0:n.tagName)==="SLOT"?n.assignedElements()[0]:n;(r==null?void 0:r.tagName)==="CALCITE-TOOLTIP"&&(r.referenceElement=t?null:i)},this.updateAction=(e,t)=>{const{guid:i,activeMenuItemIndex:n}=this,r=`${i}-action-${t}`;e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=r),e.active=t===n},this.updateActions=e=>{e==null||e.forEach(this.updateAction)},this.getActions=()=>{const{el:e}=this,t=ve(e,{all:!0,matches:"calcite-action"});this.updateActions(t),this.actionElements=t,this.connectMenuButtonEl()},this.menuButtonKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;!this.isValidKey(t,ZM)||(e.preventDefault(),i.length&&(this.toggleOpen(!0),this.handleActionNavigation(t,i)))},this.menuButtonKeyDown=e=>{const{key:t}=e;!this.isValidKey(t,ZM)||e.preventDefault()},this.menuActionsContainerKeyDown=e=>{const{key:t}=e,{actionElements:i,activeMenuItemIndex:n}=this;if(t==="Tab"){this.open=!1;return}if(t===" "||t==="Enter"){e.preventDefault();const r=i[n];r?r.click():this.toggleOpen(!1);return}this.isValidKey(t,XM)&&e.preventDefault()},this.menuActionsContainerKeyUp=e=>{const{key:t}=e,{actionElements:i}=this;if(t==="Escape"){this.toggleOpen(!1);return}!this.isValidKey(t,XM)||(e.preventDefault(),i.length&&this.handleActionNavigation(t,i))},this.handleActionNavigation=(e,t)=>{const i=this.activeMenuItemIndex;e==="Home"&&(this.activeMenuItemIndex=0),e==="End"&&(this.activeMenuItemIndex=t.length-1),e==="ArrowUp"&&(this.activeMenuItemIndex=wm(Math.max(i-1,-1),t.length)),e==="ArrowDown"&&(this.activeMenuItemIndex=wm(i+1,t.length))},this.toggleOpenEnd=()=>{this.setFocus(),this.el.removeEventListener("calcitePopoverOpen",this.toggleOpenEnd)},this.toggleOpen=(e=!this.open)=>{this.el.addEventListener("calcitePopoverOpen",this.toggleOpenEnd),this.open=e}}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.getActions(),pi(this)}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.disconnectMenuButtonEl(),mi(this)}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.activeMenuItemIndex=this.open?0:-1,this.menuButtonEl&&(this.menuButtonEl.active=e),this.calciteActionMenuOpenChange.emit(e)}closeCalciteActionMenuOnClick(e){e.composedPath().includes(this.el)||(this.open=!1)}activeMenuItemIndexHandler(){this.updateActions(this.actionElements)}async setFocus(){ti(this.open?this.menuEl:this.menuButtonEl)}renderMenuButton(){const{el:e,label:t,scale:i}=this,n=y("slot",{name:hl.trigger},y("calcite-action",{class:RM.defaultTrigger,icon:mJ.menu,ref:this.setDefaultMenuButtonEl,scale:i,text:t}));return ve(e,hl.tooltip)?y("calcite-tooltip-manager",null,n):n}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:t,open:i,menuId:n,menuButtonEl:r,label:a,placement:o,overlayPositioning:s,flipPlacements:l}=this,u=e[t],h=(u==null?void 0:u.id)||null;return y("calcite-popover",{disablePointer:!0,flipPlacements:l,label:a,offsetDistance:0,open:i,overlayPositioning:s,placement:o,referenceElement:r},y("div",{"aria-activedescendant":h,"aria-labelledby":r==null?void 0:r.id,class:RM.menu,id:n,onClick:this.handleCalciteActionClick,onKeyDown:this.menuActionsContainerKeyDown,onKeyUp:this.menuActionsContainerKeyUp,ref:m=>this.menuEl=m,role:"menu",tabIndex:-1},y("slot",null)))}render(){return y(mn,null,this.renderMenuButton(),this.renderMenuItems(),y("slot",{name:hl.tooltip}))}getAssignedElements(){return Array.from(this.el.querySelectorAll("slot")).map(e=>e.assignedElements({flatten:!0})).reduce((e,t)=>e.concat(t),[])}isValidKey(e,t){return!!t.find(i=>i===e)}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],open:["openHandler"],activeMenuItemIndex:["activeMenuItemIndexHandler"]}}static get style(){return cK}},QM={actionGroupBottom:"action-group--bottom",container:"container"},eO={expand:"Expand",collapse:"Collapse"},tO={expandTooltip:"expand-tooltip"},dK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}@keyframes in{0%{opacity:0}100%{opacity:1}}:host{-webkit-animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.125rem}:host([expanded]){max-width:20vw}::slotted(calcite-action-group){border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-bottom:0px;padding-top:0px}.container{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;overflow-y:auto;border-radius:0.25rem;background-color:var(--calcite-ui-background);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);max-width:15vw}.action-group--bottom{-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:end;justify-content:flex-end;padding-bottom:0px}:host([layout=horizontal]) .container{-ms-flex-direction:row;flex-direction:row;max-width:unset}:host([layout=horizontal]) .container .action-group--bottom{padding:0px}:host([layout=horizontal]) .container ::slotted(calcite-action-group){border-width:0px;padding:0px;border-inline-end-width:1px}::slotted(calcite-action-group:last-child){border-bottom-width:0px}",hK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteActionPadToggle=U(this,"calciteActionPadToggle",7),this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.actionMenuOpenChangeHandler=e=>{if(e.detail){const t=e.composedPath();Array.from(this.el.querySelectorAll("calcite-action-group")).forEach(i=>{t.includes(i)||(i.menuOpen=!1)})}},this.toggleExpand=()=>{this.expanded=!this.expanded},this.setExpandToggleRef=e=>{this.expandToggleEl=e}}expandedHandler(e){fg({parent:this.el,expanded:e}),this.calciteActionPadToggle.emit()}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}componentWillLoad(){const{el:e,expanded:t}=this;fg({parent:e,expanded:t})}async setFocus(e){if(e==="expand-toggle"){await ti(this.expandToggleEl);return}this.el.focus()}renderBottomActionGroup(){const{expanded:e,expandDisabled:t,intlExpand:i,intlCollapse:n,el:r,position:a,toggleExpand:o,scale:s}=this,l=ve(r,tO.expandTooltip),u=i||eO.expand,h=n||eO.collapse,m=t?null:y(zN,{el:r,expanded:e,intlCollapse:h,intlExpand:u,position:a,ref:this.setExpandToggleRef,scale:s,toggle:o,tooltip:l});return m?y("calcite-action-group",{class:QM.actionGroupBottom,scale:s},y("slot",{name:tO.expandTooltip}),m):null}render(){return y(Ae,{onCalciteActionMenuOpenChange:this.actionMenuOpenChangeHandler},y("div",{class:QM.container},y("slot",null),this.renderBottomActionGroup()))}get el(){return this}static get watchers(){return{expanded:["expandedHandler"]}}static get style(){return dK}},pK={intlClose:"Close"},iO={slow:14e3,medium:1e4,fast:6e3},W_={title:"title",message:"message",link:"link"};var xm;(function(e){e.green="checkCircle",e.yellow="exclamationMarkTriangle",e.red="exclamationMarkTriangle",e.blue="lightbulb"})(xm||(xm={}));const mK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-alert-width:40em;--calcite-alert-spacing-token-small:0.5rem;--calcite-alert-spacing-token-large:0.75rem}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .alert-queue-count{margin-left:0.5rem;margin-right:0.5rem}:host([scale=s]) .container{--calcite-alert-min-height:3.5rem}:host([scale=s]) .alert-close{padding:0.5rem}:host([scale=m]){--calcite-alert-width:50em;--calcite-alert-spacing-token-small:0.75rem;--calcite-alert-spacing-token-large:1rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .alert-queue-count{margin-left:0.75rem;margin-right:0.75rem}:host([scale=m]) .container{--calcite-alert-min-height:4.1875rem}:host([scale=l]){--calcite-alert-width:60em;--calcite-alert-spacing-token-small:1rem;--calcite-alert-spacing-token-large:1.25rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-bottom:0.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .alert-queue-count{margin-left:1rem;margin-right:1rem}:host([scale=l]) .container{--calcite-alert-min-height:5.625rem}:host{--calcite-alert-edge-distance:2rem;display:block}:host .container{pointer-events:none;position:fixed;margin-top:0px;margin-bottom:0px;margin-left:auto;margin-right:auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius);border-top:0px solid transparent;border-left:1px solid var(--calcite-ui-border-3);border-right:1px solid var(--calcite-ui-border-3);border-bottom:1px solid var(--calcite-ui-border-3);min-height:var(--calcite-alert-min-height);width:var(--calcite-alert-width);max-width:calc(100% - (var(--calcite-alert-edge-distance) * 2 + 2px));max-height:0;z-index:101;-webkit-transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transition:var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}:host .container.bottom,:host .container.top{inset-inline-end:0;inset-inline-start:0}:host .container[class*=bottom]{-webkit-transform:translate3d(0, var(--calcite-alert-edge-distance), 0);transform:translate3d(0, var(--calcite-alert-edge-distance), 0);inset-block-end:var(--calcite-alert-edge-distance)}:host .container[class*=top]{-webkit-transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), 0);inset-block-start:var(--calcite-alert-edge-distance)}:host .container[class*=-start]{inset-inline-start:var(--calcite-alert-edge-distance);inset-inline-end:auto}:host .container[class*=-end]{inset-inline-end:var(--calcite-alert-edge-distance);inset-inline-start:auto}.container{display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.alert-close{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.alert-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([active]) .container:not(.queued){max-height:100%;border-top-width:2px;opacity:1;pointer-events:initial}:host([active]) .container:not(.queued)[class*=bottom]{-webkit-transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit);transform:translate3d(0, calc(-1 * var(--calcite-alert-edge-distance)), inherit)}:host([active]) .container:not(.queued)[class*=top]{-webkit-transform:translate3d(0, var(--calcite-alert-edge-distance), inherit);transform:translate3d(0, var(--calcite-alert-edge-distance), inherit)}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0px;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}slot[name=link]::slotted(*),*::slotted([slot=link]){display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-text-link)}.alert-content{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;overflow-wrap:break-word;background-color:var(--calcite-ui-foreground-1);-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;padding-block:var(--calcite-alert-spacing-token-small);padding-inline:0 var(--calcite-alert-spacing-token-small);border-bottom-left-radius:var(--calcite-border-radius);border-bottom-right-radius:var(--calcite-border-radius)}.alert-content:first-of-type:not(:only-child){-webkit-padding-start:var(--calcite-alert-spacing-token-large);padding-inline-start:var(--calcite-alert-spacing-token-large)}.alert-content:only-child{padding:var(--calcite-alert-spacing-token-small)}.alert-icon{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px}.alert-close{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-alert-spacing-token-small) var(--calcite-alert-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;overflow:hidden;border-end-end-radius:var(--calcite-border-radius)}.alert-close:hover,.alert-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.alert-close:active{background-color:var(--calcite-ui-foreground-3)}.alert-queue-count{visibility:hidden;display:-ms-flexbox;display:flex;cursor:default;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-foreground-1);text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;overflow:hidden;border-left:0px solid transparent;border-right:0px solid transparent;border-top-right-radius:0}.alert-queue-count.active{visibility:visible;opacity:1}:host([auto-dismiss])>.alert-queue-count{-webkit-border-end:0px solid transparent;border-inline-end:0px solid transparent}.alert-dismiss-progress{position:absolute;left:0px;right:0px;display:block;width:100%;overflow:hidden;top:-2px;height:2px;z-index:103;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.alert-dismiss-progress:after{position:absolute;top:0px;display:block;height:2px;content:"";background-color:var(--calcite-alert-dismiss-progress-background);z-index:104;inset-inline-end:0}:host([color=blue]) .container{border-top-color:var(--calcite-ui-info)}:host([color=blue]) .container .alert-icon{color:var(--calcite-ui-info)}:host([color=red]) .container{border-top-color:var(--calcite-ui-danger)}:host([color=red]) .container .alert-icon{color:var(--calcite-ui-danger)}:host([color=yellow]) .container{border-top-color:var(--calcite-ui-warning)}:host([color=yellow]) .container .alert-icon{color:var(--calcite-ui-warning)}:host([color=green]) .container{border-top-color:var(--calcite-ui-success)}:host([color=green]) .container .alert-icon{color:var(--calcite-ui-success)}:host([auto-dismiss-duration=fast]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 6000ms ease-out;animation:dismissProgress 6000ms ease-out}:host([auto-dismiss-duration=medium]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 10000ms ease-out;animation:dismissProgress 10000ms ease-out}:host([auto-dismiss-duration=slow]) .alert-dismiss-progress:after{-webkit-animation:dismissProgress 14000ms ease-out;animation:dismissProgress 14000ms ease-out}@-webkit-keyframes dismissProgress{0%{width:0px}0%{opacity:0.75}100%{width:100%}100%{opacity:1}}@keyframes dismissProgress{0%{width:0px}0%{opacity:0.75}100%{width:100%}100%{opacity:1}}',fK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteAlertClose=U(this,"calciteAlertClose",7),this.calciteAlertOpen=U(this,"calciteAlertOpen",7),this.calciteAlertSync=U(this,"calciteAlertSync",7),this.calciteAlertRegister=U(this,"calciteAlertRegister",7),this.active=!1,this.autoDismiss=!1,this.autoDismissDuration=this.autoDismiss?"medium":null,this.color="blue",this.intlClose=pK.intlClose,this.placement="bottom",this.scale="m",this.queue=[],this.queueLength=0,this.queued=!1,this.autoDismissTimeoutId=null,this.trackTimer=Date.now(),this.activeTransitionProp="opacity",this.closeAlert=()=>{this.autoDismissTimeoutId=null,this.queued=!1,this.active=!1,this.queue=this.queue.filter(e=>e!==this.el),this.determineActiveAlert(),this.calciteAlertSync.emit({queue:this.queue})},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteAlertOpen.emit({el:this.el,queue:this.queue}):this.calciteAlertClose.emit({el:this.el,queue:this.queue}))}}watchActive(){this.active&&!this.queued&&this.calciteAlertRegister.emit(),this.active||(this.queue=this.queue.filter(e=>e!==this.el),this.calciteAlertSync.emit({queue:this.queue}))}updateRequestedIcon(){this.requestedIcon=eu(xm,this.icon,this.color)}updateDuration(){this.autoDismiss&&this.autoDismissTimeoutId&&(window.clearTimeout(this.autoDismissTimeoutId),this.autoDismissTimeoutId=window.setTimeout(()=>this.closeAlert(),iO[this.autoDismissDuration]-(Date.now()-this.trackTimer)))}connectedCallback(){this.active&&!this.queued&&this.calciteAlertRegister.emit()}componentWillLoad(){this.requestedIcon=eu(xm,this.icon,this.color)}disconnectedCallback(){window.clearTimeout(this.autoDismissTimeoutId)}render(){const e=y("button",{"aria-label":this.intlClose,class:"alert-close",onClick:this.closeAlert,ref:m=>this.closeButton=m,type:"button"},y("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),t=`+${this.queueLength>2?this.queueLength-1:1}`,i=y("div",{class:`${this.queueLength>1?"active ":""}alert-queue-count`},y("calcite-chip",{scale:this.scale,value:t},t)),{active:n,autoDismiss:r,label:a,placement:o,queued:s,requestedIcon:l}=this,u=r?"alert":"alertdialog",h=!n;return y(Ae,{"aria-hidden":h.toString(),"aria-label":a,"calcite-hydrated-hidden":h,role:u},y("div",{class:{container:!0,queued:s,[o]:!0},onTransitionEnd:this.transitionEnd},l?y("div",{class:"alert-icon"},y("calcite-icon",{icon:l,scale:this.scale==="l"?"m":"s"})):null,y("div",{class:"alert-content"},y("slot",{name:W_.title}),y("slot",{name:W_.message}),y("slot",{name:W_.link})),i,r?null:e,n&&!s&&r?y("div",{class:"alert-dismiss-progress"}):null))}alertSync(e){this.queue!==e.detail.queue&&(this.queue=e.detail.queue),this.queueLength=this.queue.length,this.determineActiveAlert()}alertRegister(){this.active&&!this.queue.includes(this.el)&&(this.queued=!0,this.queue.push(this.el)),this.calciteAlertSync.emit({queue:this.queue}),this.determineActiveAlert()}async setFocus(){const e=ve(this.el,{selector:"calcite-link"});!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}determineActiveAlert(){var e;if(((e=this.queue)===null||e===void 0?void 0:e[0])===this.el)this.openAlert(),this.autoDismiss&&!this.autoDismissTimeoutId&&(this.trackTimer=Date.now(),this.autoDismissTimeoutId=window.setTimeout(()=>this.closeAlert(),iO[this.autoDismissDuration]));else return}openAlert(){window.clearTimeout(this.queueTimeout),this.queueTimeout=window.setTimeout(()=>this.queued=!1,300)}get el(){return this}static get watchers(){return{active:["watchActive"],icon:["updateRequestedIcon"],color:["updateRequestedIcon"],autoDismissDuration:["updateDuration"]}}static get style(){return mK}};function QN(e){const{r:t,g:i,b:n}=e;return`#${t.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}`.toLowerCase()}const gK=/^[0-9A-F]$/i,yK=/^#[0-9A-F]{3}$/i,bK=/^#[0-9A-F]{6}$/i;function em(e){return e9(e)||t9(e)}function e9(e){return e&&e.length===4&&yK.test(e)}function t9(e){return e&&e.length===7&&bK.test(e)}function ll(e){return e=e.toLowerCase(),e.startsWith("#")||(e=`#${e}`),e9(e)?QN(iT(e)):e}function iT(e){if(!em(e))return null;if(e=e.replace("#",""),e.length===3){const[r,a,o]=e.split(""),s=parseInt(`${r}${r}`,16),l=parseInt(`${a}${a}`,16),u=parseInt(`${o}${o}`,16);return{r:s,g:l,b:u}}const t=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);return{r:t,g:i,b:n}}const i9=e=>e,Au=i9({HEX:"hex",HEXA:"hexa",RGB_CSS:"rgb-css",RGBA_CSS:"rgba-css",HSL_CSS:"hsl-css",HSLA_CSS:"hsla-css"}),Oh=i9({RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla",HSV:"hsv",HSVA:"hsva"});function nO(e){if(typeof e=="string"){if(e.startsWith("#")){const{length:t}=e;if(t===4||t===7)return Au.HEX;if(t===5||t===9)return Au.HEXA}if(e.startsWith("rgba("))return Au.RGBA_CSS;if(e.startsWith("rgb("))return Au.RGB_CSS;if(e.startsWith("hsl("))return Au.HSL_CSS;if(e.startsWith("hsla("))return Au.HSLA_CSS}if(typeof e=="object"){if(Ah(e,"r","g","b"))return Ah(e,"a")?Oh.RGBA:Oh.RGB;if(Ah(e,"h","s","l"))return Ah(e,"a")?Oh.HSLA:Oh.HSL;if(Ah(e,"h","s","v"))return Ah(e,"a")?Oh.HSVA:Oh.HSV}return null}function Ah(e,...t){return t.every(i=>i&&e&&`${i}`in e)}function rO(e,t){return(e==null?void 0:e.rgbNumber())===(t==null?void 0:t.rgbNumber())}function vK(e){let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let i="#";for(let n=0;n<3;n++){const r=t>>n*8&255;i+=("00"+r.toString(16)).substr(-2)}return i}function wK(e){let{r:t,g:i,b:n}=e;t/=255,i/=255,n/=255;const r=Math.max(t,i,n),a=Math.min(t,i,n),o=r-a;if(r===a)return 0;let s=(r+a)/2;switch(r){case t:s=(i-n)/o+(i<n?6:0);break;case i:s=(n-t)/o+2;break;case n:s=(t-i)/o+4;break}return Math.round(s*60)}function xK(e){return wK(iT(e))}const kK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;border-radius:50%;overflow:hidden}:host([scale=s]){height:1.5rem;width:1.5rem;font-size:var(--calcite-font-size--3)}:host([scale=m]){height:2rem;width:2rem;font-size:var(--calcite-font-size--2)}:host([scale=l]){height:2.75rem;width:2.75rem;font-size:var(--calcite-font-size-0)}.icon{display:-ms-flexbox;display:flex}.background{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:50%}.initials{font-weight:var(--calcite-font-weight-bold);text-transform:uppercase;color:var(--calcite-ui-text-3)}.thumbnail{height:100%;width:100%;border-radius:50%}",_K=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.scale="m",this.error=!1}render(){return this.determineContent()}determineContent(){if(this.thumbnail&&!this.error)return y("img",{alt:"",class:"thumbnail",onError:()=>this.error=!0,src:this.thumbnail});const e=this.generateInitials(),t=this.generateFillColor();return y("span",{class:"background",style:{backgroundColor:t}},e?y("span",{"aria-hidden":"true",class:"initials"},e):y("calcite-icon",{class:"icon",icon:"user",scale:this.scale}))}generateFillColor(){const{userId:e,username:t,fullName:i,el:n}=this,r=RN(n),a=e&&`#${e.substr(e.length-6)}`,o=t||i||"",s=a&&em(a)?a:vK(o);return!e&&!o||!em(s)?"var(--calcite-ui-foreground-2)":`hsl(${xK(s)}, 60%, ${r==="dark"?20:90}%)`}generateInitials(){const{fullName:e,username:t}=this;return e?e.trim().split(" ").map(i=>i.substring(0,1)).join(""):t?t.substring(0,2):!1}get el(){return this}static get style(){return kK}},yn={article:"article",content:"content",headerContainer:"header-container",icon:"icon",statusIcon:"status-icon",toggle:"toggle",toggleIcon:"toggle-icon",title:"title",heading:"heading",header:"header",button:"button",summary:"summary",controlContainer:"control-container",valid:"valid",invalid:"invalid",loading:"loading"},If={collapse:"Collapse",expand:"Expand",loading:"Loading",options:"Options"},Ph={icon:"icon",control:"control",headerMenuActions:"header-menu-actions"},Vb={opened:"chevron-up",closed:"chevron-down",valid:"check-circle",invalid:"exclamation-mark-triangle",refresh:"refresh"},SK=4;function nT(e){return Math.min(Math.max(Math.ceil(e),1),6)}const lu=(e,t)=>{const i=`h${e.level}`;return delete e.level,y(i,Object.assign({},e),t)},DK='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-direction:column;flex-direction:column;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding:0px;-webkit-transition-property:margin;transition-property:margin;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.215, 0.440, 0.420, 0.880);transition-timing-function:cubic-bezier(0.215, 0.440, 0.420, 0.880);-ms-flex-preferred-size:auto;flex-basis:auto}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{-ms-flex-pack:start;justify-content:flex-start;padding:0px}.header,.toggle{grid-area:header}.header-container{display:grid;-ms-flex-align:stretch;align-items:stretch;grid-template:auto/auto 1fr auto auto;grid-template-areas:"handle header control menu";grid-column:header-start/menu-end;grid-row:1/2}.toggle{margin:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;border-style:none;padding:0px;font-family:inherit;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:initial;background-color:transparent}.toggle:hover{background-color:var(--calcite-ui-foreground-2)}.toggle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-loader[inline]{grid-area:control;align-self:center}calcite-handle{grid-area:handle}.title{margin:0px;padding:0.75rem}.header .title .heading{padding:0px;font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-2);-webkit-transition-property:color;transition-property:color;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);word-wrap:break-word;word-break:break-word}.summary{margin-top:0.125rem;padding:0px;font-size:var(--calcite-font-size--2);color:var(--calcite-ui-text-3);word-wrap:break-word;word-break:break-word}.icon{-webkit-margin-start:0.75rem;margin-inline-start:0.75rem;-webkit-margin-end:0px;margin-inline-end:0px;margin-block:0.75rem}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}.status-icon.loading{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.toggle-icon{margin-top:0.75rem;margin-bottom:0.75rem;-ms-flex-item-align:center;align-self:center;justify-self:end;color:var(--calcite-ui-text-3);-webkit-transition-property:color;transition-property:color;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:1rem;margin-inline-end:1rem;-webkit-margin-start:auto;margin-inline-start:auto}.toggle:hover .toggle-icon{color:var(--calcite-ui-text-1)}.content{position:relative}@keyframes in{0%{opacity:0}100%{opacity:1}}.content{-webkit-animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem}.control-container{margin:0px;display:-ms-flexbox;display:flex;grid-area:control}calcite-action-menu{grid-area:menu}:host([open]){margin-top:0.5rem;margin-bottom:0.5rem}:host([open]) .header .title .heading{color:var(--calcite-ui-text-1)}',$K=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteBlockToggle=U(this,"calciteBlockToggle",7),this.collapsible=!1,this.disabled=!1,this.dragHandle=!1,this.intlLoading=If.loading,this.intlOptions=If.options,this.loading=!1,this.open=!1,this.guid=ri(),this.onHeaderClick=()=>{this.open=!this.open,this.calciteBlockToggle.emit()}}componentDidRender(){Je(this)}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}renderScrim(){const{loading:e}=this,t=y("slot",null);return[e?y("calcite-scrim",{loading:e}):null,t]}renderIcon(){const{el:e,status:t}=this,i=this.loading&&!this.open,n=i?Vb.refresh:Vb[t],r=ve(e,Ph.icon)||n,a=n?y("calcite-icon",{class:{[yn.statusIcon]:!0,[yn.valid]:t=="valid",[yn.invalid]:t=="invalid",[yn.loading]:i},icon:n,scale:"m"}):y("slot",{key:"icon-slot",name:Ph.icon});return r?y("div",{class:yn.icon},a):null}renderTitle(){const{heading:e,headingLevel:t,summary:i}=this;return e||i?y("div",{class:yn.title},y(lu,{class:yn.heading,level:t||SK},e),i?y("div",{class:yn.summary},i):null):null}render(){const{collapsible:e,el:t,intlCollapse:i,intlExpand:n,loading:r,open:a,intlLoading:o}=this,s=a?i||If.collapse:n||If.expand,l=y("header",{class:yn.header},this.renderIcon(),this.renderTitle()),u=!!ve(t,Ph.control),h=!!ve(t,Ph.headerMenuActions),m=a?Vb.opened:Vb.closed,{guid:f}=this,g=`${f}-region`,b=`${f}-button`,v=y("div",{class:yn.headerContainer},this.dragHandle?y("calcite-handle",null):null,e?y("button",{"aria-controls":g,"aria-expanded":e?a.toString():null,"aria-label":s,class:yn.toggle,id:b,onClick:this.onHeaderClick,title:s},l,!u&&!h?y("calcite-icon",{"aria-hidden":"true",class:yn.toggleIcon,icon:m,scale:"s"}):null):l,r?y("calcite-loader",{inline:!0,"is-active":!0,label:o}):u?y("div",{class:yn.controlContainer},y("slot",{name:Ph.control})):null,h?y("calcite-action-menu",{label:this.intlOptions||If.options},y("slot",{name:Ph.headerMenuActions})):null);return y(Ae,null,y("article",{"aria-busy":r.toString(),class:{[yn.article]:!0}},v,y("section",{"aria-expanded":this.open.toString(),"aria-labelledby":b,class:yn.content,hidden:!a,id:g},this.renderScrim())))}get el(){return this}static get style(){return DK}},xa={content:"content",invalid:"invalid",toggle:"toggle",toggleSwitch:"toggle--switch",toggleSwitchContent:"toggle--switch__content",toggleSwitchText:"toggle--switch__text",sectionHeader:"section-header",sectionHeaderText:"section-header__text",statusIcon:"status-icon",valid:"valid"},aO={collapse:"Collapse",expand:"Expand"},Hb={menuOpen:"chevron-down",menuClosedLeft:"chevron-left",menuClosedRight:"chevron-right",valid:"check-circle",invalid:"exclamation-mark-triangle"},CK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host([open]){border-width:0px;border-bottom-width:1px;border-style:solid;border-bottom-color:var(--calcite-ui-border-3)}:host(:last-child){border-bottom-width:0px}.toggle{width:100%;border-width:0px;background-color:transparent;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}.toggle--switch,.section-header{margin-left:0px;margin-right:0px;margin-top:0.25rem;margin-bottom:0.25rem;display:-ms-flexbox;display:flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:center;align-items:center;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.toggle--switch:focus,.section-header:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.toggle--switch:hover,.section-header:hover{color:var(--calcite-ui-text-1)}.section-header .status-icon{-ms-flex-item-align:end;align-self:flex-end}.section-header__text{margin-left:0.75rem;margin-right:0.75rem;margin-top:0px;margin-bottom:0px;-ms-flex:1 1 auto;flex:1 1 auto;text-align:initial;word-wrap:anywhere}.toggle--switch calcite-switch{pointer-events:none;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.toggle--switch .status-icon{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}.toggle--switch__content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center}.status-icon.valid{color:var(--calcite-ui-success)}.status-icon.invalid{color:var(--calcite-ui-danger)}",TK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteBlockSectionToggle=U(this,"calciteBlockSectionToggle",7),this.open=!1,this.toggleDisplay="button",this.guid=ri(),this.handleHeaderKeyDown=e=>{(e.key===" "||e.key==="Enter")&&(this.toggleSection(),e.preventDefault(),e.stopPropagation())},this.toggleSection=()=>{this.open=!this.open,this.calciteBlockSectionToggle.emit()}}renderStatusIcon(){var e;const{status:t}=this,i=(e=Hb[t])!==null&&e!==void 0?e:!1,n={[xa.statusIcon]:!0,[xa.valid]:t=="valid",[xa.invalid]:t=="invalid"};return i?y("calcite-icon",{class:n,icon:i,scale:"s"}):null}render(){const{el:e,intlCollapse:t,intlExpand:i,open:n,text:r,toggleDisplay:a}=this,o=Li(e),s=n?Hb.menuOpen:o==="rtl"?Hb.menuClosedLeft:Hb.menuClosedRight,l=n?t||aO.collapse:i||aO.expand,{guid:u}=this,h=`${u}-region`,m=`${u}-button`,f=a==="switch"?y("div",{"aria-controls":h,"aria-label":l,class:{[xa.toggle]:!0,[xa.toggleSwitch]:!0},id:m,onClick:this.toggleSection,onKeyDown:this.handleHeaderKeyDown,tabIndex:0,title:l},y("div",{class:xa.toggleSwitchContent},y("span",{class:xa.toggleSwitchText},r)),y("calcite-switch",{checked:n,label:l,scale:"s",tabIndex:-1}),this.renderStatusIcon()):y("button",{"aria-controls":h,"aria-label":l,class:{[xa.sectionHeader]:!0,[xa.toggle]:!0},id:m,name:l,onClick:this.toggleSection},y("calcite-icon",{icon:s,scale:"s"}),y("span",{class:xa.sectionHeaderText},r),this.renderStatusIcon());return y(Ae,null,f,y("section",{"aria-expanded":n.toString(),"aria-labelledby":m,class:xa.content,hidden:!n,id:h},y("slot",null)))}get el(){return this}static get style(){return CK}};(function(e){if(typeof e.requestSubmit=="function")return;e.requestSubmit=function(n){n?(t(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function t(n,r){n instanceof HTMLElement||i(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||i(TypeError,"The specified element is not a submit button"),n.form==r||i(DOMException,"The specified element is not owned by this form element","NotFoundError")}function i(n,r,a){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+r+".",a)}})(HTMLFormElement.prototype);const ka={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty"},EK={loading:"Loading"},n9="calciteInternalLabelClick",bk="calciteInternalLabelConnected",Nw="calciteInternaLabelDisconnected",oO="calcite-label",zw=new WeakMap,ey=new Set,IK=e=>{const{id:t}=e,i=t&&zy(e,{selector:`${oO}[for="${t}"]`});if(i)return i;const n=jy(e,oO);return!n||MK(n,e)?null:n};function MK(e,t){let i;const n="custom-element-ancestor-check",r=o=>{o.stopImmediatePropagation();const s=o.composedPath();i=s.slice(s.indexOf(t),s.indexOf(e))};return e.addEventListener(n,r,{once:!0}),t.dispatchEvent(new CustomEvent(n,{composed:!0,bubbles:!0})),e.removeEventListener(n,r),i.filter(o=>o!==t&&o!==e).filter(o=>{var s;return(s=o.tagName)===null||s===void 0?void 0:s.includes("-")}).length>0}function sr(e){const t=IK(e.el);if(zw.has(t))return;const i=rT.bind(e),n=r9.bind(e);t?((()=>{e.labelEl=t;const a=OK.bind(e);zw.set(e.labelEl,a),e.labelEl.addEventListener(n9,a)})(),ey.delete(e),document.removeEventListener(bk,i),document.addEventListener(Nw,n)):!t&&!ey.has(e)&&(n(),document.removeEventListener(Nw,n))}function Nr(e){const t=rT.bind(e),i=r9.bind(e);if(ey.delete(e),document.removeEventListener(bk,t),document.removeEventListener(Nw,i),!e.labelEl)return;const n=zw.get(e.labelEl);e.labelEl.removeEventListener(n9,n),zw.delete(e.labelEl)}function as(e){var t,i;return e.label||((i=(t=e.labelEl)===null||t===void 0?void 0:t.textContent)===null||i===void 0?void 0:i.trim())||""}function OK(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function rT(){ey.has(this)&&sr(this)}function r9(){ey.add(this);const e=rT.bind(this);document.addEventListener(bk,e)}const AK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;width:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host button,:host a{--calcite-button-content-margin:0.5rem;--calcite-button-padding-x:7px;--calcite-button-padding-y:3px;padding:var(--calcite-button-padding-y) var(--calcite-button-padding-x) var(--calcite-button-padding-y) var(--calcite-button-padding-x);position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:100%;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);-webkit-text-decoration-line:none;text-decoration-line:none;-webkit-transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-offset var(--calcite-internal-animation-timing-fast) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out, -webkit-box-shadow var(--calcite-animation-timing) ease-in-out}:host button:hover,:host a:hover{-webkit-text-decoration-line:none;text-decoration-line:none}.content{display:-ms-flexbox;display:flex;-ms-flex-preferred-size:auto;flex-basis:auto;-webkit-margin-start:var(--calcite-button-content-margin);margin-inline-start:var(--calcite-button-content-margin);-webkit-margin-end:var(--calcite-button-content-margin);margin-inline-end:var(--calcite-button-content-margin)}.icon-start-empty .content{-webkit-margin-start:unset;margin-inline-start:unset}.icon-end-empty .content{-webkit-margin-end:unset;margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin:1rem}:host([width=auto]){width:auto}:host([width=half]){width:50%}:host([width=full]){width:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{-ms-flex-pack:center;justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{-ms-flex-pack:start;justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{-ms-flex-pack:end;justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{-ms-flex-pack:justify;justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{-webkit-margin-end:auto;margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{-webkit-margin-start:auto;margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:var(--calcite-button-content-margin);margin-inline-start:var(--calcite-button-content-margin)}.icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([loading]){pointer-events:none}:host([loading]) button,:host([loading]) a{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}@-webkit-keyframes loader-in{0%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}100%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes loader-in{0%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}100%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes loader-out{0%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}}@keyframes loader-out{0%{width:1em;opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{width:0;opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}}.calcite-button--loader{display:-ms-flexbox;display:flex}.calcite-button--loader calcite-loader{margin:0px;-webkit-transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out;transition:width var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out, -webkit-transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{-webkit-animation-name:loader-in;animation-name:loader-in;-webkit-animation-duration:310ms;animation-duration:310ms}.calcite-button--loader calcite-loader.loading-out{-webkit-animation-name:loader-out;animation-name:loader-out;-webkit-animation-duration:310ms;animation-duration:310ms}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{-webkit-margin-end:var(--calcite-button-content-margin);margin-inline-end:var(--calcite-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance=solid]) button,:host([appearance=solid]) a{border-width:1px;border-style:solid;border-color:transparent}:host([appearance=solid][color=blue]) button,:host([appearance=solid][color=blue]) a{background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=blue]) button:hover,:host([appearance=solid][color=blue]) button:focus,:host([appearance=solid][color=blue]) a:hover,:host([appearance=solid][color=blue]) a:focus{background-color:var(--calcite-ui-brand-hover)}:host([appearance=solid][color=blue]) button:active,:host([appearance=solid][color=blue]) a:active{background-color:var(--calcite-ui-brand-press)}:host([appearance=solid][color=blue]) button calcite-loader,:host([appearance=solid][color=blue]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=red]) button,:host([appearance=solid][color=red]) a{background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=red]) button:hover,:host([appearance=solid][color=red]) button:focus,:host([appearance=solid][color=red]) a:hover,:host([appearance=solid][color=red]) a:focus{background-color:var(--calcite-ui-danger-hover)}:host([appearance=solid][color=red]) button:active,:host([appearance=solid][color=red]) a:active{background-color:var(--calcite-ui-danger-press)}:host([appearance=solid][color=red]) button calcite-loader,:host([appearance=solid][color=red]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=solid][color=neutral]) button,:host([appearance=solid][color=neutral]) a{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}:host([appearance=solid][color=neutral]) button:hover,:host([appearance=solid][color=neutral]) button:focus,:host([appearance=solid][color=neutral]) a:hover,:host([appearance=solid][color=neutral]) a:focus{background-color:var(--calcite-ui-foreground-2)}:host([appearance=solid][color=neutral]) button:active,:host([appearance=solid][color=neutral]) a:active{background-color:var(--calcite-ui-foreground-1)}:host([appearance=solid][color=neutral]) button calcite-loader,:host([appearance=solid][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=solid][color=inverse]) button,:host([appearance=solid][color=inverse]) a{color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-inverse)}:host([appearance=solid][color=inverse]) button:hover,:host([appearance=solid][color=inverse]) button:focus,:host([appearance=solid][color=inverse]) a:hover,:host([appearance=solid][color=inverse]) a:focus{background-color:var(--calcite-ui-inverse-hover)}:host([appearance=solid][color=inverse]) button:active,:host([appearance=solid][color=inverse]) a:active{background-color:var(--calcite-ui-inverse-press)}:host([appearance=solid][color=inverse]) button calcite-loader,:host([appearance=solid][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:inset 0 0 0 1px transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][color=blue]) button,:host([appearance=outline][color=blue]) a{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand)}:host([appearance=outline][color=blue]) button:hover,:host([appearance=outline][color=blue]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline][color=blue]) button:focus,:host([appearance=outline][color=blue]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline][color=blue]) button:active,:host([appearance=outline][color=blue]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline][color=blue]) button calcite-loader,:host([appearance=outline][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline][color=red]) button,:host([appearance=outline][color=red]) a{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger)}:host([appearance=outline][color=red]) button:hover,:host([appearance=outline][color=red]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline][color=red]) button:focus,:host([appearance=outline][color=red]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline][color=red]) button:active,:host([appearance=outline][color=red]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline][color=red]) button calcite-loader,:host([appearance=outline][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline][color=neutral]) button,:host([appearance=outline][color=neutral]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:hover,:host([appearance=outline][color=neutral]) a:hover{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:focus,:host([appearance=outline][color=neutral]) a:focus{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button:active,:host([appearance=outline][color=neutral]) a:active{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][color=neutral]) button calcite-loader,:host([appearance=outline][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][color=inverse]) button,:host([appearance=outline][color=inverse]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline][color=inverse]) button:hover,:host([appearance=outline][color=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline][color=inverse]) button:focus,:host([appearance=outline][color=inverse]) a:focus{border-color:var(--calcite-ui-inverse);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline][color=inverse]) button:active,:host([appearance=outline][color=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline][color=inverse]) button calcite-loader,:host([appearance=outline][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=clear]) button,:host([appearance=clear]) a{border-width:1px;border-style:solid;background-color:transparent;-webkit-box-shadow:inset 0 0 0 1px transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=clear][color=blue]) button,:host([appearance=clear][color=blue]) a{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand)}:host([appearance=clear][color=blue]) button:hover,:host([appearance=clear][color=blue]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=clear][color=blue]) button:focus,:host([appearance=clear][color=blue]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=clear][color=blue]) button:active,:host([appearance=clear][color=blue]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=clear][color=blue]) button calcite-loader,:host([appearance=clear][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=clear][color=red]) button,:host([appearance=clear][color=red]) a{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger)}:host([appearance=clear][color=red]) button:hover,:host([appearance=clear][color=red]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=clear][color=red]) button:focus,:host([appearance=clear][color=red]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=clear][color=red]) button:active,:host([appearance=clear][color=red]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=clear][color=red]) button calcite-loader,:host([appearance=clear][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=clear][color=neutral]) button,:host([appearance=clear][color=neutral]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:hover,:host([appearance=clear][color=neutral]) a:hover{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:focus,:host([appearance=clear][color=neutral]) a:focus{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button:active,:host([appearance=clear][color=neutral]) a:active{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=clear][color=neutral]) button calcite-loader,:host([appearance=clear][color=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=clear][color=inverse]) button,:host([appearance=clear][color=inverse]) a{color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=clear][color=inverse]) button:hover,:host([appearance=clear][color=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=clear][color=inverse]) button:focus,:host([appearance=clear][color=inverse]) a:focus{border-color:var(--calcite-ui-inverse);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=clear][color=inverse]) button:active,:host([appearance=clear][color=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=clear][color=inverse]) button calcite-loader,:host([appearance=clear][color=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][split-child=primary]) button,:host([appearance=clear][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline][split-child=secondary]) button,:host([appearance=clear][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][color=blue]) button,:host([appearance=transparent][color=blue]) a{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=blue]) button:hover,:host([appearance=transparent][color=blue]) a:hover{color:var(--calcite-ui-brand-hover)}:host([appearance=transparent][color=blue]) button:focus,:host([appearance=transparent][color=blue]) a:focus{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=blue]) button:active,:host([appearance=transparent][color=blue]) a:active{color:var(--calcite-ui-brand-press)}:host([appearance=transparent][color=blue]) button calcite-loader,:host([appearance=transparent][color=blue]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=transparent][color=red]) button,:host([appearance=transparent][color=red]) a{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=red]) button:hover,:host([appearance=transparent][color=red]) a:hover{color:var(--calcite-ui-danger-hover)}:host([appearance=transparent][color=red]) button:focus,:host([appearance=transparent][color=red]) a:focus{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=red]) button:active,:host([appearance=transparent][color=red]) a:active{color:var(--calcite-ui-danger-press)}:host([appearance=transparent][color=red]) button calcite-loader,:host([appearance=transparent][color=red]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][color=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=transparent][color=neutral].cancel-editing-button) button{border-top-width:1px;border-bottom-width:1px;color:var(--calcite-ui-text-3);border-top-color:var(--calcite-ui-border-input);border-bottom-color:var(--calcite-ui-border-input);border-bottom-style:solid;border-top-style:solid}:host([appearance=transparent][color=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y:0}:host([appearance=transparent][color=neutral].cancel-editing-button) button:hover{color:var(--calcite-ui-text-1)}:host([appearance=transparent][color=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][color=inverse]) button,:host([appearance=transparent][color=inverse]) a,:host([appearance=transparent][color=inverse]) calcite-loader{color:var(--calcite-ui-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:0.5rem;--calcite-button-padding-y:0.25rem}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]:not([appearance=transparent])) button.content--slotted,:host([scale=m]:not([appearance=transparent])) a.content--slotted{--calcite-button-padding-y:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:0.75rem;--calcite-button-padding-y:0.5rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]:not([appearance=transparent])) button.content--slotted,:host([scale=l]:not([appearance=transparent])) a.content--slotted{--calcite-button-padding-y:11px}:host([scale=l][appearance=transparent]) button.content--slotted,:host([scale=l][appearance=transparent]) a.content--slotted{--calcite-button-padding-x:1rem;--calcite-button-padding-y:0.75rem}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:3px;width:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:1.5rem}:host([scale=s][appearance=transparent]) button:not(.content--slotted),:host([scale=s][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.25rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:7px;width:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:2rem}:host([scale=m][appearance=transparent]) button:not(.content--slotted),:host([scale=m][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.5rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x:0.125rem;--calcite-button-padding-y:9px;width:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-height:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:23px;height:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:2rem;height:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x:43px;height:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:1rem;margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x:2.75rem}",PK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.alignment="center",this.appearance="solid",this.color="blue",this.disabled=!1,this.intlLoading=EK.loading,this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.width="auto",this.mutationObserver=Nt("mutation",()=>this.updateHasContent()),this.hasContent=!1,this.hasLoader=!1,this.handleClick=()=>{const{formEl:e,type:t}=this;!this.href&&t!=="button"&&(t==="submit"?e==null||e.requestSubmit():t==="reset"&&(e==null||e.reset()))}}loadingChanged(e,t){!!e&&!t&&(this.hasLoader=!0),!e&&!!t&&window.setTimeout(()=>{this.hasLoader=!1},300)}connectedCallback(){this.hasLoader=this.loading,this.setupTextContentObserver(),sr(this),this.formEl=jy(this.el,this.form?`#${this.form}`:"form")}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),Nr(this),this.formEl=null}componentWillLoad(){su.isBrowser&&(this.updateHasContent(),!this.href&&!this.type&&(this.type="submit"))}componentDidRender(){Je(this)}render(){const e=this.href?"a":"button",t=e,i=this.hasLoader?y("div",{class:ka.buttonLoader},y("calcite-loader",{active:!0,class:this.loading?ka.loadingIn:ka.loadingOut,inline:!0,label:this.intlLoading,scale:"m"})):null,n=y("calcite-icon",{class:{[ka.icon]:!0,[ka.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),r=y("calcite-icon",{class:{[ka.icon]:!0,[ka.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),a=y("span",{class:ka.content},y("slot",null));return y(t,{"aria-label":as(this),class:{[ka.contentSlotted]:this.hasContent,[ka.iconStartEmpty]:!this.iconStart,[ka.iconEndEmpty]:!this.iconEnd},disabled:this.disabled||this.loading,href:e==="a"&&this.href,name:e==="button"&&this.name,onClick:this.handleClick,ref:o=>this.childEl=o,rel:e==="a"&&this.rel,tabIndex:this.disabled||this.loading?-1:null,target:e==="a"&&this.target,type:e==="button"&&this.type},i,this.iconStart?n:null,this.hasContent?a:null,this.iconEnd?r:null)}async setFocus(){this.childEl.focus()}updateHasContent(){var e,t;const i=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((e=this.el.childNodes[0])===null||e===void 0?void 0:e.nodeName)==="#text"?((t=this.el.textContent)===null||t===void 0?void 0:t.trim().length)>0:i}setupTextContentObserver(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}get el(){return this}static get watchers(){return{loading:["loadingChanged"]}}static get style(){return AK}},Mf={container:"container",header:"header",footer:"footer",title:"title",subtitle:"subtitle",thumbnailWrapper:"thumbnail-wrapper",checkboxWrapper:"checkbox-wrapper"},_o={thumbnail:"thumbnail",title:"title",subtitle:"subtitle",footerLeading:"footer-leading",footerTrailing:"footer-trailing"},J_={select:"Select",deselect:"Deselect",loading:"Loading"},LK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;max-width:100%}:host .calcite-card-container{position:relative;display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);border-radius:var(--calcite-border-radius-base)}:host .calcite-card-container:hover{--tw-shadow:0 4px 16px 0 rgba(0, 0, 0, 0.08), 0 2px 8px 0 rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 16px 0 var(--tw-shadow-color), 0 2px 8px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);z-index:1}:host .calcite-card-container:active{--tw-shadow:0 1px 6px -1px rgba(0, 0, 0, 0.16), 0 1px 2px -1px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 1px 6px -1px var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition-duration:75ms;transition-duration:75ms;z-index:1}.container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column}:host([loading]) .calcite-card-container *:not(calcite-loader):not(.calcite-card-loader-container){pointer-events:none;opacity:0}:host([loading]) .calcite-card-loader-container{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.header,.footer{display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.75rem;padding-bottom:0.25rem}.header{-ms-flex-direction:column;flex-direction:column}.footer{margin-top:auto;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.75rem}.card-content{padding:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3)}:host([selectable]) .calcite-card-container:active{--tw-shadow:0 1px 6px -1px rgba(0, 0, 0, 0.16), 0 1px 2px -1px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 1px 6px -1px var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([selected]) .calcite-card-container{border-color:var(--calcite-ui-brand)}slot[name=title]::slotted(*),*::slotted([slot=title]){margin:0px;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}slot[name=subtitle]::slotted(*),*::slotted([slot=subtitle]){margin:0px;margin-top:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}slot[name=thumbnail]::slotted(img),img::slotted([slot=thumbnail]){min-width:100%;max-width:100%}slot[name=footer-leading]::slotted(*),*::slotted([slot=footer-leading]){-ms-flex-item-align:center;align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375;-webkit-margin-end:auto;margin-inline-end:auto}slot[name=footer-trailing]::slotted(*),*::slotted([slot=footer-trailing]){-ms-flex-item-align:center;align-self:center;font-size:var(--calcite-font-size--2);line-height:1.375}.thumbnail-wrapper{font-size:var(--calcite-font-size-0);line-height:1.375}.checkbox-wrapper{position:absolute;margin:0px;padding:0px;top:0.5rem;inset-inline-end:0.5rem}",RK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteCardSelect=U(this,"calciteCardSelect",7),this.loading=!1,this.selected=!1,this.selectable=!1,this.intlLoading=J_.loading,this.intlSelect=J_.select,this.intlDeselect=J_.deselect,this.cardSelectClick=()=>{this.selectCard()},this.cardSelectKeyDown=e=>{switch(e.key){case" ":case"Enter":this.selectCard(),e.preventDefault();break}}}connectedCallback(){pi(this)}disonnectedCallback(){mi(this)}render(){return y("div",{class:"calcite-card-container"},this.loading?y("div",{class:"calcite-card-loader-container"},y("calcite-loader",{active:!0,label:this.intlLoading})):null,y("section",{"aria-busy":this.loading.toString(),class:{[Mf.container]:!0}},this.selectable?this.renderCheckbox():null,this.renderThumbnail(),this.renderHeader(),y("div",{class:"card-content"},y("slot",null)),this.renderFooter()))}selectCard(){this.selected=!this.selected,this.calciteCardSelect.emit()}renderThumbnail(){return ve(this.el,_o.thumbnail)?y("div",{class:Mf.thumbnailWrapper,key:"thumbnail-wrapper"},y("slot",{name:_o.thumbnail})):null}renderCheckbox(){const e=this.selected?this.intlDeselect:this.intlSelect;return y("calcite-label",{class:Mf.checkboxWrapper,onClick:this.cardSelectClick,onKeyDown:this.cardSelectKeyDown},y("calcite-checkbox",{checked:this.selected,label:e}))}renderHeader(){const{el:e}=this,t=ve(e,_o.title),i=ve(e,_o.subtitle);return t||i?y("header",{class:Mf.header},y("slot",{name:_o.title}),y("slot",{name:_o.subtitle})):null}renderFooter(){const{el:e}=this,t=ve(e,_o.footerLeading),i=ve(e,_o.footerTrailing);return t||i?y("footer",{class:Mf.footer},y("slot",{name:_o.footerLeading}),y("slot",{name:_o.footerTrailing})):null}get el(){return this}static get style(){return LK}},f3="hidden-form-input";function aT(e){return"checked"in e}const sO=new WeakMap,oT=new WeakSet;function FK(e,t){const i="calciteInternalFormComponentRegister";let n=!1;return e.addEventListener(i,r=>{n=r.composedPath().some(a=>oT.has(a)),r.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(i,{bubbles:!0,composed:!0})),n}function mo(e){const{el:t,value:i}=e,n=jy(t,"form");if(!n||FK(n,t))return;e.formEl=n,e.defaultValue=i,aT(e)&&(e.defaultChecked=e.checked);const r=(e.onFormReset||NK).bind(e);n.addEventListener("reset",r),oT.add(t)}function NK(){if(aT(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function fo(e){const{el:t,formEl:i}=e;if(!i)return;const n=sO.get(t);i.removeEventListener("reset",n),sO.delete(t),e.formEl=null,oT.delete(t)}function sT(e,t){e.defaultValue=t}function zK(e){const{el:t,formEl:i,name:n,value:r}=e,{ownerDocument:a}=t,o=t.querySelectorAll(`input[slot="${f3}"]`);if(!i||!n){o.forEach(m=>m.remove());return}const s=Array.isArray(r)?r:[r],l=[],u=new Set;o.forEach(m=>{const f=s.find(g=>g==m.value);f!=null?(u.add(f),lO(e,m,f)):l.push(m)});let h;s.forEach(m=>{if(u.has(m))return;let f=l.pop();f||(f=a.createElement("input"),f.slot=f3),h||(h=a.createDocumentFragment()),h.append(f),lO(e,f,m)}),h&&t.append(h),l.forEach(m=>m.remove())}function lO(e,t,i){var n;const{defaultValue:r,disabled:a,name:o,required:s}=e;t.defaultValue=r,t.disabled=a,t.name=o,t.required=s,t.tabIndex=-1,aT(e)?(t.defaultChecked=e.defaultChecked,t.value=e.checked?i||"on":"",!a&&!e.checked&&(t.disabled=!0)):t.value=i||"",(n=e.syncHiddenFormInput)===null||n===void 0||n.call(e,t)}const go=({component:e})=>(zK(e),y("slot",{name:f3})),jK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-checkbox-size:0.75rem}:host([scale=m]){--calcite-checkbox-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-checkbox-size:1rem}:host{position:relative;display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host .check-svg{pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);fill:currentColor;stroke:currentColor;stroke-width:1;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden;width:var(--calcite-checkbox-size);height:var(--calcite-checkbox-size);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);color:var(--calcite-ui-background)}:host([checked]) .check-svg,:host([indeterminate]) .check-svg{background-color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([hovered]) .toggle .check-svg,:host .toggle:hover .check-svg{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host .toggle:focus .check-svg,:host .toggle:active .check-svg{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",VK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalCheckboxBlur=U(this,"calciteInternalCheckboxBlur",7),this.calciteCheckboxChange=U(this,"calciteCheckboxChange",7),this.calciteInternalCheckboxFocus=U(this,"calciteInternalCheckboxFocus",7),this.checked=!1,this.disabled=!1,this.hovered=!1,this.indeterminate=!1,this.required=!1,this.scale="m",this.checkedPath="M5.5 12L2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637z",this.indeterminatePath="M13 8v1H3V8z",this.getPath=()=>this.indeterminate?this.indeterminatePath:this.checked?this.checkedPath:"",this.toggle=()=>{this.disabled||(this.checked=!this.checked,this.setFocus(),this.indeterminate=!1,this.calciteCheckboxChange.emit())},this.keyDownHandler=e=>{(e.key===" "||e.key==="Enter")&&(this.toggle(),e.preventDefault())},this.clickHandler=()=>{this.toggle()},this.onToggleBlur=()=>{this.calciteInternalCheckboxBlur.emit(!1)},this.onToggleFocus=()=>{this.calciteInternalCheckboxFocus.emit(!0)},this.onLabelClick=()=>{this.toggle()}}async setFocus(){var e;(e=this.toggleEl)===null||e===void 0||e.focus()}connectedCallback(){this.guid=this.el.id||`calcite-checkbox-${ri()}`,sr(this),mo(this)}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}render(){return y(Ae,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},y("div",{"aria-checked":this.checked.toString(),"aria-label":as(this),class:"toggle",onBlur:this.onToggleBlur,onFocus:this.onToggleFocus,ref:e=>this.toggleEl=e,role:"checkbox",tabIndex:this.disabled?void 0:0},y("svg",{class:"check-svg",viewBox:"0 0 16 16"},y("path",{d:this.getPath()})),y("slot",null)),y(go,{component:this}))}get el(){return this}static get style(){return jK}},qb={title:"title",close:"close",chipImageContainer:"chip-image-container",calciteChipIcon:"calcite-chip--icon"},HK={close:"Close"},cO={image:"image"},qK={close:"x"},UK="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){height:1.5rem;font-size:var(--calcite-font-size--2);--calcite-chip-spacing-unit-l:0.5rem;--calcite-chip-spacing-unit-s:0.25rem}:host([scale=s]) .chip-image-container{height:1.25rem;width:1.25rem}:host([scale=m]){height:2rem;font-size:var(--calcite-font-size--1);--calcite-chip-spacing-unit-l:0.75rem;--calcite-chip-spacing-unit-s:6px}:host([scale=m]) .chip-image-container{height:1.5rem;width:1.5rem;-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host([scale=l]){height:2.75rem;font-size:var(--calcite-font-size-0);--calcite-chip-spacing-unit-l:1rem;--calcite-chip-spacing-unit-s:0.5rem}:host([scale=l]) .chip-image-container{height:2rem;width:2rem;padding-left:0.25rem}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-inline-flexbox;display:inline-flex;cursor:default;-ms-flex-align:center;align-items:center;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container{display:-ms-inline-flexbox;display:inline-flex;height:100%;max-width:100%;-ms-flex-align:center;align-items:center}.title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host span{padding:0 var(--calcite-chip-spacing-unit-l)}:host([dismissible]) span{padding-inline:var(--calcite-chip-spacing-unit-l) var(--calcite-chip-spacing-unit-s)}:host([icon]:not([dismissible])) span{padding:0 var(--calcite-chip-spacing-unit-l)}:host button{margin:0px;display:-ms-inline-flexbox;display:inline-flex;max-height:100%;min-height:100%;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-ui-text-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-webkit-appearance:none;border-start-start-radius:0;border-start-end-radius:50px;border-end-end-radius:50px;border-end-start-radius:0;padding:0 var(--calcite-chip-spacing-unit-s);color:inherit;--calcite-chip-transparent-hover:var(--calcite-button-transparent-hover);--calcite-chip-transparent-press:var(--calcite-button-transparent-press)}:host button:hover{background-color:var(--calcite-chip-transparent-hover)}:host button:focus{background-color:var(--calcite-chip-transparent-hover);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host button:active{background-color:var(--calcite-chip-transparent-press)}.chip-image-container{display:-ms-inline-flexbox;display:inline-flex;border-radius:50%;overflow:hidden}:host slot[name=image]::slotted(*){display:-ms-flexbox;display:flex;height:100%;width:100%;border-radius:50%;overflow:hidden}.calcite-chip--icon{position:relative;margin-top:0px;margin-bottom:0px;display:-ms-inline-flexbox;display:inline-flex;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:var(--calcite-chip-spacing-unit-l);margin-inline-start:var(--calcite-chip-spacing-unit-l);border-start-start-radius:0;border-start-end-radius:50px;border-end-end-radius:50px;border-end-start-radius:0}:host([color=blue][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-info);color:var(--calcite-ui-text-inverse)}:host([color=red][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([color=yellow][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-warning);color:#151515}:host([color=green][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-success);color:#151515}:host([color=grey][appearance=solid]){border-color:transparent;background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host([color=grey][appearance=solid]) button,:host([color=grey][appearance=solid]) calcite-icon{color:var(--calcite-ui-text-3)}:host([color=blue][appearance=clear]){border-color:var(--calcite-ui-info)}:host([color=blue][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-info)}:host([color=red][appearance=clear]){border-color:var(--calcite-ui-danger)}:host([color=red][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-danger)}:host([color=yellow][appearance=clear]){border-color:var(--calcite-ui-warning)}:host([color=yellow][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-warning)}:host([color=green][appearance=clear]){border-color:var(--calcite-ui-success)}:host([color=green][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-success)}:host([color=grey][appearance=clear]){border-color:var(--calcite-ui-border-1)}:host([color=grey][appearance=clear]) .calcite-chip--icon{color:var(--calcite-ui-text-3)}",BK=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteChipDismiss=U(this,"calciteChipDismiss",7),this.appearance="solid",this.color="grey",this.dismissible=!1,this.dismissLabel=HK.close,this.iconFlipRtl=!1,this.scale="m",this.closeClickHandler=e=>{e.preventDefault(),this.calciteChipDismiss.emit(this.el)},this.guid=ri()}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}async setFocus(){var e;(e=this.closeButton)===null||e===void 0||e.focus()}renderChipImage(){const{el:e}=this;return ve(e,cO.image)?y("div",{class:qb.chipImageContainer,key:"image"},y("slot",{name:cO.image})):null}render(){const e=y("calcite-icon",{class:qb.calciteChipIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:"s"}),t=y("button",{"aria-describedby":this.guid,"aria-label":this.dismissLabel,class:qb.close,onClick:this.closeClickHandler,ref:i=>this.closeButton=i},y("calcite-icon",{icon:qK.close,scale:"s"}));return y("div",{class:"container"},this.renderChipImage(),this.icon?e:null,y("span",{class:qb.title,id:this.guid},y("slot",null)),this.dismissible?t:null)}get el(){return this}static get style(){return UK}};function a9(e,t,i){return i={path:t,exports:{},require:function(n,r){return GK()}},e(i,i.exports),i.exports}function GK(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Of={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},WK=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Af=a9(function(e){var t=Array.prototype.concat,i=Array.prototype.slice,n=e.exports=function(a){for(var o=[],s=0,l=a.length;s<l;s++){var u=a[s];WK(u)?o=t.call(o,i.call(u)):o.push(u)}return o};n.wrap=function(r){return function(){return r(n(arguments))}}}),ep=a9(function(e){var t=Object.hasOwnProperty,i={};for(var n in Of)t.call(Of,n)&&(i[Of[n]]=n);var r=e.exports={to:{},get:{}};r.get=function(s){var l=s.substring(0,3).toLowerCase(),u,h;switch(l){case"hsl":u=r.get.hsl(s),h="hsl";break;case"hwb":u=r.get.hwb(s),h="hwb";break;default:u=r.get.rgb(s),h="rgb";break}return u?{model:h,value:u}:null},r.get.rgb=function(s){if(!s)return null;var l=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^(\w+)$/,g=[0,0,0,1],b,v,w;if(b=s.match(u)){for(w=b[2],b=b[1],v=0;v<3;v++){var x=v*2;g[v]=parseInt(b.slice(x,x+2),16)}w&&(g[3]=parseInt(w,16)/255)}else if(b=s.match(l)){for(b=b[1],w=b[3],v=0;v<3;v++)g[v]=parseInt(b[v]+b[v],16);w&&(g[3]=parseInt(w+w,16)/255)}else if(b=s.match(h)){for(v=0;v<3;v++)g[v]=parseInt(b[v+1],0);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else if(b=s.match(m)){for(v=0;v<3;v++)g[v]=Math.round(parseFloat(b[v+1])*2.55);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else return(b=s.match(f))?b[1]==="transparent"?[0,0,0,0]:t.call(Of,b[1])?(g=Of[b[1]],g[3]=1,g):null:null;for(v=0;v<3;v++)g[v]=a(g[v],0,255);return g[3]=a(g[3],0,1),g},r.get.hsl=function(s){if(!s)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var h=parseFloat(u[4]),m=(parseFloat(u[1])%360+360)%360,f=a(parseFloat(u[2]),0,100),g=a(parseFloat(u[3]),0,100),b=a(isNaN(h)?1:h,0,1);return[m,f,g,b]}return null},r.get.hwb=function(s){if(!s)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=s.match(l);if(u){var h=parseFloat(u[4]),m=(parseFloat(u[1])%360+360)%360,f=a(parseFloat(u[2]),0,100),g=a(parseFloat(u[3]),0,100),b=a(isNaN(h)?1:h,0,1);return[m,f,g,b]}return null},r.to.hex=function(){var s=Af(arguments);return"#"+o(s[0])+o(s[1])+o(s[2])+(s[3]<1?o(Math.round(s[3]*255)):"")},r.to.rgb=function(){var s=Af(arguments);return s.length<4||s[3]===1?"rgb("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+")":"rgba("+Math.round(s[0])+", "+Math.round(s[1])+", "+Math.round(s[2])+", "+s[3]+")"},r.to.rgb.percent=function(){var s=Af(arguments),l=Math.round(s[0]/255*100),u=Math.round(s[1]/255*100),h=Math.round(s[2]/255*100);return s.length<4||s[3]===1?"rgb("+l+"%, "+u+"%, "+h+"%)":"rgba("+l+"%, "+u+"%, "+h+"%, "+s[3]+")"},r.to.hsl=function(){var s=Af(arguments);return s.length<4||s[3]===1?"hsl("+s[0]+", "+s[1]+"%, "+s[2]+"%)":"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+s[3]+")"},r.to.hwb=function(){var s=Af(arguments),l="";return s.length>=4&&s[3]!==1&&(l=", "+s[3]),"hwb("+s[0]+", "+s[1]+"%, "+s[2]+"%"+l+")"},r.to.keyword=function(s){return i[s.slice(0,3)]};function a(s,l,u){return Math.min(Math.max(l,s),u)}function o(s){var l=Math.round(s).toString(16).toUpperCase();return l.length<2?"0"+l:l}}),ty={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const o9={};for(const e of Object.keys(ty))o9[ty[e]]=e;const me={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var Xd=me;for(const e of Object.keys(me)){if(!("channels"in me[e]))throw new Error("missing channels property: "+e);if(!("labels"in me[e]))throw new Error("missing channel labels property: "+e);if(me[e].labels.length!==me[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:i}=me[e];delete me[e].channels,delete me[e].labels,Object.defineProperty(me[e],"channels",{value:t}),Object.defineProperty(me[e],"labels",{value:i})}me.rgb.hsl=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(t,i,n),a=Math.max(t,i,n),o=a-r;let s,l;a===r?s=0:t===a?s=(i-n)/o:i===a?s=2+(n-t)/o:n===a&&(s=4+(t-i)/o),s=Math.min(s*60,360),s<0&&(s+=360);const u=(r+a)/2;return a===r?l=0:u<=.5?l=o/(a+r):l=o/(2-a-r),[s,l*100,u*100]};me.rgb.hsv=function(e){let t,i,n,r,a;const o=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(o,s,l),h=u-Math.min(o,s,l),m=function(f){return(u-f)/6/h+1/2};return h===0?(r=0,a=0):(a=h/u,t=m(o),i=m(s),n=m(l),o===u?r=n-i:s===u?r=1/3+t-n:l===u&&(r=2/3+i-t),r<0?r+=1:r>1&&(r-=1)),[r*360,a*100,u*100]};me.rgb.hwb=function(e){const t=e[0],i=e[1];let n=e[2];const r=me.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(i,n));return n=1-1/255*Math.max(t,Math.max(i,n)),[r,a*100,n*100]};me.rgb.cmyk=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.min(1-t,1-i,1-n),a=(1-t-r)/(1-r)||0,o=(1-i-r)/(1-r)||0,s=(1-n-r)/(1-r)||0;return[a*100,o*100,s*100,r*100]};function JK(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}me.rgb.keyword=function(e){const t=o9[e];if(t)return t;let i=1/0,n;for(const r of Object.keys(ty)){const a=ty[r],o=JK(e,a);o<i&&(i=o,n=r)}return n};me.keyword.rgb=function(e){return ty[e]};me.rgb.xyz=function(e){let t=e[0]/255,i=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const r=t*.4124+i*.3576+n*.1805,a=t*.2126+i*.7152+n*.0722,o=t*.0193+i*.1192+n*.9505;return[r*100,a*100,o*100]};me.rgb.lab=function(e){const t=me.rgb.xyz(e);let i=t[0],n=t[1],r=t[2];i/=95.047,n/=100,r/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const a=116*n-16,o=500*(i-n),s=200*(n-r);return[a,o,s]};me.hsl.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;let r,a,o;if(i===0)return o=n*255,[o,o,o];n<.5?r=n*(1+i):r=n+i-n*i;const s=2*n-r,l=[0,0,0];for(let u=0;u<3;u++)a=t+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?o=s+(r-s)*6*a:2*a<1?o=r:3*a<2?o=s+(r-s)*(2/3-a)*6:o=s,l[u]=o*255;return l};me.hsl.hsv=function(e){const t=e[0];let i=e[1]/100,n=e[2]/100,r=i;const a=Math.max(n,.01);n*=2,i*=n<=1?n:2-n,r*=a<=1?a:2-a;const o=(n+i)/2,s=n===0?2*r/(a+r):2*i/(n+i);return[t,s*100,o*100]};me.hsv.rgb=function(e){const t=e[0]/60,i=e[1]/100;let n=e[2]/100;const r=Math.floor(t)%6,a=t-Math.floor(t),o=255*n*(1-i),s=255*n*(1-i*a),l=255*n*(1-i*(1-a));switch(n*=255,r){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}};me.hsv.hsl=function(e){const t=e[0],i=e[1]/100,n=e[2]/100,r=Math.max(n,.01);let a,o;o=(2-i)*n;const s=(2-i)*r;return a=i*r,a/=s<=1?s:2-s,a=a||0,o/=2,[t,a*100,o*100]};me.hwb.rgb=function(e){const t=e[0]/360;let i=e[1]/100,n=e[2]/100;const r=i+n;let a;r>1&&(i/=r,n/=r);const o=Math.floor(6*t),s=1-n;a=6*t-o,(o&1)!==0&&(a=1-a);const l=i+a*(s-i);let u,h,m;switch(o){default:case 6:case 0:u=s,h=l,m=i;break;case 1:u=l,h=s,m=i;break;case 2:u=i,h=s,m=l;break;case 3:u=i,h=l,m=s;break;case 4:u=l,h=i,m=s;break;case 5:u=s,h=i,m=l;break}return[u*255,h*255,m*255]};me.cmyk.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100,r=e[3]/100,a=1-Math.min(1,t*(1-r)+r),o=1-Math.min(1,i*(1-r)+r),s=1-Math.min(1,n*(1-r)+r);return[a*255,o*255,s*255]};me.xyz.rgb=function(e){const t=e[0]/100,i=e[1]/100,n=e[2]/100;let r,a,o;return r=t*3.2406+i*-1.5372+n*-.4986,a=t*-.9689+i*1.8758+n*.0415,o=t*.0557+i*-.204+n*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[r*255,a*255,o*255]};me.xyz.lab=function(e){let t=e[0],i=e[1],n=e[2];t/=95.047,i/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const r=116*i-16,a=500*(t-i),o=200*(i-n);return[r,a,o]};me.lab.xyz=function(e){const t=e[0],i=e[1],n=e[2];let r,a,o;a=(t+16)/116,r=i/500+a,o=a-n/200;const s=a**3,l=r**3,u=o**3;return a=s>.008856?s:(a-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,r*=95.047,a*=100,o*=108.883,[r,a,o]};me.lab.lch=function(e){const t=e[0],i=e[1],n=e[2];let r;r=Math.atan2(n,i)*360/2/Math.PI,r<0&&(r+=360);const o=Math.sqrt(i*i+n*n);return[t,o,r]};me.lch.lab=function(e){const t=e[0],i=e[1],r=e[2]/360*2*Math.PI,a=i*Math.cos(r),o=i*Math.sin(r);return[t,a,o]};me.rgb.ansi16=function(e,t=null){const[i,n,r]=e;let a=t===null?me.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return a===2&&(o+=60),o};me.hsv.ansi16=function(e){return me.rgb.ansi16(me.hsv.rgb(e),e[2])};me.rgb.ansi256=function(e){const t=e[0],i=e[1],n=e[2];return t===i&&i===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)};me.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const i=(~~(e>50)+1)*.5,n=(t&1)*i*255,r=(t>>1&1)*i*255,a=(t>>2&1)*i*255;return[n,r,a]};me.ansi256.rgb=function(e){if(e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let t;const i=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,r=t%6/5*255;return[i,n,r]};me.rgb.hex=function(e){const i=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i};me.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let i=t[0];t[0].length===3&&(i=i.split("").map(s=>s+s).join(""));const n=parseInt(i,16),r=n>>16&255,a=n>>8&255,o=n&255;return[r,a,o]};me.rgb.hcg=function(e){const t=e[0]/255,i=e[1]/255,n=e[2]/255,r=Math.max(Math.max(t,i),n),a=Math.min(Math.min(t,i),n),o=r-a;let s,l;return o<1?s=a/(1-o):s=0,o<=0?l=0:r===t?l=(i-n)/o%6:r===i?l=2+(n-t)/o:l=4+(t-i)/o,l/=6,l%=1,[l*360,o*100,s*100]};me.hsl.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=i<.5?2*t*i:2*t*(1-i);let r=0;return n<1&&(r=(i-.5*n)/(1-n)),[e[0],n*100,r*100]};me.hsv.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=t*i;let r=0;return n<1&&(r=(i-n)/(1-n)),[e[0],n*100,r*100]};me.hcg.rgb=function(e){const t=e[0]/360,i=e[1]/100,n=e[2]/100;if(i===0)return[n*255,n*255,n*255];const r=[0,0,0],a=t%1*6,o=a%1,s=1-o;let l=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=s,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=s,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=s}return l=(1-i)*n,[(i*r[0]+l)*255,(i*r[1]+l)*255,(i*r[2]+l)*255]};me.hcg.hsv=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);let r=0;return n>0&&(r=t/n),[e[0],r*100,n*100]};me.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],r*100,n*100]};me.hcg.hwb=function(e){const t=e[1]/100,i=e[2]/100,n=t+i*(1-t);return[e[0],(n-t)*100,(1-n)*100]};me.hwb.hcg=function(e){const t=e[1]/100,i=e[2]/100,n=1-i,r=n-t;let a=0;return r<1&&(a=(n-r)/(1-r)),[e[0],r*100,a*100]};me.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};me.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};me.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};me.gray.hsl=function(e){return[0,0,e[0]]};me.gray.hsv=me.gray.hsl;me.gray.hwb=function(e){return[0,100,e[0]]};me.gray.cmyk=function(e){return[0,0,0,e[0]]};me.gray.lab=function(e){return[e[0],0,0]};me.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};me.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function YK(){const e={},t=Object.keys(Xd);for(let i=t.length,n=0;n<i;n++)e[t[n]]={distance:-1,parent:null};return e}function KK(e){const t=YK(),i=[e];for(t[e].distance=0;i.length;){const n=i.pop(),r=Object.keys(Xd[n]);for(let a=r.length,o=0;o<a;o++){const s=r[o],l=t[s];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,i.unshift(s))}}return t}function ZK(e,t){return function(i){return t(e(i))}}function XK(e,t){const i=[t[e].parent,e];let n=Xd[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)i.unshift(t[r].parent),n=ZK(Xd[t[r].parent][r],n),r=t[r].parent;return n.conversion=i,n}var QK=function(e){const t=KK(e),i={},n=Object.keys(t);for(let r=n.length,a=0;a<r;a++){const o=n[a];t[o].parent!==null&&(i[o]=XK(o,t))}return i};const tp={},eZ=Object.keys(Xd);function tZ(e){const t=function(...i){const n=i[0];return n==null?n:(n.length>1&&(i=n),e(i))};return"conversion"in e&&(t.conversion=e.conversion),t}function iZ(e){const t=function(...i){const n=i[0];if(n==null)return n;n.length>1&&(i=n);const r=e(i);if(typeof r=="object")for(let a=r.length,o=0;o<a;o++)r[o]=Math.round(r[o]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}eZ.forEach(e=>{tp[e]={},Object.defineProperty(tp[e],"channels",{value:Xd[e].channels}),Object.defineProperty(tp[e],"labels",{value:Xd[e].labels});const t=QK(e);Object.keys(t).forEach(n=>{const r=t[n];tp[e][n]=iZ(r),tp[e][n].raw=tZ(r)})});var Cr=tp;const lT=[].slice,s9=["keyword","gray","hex"],g3={};for(const e of Object.keys(Cr))g3[lT.call(Cr[e].labels).sort().join("")]=e;const jw={};function Hi(e,t){if(!(this instanceof Hi))return new Hi(e,t);if(t&&t in s9&&(t=null),t&&!(t in Cr))throw new Error("Unknown model: "+t);let i,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Hi)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){const r=ep.get(e);if(r===null)throw new Error("Unable to parse color from string: "+e);this.model=r.model,n=Cr[this.model].channels,this.color=r.value.slice(0,n),this.valpha=typeof r.value[n]=="number"?r.value[n]:1}else if(e.length>0){this.model=t||"rgb",n=Cr[this.model].channels;const r=lT.call(e,0,n);this.color=y3(r,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const r=Object.keys(e);"alpha"in e&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=r.sort().join("");if(!(a in g3))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=g3[a];const o=Cr[this.model].labels,s=[];for(i=0;i<o.length;i++)s.push(e[o[i]]);this.color=y3(s)}if(jw[this.model])for(n=Cr[this.model].channels,i=0;i<n;i++){const r=jw[this.model][i];r&&(this.color[i]=r(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Hi.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in ep.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const i=t.valpha===1?t.color:t.color.concat(this.valpha);return ep.to[t.model](i)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),i=t.valpha===1?t.color:t.color.concat(this.valpha);return ep.to.rgb.percent(i)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){const e={},t=Cr[this.model].channels,i=Cr[this.model].labels;for(let n=0;n<t;n++)e[i[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Hi(this.color.map(rZ(e)).concat(this.valpha),this.model)},alpha(e){return arguments.length>0?new Hi(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:Jt("rgb",0,_i(255)),green:Jt("rgb",1,_i(255)),blue:Jt("rgb",2,_i(255)),hue:Jt(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:Jt("hsl",1,_i(100)),lightness:Jt("hsl",2,_i(100)),saturationv:Jt("hsv",1,_i(100)),value:Jt("hsv",2,_i(100)),chroma:Jt("hcg",1,_i(100)),gray:Jt("hcg",2,_i(100)),white:Jt("hwb",1,_i(100)),wblack:Jt("hwb",2,_i(100)),cyan:Jt("cmyk",0,_i(100)),magenta:Jt("cmyk",1,_i(100)),yellow:Jt("cmyk",2,_i(100)),black:Jt("cmyk",3,_i(100)),x:Jt("xyz",0,_i(100)),y:Jt("xyz",1,_i(100)),z:Jt("xyz",2,_i(100)),l:Jt("lab",0,_i(100)),a:Jt("lab",1),b:Jt("lab",2),keyword(e){return arguments.length>0?new Hi(e):Cr[this.model].keyword(this.color)},hex(e){return arguments.length>0?new Hi(e):ep.to.hex(this.rgb().round().color)},hexa(e){if(arguments.length>0)return new Hi(e);const t=this.rgb().round().color;let i=Math.round(this.valpha*255).toString(16).toUpperCase();return i.length===1&&(i="0"+i),ep.to.hex(t)+i},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[i,n]of e.entries()){const r=n/255;t[i]=r<=.03928?r/12.92:((r+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*299+e[1]*587+e[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Hi.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let i=t.color[0];return i=(i+e)%360,i=i<0?360+i:i,t.color[0]=i,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const i=e.rgb(),n=this.rgb(),r=t===void 0?.5:t,a=2*r-1,o=i.alpha()-n.alpha(),s=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return Hi.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue(),i.alpha()*r+n.alpha()*(1-r))}};for(const e of Object.keys(Cr)){if(s9.includes(e))continue;const t=Cr[e].channels;Hi.prototype[e]=function(){if(this.model===e)return new Hi(this);if(arguments.length>0)return new Hi(arguments,e);const i=typeof arguments[t]=="number"?t:this.valpha;return new Hi(aZ(Cr[this.model][e].raw(this.color)).concat(i),e)},Hi[e]=function(i){return typeof i=="number"&&(i=y3(lT.call(arguments),t)),new Hi(i,e)}}function nZ(e,t){return Number(e.toFixed(t))}function rZ(e){return function(t){return nZ(t,e)}}function Jt(e,t,i){e=Array.isArray(e)?e:[e];for(const n of e)(jw[n]||(jw[n]=[]))[t]=i;return e=e[0],function(n){let r;return arguments.length>0?(i&&(n=i(n)),r=this[e](),r.color[t]=n,r):(r=this[e]().color[t],i&&(r=i(r)),r)}}function _i(e){return function(t){return Math.max(0,Math.min(e,t))}}function aZ(e){return Array.isArray(e)?e:[e]}function y3(e,t){for(let i=0;i<t;i++)typeof e[i]!="number"&&(e[i]=0);return e}var sa=Hi;const mt={container:"container",controlSection:"control-section",hexOptions:"color-hex-options",section:"section",header:"header",control:"control",splitSection:"section--split",colorModeContainer:"color-mode-container",colorMode:"color-mode",channels:"channels",channel:"channel",savedColors:"saved-colors",savedColorsSection:"saved-colors-section",saveColor:"save-color",deleteColor:"delete-color",savedColorsButtons:"saved-colors-buttons",headerHex:"header--hex",colorFieldAndSlider:"color-field-and-slider",colorFieldAndSliderInteractive:"color-field-and-slider--interactive",colorFieldAndSliderWrap:"color-field-and-slider-wrap",scope:"scope",hueScope:"scope--hue",colorFieldScope:"scope--color-field",savedColor:"saved-color"},ip=sa("#007AC2"),Y_="calcite-color-",uO={r:255,g:255,b:255},Hr={h:360,s:100,v:100},si={b:"B",blue:"Blue",deleteColor:"Delete color",g:"G",green:"Green",h:"H",hsv:"HSV",hex:"Hex",hue:"Hue",noColor:"No color",r:"R",red:"Red",rgb:"RGB",s:"S",saturation:"Saturation",saveColor:"Save color",saved:"Saved",v:"V",value:"Value"},dO={s:{slider:{height:10,width:160},colorField:{height:80,width:160},thumb:{radius:8}},m:{slider:{height:14,width:272},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:16,width:464},colorField:{height:200,width:464},thumb:{radius:12}}},cT=(e,t,i)=>Math.max(t,Math.min(e,i)),zp=e=>{const t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},oZ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]) .container{width:160px}:host([scale=s]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(20px, 1fr))}:host([scale=s]) .channels{-ms-flex-direction:column;flex-direction:column}:host([scale=s]) .channel{width:100%;margin-bottom:4px}:host([scale=s]) .channel:last-child{margin-bottom:0}:host([scale=m]) .container{width:272px}:host([scale=l]) .header{padding-bottom:0px}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{width:464px}:host([scale=l]) .color-field-and-slider{margin-bottom:-20px}:host([scale=l]) .section{padding:0 16px 16px}:host([scale=l]) .section:first-of-type{padding-top:16px}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, minmax(28px, 1fr));grid-gap:12px;padding-top:16px}:host([scale=l]) .control-section{-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:baseline;align-items:baseline}:host([scale=l]) .control-section>:nth-child(2){-webkit-margin-start:12px;margin-inline-start:12px}:host([scale=l]) .color-hex-options{display:-ms-flexbox;display:flex;-ms-flex-negative:1;flex-shrink:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around;min-height:98px;width:160px}:host([scale=l]) .color-mode-container{-ms-flex-negative:3;flex-shrink:3}:host([appearance=minimal]) .container{border:none}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.color-field-and-slider-wrap{position:relative}.scope{pointer-events:none;position:absolute;margin-bottom:0px;margin-right:0px;height:0.5rem;width:0.5rem;padding:0px;font-size:var(--calcite-font-size--1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;margin-top:-0.25rem;margin-left:-0.25rem;outline-offset:10px}.scope:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:12px}.color-field-and-slider{margin-bottom:-16px}.color-field-and-slider--interactive{cursor:pointer}.control-section{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.section{padding:0 12px 12px}.section:first-of-type{padding-top:12px}.color-hex-options,.section--split{-ms-flex-positive:1;flex-grow:1}.header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding-bottom:0.25rem;color:var(--calcite-ui-text-1)}.header--hex,.color-mode-container{padding-top:12px}.channels{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.channel{width:31%}.saved-colors{padding-top:12px;display:grid;grid-template-columns:repeat(auto-fill, minmax(24px, 1fr));grid-gap:8px;width:100%}.saved-colors-buttons{display:-ms-flexbox;display:flex}.saved-color{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{-webkit-transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}",sZ=16,lZ=ll(ip.hex()),cZ="auto",uZ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteColorPickerChange=U(this,"calciteColorPickerChange",7),this.calciteColorPickerInput=U(this,"calciteColorPickerInput",7),this.allowEmpty=!1,this.appearance="default",this.color=ip,this.disabled=!1,this.format=cZ,this.hideHex=!1,this.hideChannels=!1,this.hideSaved=!1,this.intlB=si.b,this.intlBlue=si.blue,this.intlDeleteColor=si.deleteColor,this.intlG=si.g,this.intlGreen=si.green,this.intlH=si.h,this.intlHsv=si.hsv,this.intlHex=si.hex,this.intlHue=si.hue,this.intlNoColor=si.noColor,this.intlR=si.r,this.intlRed=si.red,this.intlRgb=si.rgb,this.intlS=si.s,this.intlSaturation=si.saturation,this.intlSaveColor=si.saveColor,this.intlSaved=si.saved,this.intlV=si.v,this.intlValue=si.value,this.scale="m",this.value=lZ,this.colorFieldAndSliderHovered=!1,this.hueThumbState="idle",this.internalColorUpdateContext=null,this.mode=Au.HEX,this.shiftKeyChannelAdjustment=0,this.sliderThumbState="idle",this.colorFieldAndSliderInteractive=!1,this.channelMode="rgb",this.channels=this.toChannels(ip),this.dimensions=dO.m,this.savedColors=[],this.handleTabActivate=e=>{this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=e=>{const t=e.key,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation=t==="ArrowDown"||t==="ArrowUp"?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))},this.handleHueScopeKeyDown=e=>{const t=e.shiftKey?10:1,i=e.key,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){e.preventDefault();const r=n[i]*t,a=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(a+r);this.internalColorSet(o,!1)}},this.handleHexInputChange=e=>{e.stopPropagation();const{allowEmpty:t,color:i}=this,r=e.target.value;if(t&&!r){this.internalColorSet(null);return}const a=i&&ll(i.hex());r!==a&&this.internalColorSet(sa(r))},this.handleSavedColorSelect=e=>{const t=e.currentTarget;this.internalColorSet(sa(t.color))},this.handleChannelInput=e=>{const t=e.currentTarget,i=e.detail.nativeEvent.target,n=Number(t.getAttribute("data-channel-index")),r=this.channelMode==="rgb"?uO[Object.keys(uO)[n]]:Hr[Object.keys(Hr)[n]];let a;if(this.allowEmpty&&!t.value)a="";else{const o=Number(t.value)+this.shiftKeyChannelAdjustment;a=cT(o,0,r).toString()}t.value=a,i.value=a},this.handleChannelChange=e=>{const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=[...this.channels];if(this.allowEmpty&&!t.value){this.channels=[null,null,null],this.internalColorSet(null);return}n[i]=Number(t.value),this.updateColorFromChannels(n)},this.handleSavedColorKeyDown=e=>{(e.key===" "||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.handleSavedColorSelect(e))},this.handleColorFieldAndSliderMouseLeave=()=>{this.colorFieldAndSliderInteractive=!1,this.colorFieldAndSliderHovered=!1,this.sliderThumbState!=="drag"&&this.hueThumbState!=="drag"&&(this.hueThumbState="idle",this.sliderThumbState="idle",this.drawColorFieldAndSlider())},this.handleColorFieldAndSliderMouseDown=e=>{const{offsetX:t,offsetY:i}=e,n=this.getCanvasRegion(i);n==="color-field"?(this.hueThumbState="drag",this.captureColorFieldColor(t,i),this.colorFieldScopeNode.focus()):n==="slider"&&(this.sliderThumbState="drag",this.captureHueSliderColor(t),this.hueScopeNode.focus()),e.preventDefault(),document.addEventListener("mousemove",this.globalMouseMoveHandler),document.addEventListener("mouseup",this.globalMouseUpHandler,{once:!0}),this.activeColorFieldAndSliderRect=this.fieldAndSliderRenderingContext.canvas.getBoundingClientRect()},this.globalMouseUpHandler=()=>{const e=this.sliderThumbState==="drag"||this.hueThumbState==="drag";this.hueThumbState="idle",this.sliderThumbState="idle",this.activeColorFieldAndSliderRect=null,this.drawColorFieldAndSlider(),e&&this.calciteColorPickerChange.emit()},this.globalMouseMoveHandler=e=>{const{el:t,dimensions:i}=this,n=this.sliderThumbState==="drag",r=this.hueThumbState==="drag";if(!t.isConnected||!n&&!r)return;let a,o;const s=this.activeColorFieldAndSliderRect,{clientX:l,clientY:u}=e;if(this.colorFieldAndSliderHovered)a=l-s.x,o=u-s.y;else{const h=i.colorField.width,m=i.colorField.height,f=i.slider.height;l<s.x+h&&l>s.x?a=l-s.x:l<s.x?a=0:a=h,u<s.y+m+f&&u>s.y?o=u-s.y:u<s.y?o=0:o=m+f}r?this.captureColorFieldColor(a,o,!1):this.captureHueSliderColor(a)},this.handleColorFieldAndSliderMouseEnterOrMove=({offsetX:e,offsetY:t})=>{const{dimensions:{colorField:i,slider:n,thumb:r}}=this;this.colorFieldAndSliderInteractive=t<=i.height+n.height,this.colorFieldAndSliderHovered=!0;const a=this.getCanvasRegion(t);if(a==="color-field"){const o=this.hueThumbState,s=this.baseColorFieldColor.hsv(),l=Math.round(s.saturationv()/(Hr.s/i.width)),u=Math.round(i.height-s.value()/(Hr.v/i.height)),h=this.containsPoint(e,t,l,u,r.radius);let m=!1;o==="idle"&&h?(this.hueThumbState="hover",m=!0):o==="hover"&&!h&&(this.hueThumbState="idle",m=!0),this.hueThumbState!=="drag"&&m&&this.drawColorFieldAndSlider()}else if(a==="slider"){const o=this.baseColorFieldColor.hsv().saturationv(100).value(100),s=this.sliderThumbState,l=Math.round(o.hue()/(360/n.width)),u=Math.round((n.height+this.getSliderCapSpacing())/2)+i.height,h=this.containsPoint(e,t,l,u,r.radius);let m=!1;s==="idle"&&h?(this.sliderThumbState="hover",m=!0):s==="hover"&&!h&&(this.sliderThumbState="idle",m=!0),this.sliderThumbState!=="drag"&&m&&this.drawColorFieldAndSlider()}},this.storeColorFieldScope=e=>{this.colorFieldScopeNode=e},this.storeHueScope=e=>{this.hueScopeNode=e},this.renderChannelsTabTitle=e=>{const{channelMode:t,intlRgb:i,intlHsv:n}=this,r=e===t,a=e==="rgb"?i:n;return y("calcite-tab-title",{active:r,class:mt.colorMode,"data-color-mode":e,key:e,onCalciteTabsActivate:this.handleTabActivate},a)},this.renderChannelsTab=e=>{const{channelMode:t,channels:i,intlB:n,intlBlue:r,intlG:a,intlGreen:o,intlH:s,intlHue:l,intlR:u,intlRed:h,intlS:m,intlSaturation:f,intlV:g,intlValue:b}=this,v=e===t,w=e==="rgb",x=w?[u,a,n]:[s,m,g],S=w?[h,o,r]:[l,f,b];return y("calcite-tab",{active:v,class:mt.control,key:e},y("div",{class:mt.channels},i.map((E,T)=>this.renderChannel(E,T,x[T],S[T]))))},this.renderChannel=(e,t,i,n)=>y("calcite-input",{class:mt.channel,"data-channel-index":t,label:n,numberButtonType:"none",onCalciteInputChange:this.handleChannelChange,onCalciteInputInput:this.handleChannelInput,prefixText:i,scale:this.scale==="l"?"m":"s",type:"number",value:e==null?void 0:e.toString()}),this.deleteColor=()=>{const e=this.color.hex();if(!(this.savedColors.indexOf(e)>-1))return;const i=this.savedColors.filter(r=>r!==e);this.savedColors=i;const n=`${Y_}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.saveColor=()=>{const e=this.color.hex();if(this.savedColors.indexOf(e)>-1)return;const i=[...this.savedColors,e];this.savedColors=i;const n=`${Y_}${this.storageId}`;this.storageId&&localStorage.setItem(n,JSON.stringify(i))},this.drawColorFieldAndSlider=rK(()=>{!this.fieldAndSliderRenderingContext||(this.drawColorField(),this.drawHueSlider())},sZ),this.captureColorFieldColor=(e,t,i=!0)=>{const{dimensions:{colorField:{height:n,width:r}}}=this,a=Math.round(Hr.s/r*e),o=Math.round(Hr.v/n*(n-t));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(a).value(o),i)},this.initColorFieldAndSlider=e=>{this.fieldAndSliderRenderingContext=e.getContext("2d"),this.setCanvasContextSize(e,{width:this.dimensions.colorField.width,height:this.dimensions.colorField.height+this.dimensions.slider.height+this.getSliderCapSpacing()*2}),this.drawColorFieldAndSlider()}}handleColorChange(e,t){this.drawColorFieldAndSlider(),this.updateChannelsFromColor(e),this.previousColor=t,!this.internalColorUpdateContext&&(this.value=this.toValue(e))}handleFormatChange(e){this.setMode(e),this.value=this.toValue(this.color)}handleScaleChange(e="m"){this.updateDimensions(e)}handleValueChange(e,t){const{allowEmpty:i,format:n}=this,r=!i||e;let a=!1;if(r){const u=nO(e);if(!u||n!=="auto"&&u!==n){this.showIncompatibleColorWarning(e,n),this.value=t;return}a=this.mode!==u,this.setMode(u)}const o=this.sliderThumbState==="drag"||this.hueThumbState==="drag";if(this.internalColorUpdateContext){if(this.internalColorUpdateContext==="initial")return;this.calciteColorPickerInput.emit(),o||this.calciteColorPickerChange.emit();return}const s=i&&!e?null:sa(e),l=!rO(s,this.color);(a||l)&&(this.color=s,this.calciteColorPickerInput.emit(),o||this.calciteColorPickerChange.emit())}get baseColorFieldColor(){return this.color||this.previousColor||ip}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const t=e.key;if(t!=="ArrowUp"&&t!=="ArrowDown"||!e.composedPath().some(r=>{var a;return(a=r.classList)===null||a===void 0?void 0:a.contains(mt.channel)}))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color){this.internalColorSet(this.previousColor),e.stopPropagation();return}const n=9;this.shiftKeyChannelAdjustment=t==="ArrowUp"&&i?n:t==="ArrowDown"&&i?-n:0}async setFocus(){return ti(this.colorFieldScopeNode)}componentWillLoad(){const{allowEmpty:e,color:t,format:i,value:n}=this,r=e&&!n,a=nO(n),o=r||i==="auto"&&a||i===a,s=r?null:o?sa(n):t;o||this.showIncompatibleColorWarning(n,i),this.setMode(i),this.internalColorSet(s,!1,"initial"),this.updateDimensions(this.scale);const l=`${Y_}${this.storageId}`;this.storageId&&localStorage.getItem(l)&&(this.savedColors=JSON.parse(localStorage.getItem(l)))}disconnectedCallback(){document.removeEventListener("mousemove",this.globalMouseMoveHandler),document.removeEventListener("mouseup",this.globalMouseUpHandler)}componentDidRender(){Je(this)}render(){const{allowEmpty:e,color:t,intlDeleteColor:i,hideHex:n,hideChannels:r,hideSaved:a,intlHex:o,intlSaved:s,intlSaveColor:l,savedColors:u,scale:h}=this,m=t?t.hex():null,f=h==="l"?"m":"s",{colorFieldAndSliderInteractive:g,colorFieldScopeTop:b,colorFieldScopeLeft:v,hueScopeLeft:w,hueScopeTop:x,scopeOrientation:S,dimensions:{colorField:{height:E,width:T},slider:{height:C}}}=this,M=x!=null?x:C/2+E,L=w!=null?w:T*ip.hue()/Hr.h,j=t===null,G=S==="vertical";return y("div",{class:mt.container},y("div",{class:mt.colorFieldAndSliderWrap},y("canvas",{class:{[mt.colorFieldAndSlider]:!0,[mt.colorFieldAndSliderInteractive]:g},onMouseDown:this.handleColorFieldAndSliderMouseDown,onMouseEnter:this.handleColorFieldAndSliderMouseEnterOrMove,onMouseLeave:this.handleColorFieldAndSliderMouseLeave,onMouseMove:this.handleColorFieldAndSliderMouseEnterOrMove,ref:this.initColorFieldAndSlider}),y("div",{"aria-label":G?this.intlValue:this.intlSaturation,"aria-valuemax":G?Hr.v:Hr.s,"aria-valuemin":"0","aria-valuenow":(G?t==null?void 0:t.saturationv():t==null?void 0:t.value())||"0",class:{[mt.scope]:!0,[mt.colorFieldScope]:!0},onKeyDown:this.handleColorFieldScopeKeyDown,ref:this.storeColorFieldScope,role:"slider",style:{top:`${b||0}px`,left:`${v||0}px`},tabindex:"0"}),y("div",{"aria-label":this.intlHue,"aria-valuemax":Hr.h,"aria-valuemin":"0","aria-valuenow":(t==null?void 0:t.round().hue())||ip.round().hue(),class:{[mt.scope]:!0,[mt.hueScope]:!0},onKeyDown:this.handleHueScopeKeyDown,ref:this.storeHueScope,role:"slider",style:{top:`${M}px`,left:`${L}px`},tabindex:"0"})),n&&r?null:y("div",{class:{[mt.controlSection]:!0,[mt.section]:!0}},n?null:y("div",{class:mt.hexOptions},y("span",{class:{[mt.header]:!0,[mt.headerHex]:!0}},o),y("calcite-color-picker-hex-input",{allowEmpty:e,class:mt.control,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:f,value:m})),r?null:y("calcite-tabs",{class:{[mt.colorModeContainer]:!0,[mt.splitSection]:!0},scale:f},y("calcite-tab-nav",{slot:"tab-nav"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv"))),a?null:y("div",{class:{[mt.savedColorsSection]:!0,[mt.section]:!0}},y("div",{class:mt.header},y("label",null,s),y("div",{class:mt.savedColorsButtons},y("calcite-button",{appearance:"transparent",class:mt.deleteColor,color:"neutral",disabled:j,iconStart:"minus",label:i,onClick:this.deleteColor,scale:f,type:"button"}),y("calcite-button",{appearance:"transparent",class:mt.saveColor,color:"neutral",disabled:j,iconStart:"plus",label:l,onClick:this.saveColor,scale:f,type:"button"}))),u.length>0?y("div",{class:mt.savedColors},[...u.map(J=>y("calcite-color-picker-swatch",{active:m===J,class:mt.savedColor,color:J,key:J,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:h,tabIndex:0}))]):null))}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e){this.mode=e==="auto"?this.mode:e}captureHueSliderColor(e){const{dimensions:{slider:{width:t}}}=this,i=360/t*e;this.internalColorSet(this.baseColorFieldColor.hue(i),!1)}getCanvasRegion(e){const{dimensions:{colorField:{height:t},slider:{height:i}}}=this;return e<=t?"color-field":e<=t+i?"slider":"none"}internalColorSet(e,t=!0,i="internal"){t&&rO(e,this.color)||(this.internalColorUpdateContext=i,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e,t=this.mode){if(!e)return null;const i="hex";if(t.includes(i))return ll(e.round()[i]());if(t.includes("-css"))return e[t.replace("-css","").replace("a","")]().round().string();const n=e[t]().round().object();return t.endsWith("a")&&(n.a=n.alpha,delete n.alpha),n}getSliderCapSpacing(){const{dimensions:{slider:{height:e},thumb:{radius:t}}}=this;return t*2-e}updateDimensions(e="m"){this.dimensions=dO[e]}drawColorField(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t,width:i}}}=this;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).string(),e.fillRect(0,0,i,t);const n=e.createLinearGradient(0,0,i,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,i,t);const r=e.createLinearGradient(0,0,0,t);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=r,e.fillRect(0,0,i,t),this.drawActiveColorFieldColor()}setCanvasContextSize(e,{height:t,width:i}){const n=window.devicePixelRatio||1;e.width=i*n,e.height=t*n,e.style.height=`${t}px`,e.style.width=`${i}px`,e.getContext("2d").scale(n,n)}containsPoint(e,t,i,n,r){return Math.pow(e-i,2)+Math.pow(t-n,2)<=Math.pow(r,2)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{dimensions:{colorField:{height:i,width:n},thumb:{radius:r}}}=this,a=t.saturationv()/(Hr.s/n),o=i-t.value()/(Hr.v/i);requestAnimationFrame(()=>{this.colorFieldScopeLeft=a,this.colorFieldScopeTop=o}),this.drawThumb(this.fieldAndSliderRenderingContext,r,a,o,t,this.hueThumbState)}drawThumb(e,t,i,n,r,a){const s=2*Math.PI;e.beginPath(),e.arc(i,n,t,0,s),e.shadowBlur=a==="hover"?32:16,e.shadowColor=`rgba(0, 0, 0, ${a==="drag"?.32:.16})`,e.fillStyle="#fff",e.fill(),e.beginPath(),e.arc(i,n,t-3,0,s),e.shadowBlur=0,e.shadowColor="transparent",e.fillStyle=r.rgb().string(),e.fill()}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{dimensions:{colorField:{height:i},slider:{height:n,width:r},thumb:{radius:a}}}=this,o=t.hue()/(360/r),s=n/2+i;requestAnimationFrame(()=>{this.hueScopeLeft=o,this.hueScopeTop=s}),this.drawThumb(this.fieldAndSliderRenderingContext,a,o,s,t,this.sliderThumbState)}drawHueSlider(){const e=this.fieldAndSliderRenderingContext,{dimensions:{colorField:{height:t},slider:{height:i,width:n}}}=this,r=e.createLinearGradient(0,0,n,0),a=["red","yellow","lime","cyan","blue","magenta","red"],o=1/(a.length-1);let s=0;a.forEach(l=>{r.addColorStop(s,sa(l).string()),s+=o}),e.fillStyle=r,e.clearRect(0,t,n,i+this.getSliderCapSpacing()*2),e.fillRect(0,t,n,i),this.drawActiveHueSliderColor()}updateColorFromChannels(e){this.internalColorSet(sa(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null]}toChannels(e){const{channelMode:t}=this;return e[t]().array().map(i=>Math.floor(i))}get el(){return this}static get watchers(){return{color:["handleColorChange"],format:["handleFormatChange"],scale:["handleScaleChange"],value:["handleValueChange"]}}static get style(){return oZ}},K_={container:"container",preview:"preview",input:"input"},dZ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.container{display:inline-grid;width:100%;-ms-flex-align:center;align-items:center;grid-template-columns:1fr auto}.preview{grid-column:2/3;pointer-events:none;margin-top:0px;margin-bottom:0px;margin-left:0.25rem;margin-right:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;z-index:1}.preview,.input{grid-row:1}.input{grid-column:1/3;width:100%;text-transform:uppercase}",hO=sa(),hZ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteColorPickerHexInputChange=U(this,"calciteColorPickerHexInputChange",7),this.allowEmpty=!1,this.intlHex=si.hex,this.intlNoColor=si.noColor,this.scale="m",this.value=ll(hO.hex()),this.onCalciteInputBlur=()=>{const e=this.inputNode,t=e.value,i=`#${t}`;this.allowEmpty&&!t||em(i)&&t9(i)||(e.value=this.allowEmpty&&!this.internalColor?"":this.formatForInternalInput(QN(this.internalColor.object())))},this.onInputChange=()=>{const e=this.inputNode.value;let t;if(e){const i=e;if(!iT(`#${i}`))return;t=ll(i)}else this.allowEmpty&&(t=null);this.value=t,this.calciteColorPickerHexInputChange.emit()},this.internalColor=hO,this.previousNonNullValue=this.value,this.storeInputRef=e=>{this.inputNode=e}}connectedCallback(){const{allowEmpty:e,value:t}=this;if(t){const i=ll(t);em(i)&&(this.internalColor=sa(i),this.value=i);return}e&&(this.internalColor=null,this.value=null)}handleValueChange(e,t){if(e){const i=ll(e);if(em(i)){const{internalColor:n}=this,r=!n||i!==ll(n.hex());this.internalColor=sa(i),this.previousNonNullValue=i,this.value=i,r&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.internalColor=null,this.value=null,this.calciteColorPickerHexInputChange.emit();return}this.value=t}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:n,shiftKey:r}=e,{internalColor:a,value:o}=this,s=e.key;if(s==="Tab"||s==="Enter"){this.onInputChange();return}if(s==="ArrowDown"||s==="ArrowUp"){if(!o){this.value=this.previousNonNullValue,e.preventDefault();return}const f=s==="ArrowUp"?1:-1,g=r?10:1;this.value=ll(this.nudgeRGBChannels(a,g*f).hex()),e.preventDefault();return}const u=t||i||n,h=s.length===1,m=gK.test(s);h&&!u&&!m&&e.preventDefault()}render(){const{intlHex:e,value:t}=this,i=this.formatForInternalInput(t);return y("div",{class:K_.container},y("calcite-input",{class:K_.input,label:e,maxLength:6,onCalciteInputBlur:this.onCalciteInputBlur,onCalciteInputChange:this.onInputChange,prefixText:"#",ref:this.storeInputRef,scale:this.scale,value:i}),i?y("calcite-color-picker-swatch",{active:!0,class:K_.preview,color:`#${i}`,scale:this.scale}):null)}async setFocus(){ti(this.inputNode)}formatForInternalInput(e){return e?e.replace("#",""):""}nudgeRGBChannels(e,t){return sa.rgb(e.array().map(i=>i+t))}get el(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return dZ}},pZ={swatch:"swatch",noColorIcon:"no-color-icon"},pO={borderLight:"rgba(0, 0, 0, 0.3)",borderDark:"rgba(255, 255, 255, 0.15)"},mZ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-inline-flexbox;display:inline-flex}:host([scale=s]){height:1.25rem;width:1.25rem}:host([scale=m]){height:1.5rem;width:1.5rem}:host([scale=l]){height:2rem;width:2rem}.swatch{overflow:visible;height:inherit;width:inherit}.swatch rect{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.no-color-icon{position:absolute;top:0px;right:0px;bottom:0px;left:0px;height:100%;width:100%}",fZ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.scale="m"}handleColorChange(e){this.internalColor=sa(e)}componentWillLoad(){this.handleColorChange(this.color)}render(){const{active:e,el:t,internalColor:i}=this,n=e?"100%":"0",r=i.hex(),o=RN(t)==="light"?pO.borderLight:pO.borderDark;return y("svg",{class:pZ.swatch,xmlns:"http://www.w3.org/2000/svg"},y("title",null,r),y("rect",{fill:r,height:"100%",id:"swatch",rx:n,stroke:o,"stroke-width":"2",style:{"clip-path":`inset(0 round ${n})`},width:"100%"}))}get el(){return this}static get watchers(){return{color:["handleColorChange"]}}static get style(){return mZ}},gZ=(e,t)=>{const i=iK(t),n=new RegExp(i,"i");e.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(o,s)=>{var l;if(!((l=o)===null||l===void 0)&&l.constant)return!0;let u=!1;return KN(o,h=>{typeof h!="function"&&(Array.isArray(h)||typeof h=="object"&&h!==null?r(h,s)&&(u=!0):s.test(h)&&(u=!0))}),u};return e.filter(o=>r(o,n))};var Xn="top",ma="bottom",fa="right",Qn="left",uT="auto",Vy=[Xn,ma,fa,Qn],km="start",iy="end",yZ="clippingParents",l9="viewport",Pf="popper",bZ="reference",mO=Vy.reduce(function(e,t){return e.concat([t+"-"+km,t+"-"+iy])},[]),c9=[].concat(Vy,[uT]).reduce(function(e,t){return e.concat([t,t+"-"+km,t+"-"+iy])},[]),vZ="beforeRead",wZ="read",xZ="afterRead",kZ="beforeMain",_Z="main",SZ="afterMain",DZ="beforeWrite",$Z="write",CZ="afterWrite",TZ=[vZ,wZ,xZ,kZ,_Z,SZ,DZ,$Z,CZ];function os(e){return e?(e.nodeName||"").toLowerCase():null}function yo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _m(e){var t=yo(e).Element;return e instanceof t||e instanceof Element}function ha(e){var t=yo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function dT(e){if(typeof ShadowRoot=="undefined")return!1;var t=yo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function EZ(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var n=t.styles[i]||{},r=t.attributes[i]||{},a=t.elements[i];!ha(a)||!os(a)||(Object.assign(a.style,n),Object.keys(r).forEach(function(o){var s=r[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function IZ(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!ha(r)||!os(r)||(Object.assign(r.style,s),Object.keys(a).forEach(function(l){r.removeAttribute(l)}))})}}const MZ={name:"applyStyles",enabled:!0,phase:"write",fn:EZ,effect:IZ,requires:["computeStyles"]};function is(e){return e.split("-")[0]}var Hd=Math.max,Vw=Math.min,Sm=Math.round;function Dm(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),n=1,r=1;if(ha(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(n=Sm(i.width)/o||1),a>0&&(r=Sm(i.height)/a||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function hT(e){var t=Dm(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function u9(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&dT(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xl(e){return yo(e).getComputedStyle(e)}function OZ(e){return["table","td","th"].indexOf(os(e))>=0}function cu(e){return((_m(e)?e.ownerDocument:e.document)||window.document).documentElement}function vk(e){return os(e)==="html"?e:e.assignedSlot||e.parentNode||(dT(e)?e.host:null)||cu(e)}function fO(e){return!ha(e)||xl(e).position==="fixed"?null:e.offsetParent}function AZ(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&ha(e)){var n=xl(e);if(n.position==="fixed")return null}var r=vk(e);for(dT(r)&&(r=r.host);ha(r)&&["html","body"].indexOf(os(r))<0;){var a=xl(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function Hy(e){for(var t=yo(e),i=fO(e);i&&OZ(i)&&xl(i).position==="static";)i=fO(i);return i&&(os(i)==="html"||os(i)==="body"&&xl(i).position==="static")?t:i||AZ(e)||t}function pT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function yg(e,t,i){return Hd(e,Vw(t,i))}function PZ(e,t,i){var n=yg(e,t,i);return n>i?i:n}function d9(){return{top:0,right:0,bottom:0,left:0}}function h9(e){return Object.assign({},d9(),e)}function p9(e,t){return t.reduce(function(i,n){return i[n]=e,i},{})}var LZ=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,h9(typeof t!="number"?t:p9(t,Vy))};function RZ(e){var t,i=e.state,n=e.name,r=e.options,a=i.elements.arrow,o=i.modifiersData.popperOffsets,s=is(i.placement),l=pT(s),u=[Qn,fa].indexOf(s)>=0,h=u?"height":"width";if(!(!a||!o)){var m=LZ(r.padding,i),f=hT(a),g=l==="y"?Xn:Qn,b=l==="y"?ma:fa,v=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],w=o[l]-i.rects.reference[l],x=Hy(a),S=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,E=v/2-w/2,T=m[g],C=S-f[h]-m[b],M=S/2-f[h]/2+E,L=yg(T,M,C),j=l;i.modifiersData[n]=(t={},t[j]=L,t.centerOffset=L-M,t)}}function FZ(e){var t=e.state,i=e.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||!u9(t.elements.popper,r)||(t.elements.arrow=r))}const NZ={name:"arrow",enabled:!0,phase:"main",fn:RZ,effect:FZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $m(e){return e.split("-")[1]}var zZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jZ(e){var t=e.x,i=e.y,n=window,r=n.devicePixelRatio||1;return{x:Sm(t*r)/r||0,y:Sm(i*r)/r||0}}function gO(e){var t,i=e.popper,n=e.popperRect,r=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,m=e.isFixed,f=o.x,g=f===void 0?0:f,b=o.y,v=b===void 0?0:b,w=typeof h=="function"?h({x:g,y:v}):{x:g,y:v};g=w.x,v=w.y;var x=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),E=Qn,T=Xn,C=window;if(u){var M=Hy(i),L="clientHeight",j="clientWidth";if(M===yo(i)&&(M=cu(i),xl(M).position!=="static"&&s==="absolute"&&(L="scrollHeight",j="scrollWidth")),M=M,r===Xn||(r===Qn||r===fa)&&a===iy){T=ma;var G=m&&M===C&&C.visualViewport?C.visualViewport.height:M[L];v-=G-n.height,v*=l?1:-1}if(r===Qn||(r===Xn||r===ma)&&a===iy){E=fa;var J=m&&M===C&&C.visualViewport?C.visualViewport.width:M[j];g-=J-n.width,g*=l?1:-1}}var q=Object.assign({position:s},u&&zZ),ue=h===!0?jZ({x:g,y:v}):{x:g,y:v};if(g=ue.x,v=ue.y,l){var re;return Object.assign({},q,(re={},re[T]=S?"0":"",re[E]=x?"0":"",re.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",re))}return Object.assign({},q,(t={},t[T]=S?v+"px":"",t[E]=x?g+"px":"",t.transform="",t))}function VZ(e){var t=e.state,i=e.options,n=i.gpuAcceleration,r=n===void 0?!0:n,a=i.adaptive,o=a===void 0?!0:a,s=i.roundOffsets,l=s===void 0?!0:s,u={placement:is(t.placement),variation:$m(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gO(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gO(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const HZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VZ,data:{}};var Ub={passive:!0};function qZ(e){var t=e.state,i=e.instance,n=e.options,r=n.scroll,a=r===void 0?!0:r,o=n.resize,s=o===void 0?!0:o,l=yo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(h){h.addEventListener("scroll",i.update,Ub)}),s&&l.addEventListener("resize",i.update,Ub),function(){a&&u.forEach(function(h){h.removeEventListener("scroll",i.update,Ub)}),s&&l.removeEventListener("resize",i.update,Ub)}}const UZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qZ,data:{}};var BZ={left:"right",right:"left",bottom:"top",top:"bottom"};function c1(e){return e.replace(/left|right|bottom|top/g,function(t){return BZ[t]})}var GZ={start:"end",end:"start"};function yO(e){return e.replace(/start|end/g,function(t){return GZ[t]})}function mT(e){var t=yo(e),i=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:i,scrollTop:n}}function fT(e){return Dm(cu(e)).left+mT(e).scrollLeft}function WZ(e){var t=yo(e),i=cu(e),n=t.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,s=0;return n&&(r=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,s=n.offsetTop)),{width:r,height:a,x:o+fT(e),y:s}}function JZ(e){var t,i=cu(e),n=mT(e),r=(t=e.ownerDocument)==null?void 0:t.body,a=Hd(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Hd(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+fT(e),l=-n.scrollTop;return xl(r||i).direction==="rtl"&&(s+=Hd(i.clientWidth,r?r.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function gT(e){var t=xl(e),i=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function m9(e){return["html","body","#document"].indexOf(os(e))>=0?e.ownerDocument.body:ha(e)&&gT(e)?e:m9(vk(e))}function bg(e,t){var i;t===void 0&&(t=[]);var n=m9(e),r=n===((i=e.ownerDocument)==null?void 0:i.body),a=yo(n),o=r?[a].concat(a.visualViewport||[],gT(n)?n:[]):n,s=t.concat(o);return r?s:s.concat(bg(vk(o)))}function b3(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function YZ(e){var t=Dm(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function bO(e,t){return t===l9?b3(WZ(e)):_m(t)?YZ(t):b3(JZ(cu(e)))}function KZ(e){var t=bg(vk(e)),i=["absolute","fixed"].indexOf(xl(e).position)>=0,n=i&&ha(e)?Hy(e):e;return _m(n)?t.filter(function(r){return _m(r)&&u9(r,n)&&os(r)!=="body"}):[]}function ZZ(e,t,i){var n=t==="clippingParents"?KZ(e):[].concat(t),r=[].concat(n,[i]),a=r[0],o=r.reduce(function(s,l){var u=bO(e,l);return s.top=Hd(u.top,s.top),s.right=Vw(u.right,s.right),s.bottom=Vw(u.bottom,s.bottom),s.left=Hd(u.left,s.left),s},bO(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function f9(e){var t=e.reference,i=e.element,n=e.placement,r=n?is(n):null,a=n?$m(n):null,o=t.x+t.width/2-i.width/2,s=t.y+t.height/2-i.height/2,l;switch(r){case Xn:l={x:o,y:t.y-i.height};break;case ma:l={x:o,y:t.y+t.height};break;case fa:l={x:t.x+t.width,y:s};break;case Qn:l={x:t.x-i.width,y:s};break;default:l={x:t.x,y:t.y}}var u=r?pT(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(a){case km:l[u]=l[u]-(t[h]/2-i[h]/2);break;case iy:l[u]=l[u]+(t[h]/2-i[h]/2);break}}return l}function ny(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=n===void 0?e.placement:n,a=i.boundary,o=a===void 0?yZ:a,s=i.rootBoundary,l=s===void 0?l9:s,u=i.elementContext,h=u===void 0?Pf:u,m=i.altBoundary,f=m===void 0?!1:m,g=i.padding,b=g===void 0?0:g,v=h9(typeof b!="number"?b:p9(b,Vy)),w=h===Pf?bZ:Pf,x=e.rects.popper,S=e.elements[f?w:h],E=ZZ(_m(S)?S:S.contextElement||cu(e.elements.popper),o,l),T=Dm(e.elements.reference),C=f9({reference:T,element:x,strategy:"absolute",placement:r}),M=b3(Object.assign({},x,C)),L=h===Pf?M:T,j={top:E.top-L.top+v.top,bottom:L.bottom-E.bottom+v.bottom,left:E.left-L.left+v.left,right:L.right-E.right+v.right},G=e.modifiersData.offset;if(h===Pf&&G){var J=G[r];Object.keys(j).forEach(function(q){var ue=[fa,ma].indexOf(q)>=0?1:-1,re=[Xn,ma].indexOf(q)>=0?"y":"x";j[q]+=J[re]*ue})}return j}function XZ(e,t){t===void 0&&(t={});var i=t,n=i.placement,r=i.boundary,a=i.rootBoundary,o=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,u=l===void 0?c9:l,h=$m(n),m=h?s?mO:mO.filter(function(b){return $m(b)===h}):Vy,f=m.filter(function(b){return u.indexOf(b)>=0});f.length===0&&(f=m);var g=f.reduce(function(b,v){return b[v]=ny(e,{placement:v,boundary:r,rootBoundary:a,padding:o})[is(v)],b},{});return Object.keys(g).sort(function(b,v){return g[b]-g[v]})}function QZ(e){if(is(e)===uT)return[];var t=c1(e);return[yO(e),t,yO(t)]}function eX(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=i.mainAxis,a=r===void 0?!0:r,o=i.altAxis,s=o===void 0?!0:o,l=i.fallbackPlacements,u=i.padding,h=i.boundary,m=i.rootBoundary,f=i.altBoundary,g=i.flipVariations,b=g===void 0?!0:g,v=i.allowedAutoPlacements,w=t.options.placement,x=is(w),S=x===w,E=l||(S||!b?[c1(w)]:QZ(w)),T=[w].concat(E).reduce(function(Ol,wo){return Ol.concat(is(wo)===uT?XZ(t,{placement:wo,boundary:h,rootBoundary:m,padding:u,flipVariations:b,allowedAutoPlacements:v}):wo)},[]),C=t.rects.reference,M=t.rects.popper,L=new Map,j=!0,G=T[0],J=0;J<T.length;J++){var q=T[J],ue=is(q),re=$m(q)===km,de=[Xn,ma].indexOf(ue)>=0,it=de?"width":"height",Ke=ny(t,{placement:q,boundary:h,rootBoundary:m,altBoundary:f,padding:u}),He=de?re?fa:Qn:re?ma:Xn;C[it]>M[it]&&(He=c1(He));var At=c1(He),ai=[];if(a&&ai.push(Ke[ue]<=0),s&&ai.push(Ke[He]<=0,Ke[At]<=0),ai.every(function(Ol){return Ol})){G=q,j=!1;break}L.set(q,ai)}if(j)for(var mu=b?3:1,_s=function(wo){var gu=T.find(function(yu){var Ds=L.get(yu);if(Ds)return Ds.slice(0,wo).every(function(kf){return kf})});if(gu)return G=gu,"break"},Ss=mu;Ss>0;Ss--){var fu=_s(Ss);if(fu==="break")break}t.placement!==G&&(t.modifiersData[n]._skip=!0,t.placement=G,t.reset=!0)}}const tX={name:"flip",enabled:!0,phase:"main",fn:eX,requiresIfExists:["offset"],data:{_skip:!1}};function vO(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function wO(e){return[Xn,fa,ma,Qn].some(function(t){return e[t]>=0})}function iX(e){var t=e.state,i=e.name,n=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,o=ny(t,{elementContext:"reference"}),s=ny(t,{altBoundary:!0}),l=vO(o,n),u=vO(s,r,a),h=wO(l),m=wO(u);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const nX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:iX};function rX(e,t,i){var n=is(e),r=[Qn,Xn].indexOf(n)>=0?-1:1,a=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=a[0],s=a[1];return o=o||0,s=(s||0)*r,[Qn,fa].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function aX(e){var t=e.state,i=e.options,n=e.name,r=i.offset,a=r===void 0?[0,0]:r,o=c9.reduce(function(h,m){return h[m]=rX(m,t.rects,a),h},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const oX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:aX};function sX(e){var t=e.state,i=e.name;t.modifiersData[i]=f9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const lX={name:"popperOffsets",enabled:!0,phase:"read",fn:sX,data:{}};function cX(e){return e==="x"?"y":"x"}function uX(e){var t=e.state,i=e.options,n=e.name,r=i.mainAxis,a=r===void 0?!0:r,o=i.altAxis,s=o===void 0?!1:o,l=i.boundary,u=i.rootBoundary,h=i.altBoundary,m=i.padding,f=i.tether,g=f===void 0?!0:f,b=i.tetherOffset,v=b===void 0?0:b,w=ny(t,{boundary:l,rootBoundary:u,padding:m,altBoundary:h}),x=is(t.placement),S=$m(t.placement),E=!S,T=pT(x),C=cX(T),M=t.modifiersData.popperOffsets,L=t.rects.reference,j=t.rects.popper,G=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,J=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ue={x:0,y:0};if(!!M){if(a){var re,de=T==="y"?Xn:Qn,it=T==="y"?ma:fa,Ke=T==="y"?"height":"width",He=M[T],At=He+w[de],ai=He-w[it],mu=g?-j[Ke]/2:0,_s=S===km?L[Ke]:j[Ke],Ss=S===km?-j[Ke]:-L[Ke],fu=t.elements.arrow,Ol=g&&fu?hT(fu):{width:0,height:0},wo=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:d9(),gu=wo[de],yu=wo[it],Ds=yg(0,L[Ke],Ol[Ke]),kf=E?L[Ke]/2-mu-Ds-gu-J.mainAxis:_s-Ds-gu-J.mainAxis,A_=E?-L[Ke]/2+mu+Ds+yu+J.mainAxis:Ss+Ds+yu+J.mainAxis,_f=t.elements.arrow&&Hy(t.elements.arrow),P_=_f?T==="y"?_f.clientTop||0:_f.clientLeft||0:0,Tb=(re=q==null?void 0:q[T])!=null?re:0,L_=He+kf-Tb-P_,R_=He+A_-Tb,Eb=yg(g?Vw(At,L_):At,He,g?Hd(ai,R_):ai);M[T]=Eb,ue[T]=Eb-He}if(s){var Ib,F_=T==="x"?Xn:Qn,N_=T==="x"?ma:fa,$s=M[C],Mh=C==="y"?"height":"width",Mb=$s+w[F_],Ob=$s-w[N_],Sf=[Xn,Qn].indexOf(x)!==-1,Df=(Ib=q==null?void 0:q[C])!=null?Ib:0,$f=Sf?Mb:$s-L[Mh]-j[Mh]-Df+J.altAxis,wa=Sf?$s+L[Mh]+j[Mh]-Df-J.altAxis:Ob,Ab=g&&Sf?PZ($f,$s,wa):yg(g?$f:Mb,$s,g?wa:Ob);M[C]=Ab,ue[C]=Ab-$s}t.modifiersData[n]=ue}}const dX={name:"preventOverflow",enabled:!0,phase:"main",fn:uX,requiresIfExists:["offset"]};function hX(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function pX(e){return e===yo(e)||!ha(e)?mT(e):hX(e)}function mX(e){var t=e.getBoundingClientRect(),i=Sm(t.width)/e.offsetWidth||1,n=Sm(t.height)/e.offsetHeight||1;return i!==1||n!==1}function fX(e,t,i){i===void 0&&(i=!1);var n=ha(t),r=ha(t)&&mX(t),a=cu(t),o=Dm(e,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((os(t)!=="body"||gT(a))&&(s=pX(t)),ha(t)?(l=Dm(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=fT(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function gX(e){var t=new Map,i=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function r(a){i.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!i.has(s)){var l=t.get(s);l&&r(l)}}),n.push(a)}return e.forEach(function(a){i.has(a.name)||r(a)}),n}function yX(e){var t=gX(e);return TZ.reduce(function(i,n){return i.concat(t.filter(function(r){return r.phase===n}))},[])}function bX(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function vX(e){var t=e.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(t).map(function(i){return t[i]})}var xO={placement:"bottom",modifiers:[],strategy:"absolute"};function kO(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function wX(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,n=i===void 0?[]:i,r=t.defaultOptions,a=r===void 0?xO:r;return function(s,l,u){u===void 0&&(u=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},xO,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},m=[],f=!1,g={state:h,setOptions:function(x){var S=typeof x=="function"?x(h.options):x;v(),h.options=Object.assign({},a,h.options,S),h.scrollParents={reference:_m(s)?bg(s):s.contextElement?bg(s.contextElement):[],popper:bg(l)};var E=yX(vX([].concat(n,h.options.modifiers)));return h.orderedModifiers=E.filter(function(T){return T.enabled}),b(),g.update()},forceUpdate:function(){if(!f){var x=h.elements,S=x.reference,E=x.popper;if(!!kO(S,E)){h.rects={reference:fX(S,Hy(E),h.options.strategy==="fixed"),popper:hT(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(J){return h.modifiersData[J.name]=Object.assign({},J.data)});for(var T=0;T<h.orderedModifiers.length;T++){if(h.reset===!0){h.reset=!1,T=-1;continue}var C=h.orderedModifiers[T],M=C.fn,L=C.options,j=L===void 0?{}:L,G=C.name;typeof M=="function"&&(h=M({state:h,options:j,name:G,instance:g})||h)}}}},update:bX(function(){return new Promise(function(w){g.forceUpdate(),w(h)})}),destroy:function(){v(),f=!0}};if(!kO(s,l))return g;g.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function b(){h.orderedModifiers.forEach(function(w){var x=w.name,S=w.options,E=S===void 0?{}:S,T=w.effect;if(typeof T=="function"){var C=T({state:h,name:x,instance:g,options:E}),M=function(){};m.push(C||M)}})}function v(){m.forEach(function(w){return w()}),m=[]}return g}}var xX=[UZ,lX,HZ,MZ,oX,tX,dX,NZ,nX],kX=wX({defaultModifiers:xX});const ry="bottom-leading",yT=["top-start","top","top-end","bottom-start","bottom","bottom-end"],ss={animation:"calcite-popper-anim",animationActive:"calcite-popper-anim--active"};function g9(e,t){const i=["left","right"],n=["start","end"];return Li(e)==="rtl"&&(i.reverse(),n.reverse()),t.replace(/-leading/gi,`-${n[0]}`).replace(/-trailing/gi,`-${n[1]}`).replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}function qy({referenceEl:e,el:t,placement:i,overlayPositioning:n="absolute",modifiers:r}){return e?kX(e,t,{strategy:n,placement:g9(t,i),modifiers:r}):null}async function Uy({el:e,modifiers:t,placement:i,popper:n}){const r=g9(e,i);await n.setOptions({modifiers:t,placement:r})}function _X(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}const _O=4,y9=Math.ceil(_X(_O,_O)),v3="CALCITE-COMBOBOX-ITEM",bT="CALCITE-COMBOBOX-ITEM-GROUP",w3=`${v3}, ${bT}`,SX={removeTag:"Remove tag"};function b9(e){var t,i;const n=(t=e.parentElement)===null||t===void 0?void 0:t.closest(w3),r=(i=n==null?void 0:n.parentElement)===null||i===void 0?void 0:i.closest(w3);return[n,r].filter(a=>a)}function SO(e){var t;return((t=e.ancestors)===null||t===void 0?void 0:t.filter(i=>i.nodeName==="CALCITE-COMBOBOX-ITEM"))||[]}function DX(e){return eo(e.querySelectorAll("calcite-combobox-item"))}function DO(e){return eo(e.querySelectorAll("calcite-combobox-item")).filter(i=>i.selected).length>0}function v9(e){return su.isBrowser?document.evaluate("ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group",e,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}const $X="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:2rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:2.75rem}.wrapper{display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);padding:calc(var(--calcite-combobox-item-spacing-unit-s) / 4) var(--calcite-combobox-item-spacing-unit-l)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.wrapper--single{padding:0 var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.grid-input{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px}.input{-ms-flex-positive:1;flex-grow:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-ui-text-1);font-size:inherit;height:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);min-width:120px;margin-bottom:var(--calcite-combobox-item-spacing-unit-s)}.input:focus{outline:2px solid transparent;outline-offset:2px}.input--transparent{opacity:0}.input--single{margin-bottom:0px;margin-top:0px;padding:0px}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;width:0px;min-width:0px;opacity:0}.input--icon{padding:0 var(--calcite-combobox-item-spacing-unit-l)}.input-wrap{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1}.input-wrap--single{-ms-flex:1 1 0%;flex:1 1 0%;overflow:hidden}.label{pointer-events:none;display:-ms-flexbox;display:flex;max-width:100%;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);height:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--spaced{padding-top:0px;padding-bottom:0px;padding-left:var(--calcite-combobox-item-spacing-unit-l);padding-right:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:-ms-flexbox;display:flex;width:1rem;cursor:pointer;-ms-flex-align:center;align-items:center}.icon-end{-ms-flex:none;flex:none}.popper-container{width:100%;display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.popper-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.popper-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.popper-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.popper-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.popper-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.popper-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}.popper-container--active{pointer-events:initial;visibility:visible}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-height:100vh;overflow-y:auto;background-color:var(--calcite-ui-foreground-1);width:var(--calcite-dropdown-width)}.list{margin:0px;display:block;padding:0px}.list--hide{height:0px;overflow:hidden}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);margin-inline:0 var(--calcite-combobox-item-spacing-unit-s);max-width:100%}.chip--active{background-color:var(--calcite-ui-foreground-3)}.item{display:block}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",CX=e=>e.tagName===bT,TX="combobox-item-",$O="combobox-chip-",Z_="combobox-label-",X_="combobox-listbox-",CO="combobox-input-",EX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteLookupChange=U(this,"calciteLookupChange",7),this.calciteComboboxChange=U(this,"calciteComboboxChange",7),this.calciteComboboxFilterChange=U(this,"calciteComboboxFilterChange",7),this.calciteComboboxChipDismiss=U(this,"calciteComboboxChipDismiss",7),this.calciteComboboxOpen=U(this,"calciteComboboxOpen",7),this.calciteComboboxClose=U(this,"calciteComboboxClose",7),this.active=!1,this.disabled=!1,this.maxItems=0,this.overlayPositioning="absolute",this.required=!1,this.selectionMode="multi",this.scale="m",this.value=null,this.intlRemoveTag=SX.removeTag,this.internalValueChangeFlag=!1,this.items=[],this.groupItems=[],this.selectedItems=[],this.visibleItems=[],this.activeItemIndex=-1,this.activeChipIndex=-1,this.activeDescendant="",this.text="",this.textInput=null,this.mutationObserver=Nt("mutation",()=>this.updateItems()),this.resizeObserver=Nt("resize",()=>this.setMaxScrollerHeight()),this.guid=ri(),this.inputHeight=0,this.ignoreSelectedEventsFlag=!1,this.activeTransitionProp="opacity",this.getValue=()=>{const e=this.selectedItems.map(t=>t==null?void 0:t.value.toString());return e!=null&&e.length?e.length>1?e:e[0]:""},this.onLabelClick=()=>{this.setFocus()},this.keydownHandler=e=>{const{key:t}=e;switch(t){case"Tab":this.activeChipIndex=-1,this.activeItemIndex=-1,this.allowCustomValues&&this.text?(this.addCustomChip(this.text,!0),e.preventDefault()):this.active=!1;break;case"ArrowLeft":this.previousChip();break;case"ArrowRight":this.nextChip();break;case"ArrowUp":e.preventDefault(),this.active=!0,this.shiftActiveItemIndex(-1);break;case"ArrowDown":e.preventDefault(),this.active=!0,this.shiftActiveItemIndex(1);break;case"Home":this.active=!0,this.updateActiveItemIndex(0);break;case"End":this.active=!0,this.updateActiveItemIndex(this.visibleItems.length-1);break;case"Escape":this.active=!1;break;case"Enter":this.activeItemIndex>-1?this.toggleSelection(this.visibleItems[this.activeItemIndex]):this.activeChipIndex>-1?this.removeActiveChip():this.allowCustomValues&&this.text&&this.addCustomChip(this.text,!0);break;case"Delete":case"Backspace":this.activeChipIndex>-1?this.removeActiveChip():!this.text&&this.isMulti()&&this.removeLastChip();break;default:this.active||this.setFocus();break}},this.toggleCloseEnd=()=>{this.active=!1,this.el.removeEventListener("calciteComboboxClose",this.toggleCloseEnd)},this.toggleOpenEnd=()=>{this.active=!0,this.el.removeEventListener("calciteComboboxOpen",this.toggleOpenEnd)},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteComboboxOpen.emit():this.calciteComboboxClose.emit())},this.setMaxScrollerHeight=()=>{const{active:e,listContainerEl:t}=this;if(!t||!e)return;this.reposition();const i=this.getMaxScrollerHeight();t.style.maxHeight=i>0?`${i}px`:"",this.reposition()},this.calciteChipDismissHandler=(e,t)=>{this.active=!1;const i=this.items.find(n=>n===t);i&&this.toggleSelection(i,!1),this.calciteComboboxChipDismiss.emit(e.detail)},this.setFocusClick=e=>{e.composedPath().some(t=>t.tagName==="CALCITE-CHIP")||this.setFocus()},this.setInactiveIfNotContained=e=>{const t=e.composedPath();!this.active||t.includes(this.el)||t.includes(this.referenceEl)||(this.allowCustomValues&&this.text&&this.addCustomChip(this.text),this.selectionMode==="single"&&(this.textInput&&(this.textInput.value=""),this.text="",this.filterItems(""),this.updateActiveItemIndex(-1)),this.active=!1)},this.setMenuEl=e=>{this.menuEl=e},this.setListContainerEl=e=>{this.resizeObserver.observe(e),this.listContainerEl=e},this.setReferenceEl=e=>{this.referenceEl=e},this.inputHandler=e=>{const t=e.target.value;this.text=t,this.filterItems(t),t&&(this.activeChipIndex=-1)},this.filterItems=(()=>{const e=(t,i)=>t&&i.some(({label:n,value:r})=>CX(t)?r===t.label||r===t.label:r===t.textLabel||r===t.value||n===t.textLabel||n===t.value);return Vd(t=>{const i=gZ(this.data,t);this.getCombinedItems().forEach(r=>{const a=!e(r,i);r.hidden=a;const[o,s]=r.ancestors;(e(o,i)||e(s,i))&&(r.hidden=!1),a||r.ancestors.forEach(l=>l.hidden=!1)}),this.visibleItems=this.getVisibleItems(),this.calciteComboboxFilterChange.emit({visibleItems:[...this.visibleItems],text:t})},100)})(),this.internalCalciteLookupChangeEvent=()=>{this.calciteLookupChange.emit(this.selectedItems)},this.emitCalciteLookupChange=Vd(this.internalCalciteLookupChangeEvent,0),this.internalComboboxChangeEvent=()=>{const{selectedItems:e}=this;this.calciteComboboxChange.emit({selectedItems:e})},this.emitComboboxChange=Vd(this.internalComboboxChangeEvent,0),this.updateItems=()=>{this.items=this.getItems(),this.groupItems=this.getGroupItems(),this.data=this.getData(),this.selectedItems=this.getSelectedItems(),this.visibleItems=this.getVisibleItems(),this.needsIcon=this.getNeedsIcon(),this.allowCustomValues||this.setMaxScrollerHeight()},this.comboboxFocusHandler=()=>{var e;this.active=!0,(e=this.textInput)===null||e===void 0||e.focus()},this.comboboxBlurHandler=e=>{this.setInactiveIfNotContained(e)}}activeHandler(){if(this.disabled){this.active=!1;return}this.reposition()}handleDisabledChange(e){e||(this.active=!1)}maxItemsHandler(){this.setMaxScrollerHeight()}valueHandler(e){if(!this.internalValueChangeFlag){const t=this.getItems();Array.isArray(e)?t.forEach(i=>i.selected=e.includes(i.value)):e?t.forEach(i=>i.selected=e===i.value):t.forEach(i=>i.selected=!1),this.updateItems()}}documentClickHandler(e){this.setInactiveIfNotContained(e)}calciteComboboxItemChangeHandler(e){if(this.ignoreSelectedEventsFlag)return;const t=e.target;this.toggleSelection(t,t.selected)}async reposition(){const{popper:e,menuEl:t}=this,i=this.getModifiers();e?await Uy({el:t,modifiers:i,placement:ry,popper:e}):this.createPopper()}async setFocus(){var e;this.active=!0,(e=this.textInput)===null||e===void 0||e.focus(),this.activeChipIndex=-1,this.activeItemIndex=-1}connectedCallback(){var e;this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1,(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.createPopper(),sr(this),mo(this)}componentWillLoad(){this.updateItems()}componentDidLoad(){sT(this,this.getValue())}componentDidRender(){this.el.offsetHeight!==this.inputHeight&&(this.reposition(),this.inputHeight=this.el.offsetHeight),Je(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.destroyPopper(),Nr(this),fo(this)}selectedItemsHandler(){this.internalValueChangeFlag=!0,this.value=this.getValue(),this.internalValueChangeFlag=!1}textHandler(){this.updateActiveItemIndex(-1)}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||yT};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,overlayPositioning:i}=this,n=this.getModifiers();this.popper=qy({el:e,modifiers:n,overlayPositioning:i,placement:ry,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}getMaxScrollerHeight(){const e=this.getCombinedItems().filter(r=>!r.hidden),{maxItems:t}=this;let i=0,n=0;return e.length>t&&e.forEach(r=>{if(i<t&&t>0){const a=this.calculateSingleItemHeight(r);a>0&&(n+=a,i++)}}),n}calculateSingleItemHeight(e){let t=e.offsetHeight;return Array.from(e.querySelectorAll(w3)).map(n=>n==null?void 0:n.offsetHeight).forEach(n=>{t-=n}),t}getCombinedItems(){return[...this.groupItems,...this.items]}toggleSelection(e,t=!e.selected){!e||(this.isMulti()?(e.selected=t,this.updateAncestors(e),this.selectedItems=this.getSelectedItems(),this.emitCalciteLookupChange(),this.emitComboboxChange(),this.resetText(),this.filterItems("")):(this.ignoreSelectedEventsFlag=!0,this.items.forEach(i=>i.selected=i===e?t:!1),this.ignoreSelectedEventsFlag=!1,this.selectedItems=this.getSelectedItems(),this.emitComboboxChange(),this.textInput&&(this.textInput.value=e.textLabel),this.active=!1,this.updateActiveItemIndex(-1),this.resetText(),this.filterItems("")))}updateAncestors(e){if(this.selectionMode!=="ancestors")return;const t=SO(e),i=DX(e);e.selected?t.forEach(n=>{n.selected=!0}):(i.forEach(n=>n.selected=!1),[...t].forEach(n=>{DO(n)||(n.selected=!1)}))}getVisibleItems(){return this.items.filter(e=>!e.hidden)}getSelectedItems(){if(!this.isMulti()){const e=this.items.find(({selected:t})=>t);return e?[e]:[]}return this.items.filter(e=>e.selected&&(this.selectionMode!=="ancestors"||!DO(e))).sort((e,t)=>{const i=this.selectedItems.indexOf(e),n=this.selectedItems.indexOf(t);return i>-1&&n>-1?i-n:n-i})}getData(){return this.items.map(e=>({constant:e.constant,value:e.value,label:e.textLabel,guid:e.guid}))}getNeedsIcon(){return this.selectionMode==="single"&&this.items.some(e=>e.icon)}resetText(){this.textInput&&(this.textInput.value=""),this.text=""}getItems(){return Array.from(this.el.querySelectorAll(v3)).filter(t=>!t.disabled)}getGroupItems(){return Array.from(this.el.querySelectorAll(bT))}addCustomChip(e,t){const i=this.items.find(n=>n.textLabel===e);if(i)this.toggleSelection(i,!0);else{this.isMulti()||this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1);const n=document.createElement(v3);n.value=e,n.textLabel=e,n.selected=!0,this.el.appendChild(n),this.resetText(),t&&this.setFocus(),this.updateItems(),this.filterItems(""),this.emitCalciteLookupChange(),this.emitComboboxChange()}}removeActiveChip(){this.toggleSelection(this.selectedItems[this.activeChipIndex],!1),this.setFocus()}removeLastChip(){this.toggleSelection(this.selectedItems[this.selectedItems.length-1],!1),this.setFocus()}previousChip(){if(this.text)return;const e=this.selectedItems.length-1,t=this.activeChipIndex;this.activeChipIndex=t===-1?e:Math.max(t-1,0),this.updateActiveItemIndex(-1),this.focusChip()}nextChip(){if(this.text||this.activeChipIndex===-1)return;const e=this.selectedItems.length-1,t=this.activeChipIndex+1;t>e?(this.activeChipIndex=-1,this.setFocus()):(this.activeChipIndex=t,this.focusChip()),this.updateActiveItemIndex(-1)}focusChip(){var e;const t=(e=this.selectedItems[this.activeChipIndex])===null||e===void 0?void 0:e.guid,i=t?this.referenceEl.querySelector(`#${$O}${t}`):null;i==null||i.setFocus()}shiftActiveItemIndex(e){const t=this.visibleItems.length,i=(this.activeItemIndex+t+e)%t;this.updateActiveItemIndex(i);const n=this.visibleItems[this.activeItemIndex],r=this.calculateSingleItemHeight(n),{offsetHeight:a,scrollTop:o}=this.listContainerEl;a+o<n.offsetTop+r?this.listContainerEl.scrollTop=n.offsetTop-a+r:n.offsetTop<o&&(this.listContainerEl.scrollTop=n.offsetTop)}updateActiveItemIndex(e){var t;this.activeItemIndex=e;let i=null;this.visibleItems.forEach((n,r)=>{r===e?(n.active=!0,i=n.guid):n.active=!1}),this.activeDescendant=i,this.activeItemIndex>-1&&(this.activeChipIndex=-1,(t=this.textInput)===null||t===void 0||t.focus())}isMulti(){return this.selectionMode!=="single"}renderChips(){const{activeChipIndex:e,scale:t,selectionMode:i,intlRemoveTag:n}=this;return this.selectedItems.map((r,a)=>{const o={chip:!0,"chip--active":e===a},l=[...[...SO(r)].reverse(),r].map(h=>h.textLabel),u=i!=="ancestors"?r.textLabel:l.join(" / ");return y("calcite-chip",{class:o,dismissLabel:n,dismissible:!0,icon:r.icon,id:r.guid?`${$O}${r.guid}`:null,key:r.textLabel,onCalciteChipDismiss:h=>this.calciteChipDismissHandler(h,r),scale:t,title:u,value:r.value},u)})}renderInput(){const{guid:e,active:t,disabled:i,placeholder:n,selectionMode:r,needsIcon:a,selectedItems:o}=this,s=r==="single",l=o[0],u=!t&&s&&!!l;return y("span",{class:{"input-wrap":!0,"input-wrap--single":s}},u&&y("span",{class:{label:!0,"label--spaced":a},key:"label",onFocus:this.comboboxFocusHandler,tabindex:"0"},l.textLabel),y("input",{"aria-activedescendant":this.activeDescendant,"aria-autocomplete":"list","aria-controls":`${X_}${e}`,"aria-label":as(this),class:{input:!0,"input--single":!0,"input--transparent":this.activeChipIndex>-1,"input--hidden":u,"input--icon":s&&a},disabled:i,id:`${CO}${e}`,key:"input",onBlur:this.comboboxBlurHandler,onFocus:this.comboboxFocusHandler,onInput:this.inputHandler,placeholder:n,ref:h=>this.textInput=h,type:"text"}))}renderListBoxOptions(){return this.visibleItems.map(e=>y("li",{"aria-selected":(!!e.selected).toString(),id:e.guid?`${TX}${e.guid}`:null,role:"option",tabindex:"-1"},e.textLabel))}renderPopperContainer(){const{active:e,setMenuEl:t,setListContainerEl:i}=this,n={"list-container":!0,[ss.animation]:!0,[ss.animationActive]:e};return y("div",{"aria-hidden":"true",class:{"popper-container":!0,"popper-container--active":e},ref:t},y("div",{class:n,onTransitionEnd:this.transitionEnd,ref:i},y("ul",{class:{list:!0,"list--hide":!e}},y("slot",null))))}renderIconStart(){const{selectionMode:e,needsIcon:t,selectedItems:i}=this,n=i[0];return e==="single"&&t&&y("span",{class:"icon-start"},(n==null?void 0:n.icon)&&y("calcite-icon",{class:"selected-icon",icon:n.icon,scale:"s"}))}renderIconEnd(){return y("span",{class:"icon-end"},y("calcite-icon",{icon:"chevron-down",scale:"s"}))}render(){const{active:e,guid:t,label:i}=this,n=this.selectionMode==="single";return y(Ae,{onKeyDown:this.keydownHandler},y("div",{"aria-autocomplete":"list","aria-expanded":e.toString(),"aria-haspopup":"listbox","aria-labelledby":`${Z_}${t}`,"aria-owns":`${X_}${t}`,class:{wrapper:!0,"wrapper--single":n||!this.selectedItems.length,"wrapper--active":e},onClick:this.setFocusClick,ref:this.setReferenceEl,role:"combobox"},y("div",{class:"grid-input"},this.renderIconStart(),!n&&this.renderChips(),y("label",{class:"screen-readers-only",htmlFor:`${CO}${t}`,id:`${Z_}${t}`},i),this.renderInput()),this.renderIconEnd()),y("ul",{"aria-labelledby":`${Z_}${t}`,"aria-multiselectable":"true",class:"screen-readers-only",id:`${X_}${t}`,role:"listbox",tabIndex:-1},this.renderListBoxOptions()),this.renderPopperContainer(),y(go,{component:this}))}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],maxItems:["maxItemsHandler"],value:["valueHandler"],selectedItems:["selectedItemsHandler"],text:["textHandler"]}}static get style(){return $X}},_a={icon:"icon",iconActive:"icon--active",custom:"icon--custom",dot:"icon--dot",single:"label--single",label:"label",active:"label--active",selected:"label--selected",title:"title",textContainer:"text-container"},IX=`@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent:1rem}.container{--calcite-combobox-item-indent-value:calc(
    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)
  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host,ul{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;outline:2px solid transparent;outline-offset:2px}.label{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;min-width:100%;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;padding:var(--calcite-combobox-item-spacing-unit-s) var(--calcite-combobox-item-spacing-unit-l)}:host([disabled]) .label{cursor:default}.label--selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.label--active{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover,.label:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.title{padding:0 var(--calcite-combobox-item-spacing-unit-l)}.icon{display:-ms-inline-flexbox;display:inline-flex;opacity:0;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-ui-border-1)}.icon--indent{-webkit-padding-start:var(--calcite-combobox-item-indent-value);padding-inline-start:var(--calcite-combobox-item-indent-value)}.icon--custom{margin-top:-1px;color:var(--calcite-ui-text-3)}.icon--active{color:var(--calcite-ui-text-1)}.icon--dot{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;width:var(--calcite-combobox-item-spacing-unit-l)}.icon--dot:before{text-align:start;content:"\u2022"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-ui-brand)}:host(:hover[disabled]) .icon{opacity:1}`,MX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteComboboxItemChange=U(this,"calciteComboboxItemChange",7),this.disabled=!1,this.selected=!1,this.active=!1,this.guid=ri(),this.scale="m",this.itemClickHandler=e=>{e.preventDefault(),!this.disabled&&(this.selected=!this.selected)}}selectedWatchHandler(){this.calciteComboboxItemChange.emit(this.el)}connectedCallback(){this.ancestors=b9(this.el),this.scale=Bt(this.el,"scale",this.scale),pi(this)}disconnectedCallback(){mi(this)}componentDidRender(){Je(this)}async toggleSelected(e){this.disabled||(this.selected=typeof e=="boolean"?e:!this.selected)}renderIcon(e){const{icon:t,disabled:i,selected:n}=this,r=`${_a.icon}--indent`,o=i?"circle-disallowed":e?"dot":"check";return e&&!t&&!i?y("span",{class:{[_a.icon]:!0,[_a.dot]:!0,[r]:!0}}):y("calcite-icon",{class:{[_a.icon]:!t,[_a.custom]:!!t,[_a.iconActive]:t&&n,[r]:!0},icon:t||o,scale:"s"})}renderChildren(){return ve(this.el)?y("ul",{key:"default-slot-container"},y("slot",null)):null}render(){const e=Bt(this.el,"selection-mode","multi")==="single",t={[_a.label]:!0,[_a.selected]:this.selected,[_a.active]:this.active,[_a.single]:e},i=v9(this.el);return y(Ae,{"aria-hidden":"true"},y("div",{class:`container scale--${this.scale}`,style:{"--calcite-combobox-item-spacing-indent-multiplier":`${i}`}},y("li",{class:t,id:this.guid,onClick:this.itemClickHandler},this.renderIcon(e),y("span",{class:_a.title},this.textLabel)),this.renderChildren()))}get el(){return this}static get watchers(){return{selected:["selectedWatchHandler"]}}static get style(){return IX}},Bb={list:"list",label:"label",title:"title"},OX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent-1:0.5rem;--calcite-combobox-item-spacing-indent-2:1rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent-1:0.75rem;--calcite-combobox-item-spacing-indent-2:1.5rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent-1:1rem;--calcite-combobox-item-spacing-indent-2:2rem}:host,.list{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0px;outline:2px solid transparent;outline-offset:2px}.label{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;min-width:0px;max-width:100%;color:var(--calcite-ui-text-3)}.label--indent-1{-webkit-padding-start:var(--calcite-combobox-item-spacing-indent-1);padding-inline-start:var(--calcite-combobox-item-spacing-indent-1)}.label--indent-2{-webkit-padding-start:var(--calcite-combobox-item-spacing-indent-2);padding-inline-start:var(--calcite-combobox-item-spacing-indent-2)}.title{border:0 solid;display:block;-ms-flex:1 1 0%;flex:1 1 0%;border-bottom-width:1px;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2);word-wrap:break-word;word-break:break-word;border-bottom-color:var(--calcite-ui-border-3);padding:var(--calcite-combobox-item-spacing-unit-l) 0;margin-left:var(--calcite-combobox-item-spacing-unit-s);margin-right:var(--calcite-combobox-item-spacing-unit-s)}",AX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.guid=ri(),this.scale="m"}connectedCallback(){this.ancestors=b9(this.el),this.scale=Bt(this.el,"scale",this.scale)}render(){const{el:e,scale:t}=this,i=`${Bb.label}--indent-${v9(e)}`;return y("ul",{"aria-labelledby":this.guid,class:{[Bb.list]:!0,[`scale--${t}`]:!0},role:"group"},y("li",{class:{[Bb.label]:!0,[i]:!0},id:this.guid,role:"presentation"},y("span",{class:Bb.title},this.label)),y("slot",null))}get el(){return this}static get style(){return OX}};function PX(e){return e==="Enter"||e===" "}const tm=["0","1","2","3","4","5","6","7","8","9"];function Ot(e){return!(!e||isNaN(Number(e)))}function LX(e){return!e||!zX(e)?"":wk(e,t=>{let i=!1;const n=t.split("").filter((r,a)=>r.match(/\./g)&&!i?(i=!0,!0):r.match(/\-/g)&&a===0?!0:tm.includes(r)).reduce((r,a)=>r+a);return Ot(n)?Number(n).toString():null})}function w9(e){const t=/(?!^\.)\.$/;return e.replace(t,"")}function RX(e){const t=/(?!^-)-/g;return e.replace(t,"")}function FX(e){const t=/^([-0])0+(?=\d)/;return e.replace(t,"$1")}function NX(e){return wk(e,t=>{const i=RX(w9(FX(t))),n=/^-\b0\b\.?0*$/;return Ot(i)?n.test(i)?i:Number(i).toString():t})}function wk(e,t){if(!e)return e;const i=e.toLowerCase().indexOf("e")+1;return e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((n,r)=>t(r===1?n.replace(/\./g,""):n)).join("e").replace(/^e/,"1e")}function zX(e){return tm.some(t=>e.includes(t))}const Q_=["ar","bg","bs","ca","cs","da","de","de-CH","el","en","en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","nb","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];function vT(e){return new Intl.NumberFormat(e,{minimumFractionDigits:0,maximumFractionDigits:20})}function TO(e,t){return wk(e,i=>{if(i){const n=x9(t),r=wT(t),a=i.split(""),o=a.lastIndexOf(r),s=a.map((l,u)=>l===n||l===r&&u!==o?"":l).reduce((l,u)=>l+u).replace(r,".");return isNaN(Number(s))?i:s}return i})}function x9(e){const n=vT(e).formatToParts(12345678e-1).find(r=>r.type==="group").value;return n.trim().length===0?" ":n}function wT(e){const n=vT(e).formatToParts(12345678e-1).find(r=>r.type==="decimal").value;return n.trim().length===0?" ":n}function EO(e,t,i=!1){return wk(e,n=>{if(n){const r=Number(w9(n));return isNaN(r)?n:vT(t).formatToParts(r).map(({type:l,value:u})=>{switch(l){case"group":return i?x9(t):"";case"decimal":return wT(t);default:return u}}).reduce((l,u)=>l+u)}})}function jX(e=""){return Q_.indexOf(e)>-1?e:(e=e.toLowerCase(),e.includes("-")&&(e=e.replace(/(\w+)-(\w+)/,(t,i,n)=>`${i}-${n.toUpperCase()}`),Q_.includes(e)||(e=e.split("-")[0])),Q_.includes(e)?e:"en")}const e2={},t2={};async function xT(e){const t=jX(e);if(e2[t])return e2[t];t2[t]||(t2[t]=fetch(MN(`./assets/date-picker/nls/${t}.json`)).then(n=>n.json()).catch(()=>(console.error(`Translations for "${t}" not found or invalid, falling back to english`),xT("en"))));const i=await t2[t];return e2[t]=i,i}function k9(e,t,i){const n=e.getTime(),r=!(t instanceof Date)||n>=t.getTime(),a=!(i instanceof Date)||n<=i.getTime();return r&&a}function Cn(e,t,i){if(!(e instanceof Date))return null;const n=e.getTime(),r=t instanceof Date&&n<t.getTime(),a=i instanceof Date&&n>i.getTime();return r?t:a?i:e}function Ft(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;const t=e.split(/[: T-]/).map(parseFloat),i=new Date(t[0],(t[1]||1)-1,t[2]||1);if(i.setFullYear(t[0]),isNaN(i.getTime()))throw new Error(`Invalid ISO 8601 date: "${e}"`);return i}function cl(e){return typeof e=="string"?e:e instanceof Date?new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]:""}function Ii(e,t){return e instanceof Date&&t instanceof Date&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function VX(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t-1),t===i.getMonth()?new Date(e.getFullYear(),t,0):i}function HX(e){const t=e.getMonth(),i=new Date(e);return i.setMonth(t+1),(t+2)%7===i.getMonth()%7?new Date(e.getFullYear(),t+2,0):i}function i2(e,t){return String(e).split("").map(i=>t.numerals[i]).join("")}function qX(e,t){const i="0123456789";return parseInt(e.split("").map(n=>i[t.numerals.indexOf(n)]).filter(n=>n).join(""))}function UX(e,t){const{separator:i,unitOrder:n}=t,r=_9(n),a=BX(e).split(i);return{day:parseInt(a[r.indexOf("d")]),month:parseInt(a[r.indexOf("m")])-1,year:parseInt(a[r.indexOf("y")])}}function BX(e=""){return e.replace(/[\u0660-\u0669]/g,t=>t.charCodeAt(0)-1632).replace(/[\u06f0-\u06f9]/g,t=>t.charCodeAt(0)-1776)}function _9(e){const t=["d","m","y"],i=e.toLowerCase();return t.sort((n,r)=>i.indexOf(n)-i.indexOf(r))}function Gb(e,t){const i=e.getTime(),n=t.getTime();return(i-n)/(1e3*3600*24)}const GX=2,im={nextMonth:"Next month",prevMonth:"Previous month",year:"Year"},WX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:inline-block;width:100%;overflow:visible;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);vertical-align:top}:host([scale=s]){max-width:216px}:host([scale=m]){max-width:286px}:host([scale=l]){max-width:398px}",JX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerChange=U(this,"calciteDatePickerChange",7),this.calciteDatePickerRangeChange=U(this,"calciteDatePickerRangeChange",7),this.intlPrevMonth=im.prevMonth,this.intlNextMonth=im.nextMonth,this.intlYear=im.year,this.locale=document.documentElement.lang||"en",this.scale="m",this.range=!1,this.proximitySelectionDisabled=!1,this.keyUpHandler=e=>{e.key==="Escape"&&this.reset()},this.monthHeaderSelectChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthActiveDateChange=e=>{const t=new Date(e.detail);this.range?(this.activeRange==="end"?this.activeEndDate=t:this.activeStartDate=t,this.mostRecentRangeValue=t):this.activeDate=t},this.monthHoverChange=e=>{if(!this.startAsDate){this.hoverRange=void 0;return}const t=new Date(e.detail);if(this.hoverRange={focused:this.activeRange||"start",start:this.startAsDate,end:this.endAsDate},this.proximitySelectionDisabled)this.endAsDate?this.hoverRange=void 0:t<this.startAsDate?this.hoverRange={focused:"start",start:t,end:this.startAsDate}:(this.hoverRange.end=t,this.hoverRange.focused="end");else if(this.endAsDate){const i=Gb(t,this.startAsDate),n=Gb(t,this.endAsDate);n>0?(this.hoverRange.end=t,this.hoverRange.focused="end"):i<0?(this.hoverRange.start=t,this.hoverRange.focused="start"):i>n?(this.hoverRange.start=t,this.hoverRange.focused="start"):(this.hoverRange.end=t,this.hoverRange.focused="end")}else t<this.startAsDate?this.hoverRange={focused:"start",start:t,end:this.startAsDate}:(this.hoverRange.end=t,this.hoverRange.focused="end")},this.monthMouseOutChange=()=>{this.hoverRange&&(this.hoverRange=void 0)},this.reset=()=>{var e,t,i,n,r,a;!Array.isArray(this.valueAsDate)&&this.valueAsDate&&((e=this.valueAsDate)===null||e===void 0?void 0:e.getTime())!==((t=this.activeDate)===null||t===void 0?void 0:t.getTime())&&(this.activeDate=new Date(this.valueAsDate)),this.startAsDate&&((i=this.startAsDate)===null||i===void 0?void 0:i.getTime())!==((n=this.activeStartDate)===null||n===void 0?void 0:n.getTime())&&(this.activeStartDate=new Date(this.startAsDate)),this.endAsDate&&((r=this.endAsDate)===null||r===void 0?void 0:r.getTime())!==((a=this.activeEndDate)===null||a===void 0?void 0:a.getTime())&&(this.activeEndDate=new Date(this.endAsDate))},this.monthDateChange=e=>{const t=new Date(e.detail);if(!this.range){this.value=t?cl(t):"",this.valueAsDate=t||null,this.activeDate=t||null,this.calciteDatePickerChange.emit(t);return}if(!this.startAsDate||!this.endAsDate&&t<this.startAsDate)this.startAsDate&&this.setEndDate(new Date(this.startAsDate)),this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else if(!this.endAsDate)this.setEndDate(t);else if(this.proximitySelectionDisabled)this.setStartDate(t),this.endAsDate=this.activeEndDate=this.end=void 0;else if(this.activeRange)this.activeRange=="end"?this.setEndDate(t):this.setStartDate(t);else{const i=Gb(t,this.startAsDate),n=Gb(t,this.endAsDate);n===0||i<0?this.setStartDate(t):i===0||n<0?this.setEndDate(t):i<n?this.setStartDate(t):this.setEndDate(t)}this.calciteDatePickerChange.emit(t)}}handleValueAsDate(e){!Array.isArray(e)&&e&&e!==this.activeDate&&(this.activeDate=e)}handleRangeChange(){const{startAsDate:e,endAsDate:t}=this;this.activeEndDate=t,this.activeStartDate=e}onMinChanged(e){this.minAsDate=Ft(e)}onMaxChanged(e){this.maxAsDate=Ft(e)}connectedCallback(){Array.isArray(this.value)?(this.valueAsDate=this.value.map(e=>Ft(e)),this.start=this.value[0],this.end=this.value[1]):this.value&&(this.valueAsDate=Ft(this.value)),this.start&&this.setStartAsDate(Ft(this.start)),this.end&&this.setEndAsDate(Ft(this.end)),this.min&&(this.minAsDate=Ft(this.min)),this.max&&(this.maxAsDate=Ft(this.max))}async componentWillLoad(){await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}render(){var e;const t=Cn(this.range?this.startAsDate:this.valueAsDate,this.minAsDate,this.maxAsDate);let n=this.range?this.getActiveStartDate(t,this.minAsDate,this.maxAsDate):this.getActiveDate(t,this.minAsDate,this.maxAsDate);const r=this.range?Cn(this.endAsDate,this.minAsDate,this.maxAsDate):null,a=this.getActiveEndDate(r,this.minAsDate,this.maxAsDate);(this.activeRange==="end"||((e=this.hoverRange)===null||e===void 0?void 0:e.focused)==="end"&&(!this.proximitySelectionDisabled||r))&&a&&(n=a),this.range&&this.mostRecentRangeValue&&(n=this.mostRecentRangeValue);const o=this.range&&this.activeRange?this.activeRange==="start"?this.minAsDate:t||this.minAsDate:this.minAsDate,s=this.range&&this.activeRange?this.activeRange==="start"?r||this.maxAsDate:this.maxAsDate:this.maxAsDate;return y(Ae,{onBlur:this.reset,onKeyUp:this.keyUpHandler,role:"application"},this.renderCalendar(n,s,o,t,r))}valueHandler(e){Array.isArray(e)?(this.valueAsDate=e.map(t=>Ft(t)),this.start=e[0],this.end=e[1]):e&&(this.valueAsDate=Ft(e),this.start="",this.end="")}startWatcher(e){this.setStartAsDate(Ft(e))}endWatcher(e){this.setEndAsDate(Ft(e))}async loadLocaleData(){if(!su.isBrowser)return;const{locale:e}=this;this.localeData=await xT(e)}renderCalendar(e,t,i,n,r){return this.localeData&&[y("calcite-date-picker-month-header",{activeDate:e,headingLevel:this.headingLevel||GX,intlNextMonth:this.intlNextMonth,intlPrevMonth:this.intlPrevMonth,intlYear:this.intlYear,localeData:this.localeData,max:t,min:i,onCalciteDatePickerSelect:this.monthHeaderSelectChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n||new Date}),y("calcite-date-picker-month",{activeDate:e,endDate:this.range?r:void 0,hoverRange:this.hoverRange,localeData:this.localeData,max:t,min:i,onCalciteDatePickerActiveDateChange:this.monthActiveDateChange,onCalciteDatePickerHover:this.monthHoverChange,onCalciteDatePickerMouseOut:this.monthMouseOutChange,onCalciteDatePickerSelect:this.monthDateChange,scale:this.scale,selectedDate:this.activeRange==="end"?r:n,startDate:this.range?n:void 0})]}setStartAsDate(e,t){this.startAsDate=e,this.mostRecentRangeValue=this.startAsDate,t&&this.calciteDatePickerRangeChange.emit({startDate:e,endDate:this.endAsDate})}setEndAsDate(e,t){this.endAsDate=e,this.mostRecentRangeValue=this.endAsDate,t&&this.calciteDatePickerRangeChange.emit({startDate:this.startAsDate,endDate:e})}setEndDate(e){this.end=e?cl(e):"",this.setEndAsDate(e,!0),this.activeEndDate=e||null}setStartDate(e){this.start=e?cl(e):"",this.setStartAsDate(e,!0),this.activeStartDate=e||null}getActiveDate(e,t,i){return Cn(this.activeDate,t,i)||e||Cn(new Date,t,i)}getActiveStartDate(e,t,i){return Cn(this.activeStartDate,t,i)||e||Cn(new Date,t,i)}getActiveEndDate(e,t,i){return Cn(this.activeEndDate,t,i)||e||Cn(new Date,t,i)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{valueAsDate:["handleValueAsDate"],startAsDate:["handleRangeChange"],endAsDate:["handleRangeChange"],min:["onMinChanged"],max:["onMaxChanged"],value:["valueHandler"],start:["startWatcher"],end:["endWatcher"],locale:["loadLocaleData"]}}static get style(){return WX}},YX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;min-width:0px;cursor:pointer;-ms-flex-pack:center;justify-content:center;color:var(--calcite-ui-text-3);width:14.2857142857%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.day-v-wrapper{-ms-flex:1 1 auto;flex:1 1 auto}.day-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.day{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:9999px;font-size:var(--calcite-font-size--2);line-height:1rem;line-height:1;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);-webkit-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;background:none;-webkit-box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent;box-shadow:0 0 0 2px transparent, 0 0 0 0px transparent}.text{margin-top:1px;margin-right:0px;margin-bottom:0px;margin-left:1px}:host([scale=s]) .day-v-wrapper{padding-top:0.125rem;padding-bottom:0.125rem}:host([scale=s]) .day-wrapper{padding:0px}:host([scale=s]) .day{height:27px;width:27px;font-size:var(--calcite-font-size--2)}:host([scale=m]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=m]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=m]) .day{height:33px;width:33px;font-size:var(--calcite-font-size--1)}:host([scale=l]) .day-v-wrapper{padding-top:0.25rem;padding-bottom:0.25rem}:host([scale=l]) .day-wrapper{padding-left:0.25rem;padding-right:0.25rem}:host([scale=l]) .day{height:43px;width:43px;font-size:var(--calcite-font-size-0)}:host([current-month]) .day{opacity:1}:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:focus),:host([active]){outline:2px solid transparent;outline-offset:2px;z-index:1}:host(:focus:not([disabled])) .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([selected]) .day{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-ui-brand) !important;color:var(--calcite-ui-foreground-1) !important;z-index:1}:host([range][selected]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([start-of-range]) .day-wrapper{border-start-start-radius:40%;border-end-start-radius:40%}:host([end-of-range]) .day-wrapper{border-start-end-radius:40%;border-end-end-radius:40%}:host([start-of-range]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 4px 0 var(--calcite-ui-foreground-1);box-shadow:inset 4px 0 var(--calcite-ui-foreground-1)}:host([start-of-range]) :not(.calcite--rtl) .day,:host([end-of-range]) .calcite--rtl .day{opacity:1}:host([start-of-range]:not(:focus)) :not(.calcite--rtl) .day,:host([end-of-range]:not(:focus)) .calcite--rtl .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([end-of-range]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -4px 0 var(--calcite-ui-foreground-1);box-shadow:inset -4px 0 var(--calcite-ui-foreground-1)}:host([end-of-range]) :not(.calcite--rtl) .day,:host([start-of-range]) .calcite--rtl .day{opacity:1}:host([end-of-range]:not(:focus)) :not(.calcite--rtl) .day,:host([start-of-range]:not(:focus)) .calcite--rtl .day{-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host([end-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range][scale=l]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -8px 0 var(--calcite-ui-foreground-1);box-shadow:inset -8px 0 var(--calcite-ui-foreground-1)}:host([start-of-range][scale=l]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range][scale=l]) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 8px 0 var(--calcite-ui-foreground-1);box-shadow:inset 8px 0 var(--calcite-ui-foreground-1)}:host([highlighted]) .day-wrapper{background-color:var(--calcite-ui-foreground-current)}:host([highlighted]) .day-wrapper .day{color:var(--calcite-ui-text-1)}:host([highlighted]:not([active]:focus)) .day{border-radius:0px;color:var(--calcite-ui-text-1)}:host([range-hover]:not([selected])) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([range-hover]:not([selected])) .day{border-radius:0px}:host([end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host([start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host([end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, right top, left top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[end-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[start-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[start-of-range][range-hover]) :not(.calcite--rtl) .day-wrapper,:host(:hover[end-of-range][range-hover]) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, right top, left top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to left, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1));border-radius:0px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host(:hover[range-hover]:not([selected]).focused--end) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-current)), to(var(--calcite-ui-foreground-current)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current))}:host(:hover[range-hover]:not([selected]).focused--end) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--start) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-current)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-current), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--end) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-1)), color-stop(var(--calcite-ui-foreground-1)), color-stop(var(--calcite-ui-foreground-2)), to(var(--calcite-ui-foreground-2)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2))}:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day-wrapper,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day-wrapper{background-image:-webkit-gradient(linear, left top, right top, from(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-2)), color-stop(var(--calcite-ui-foreground-1)), to(var(--calcite-ui-foreground-1)));background-image:linear-gradient(to right, var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-2), var(--calcite-ui-foreground-1), var(--calcite-ui-foreground-1))}:host(:hover[range-hover]:not([selected]).focused--end.hover--outside-range) :not(.calcite--rtl) .day,:host(:hover[range-hover]:not([selected]).focused--start.hover--outside-range) .calcite--rtl .day{border-radius:9999px;opacity:1;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-foreground-1);box-shadow:0 0 0 2px var(--calcite-ui-foreground-1)}:host(:hover[start-of-range].hover--inside-range.focused--end) .day-wrapper,:host(:hover[end-of-range].hover--inside-range.focused--start) .day-wrapper{background-image:none}:host([start-of-range].hover--inside-range.focused--end) .day-wrapper,:host([end-of-range].hover--inside-range.focused--start) .day-wrapper{background-color:var(--calcite-ui-foreground-2)}:host([highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:first-child) .calcite--rtl .day-wrapper,:host([range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -4px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([highlighted]:last-child) .calcite--rtl .day-wrapper,:host([range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 4px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 4px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -1px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=s][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=s][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=s][range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 1px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 1px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([scale=l][highlighted]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:first-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:last-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:last-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset 6px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset 6px 0px 0px 0px var(--calcite-ui-foreground-1)}:host([highlighted]:first-child) .day-wrapper,:host([range-hover]:first-child) .day-wrapper{border-start-start-radius:45%;border-end-start-radius:45%}:host([highlighted]:last-child) .day-wrapper,:host([range-hover]:last-child) .day-wrapper{border-start-end-radius:45%;border-end-end-radius:45%}:host([scale=l][highlighted]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][range-hover]:last-child) :not(.calcite--rtl) .day-wrapper,:host([scale=l][highlighted]:first-child) .calcite--rtl .day-wrapper,:host([scale=l][range-hover]:first-child) .calcite--rtl .day-wrapper{-webkit-box-shadow:inset -6px 0px 0px 0px var(--calcite-ui-foreground-1);box-shadow:inset -6px 0px 0px 0px var(--calcite-ui-foreground-1)}@media (forced-colors: active){:host(:hover:not([disabled])) .day,:host([active]:not([range])) .day{border-radius:0px}:host([selected]){outline:2px solid canvasText;z-index:1}:host([selected]) .day{border-radius:0px}:host([selected]) .day{background-color:highlight}:host([range][selected]) .day-wrapper,:host([highlighted]) .day-wrapper,:host([range-hover]:not([selected])) .day-wrapper{background-color:highlight}:host([range][selected][start-of-range]) .day-wrapper,:host([range][selected][end-of-range]) .day-wrapper{background-color:canvas}}",KX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDaySelect=U(this,"calciteDaySelect",7),this.calciteDayHover=U(this,"calciteDayHover",7),this.disabled=!1,this.currentMonth=!1,this.selected=!1,this.highlighted=!1,this.range=!1,this.startOfRange=!1,this.endOfRange=!1,this.rangeHover=!1,this.active=!1,this.onClick=()=>{!this.disabled&&this.calciteDaySelect.emit()},this.keyDownHandler=e=>{const t=e.key;(t===" "||t==="Enter")&&!this.disabled&&this.calciteDaySelect.emit()}}mouseoverHandler(){this.calciteDayHover.emit({disabled:this.disabled})}render(){const e=String(this.day).split("").map(i=>this.localeData.numerals[i]).join(""),t=Li(this.el);return y(Ae,{onClick:this.onClick,onKeyDown:this.keyDownHandler,role:"gridcell"},y("div",{class:{"day-v-wrapper":!0,[Xo.rtl]:t==="rtl"}},y("div",{class:"day-wrapper"},y("span",{class:"day"},y("span",{class:"text"},e)))))}componentDidRender(){Je(this,this.isTabbable)}isTabbable(){return this.active}get el(){return this}static get style(){return YX}},ZX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.calender{margin-bottom:0.25rem}.week-headers{display:-ms-flexbox;display:flex;border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}.week-header{text-align:center;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-3);width:14.2857142857%}:host([scale=s]) .week-header{padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .week-header{padding-left:0px;padding-right:0px;padding-top:0.75rem;padding-bottom:1rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]) .week-header{padding-left:0px;padding-right:0px;padding-top:1rem;padding-bottom:1.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}.week-days{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding-top:0px;padding-bottom:0px;padding-left:6px;padding-right:6px}.week-days:focus{outline:2px solid transparent;outline-offset:2px}",XX=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerSelect=U(this,"calciteDatePickerSelect",7),this.calciteDatePickerHover=U(this,"calciteDatePickerHover",7),this.calciteDatePickerActiveDateChange=U(this,"calciteDatePickerActiveDateChange",7),this.calciteDatePickerMouseOut=U(this,"calciteDatePickerMouseOut",7),this.activeDate=new Date,this.keyDownHandler=e=>{const t=this.el.dir==="rtl";switch(e.key){case"ArrowUp":e.preventDefault(),this.addDays(-7);break;case"ArrowRight":e.preventDefault(),this.addDays(t?-1:1);break;case"ArrowDown":e.preventDefault(),this.addDays(7);break;case"ArrowLeft":e.preventDefault(),this.addDays(t?1:-1);break;case"PageUp":e.preventDefault(),this.addMonths(-1);break;case"PageDown":e.preventDefault(),this.addMonths(1);break;case"Home":e.preventDefault(),this.activeDate.setDate(1),this.addDays();break;case"End":e.preventDefault(),this.activeDate.setDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,0).getDate()),this.addDays();break;case"Enter":case" ":e.preventDefault();break;case"Tab":this.activeFocus=!1}},this.disableActiveFocus=()=>{this.activeFocus=!1},this.dayHover=e=>{const t=e.target;e.detail.disabled?this.calciteDatePickerMouseOut.emit():this.calciteDatePickerHover.emit(t.value)},this.daySelect=e=>{const t=e.target;this.calciteDatePickerSelect.emit(t.value)}}mouseoutHandler(){this.calciteDatePickerMouseOut.emit()}render(){const e=this.activeDate.getMonth(),t=this.activeDate.getFullYear(),i=this.localeData.weekStart%7,{abbreviated:n,short:r,narrow:a}=this.localeData.days,o=this.scale==="s"?a||r||n:r||n||a,s=[...o.slice(i,7),...o.slice(0,i)],l=this.getCurrentMonthDays(e,t),u=this.getPrevMonthdays(e,t,i),h=this.getNextMonthDays(e,t,i),m=[...u.map(g=>{const b=new Date(t,e-1,g);return this.renderDateDay(!1,g,b)}),...l.map(g=>{const b=new Date(t,e,g),v=Ii(b,this.activeDate);return this.renderDateDay(v,g,b,!0,!0)}),...h.map(g=>{const b=new Date(t,e+1,g);return this.renderDateDay(!1,g,b)})],f=[];for(let g=0;g<m.length;g+=7)f.push(m.slice(g,g+7));return y(Ae,{onFocusOut:this.disableActiveFocus,onKeyDown:this.keyDownHandler},y("div",{class:"calender",role:"grid"},y("div",{class:"week-headers",role:"row"},s.map(g=>y("span",{class:"week-header",role:"columnheader"},g))),f.map(g=>y("div",{class:"week-days",role:"row"},g))))}addMonths(e){const t=new Date(this.activeDate);t.setMonth(this.activeDate.getMonth()+e),this.calciteDatePickerActiveDateChange.emit(Cn(t,this.min,this.max)),this.activeFocus=!0}addDays(e=0){const t=new Date(this.activeDate);t.setDate(this.activeDate.getDate()+e),this.calciteDatePickerActiveDateChange.emit(Cn(t,this.min,this.max)),this.activeFocus=!0}getPrevMonthdays(e,t,i){const n=new Date(t,e,0),r=n.getDate(),a=n.getDay(),o=[];if(a-6===i)return o;for(let s=n.getDay();s>=i;s--)o.push(r-s);return o}getCurrentMonthDays(e,t){const i=new Date(t,e+1,0).getDate(),n=[];for(let r=0;r<i;r++)n.push(r+1);return n}getNextMonthDays(e,t,i){const n=new Date(t,e+1,0).getDay(),r=[];if(n===(i+6)%7)return r;for(let a=0;a<(6-(n-i))%7;a++)r.push(a+1);return r}betweenSelectedRange(e){return!!(this.startDate&&this.endDate&&e>this.startDate&&e<this.endDate&&!this.isRangeHover(e))}isSelected(e){return!!(Ii(e,this.selectedDate)||this.startDate&&Ii(e,this.startDate)||this.endDate&&Ii(e,this.endDate))}isStartOfRange(e){return!!(this.startDate&&!Ii(this.startDate,this.endDate)&&Ii(this.startDate,e)&&!this.isEndOfRange(e))}isEndOfRange(e){return!!(this.endDate&&!Ii(this.startDate,this.endDate)&&Ii(this.endDate,e)||!this.endDate&&this.hoverRange&&Ii(this.startDate,this.hoverRange.end)&&Ii(e,this.hoverRange.end))}renderDateDay(e,t,i,n,r){var a;const o=this.isFocusedOnStart(),s=this.isHoverInRange()||!this.endDate&&this.hoverRange&&Ii((a=this.hoverRange)===null||a===void 0?void 0:a.end,this.startDate);return y("calcite-date-picker-day",{active:e,class:{"hover--inside-range":this.startDate&&s,"hover--outside-range":this.startDate&&!s,"focused--start":o,"focused--end":!o},currentMonth:n,day:t,disabled:!k9(i,this.min,this.max),endOfRange:this.isEndOfRange(i),highlighted:this.betweenSelectedRange(i),key:i.toDateString(),localeData:this.localeData,onCalciteDayHover:this.dayHover,onCalciteDaySelect:this.daySelect,range:!!this.startDate&&!!this.endDate&&!Ii(this.startDate,this.endDate),rangeHover:this.isRangeHover(i),ref:l=>{r&&e&&this.activeFocus&&(l==null||l.focus())},scale:this.scale,selected:this.isSelected(i),startOfRange:this.isStartOfRange(i),value:i})}isFocusedOnStart(){var e;return((e=this.hoverRange)===null||e===void 0?void 0:e.focused)==="start"}isHoverInRange(){if(!this.hoverRange)return!1;const{start:e,end:t}=this.hoverRange;return!!(!this.isFocusedOnStart()&&this.startDate&&(!this.endDate||t<this.endDate)||this.isFocusedOnStart()&&this.startDate&&e>this.startDate)}isRangeHover(e){if(!this.hoverRange)return!1;const{start:t,end:i}=this.hoverRange,n=this.isFocusedOnStart(),r=this.isHoverInRange(),a=r&&(!n&&e>this.startDate&&(e<i||Ii(e,i))||n&&e<this.endDate&&(e>t||Ii(e,t))),o=!r&&(!n&&e>=this.endDate&&(e<i||Ii(e,i))||n&&(e<this.startDate||this.endDate&&Ii(e,this.startDate))&&(e>t||Ii(e,t)));return a||o}get el(){return this}static get style(){return ZX}},QX="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}:host([scale=s]) .text{margin-top:0.5rem;margin-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=s]) .chevron{height:2.25rem}:host([scale=m]) .text{margin-top:0.75rem;margin-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m]) .chevron{height:3rem}:host([scale=l]) .text{margin-top:1rem;margin-bottom:1rem;font-size:var(--calcite-font-size-1);line-height:1.5rem}:host([scale=l]) .chevron{height:3.5rem}.chevron{margin-left:-0.25rem;margin-right:-0.25rem;-webkit-box-sizing:content-box;box-sizing:content-box;display:-ms-flexbox;display:flex;-ms-flex-positive:0;flex-grow:0;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-style:none;background-color:var(--calcite-ui-foreground-1);padding-left:0.25rem;padding-right:0.25rem;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;width:14.2857142857%}.chevron:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.chevron:hover,.chevron:focus{background-color:var(--calcite-ui-foreground-2);fill:var(--calcite-ui-text-1);color:var(--calcite-ui-text-1)}.chevron:active{background-color:var(--calcite-ui-foreground-3)}.chevron[aria-disabled=true]{pointer-events:none;opacity:0}.text{margin-top:auto;margin-bottom:auto;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;text-align:center;line-height:1}.text-nreverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.month,.year,.suffix{margin-left:0.25rem;margin-right:0.25rem;margin-top:auto;margin-bottom:auto;display:inline-block;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);line-height:1.25;color:var(--calcite-ui-text-1);font-size:inherit}.year{position:relative;width:3rem;border-style:none;background-color:transparent;text-align:center;font-family:inherit;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;z-index:2}.year:hover{-webkit-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-property:outline-color;transition-property:outline-color;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}.year:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.year--suffix{width:4rem;text-align:left}.year-wrap{position:relative}.suffix{position:absolute;top:0px;left:0px;width:4rem;white-space:nowrap;text-align:left}.suffix__invisible{visibility:hidden}",eQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerSelect=U(this,"calciteDatePickerSelect",7),this.onYearKey=e=>{const t=e.target.value;switch(e.key){case"ArrowDown":e.preventDefault(),this.setYear(t,-1);break;case"ArrowUp":e.preventDefault(),this.setYear(t,1);break}},this.yearChanged=e=>{this.setYear(e.target.value)},this.prevMonthClick=e=>{this.handleArrowClick(e,this.prevMonthDate)},this.prevMonthKeydown=e=>{const t=e.key;(t===" "||t==="Enter")&&this.prevMonthClick(e)},this.nextMonthClick=e=>{this.handleArrowClick(e,this.nextMonthDate)},this.nextMonthKeydown=e=>{const t=e.key;(t===" "||t==="Enter")&&this.nextMonthClick(e)},this.handleArrowClick=(e,t)=>{e==null||e.preventDefault(),e.stopPropagation(),this.calciteDatePickerSelect.emit(t)}}connectedCallback(){this.setNextPrevMonthDates()}render(){return y("div",{class:"header"},this.renderContent())}renderContent(){var e;if(!this.activeDate||!this.localeData)return null;const t=this.activeDate.getMonth(),{months:i,unitOrder:n}=this.localeData,r=(i.wide||i.narrow||i.abbreviated)[t],a=i2(this.activeDate.getFullYear(),this.localeData),o=this.scale==="l"?"m":"s",s=_9(n),l=s.indexOf("y")<s.indexOf("m"),u=(e=this.localeData.year)===null||e===void 0?void 0:e.suffix;return y(mn,null,y("a",{"aria-disabled":(this.prevMonthDate.getMonth()===t).toString(),"aria-label":this.intlPrevMonth,class:"chevron",href:"#",onClick:this.prevMonthClick,onKeyDown:this.prevMonthKeydown,role:"button",tabindex:this.prevMonthDate.getMonth()===t?-1:0},y("calcite-icon",{"flip-rtl":!0,icon:"chevron-left",scale:o})),y("div",{class:{text:!0,"text--reverse":l}},y(lu,{class:"month",level:this.headingLevel},r),y("span",{class:"year-wrap"},y("input",{"aria-label":this.intlYear,class:{year:!0,"year--suffix":!!u},inputmode:"numeric",maxlength:"4",minlength:"1",onInput:this.yearChanged,onKeyDown:this.onYearKey,pattern:"\\d*",ref:h=>this.yearInput=h,type:"text",value:a}),u&&y("span",{class:"suffix"},y("span",{"aria-hidden":"true",class:"suffix__invisible"},a)," "+u))),y("a",{"aria-disabled":(this.nextMonthDate.getMonth()===t).toString(),"aria-label":this.intlNextMonth,class:"chevron",href:"#",onClick:this.nextMonthClick,onKeyDown:this.nextMonthKeydown,role:"button",tabindex:this.nextMonthDate.getMonth()===t?-1:0},y("calcite-icon",{"flip-rtl":!0,icon:"chevron-right",scale:o})))}setNextPrevMonthDates(){!this.activeDate||(this.nextMonthDate=Cn(HX(this.activeDate),this.min,this.max),this.prevMonthDate=Cn(VX(this.activeDate),this.min,this.max))}setYear(e,t=0){const{min:i,max:n,activeDate:r,localeData:a,yearInput:o}=this,s=qX(e,a),l=s.toString().length,u=isNaN(s)?!1:s+t,h=u&&(!i||i.getFullYear()<=u)&&(!n||n.getFullYear()>=u);if(u&&h&&l===e.length){const m=new Date(r);m.setFullYear(u);const f=Cn(m,i,n);this.calciteDatePickerSelect.emit(f),o.value=i2(f.getFullYear(),a)}else o.value=i2(r.getFullYear(),a)}get el(){return this}static get watchers(){return{min:["setNextPrevMonthDates"],max:["setNextPrevMonthDates"],activeDate:["setNextPrevMonthDates"]}}static get style(){return QX}},tQ={dropdownTrigger:"dropdown-trigger"},iQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex;-ms-flex:0 1 auto;flex:0 1 auto}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host .calcite-dropdown-wrapper{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.calcite-dropdown-wrapper .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.calcite-dropdown-wrapper[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.calcite-dropdown-wrapper[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.calcite-dropdown-wrapper[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.calcite-dropdown-wrapper[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.calcite-dropdown-wrapper[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([active]) .calcite-dropdown-wrapper{pointer-events:initial;visibility:visible}:host .calcite-dropdown-content{width:auto;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-ui-foreground-1);max-height:90vh;width:var(--calcite-dropdown-width)}.calcite-dropdown-trigger-container{position:relative;display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto}:host([width=s]){--calcite-dropdown-width:12rem}:host([width=m]){--calcite-dropdown-width:14rem}:host([width=l]){--calcite-dropdown-width:16rem}",nQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownSelect=U(this,"calciteDropdownSelect",7),this.calciteDropdownOpen=U(this,"calciteDropdownOpen",7),this.calciteDropdownClose=U(this,"calciteDropdownClose",7),this.active=!1,this.disableCloseOnSelect=!1,this.disabled=!1,this.maxItems=0,this.overlayPositioning="absolute",this.placement=ry,this.scale="m",this.selectedItems=[],this.type="click",this.width="m",this.items=[],this.activeTransitionProp="visibility",this.mutationObserver=Nt("mutation",()=>this.updateItems()),this.resizeObserver=Nt("resize",()=>this.setMaxScrollerHeight()),this.updateItems=()=>{this.updateSelectedItems(),this.triggers=ve(this.el,"dropdown-trigger",{all:!0}),this.items=Array.from(this.el.querySelectorAll("calcite-dropdown-item")),this.reposition()},this.setMaxScrollerHeight=()=>{const{active:e,scrollerEl:t}=this;if(!t||!e)return;this.reposition();const i=this.getMaxScrollerHeight();t.style.maxHeight=i>0?`${i}px`:"",this.reposition()},this.setScrollerEl=e=>{this.resizeObserver.observe(e),this.scrollerEl=e},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteDropdownOpen.emit():this.calciteDropdownClose.emit())},this.setReferenceEl=e=>{this.referenceEl=e},this.setMenuEl=e=>{this.menuEl=e},this.keyDownHandler=e=>{if(e.target!==this.referenceEl)return;const i=e.key;if(this.active&&(i==="Escape"||e.shiftKey&&i==="Tab")){this.closeCalciteDropdown();return}switch(i){case" ":case"Enter":this.openCalciteDropdown();break;case"Escape":this.closeCalciteDropdown();break}},this.focusOnFirstActiveOrFirstItem=()=>{this.getFocusableElement(this.items.find(e=>e.active)||this.items[0])},this.toggleOpenEnd=()=>{this.focusOnFirstActiveOrFirstItem(),this.el.removeEventListener("calciteDropdownOpen",this.toggleOpenEnd)},this.openCalciteDropdown=()=>{this.active=!this.active,this.active&&this.el.addEventListener("calciteDropdownOpen",this.toggleOpenEnd)}}activeHandler(){if(!this.disabled){this.reposition();return}this.active=!1}handleDisabledChange(e){e||(this.active=!1)}maxItemsHandler(){this.setMaxScrollerHeight()}placementHandler(){this.reposition()}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.createPopper(),this.updateItems()}componentDidLoad(){this.reposition()}componentDidRender(){Je(this)}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),this.destroyPopper()}render(){const{active:e}=this;return y(Ae,null,y("div",{class:"calcite-dropdown-trigger-container",onClick:this.openCalciteDropdown,onKeyDown:this.keyDownHandler,ref:this.setReferenceEl},y("slot",{"aria-expanded":e.toString(),"aria-haspopup":"true",name:tQ.dropdownTrigger})),y("div",{"aria-hidden":(!e).toString(),class:"calcite-dropdown-wrapper",ref:this.setMenuEl},y("div",{class:{["calcite-dropdown-content"]:!0,[ss.animation]:!0,[ss.animationActive]:e},onTransitionEnd:this.transitionEnd,ref:this.setScrollerEl},y("div",{hidden:!this.active},y("slot",null)))))}async reposition(){const{popper:e,menuEl:t,placement:i}=this,n=this.getModifiers();e?await Uy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}closeCalciteDropdownOnClick(e){!this.active||e.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(){this.closeCalciteDropdown()}closeCalciteDropdownOnOpenEvent(e){e.composedPath().includes(this.el)||(this.active=!1)}mouseEnterHandler(){this.type==="hover"&&this.openCalciteDropdown()}mouseLeaveHandler(){this.type==="hover"&&this.closeCalciteDropdown()}calciteDropdownItemKeyEvent(e){const{keyboardEvent:t}=e.detail,i=t.target,n=i.nodeName!=="A"?i:i.parentNode,r=this.itemIndex(n)===0,a=this.itemIndex(n)===this.items.length-1;switch(t.key){case"Tab":a&&!t.shiftKey?this.closeCalciteDropdown():r&&t.shiftKey?this.closeCalciteDropdown():t.shiftKey?this.focusPrevItem(n):this.focusNextItem(n);break;case"ArrowDown":this.focusNextItem(n);break;case"ArrowUp":this.focusPrevItem(n);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}e.stopPropagation()}handleItemSelect(e){this.updateSelectedItems(),e.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.disableCloseOnSelect||e.detail.requestedDropdownGroup.selectionMode==="none")&&this.closeCalciteDropdown()}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||yT};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,placement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=qy({el:e,modifiers:r,overlayPositioning:n,placement:i,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}updateSelectedItems(){const e=Array.from(this.el.querySelectorAll("calcite-dropdown-item"));this.selectedItems=e.filter(t=>t.active)}getMaxScrollerHeight(){const e=Array.from(this.el.querySelectorAll("calcite-dropdown-group")),{maxItems:t}=this;let i=0,n=0,r;return e.forEach(a=>{t>0&&i<t&&Array.from(a.children).forEach((o,s)=>{s===0&&(isNaN(r)&&(r=o.offsetTop),n+=r),i<t&&(n+=o.offsetHeight,i+=1)})}),n}closeCalciteDropdown(e=!0){this.active=!1,e&&ti(this.triggers[0])}focusFirstItem(){const e=this.items[0];this.getFocusableElement(e)}focusLastItem(){const e=this.items[this.items.length-1];this.getFocusableElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.items[t+1]||this.items[0];this.getFocusableElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.items[t-1]||this.items[this.items.length-1];this.getFocusableElement(i)}itemIndex(e){return this.items.indexOf(e)}getFocusableElement(e){if(!e)return;const t=e.attributes.isLink?e.shadowRoot.querySelector("a"):e;ti(t)}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],maxItems:["maxItemsHandler"],placement:["placementHandler"]}}static get style(){return iQ}},n2={containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l"},rQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.container--s{font-size:var(--calcite-font-size--2);line-height:1rem}.container--s .dropdown-title{padding:0.5rem}.container--m{font-size:var(--calcite-font-size--1);line-height:1rem}.container--m .dropdown-title{padding:0.75rem}.container--l{font-size:var(--calcite-font-size-0);line-height:1.25rem}.container--l .dropdown-title{padding:1rem}.dropdown-title{margin-bottom:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.dropdown-separator{display:block;height:1px;background-color:var(--calcite-ui-border-3)}",aQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemChange=U(this,"calciteDropdownItemChange",7),this.selectionMode="single"}componentWillLoad(){this.groupPosition=this.getGroupPosition()}render(){const e=this.scale||Bt(this.el,"scale","m"),t=this.groupTitle?y("span",{"aria-hidden":"true",class:"dropdown-title"},this.groupTitle):null,i=this.groupPosition>0?y("div",{class:"dropdown-separator",role:"separator"}):null;return y(Ae,{role:"menu"},y("div",{class:{container:!0,[n2.containerSmall]:e==="s",[n2.containerMedium]:e==="m",[n2.containerLarge]:e==="l"},title:this.groupTitle},i,t,y("slot",null)))}updateActiveItemOnChange(e){this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.calciteDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}getGroupPosition(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-dropdown-group"),this.el)}get el(){return this}static get style(){return rQ}},bu={containerLink:"container--link",containerSmall:"container--s",containerMedium:"container--m",containerLarge:"container--l",containerMulti:"container--multi-selection",containerSingle:"container--single-selection",containerNone:"container--none-selection"},oQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.container--s{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;-webkit-padding-end:0.5rem;padding-inline-end:0.5rem;-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}.container--m{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-padding-end:0.75rem;padding-inline-end:0.75rem;-webkit-padding-start:2rem;padding-inline-start:2rem}.container--l{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-padding-end:1rem;padding-inline-end:1rem;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.container--s.container--none-selection{-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}.container--s.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}.container--m.container--none-selection{-webkit-padding-start:0.5rem;padding-inline-start:0.5rem}.container--m.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}.container--l.container--none-selection{-webkit-padding-start:0.75rem;padding-inline-start:0.75rem}.container--l.container--none-selection .dropdown-link{-webkit-padding-start:0px;padding-inline-start:0px}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.dropdown-item-content{-ms-flex:1 1 auto;flex:1 1 auto;-webkit-padding-end:auto;padding-inline-end:auto;-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host,.container--link a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.container--link{padding:0px}.container--link a{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.container--s .dropdown-link{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem;-webkit-padding-end:0.5rem;padding-inline-end:0.5rem;-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}.container--m .dropdown-link{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-padding-end:0.75rem;padding-inline-end:0.75rem;-webkit-padding-start:2rem;padding-inline-start:2rem}.container--l .dropdown-link{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-padding-end:1rem;padding-inline-end:1rem;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}:host(:hover) .container,:host(:active) .container{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host(:hover) .container--link .dropdown-link,:host(:active) .container--link .dropdown-link{color:var(--calcite-ui-text-1)}:host(:focus) .container{color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host(:active) .container{background-color:var(--calcite-ui-foreground-3)}:host(:hover) .container:before,:host(:active) .container:before,:host(:focus) .container:before{opacity:1}:host([active]) .container:not(.container--none-selection),:host([active]) .container--link .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([active]) .container:not(.container--none-selection):before,:host([active]) .container--link .dropdown-link:before{opacity:1;color:var(--calcite-ui-brand)}:host([active]) .container:not(.container--none-selection) calcite-icon,:host([active]) .container--link .dropdown-link calcite-icon{color:var(--calcite-ui-brand)}.container--multi-selection:before,.container--none-selection:before{display:none}.container--s:before{inset-inline-start:0.5rem}.container--m:before{inset-inline-start:0.75rem}.container--l:before{inset-inline-start:1rem}.dropdown-item-icon{position:absolute;opacity:0;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(0.9);transform:scale(0.9)}.container--s .dropdown-item-icon{inset-inline-start:0.25rem}.container--m .dropdown-item-icon{inset-inline-start:0.5rem}.container--l .dropdown-item-icon{inset-inline-start:0.75rem}:host(:hover) .dropdown-item-icon{color:var(--calcite-ui-border-1);opacity:1}:host([active]) .dropdown-item-icon{color:var(--calcite-ui-brand);opacity:1}.container--s .dropdown-item-icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--s .dropdown-item-icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}.container--m .dropdown-item-icon-start{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--m .dropdown-item-icon-end{-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}.container--l .dropdown-item-icon-start{-webkit-margin-end:1rem;margin-inline-end:1rem;-webkit-margin-start:0.25rem;margin-inline-start:0.25rem}.container--l .dropdown-item-icon-end{-webkit-margin-start:1rem;margin-inline-start:1rem}",sQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDropdownItemSelect=U(this,"calciteDropdownItemSelect",7),this.calciteDropdownItemKeyEvent=U(this,"calciteDropdownItemKeyEvent",7),this.calciteDropdownCloseRequest=U(this,"calciteDropdownCloseRequest",7),this.active=!1}async setFocus(){this.el.focus()}componentWillLoad(){this.initialize()}connectedCallback(){this.initialize()}render(){const e=Bt(this.el,"scale","m"),t=y("calcite-icon",{class:"dropdown-item-icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),i=y("span",{class:"dropdown-item-content"},y("slot",null)),n=y("calcite-icon",{class:"dropdown-item-icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),r=this.iconStart&&this.iconEnd?[t,i,n]:this.iconStart?[t,y("slot",null)]:this.iconEnd?[i,n]:i,a=this.href?y("a",{"aria-label":this.label,class:"dropdown-link",href:this.href,ref:l=>this.childLink=l,rel:this.rel,target:this.target},r):r,o=this.href?null:this.selectionMode==="single"?"menuitemradio":this.selectionMode==="multi"?"menuitemcheckbox":"menuitem",s=this.selectionMode!=="none"?this.active.toString():null;return y(Ae,{"aria-checked":s,role:o,tabindex:"0"},y("div",{class:{container:!0,[bu.containerLink]:!!this.href,[bu.containerSmall]:e==="s",[bu.containerMedium]:e==="m",[bu.containerLarge]:e==="l",[bu.containerMulti]:this.selectionMode==="multi",[bu.containerSingle]:this.selectionMode==="single",[bu.containerNone]:this.selectionMode==="none"}},this.selectionMode!=="none"?y("calcite-icon",{class:"dropdown-item-icon",icon:this.selectionMode==="multi"?"check":"bullet-point",scale:"s"}):null,a))}onClick(){this.emitRequestedItem()}keyDownHandler(e){switch(e.key){case" ":this.emitRequestedItem(),this.href&&(e.preventDefault(),this.childLink.click());break;case"Enter":this.emitRequestedItem(),this.href&&this.childLink.click();break;case"Escape":this.calciteDropdownCloseRequest.emit();break;case"Tab":case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteDropdownItemKeyEvent.emit({keyboardEvent:e});break}e.preventDefault()}updateActiveItemOnChange(e){e.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.determineActiveItem())}initialize(){this.selectionMode=Bt(this.el,"selection-mode","single"),this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),this.selectionMode==="none"&&(this.active=!1)}determineActiveItem(){switch(this.selectionMode){case"multi":this.el===this.requestedDropdownItem&&(this.active=!this.active);break;case"single":this.el===this.requestedDropdownItem?this.active=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.active=!1);break;case"none":this.active=!1;break}}emitRequestedItem(){this.calciteDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}get el(){return this}static get style(){return oQ}},lQ={button:"button"},cQ={plus:"plus"},uQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-button{--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:hover{--tw-shadow:0 12px 32px -2px rgba(0, 0, 0, 0.1), 0 4px 20px 0 rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 12px 32px -2px var(--tw-shadow-color), 0 4px 20px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}calcite-button:active{--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",dQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.appearance="outline",this.color="neutral",this.disabled=!1,this.icon=cQ.plus,this.loading=!1,this.scale="m",this.textEnabled=!1}componentDidRender(){Je(this)}async setFocus(){ti(this.buttonEl)}render(){const{appearance:e,color:t,disabled:i,loading:n,scale:r,textEnabled:a,icon:o,label:s,text:l}=this,u=a?null:s||l||null;return y("calcite-button",{appearance:e==="solid"?"solid":"outline",class:lQ.button,color:t,disabled:i,iconStart:o,label:s,loading:n,ref:h=>{this.buttonEl=h},round:!0,scale:r,title:u,type:"button",width:"auto"},this.textEnabled?this.text:null)}get el(){return this}static get style(){return uQ}},IO={container:"container",searchIcon:"search-icon",clearButton:"clear-button"},MO={filterLabel:"Filter",clear:"Clear filter"},OO={search:"search",close:"x"},hQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;width:100%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:-ms-flexbox;display:flex;width:100%;padding:0.5rem}label{position:relative;margin-left:0.25rem;margin-right:0.25rem;margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;overflow:hidden}input[type=text]{margin-bottom:0.25rem;width:100%;border-style:none;background-color:transparent;padding-top:0.25rem;padding-bottom:0.25rem;padding-right:0.25rem;padding-left:1.5rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);-webkit-transition:padding var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing);transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{width:100%}.search-icon{position:absolute;display:-ms-flexbox;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;-webkit-transition:left var(--calcite-animation-timing), right var(--calcite-animation-timing), opacity var(--calcite-animation-timing);transition:left var(--calcite-animation-timing), right var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}",pQ=250,mQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=U(this,"calciteFilterChange",7),this.items=[],this.disabled=!1,this.filteredItems=[],this.scale="m",this.value="",this.filter=Vd(e=>{const t=new RegExp(e,"i");if(this.items.length===0){this.updateFiltered([]);return}const i=(r,a)=>{let o=!1;return KN(r,s=>{typeof s!="function"&&(Array.isArray(s)||typeof s=="object"&&s!==null?i(s,a)&&(o=!0):a.test(s)&&(o=!0))}),o},n=this.items.filter(r=>i(r,t));this.updateFiltered(n)},pQ),this.inputHandler=e=>{const t=e.target;this.value=t.value},this.keyDownHandler=({key:e})=>{e==="Escape"&&this.clear()},this.clear=()=>{this.value="",this.setFocus()}}watchItemsHandler(){this.filter(this.value)}valueHandler(e){this.filter(e)}componentDidRender(){Je(this)}componentWillLoad(){this.filter(this.value)}async setFocus(){ti(this.textInput)}updateFiltered(e){this.filteredItems.length=0,this.filteredItems=this.filteredItems.concat(e),this.calciteFilterChange.emit()}render(){const{disabled:e,scale:t}=this;return y(mn,null,y("div",{class:IO.container},y("label",null,y("calcite-input",{"aria-label":this.intlLabel||MO.filterLabel,disabled:e,icon:OO.search,onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,ref:i=>{this.textInput=i},scale:t,type:"text",value:this.value})),this.value?y("button",{"aria-label":this.intlClear||MO.clear,class:IO.clearButton,disabled:e,onClick:this.clear},y("calcite-icon",{icon:OO.close,scale:t})):null))}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],value:["valueHandler"]}}static get style(){return hQ}},r2={frame:"frame",frameAdvancing:"frame--advancing",frameRetreating:"frame--retreating"},fQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;overflow:hidden}:host .frame{position:relative;margin:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;padding:0px}:host ::slotted(calcite-panel){height:100%}:host ::slotted(.calcite-match-height:last-child){display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden}:host .frame--advancing{-webkit-animation:calcite-frame-advance var(--calcite-animation-timing);animation:calcite-frame-advance var(--calcite-animation-timing)}:host .frame--retreating{-webkit-animation:calcite-frame-retreat var(--calcite-animation-timing);animation:calcite-frame-retreat var(--calcite-animation-timing)}@-webkit-keyframes calcite-frame-advance{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(50px, 0, 0);transform:translate3d(50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes calcite-frame-advance{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(50px, 0, 0);transform:translate3d(50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@-webkit-keyframes calcite-frame-retreat{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(-50px, 0, 0);transform:translate3d(-50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}@keyframes calcite-frame-retreat{0%{--tw-bg-opacity:0.5}0%{-webkit-transform:translate3d(-50px, 0, 0);transform:translate3d(-50px, 0, 0)}100%{--tw-bg-opacity:1}100%{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}}",gQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.panelCount=0,this.flowDirection=null,this.panels=[],this.getFlowDirection=(e,t)=>{const i=e>1;return!(e&&t>1)&&!i?null:t<e?"retreating":"advancing"},this.updateFlowProps=()=>{const{panels:e}=this,t=Array.from(this.el.querySelectorAll("calcite-panel")),i=e.length,n=t.length,r=t[n-1],a=t[n-2];if(n&&r&&t.forEach(o=>{o.showBackButton=n>1,o.hidden=o!==r}),a&&(a.menuOpen=!1),this.panels=t,i!==n){const o=this.getFlowDirection(i,n);this.panelCount=n,this.flowDirection=o}},this.panelItemMutationObserver=Nt("mutation",this.updateFlowProps)}async back(){const e=this.el.querySelector("calcite-panel:last-child");return e?(e.beforeBack?e.beforeBack:()=>Promise.resolve()).call(e).then(()=>(e.remove(),e)):void 0}connectedCallback(){var e;(e=this.panelItemMutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.updateFlowProps()}disconnectedCallback(){var e;(e=this.panelItemMutationObserver)===null||e===void 0||e.disconnect()}handleCalcitePanelBackClick(){this.back()}render(){const{flowDirection:e,panelCount:t}=this,i={[r2.frame]:!0,[r2.frameAdvancing]:e==="advancing",[r2.frameRetreating]:e==="retreating"};return y("div",{class:i,key:t},y("slot",null))}get el(){return this}static get style(){return fQ}};function yQ(e,t,i){const n=t[0]-e[0],r=i[0]-t[0],a=t[1]-e[1],o=i[1]-t[1],s=a/(n||r<0&&0),l=o/(r||n<0&&0),u=(s*r+l*n)/(n+r);return(Math.sign(s)+Math.sign(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function AO(e,t,i){const n=t[0]-e[0],r=t[1]-e[1];return n?(3*r/n-i)/2:i}function PO(e,t,i,n,r){const[a,o]=e,[s,l]=t,u=(s-a)/3,h=r([a+u,o+u*i]).join(","),m=r([s-u,l-u*n]).join(","),f=r([s,l]).join(",");return`C ${h} ${m} ${f}`}function bQ({width:e,height:t,min:i,max:n}){const r=n[0]-i[0],a=n[1]-i[1];return o=>{const s=(o[0]-i[0])/r*e,l=t-o[1]/a*t;return[s,l]}}function vQ(e){const[t,i]=e[0],n=[t,i],r=[t,i];return e.reduce(({min:a,max:o},[s,l])=>({min:[Math.min(a[0],s),Math.min(a[1],l)],max:[Math.max(o[0],s),Math.max(o[1],l)]}),{min:n,max:r})}function wQ({data:e,min:t,max:i,t:n}){if(e.length===0)return"";const[r,a]=n(e[0]),[o,s]=n(t),[l]=n(i);let u,h,m;const f=e.reduce((v,w,x)=>{if(h=e[x-2],m=e[x-1],x>1){const S=yQ(h,m,w),E=u===void 0?AO(h,m,S):u,T=PO(h,m,E,S,n);return u=S,`${v} ${T}`}return v},`M ${o},${s} L ${o},${a} L ${r},${a}`),g=e[e.length-1],b=PO(m,g,u,AO(m,g,u),n);return`${f} ${b} L ${l},${s} Z`}const xQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}.svg{fill:currentColor;stroke:transparent;margin:0px;display:block;height:100%;width:100%;padding:0px}.svg .graph-path--highlight{fill:var(--calcite-ui-brand);opacity:0.5}",kQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.data=[],this.graphId=`calcite-graph-${ri()}`,this.resizeObserver=Nt("resize",()=>Ym(this))}connectedCallback(){var e;(e=this.resizeObserver)===null||e===void 0||e.observe(this.el)}disconnectedCallback(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}render(){const{data:e,colorStops:t,el:i,highlightMax:n,highlightMin:r,min:a,max:o}=this,s=this.graphId,{clientHeight:l,clientWidth:u}=i;if(!e||e.length===0)return y("svg",{class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${u} ${l}`,width:u});const{min:h,max:m}=vQ(e);let f=h,g=m;(a<h[0]||a>h[0])&&(f=[a,0]),(o>m[0]||o<m[0])&&(g=[o,m[1]]);const b=bQ({min:f,max:g,width:u,height:l}),[v]=b([r,g[1]]),[w]=b([n,g[1]]),x=wQ({data:e,min:h,max:m,t:b}),S=t?`url(#linear-gradient-${s})`:void 0;return y("svg",{class:"svg",height:l,preserveAspectRatio:"none",viewBox:`0 0 ${u} ${l}`,width:u},t?y("defs",null,y("linearGradient",{id:`linear-gradient-${s}`,x1:"0",x2:"1",y1:"0",y2:"0"},t.map(({offset:E,color:T,opacity:C})=>y("stop",{offset:`${E*100}%`,"stop-color":T,"stop-opacity":C})))):null,r!==void 0?[y("mask",{height:"100%",id:`${s}1`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
            M 0,0
            L ${v-1},0
            L ${v-1},${l}
            L 0,${l}
            Z
          `,fill:"white"})),y("mask",{height:"100%",id:`${s}2`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
            M ${v+1},0
            L ${w-1},0
            L ${w-1},${l}
            L ${v+1}, ${l}
            Z
          `,fill:"white"})),y("mask",{height:"100%",id:`${s}3`,width:"100%",x:"0%",y:"0%"},y("path",{d:`
                M ${w+1},0
                L ${u},0
                L ${u},${l}
                L ${w+1}, ${l}
                Z
              `,fill:"white"})),y("path",{class:"graph-path",d:x,fill:S,mask:`url(#${s}1)`}),y("path",{class:"graph-path--highlight",d:x,fill:S,mask:`url(#${s}2)`}),y("path",{class:"graph-path",d:x,fill:S,mask:`url(#${s}3)`})]:y("path",{class:"graph-path",d:x,fill:S}))}get el(){return this}static get style(){return xQ}},LO={handle:"handle",handleActivated:"handle--activated"},_Q={drag:"drag"},SQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex}.handle{display:-ms-flexbox;display:flex;cursor:move;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-border-3);padding:0.75rem 0.25rem;line-height:0}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{color:var(--calcite-ui-text-1);outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}",DQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteHandleNudge=U(this,"calciteHandleNudge",7),this.activated=!1,this.textTitle="handle",this.handleKeyDown=e=>{switch(e.key){case" ":this.activated=!this.activated;break;case"ArrowUp":case"ArrowDown":if(!this.activated)return;const t=e.key.toLowerCase().replace("arrow","");this.calciteHandleNudge.emit({handle:this.el,direction:t});break}},this.handleBlur=()=>{this.activated=!1}}async setFocus(){this.handleButton.focus()}render(){return y("span",{"aria-pressed":this.activated.toString(),class:{[LO.handle]:!0,[LO.handleActivated]:this.activated},onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,ref:e=>{this.handleButton=e},role:"button",tabindex:"0",title:this.textTitle},y("calcite-icon",{icon:_Q.drag,scale:"s"}))}get el(){return this}static get style(){return SQ}},$Q={icon:"icon",flipRtl:"flip-rtl"},a2={},o2={},S9={s:16,m:24,l:32};async function CQ({icon:e,scale:t}){const i=S9[t],n=TQ(e),r=n.charAt(n.length-1)==="F",o=`${r?n.substring(0,n.length-1):n}${i}${r?"F":""}`;if(a2[o])return a2[o];o2[o]||(o2[o]=fetch(MN(`./assets/icon/${o}.json`)).then(l=>l.json()).catch(()=>(console.error(`"${o}" is not a valid calcite-ui-icon name`),"")));const s=await o2[o];return a2[o]=s,s}function TQ(e){const t=!isNaN(Number(e.charAt(0))),i=e.split("-");return i.length===1?t?`i${e}`:e:i.map((n,r)=>r===0?t?`i${n.toUpperCase()}`:n:n.charAt(0).toUpperCase()+n.slice(1)).join("")}const EQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-inline-flexbox;display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){height:1rem;width:1rem;min-width:1rem;min-height:1rem}:host([scale=m]){height:1.5rem;width:1.5rem;min-width:1.5rem;min-height:1.5rem}:host([scale=l]){height:2rem;width:2rem;min-width:2rem;min-height:2rem}.flip-rtl{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.svg{display:block}",IQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.visible=!1}connectedCallback(){this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var e;(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:e,flipRtl:t,pathData:i,scale:n,textLabel:r}=this,a=Li(e),o=S9[n],s=!!r,l=[].concat(i||"");return y(Ae,{"aria-hidden":(!s).toString(),"aria-label":s?r:null,role:s?"img":null},y("svg",{class:{[$Q.flipRtl]:a==="rtl"&&t,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${o} ${o}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},l.map(u=>typeof u=="string"?y("path",{d:u}):y("path",{d:u.d,opacity:"opacity"in u?u.opacity:1}))))}async loadIconPathData(){const{icon:e,scale:t,visible:i}=this;!su.isBrowser||!e||!i||(this.pathData=await CQ({icon:e,scale:t}))}waitUntilVisible(e){if(this.intersectionObserver=Nt("intersection",t=>{t.forEach(i=>{i.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return EQ}},vu={wrapper:"wrapper",confirmChangesButton:"confirm-changes-button",cancelEditingButton:"cancel-editing-button",inputWrapper:"input-wrapper",cancelEditingButtonWrapper:"cancel-editing-button-wrapper",enableEditingButton:"enable-editing-button",controlsWrapper:"controls-wrapper"},s2={intlEnablingEditing:"Click to edit",intlCancelEditing:"Cancel",intlConfirmChanges:"Save"},MQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([scale=s]) .controls-wrapper{height:1.5rem}:host([scale=m]) .controls-wrapper{height:2rem}:host([scale=l]) .controls-wrapper{height:2.75rem}:host(:not([editing-enabled]):not([disabled])) .wrapper:hover{background-color:var(--calcite-ui-foreground-2)}.wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.wrapper .input-wrapper{-ms-flex:1 1 0%;flex:1 1 0%}.controls-wrapper{display:-ms-flexbox;display:flex}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .cancel-editing-button-wrapper{border-color:var(--calcite-ui-border-2)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",OQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInlineEditableEditCancel=U(this,"calciteInlineEditableEditCancel",7),this.calciteInlineEditableEditConfirm=U(this,"calciteInlineEditableEditConfirm",7),this.calciteInlineEditableEnableEditingChange=U(this,"calciteInlineEditableEnableEditingChange",7),this.disabled=!1,this.editingEnabled=!1,this.loading=!1,this.controls=!1,this.intlEnableEditing=s2.intlEnablingEditing,this.intlCancelEditing=s2.intlCancelEditing,this.intlConfirmChanges=s2.intlConfirmChanges,this.mutationObserver=Nt("mutation",()=>this.mutationObserverCallback()),this.transitionEnd=()=>{!this.editingEnabled&&!!this.shouldEmitCancel&&this.calciteInlineEditableEditCancel.emit()},this.enableEditing=()=>{var e,t;this.valuePriorToEditing=(e=this.inputElement)===null||e===void 0?void 0:e.value,this.editingEnabled=!0,(t=this.inputElement)===null||t===void 0||t.setFocus(),this.calciteInlineEditableEnableEditingChange.emit()},this.disableEditing=()=>{this.editingEnabled=!1},this.cancelEditing=()=>{this.inputElement&&(this.inputElement.value=this.valuePriorToEditing),this.disableEditing(),this.enableEditingButton.setFocus()},this.escapeKeyHandler=async e=>{var t;if(e.key!=="Escape"){e.key==="Tab"&&this.shouldShowControls&&(!e.shiftKey&&e.target===this.inputElement&&(e.preventDefault(),this.cancelEditingButton.setFocus()),!!e.shiftKey&&e.target===this.cancelEditingButton&&(e.preventDefault(),(t=this.inputElement)===null||t===void 0||t.setFocus()));return}this.cancelEditing()},this.cancelEditingHandler=async e=>{e.preventDefault(),this.cancelEditing()},this.enableEditingHandler=async e=>{this.disabled||e.target===this.cancelEditingButton||e.target===this.confirmEditingButton||(e.preventDefault(),this.editingEnabled||this.enableEditing())},this.confirmChangesHandler=async e=>{e.preventDefault(),this.calciteInlineEditableEditConfirm.emit();try{this.afterConfirm&&(this.loading=!0,await this.afterConfirm(),this.disableEditing(),this.enableEditingButton.setFocus())}catch{}finally{this.loading=!1}}}disabledWatcher(e){this.inputElement&&(this.inputElement.disabled=e)}editingEnabledWatcher(e,t){this.inputElement&&(this.inputElement.editingEnabled=e),!e&&!!t&&(this.shouldEmitCancel=!0)}connectedCallback(){var e;sr(this),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0}),this.mutationObserverCallback()}disconnectedCallback(){var e;Nr(this),(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentDidRender(){Je(this)}render(){return y("div",{class:vu.wrapper,onClick:this.enableEditingHandler,onKeyDown:this.escapeKeyHandler,onTransitionEnd:this.transitionEnd},y("div",{class:vu.inputWrapper},y("slot",null)),y("div",{class:vu.controlsWrapper},y("calcite-button",{appearance:"transparent",class:vu.enableEditingButton,color:"neutral",disabled:this.disabled,iconStart:"pencil",label:this.intlEnableEditing,onClick:this.enableEditingHandler,ref:e=>this.enableEditingButton=e,scale:this.scale,style:{opacity:this.editingEnabled?"0":"1",width:this.editingEnabled?"0":"inherit"},type:"button"}),this.shouldShowControls&&[y("div",{class:vu.cancelEditingButtonWrapper},y("calcite-button",{appearance:"transparent",class:vu.cancelEditingButton,color:"neutral",disabled:this.disabled,iconStart:"x",label:this.intlCancelEditing,onClick:this.cancelEditingHandler,ref:e=>this.cancelEditingButton=e,scale:this.scale,type:"button"})),y("calcite-button",{appearance:"solid",class:vu.confirmChangesButton,color:"blue",disabled:this.disabled,iconStart:"check",label:this.intlConfirmChanges,loading:this.loading,onClick:this.confirmChangesHandler,ref:e=>this.confirmEditingButton=e,scale:this.scale,type:"button"})]))}blurHandler(){this.controls||this.disableEditing()}async setFocus(){var e,t;this.editingEnabled?(e=this.inputElement)===null||e===void 0||e.setFocus():(t=this.enableEditingButton)===null||t===void 0||t.setFocus()}mutationObserverCallback(){var e;this.updateSlottedInput(),this.scale=this.scale||((e=this.inputElement)===null||e===void 0?void 0:e.scale)||Bt(this.el,"scale",void 0)}onLabelClick(){this.setFocus()}updateSlottedInput(){const e=ve(this.el,{matches:"calcite-input"});this.inputElement=e,e&&(this.inputElement.disabled=this.disabled,this.inputElement.label=this.inputElement.label||as(this))}get shouldShowControls(){return this.editingEnabled&&this.controls}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],editingEnabled:["editingEnabledWatcher"]}}static get style(){return MQ}},on={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",resizeIconWrapper:"resize-icon-wrapper",numberButtonItem:"number-button-item"},RO={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},AQ={action:"action"},PQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{height:1.5rem;padding:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) textarea{height:1.5rem;min-height:1.5rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{height:1.5rem}:host([scale=s]) input[type=file]{height:1.5rem}:host([scale=s]) .clear-button{min-height:1.5rem;min-width:1.5rem}:host([scale=s]) textarea{height:auto;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{height:2rem;padding:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) textarea{min-height:2rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{height:2rem}:host([scale=m]) input[type=file]{height:2rem}:host([scale=m]) .clear-button{min-height:2rem;min-width:2rem}:host([scale=m]) textarea{height:auto;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{height:2.75rem;padding:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) textarea{min-height:2.75rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{height:2.75rem}:host([scale=l]) input[type=file]{height:2.75rem}:host([scale=l]) .clear-button{min-height:2.75rem;min-width:2.75rem}:host([scale=l]) textarea{height:auto;padding-top:0.75rem;padding-bottom:0.75rem;padding-left:1rem;padding-right:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) textarea{resize:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host textarea,:host input{-webkit-transition:var(--calcite-animation-timing), height 0s;transition:var(--calcite-animation-timing), height 0s;-webkit-appearance:none;position:relative;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;max-height:100%;width:100%;max-width:100%;-ms-flex:1 1 0%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}:host input[type=search]::-webkit-search-decoration{-webkit-appearance:none}:host input,:host textarea{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input:-ms-input-placeholder,:host textarea:-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input::-ms-input-placeholder,:host textarea::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder,:host textarea::placeholder,:host textarea:-ms-input-placeholder,:host textarea::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus,:host textarea:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly],:host textarea[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus,:host textarea[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}:host textarea,:host input{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host textarea:focus,:host input:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([status=invalid]) input,:host([status=invalid]) textarea{border-color:var(--calcite-ui-danger)}:host([status=invalid]) input:focus,:host([status=invalid]) textarea:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:-2px}:host([scale=s]) .icon{inset-inline-start:0.5rem}:host([scale=m]) .icon{inset-inline-start:0.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{-webkit-padding-start:2rem;padding-inline-start:2rem}:host([icon][scale=m]) input{-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}:host([icon][scale=l]) input{-webkit-padding-start:3rem;padding-inline-start:3rem}.element-wrapper{position:relative;-ms-flex-order:3;order:3;display:-ms-inline-flexbox;display:inline-flex;-ms-flex:1 1 0%;flex:1 1 0%;-ms-flex-align:center;align-items:center}.icon{pointer-events:none;position:absolute;z-index:10;display:block;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;height:0px;width:0px}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration,input[type=date]::-webkit-clear-button,input[type=time]::-webkit-clear-button{display:none}.clear-button{pointer-events:initial;-ms-flex-order:4;order:4;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;min-height:100%;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:stretch;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{top:1px;left:1px;right:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{-ms-flex-order:7;order:7;display:-ms-flexbox;display:flex}.prefix,.suffix{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:auto;min-height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-line-pack:center;align-content:center;-ms-flex-align:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{-ms-flex-order:2;order:2;border-inline-end-width:0px}.suffix{-ms-flex-order:5;order:5;border-inline-start-width:0px}:host([alignment=start]) textarea,:host([alignment=start]) input{text-align:start}:host([alignment=end]) textarea,:host([alignment=end]) input{text-align:end}:host input[type=number]{-moz-appearance:textfield}:host input[type=number]::-webkit-inner-spin-button,:host input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0px}.number-button-wrapper{pointer-events:none;-ms-flex-order:6;order:6;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([number-button-type=vertical]) .wrapper{-ms-flex-direction:row;flex-direction:row;display:-ms-flexbox;display:flex}:host([number-button-type=vertical]) input,:host([number-button-type=vertical]) textarea{-ms-flex-order:2;order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down],.number-button-item.number-button-item--horizontal[data-adjustment=up]{-ms-flex-order:1;order:1;max-height:100%;min-height:100%;-ms-flex-item-align:stretch;align-self:stretch}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item.number-button-item--horizontal[data-adjustment=up]{-ms-flex-order:5;order:5}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}.number-button-item.number-button-item--horizontal[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover{background-color:var(--calcite-ui-foreground-2)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]:hover calcite-icon{color:var(--calcite-ui-text-1)}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-top-width:0px}.number-button-item{max-height:50%;min-height:50%;pointer-events:initial;margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:center;align-self:center;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);padding-top:0px;padding-bottom:0px;padding-left:0.5rem;padding-right:0.5rem;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.number-button-item:focus{background-color:var(--calcite-ui-foreground-2)}.number-button-item:focus calcite-icon{color:var(--calcite-ui-text-1)}.number-button-item:active{background-color:var(--calcite-ui-foreground-3)}.wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}:host input::-webkit-calendar-picker-indicator{display:none}:host input[type=date]::-webkit-input-placeholder{visibility:hidden !important}:host textarea::-webkit-resizer{position:absolute;bottom:0px;-webkit-box-sizing:border-box;box-sizing:border-box;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem;inset-inline-end:0}.resize-icon-wrapper{bottom:2px;inset-inline-end:2px;pointer-events:none;position:absolute;z-index:10;height:0.75rem;width:0.75rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3)}.resize-icon-wrapper calcite-icon{bottom:0.25rem;inset-inline-end:0.25rem;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.calcite--rtl .resize-icon-wrapper calcite-icon{-webkit-transform:rotate(45deg);transform:rotate(45deg)}:host([type=color]) input{padding:0.25rem}:host([type=file]) input{cursor:pointer;border-width:1px;border-style:dashed;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);text-align:center}:host([type=file][scale=s]) input{padding-top:1px;padding-bottom:1px;padding-left:0.5rem;padding-right:0.5rem}:host([type=file][scale=m]) input{padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.75rem;padding-right:0.75rem}:host([type=file][scale=l]) input{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1rem;padding-right:1rem}:host(.no-bottom-border) input{border-bottom-width:0px}:host(.border-top-color-one) input{border-top-color:var(--calcite-ui-border-1)}:host .inline-child{background-color:transparent;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host .inline-child .editing-enabled{background-color:inherit}:host .inline-child:not(.editing-enabled){display:-ms-flexbox;display:flex;cursor:pointer;border-color:transparent;-webkit-padding-start:0;padding-inline-start:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",LQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInputFocus=U(this,"calciteInputFocus",7),this.calciteInputBlur=U(this,"calciteInputBlur",7),this.calciteInputInput=U(this,"calciteInputInput",7),this.calciteInputChange=U(this,"calciteInputChange",7),this.alignment="start",this.autofocus=!1,this.clearable=!1,this.disabled=!1,this.groupSeparator=!1,this.hidden=!1,this.intlLoading=iJ.loading,this.iconFlipRtl=!1,this.loading=!1,this.locale=document.documentElement.lang||"en",this.localeFormat=!1,this.numberButtonType="vertical",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.editingEnabled=!1,this.type="text",this.value="",this.childElType="input",this.internalValueChange=!1,this.mutationObserver=Nt("mutation",()=>this.setDisabledAction()),this.keyDownHandler=e=>{e.key==="ArrowUp"&&e.preventDefault(),!(this.readOnly||this.disabled)&&this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault())},this.clearInputValue=e=>{this.setValue({committing:!0,nativeEvent:e,value:""})},this.inputBlurHandler=()=>{this.type==="number"&&this.setValue({value:this.value}),this.calciteInputBlur.emit({element:this.childEl,value:this.value}),this.preFocusValue!==this.value&&this.calciteInputChange.emit()},this.inputFocusHandler=e=>{const t=ve(this.el,"action");e.target!==t&&this.setFocus(),this.calciteInputFocus.emit({element:this.childEl,value:this.value}),this.preFocusValue=this.value},this.inputInputHandler=e=>{this.disabled||this.readOnly||this.setValue({nativeEvent:e,value:e.target.value})},this.inputKeyDownHandler=e=>{this.disabled||this.readOnly||e.key==="Enter"&&this.calciteInputChange.emit()},this.inputNumberInputHandler=e=>{if(this.disabled||this.readOnly)return;const t=e.target.value,i=TO(t,this.locale);e.inputType==="insertFromPaste"?(Ot(i)||e.preventDefault(),this.setValue({nativeEvent:e,value:LX(i)}),this.childNumberEl.value=this.localizedValue):this.setValue({nativeEvent:e,value:TO(t,this.locale)})},this.inputNumberKeyDownHandler=e=>{if(this.type!=="number"||this.disabled||this.readOnly)return;if(e.key==="ArrowUp"){this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const t=[...tm,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const i=e.shiftKey&&e.key==="Tab";if(t.includes(e.key)&&(!e.shiftKey||i)){e.key==="Enter"&&this.calciteInputChange.emit();return}const n=wT(this.locale);e.key===n&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.indexOf(n)===-1)||/[eE]/.test(e.key)&&(!this.value&&!this.childNumberEl.value||this.value&&!/[eE]/.test(this.childNumberEl.value))||e.key==="-"&&(!this.value&&!this.childNumberEl.value||this.value&&this.childNumberEl.value.split("-").length<=2)||e.preventDefault()},this.nudgeNumberValue=(e,t)=>{if(t instanceof KeyboardEvent&&t.repeat||this.type!=="number")return;const i=this.maxString?parseFloat(this.maxString):null,n=this.minString?parseFloat(this.minString):null,r=100;this.incrementOrDecrementNumberValue(e,i,n,t),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let a=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(a){a=!1;return}this.incrementOrDecrementNumberValue(e,i,n,t)},r)},this.numberButtonMouseUpAndMouseOutHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)},this.numberButtonMouseDownHandler=e=>{e.preventDefault();const t=e.target.dataset.adjustment;this.nudgeNumberValue(t,e)},this.setChildElRef=e=>{this.childEl=e},this.setChildNumberElRef=e=>{this.childNumberEl=e},this.setInputValue=e=>{this.type==="text"&&!this.childEl||this.type==="number"&&!this.childNumberEl||(this[`child${this.type==="number"?"Number":""}El`].value=e)},this.setPreviousValue=e=>{this.previousValue=this.type==="number"?Ot(e)?e:"":e},this.setValue=({committing:e=!1,nativeEvent:t,origin:i="internal",value:n})=>{const r=this.type==="number"?EO(this.previousValue,this.locale,this.groupSeparator):"",a=this.type==="number"?NX(n):n,o=this.type==="number"&&n&&!a?Ot(this.previousValue)?this.previousValue:"":a,s=this.type==="number"?EO(o,this.locale,this.groupSeparator):"";this.internalValueChange=i==="internal"&&this.value!==o,this.setPreviousValue(this.value),this.value=o,this.type==="number"&&(this.localizedValue=s),i==="external"&&this.setInputValue(this.type==="number"?s:o),t&&(this.calciteInputInput.emit({element:this.childEl,nativeEvent:t,value:this.value}).defaultPrevented?(this.value=this.previousValue,this.localizedValue=r):e&&this.calciteInputChange.emit())},this.inputKeyUpHandler=()=>{window.clearInterval(this.nudgeNumberValueIntervalId)}}disabledWatcher(){this.setDisabledAction()}maxWatcher(){var e;this.maxString=((e=this.max)===null||e===void 0?void 0:e.toString())||null}minWatcher(){var e;this.minString=((e=this.min)===null||e===void 0?void 0:e.toString())||null}valueWatcher(e){this.internalValueChange||(this.setValue({origin:"external",value:e==null||e==""?"":this.type==="number"?Ot(e)?e:this.previousValue||"":e}),this.warnAboutInvalidNumberValue(e)),this.internalValueChange=!1}updateRequestedIcon(){this.requestedIcon=eu(RO,this.icon,this.type)}get isClearable(){return!this.isTextarea&&(this.clearable||this.type==="search")&&this.value.length>0}get isTextarea(){return this.childElType==="textarea"}connectedCallback(){var e;this.scale=Bt(this.el,"scale",this.scale),this.status=Bt(this.el,"status",this.status),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),this.setPreviousValue(this.value),this.type==="number"&&(this.warnAboutInvalidNumberValue(this.value),this.setValue({origin:"loading",value:Ot(this.value)?this.value:""})),sr(this),mo(this),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0}),this.setDisabledAction()}disconnectedCallback(){var e;Nr(this),fo(this),(e=this.mutationObserver)===null||e===void 0||e.disconnect()}componentWillLoad(){var e,t;this.childElType=this.type==="textarea"?"textarea":"input",this.maxString=(e=this.max)===null||e===void 0?void 0:e.toString(),this.minString=(t=this.min)===null||t===void 0?void 0:t.toString(),this.requestedIcon=eu(RO,this.icon,this.type)}componentShouldUpdate(e,t,i){return this.type==="number"&&i==="value"&&e&&!Ot(e)?(this.setValue({value:t}),!1):!0}componentDidRender(){Je(this)}async setFocus(){var e,t;this.type==="number"?(e=this.childNumberEl)===null||e===void 0||e.focus():(t=this.childEl)===null||t===void 0||t.focus()}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,t,i,n){const{value:r}=this,a=this.step==="any"?1:Math.abs(this.step||1),o=r&&r!==""?parseFloat(r):0,l=o+a*(e==="up"?1:-1),u=typeof i=="number"&&!isNaN(i)&&l<i||typeof t=="number"&&!isNaN(t)&&l>t?o:l,h=zp(o),m=zp(a);this.setValue({committing:!0,nativeEvent:n,value:u.toFixed(Math.max(h,m))})}onFormReset(){this.setValue({value:this.defaultValue})}syncHiddenFormInput(e){var t,i,n,r;this.type==="number"?(e.type="number",e.min=(i=(t=this.min)===null||t===void 0?void 0:t.toString(10))!==null&&i!==void 0?i:"",e.max=(r=(n=this.max)===null||n===void 0?void 0:n.toString(10))!==null&&r!==void 0?r:""):this.type==="text"?(e.type="text",this.minLength!=null&&(e.minLength=this.minLength),this.maxLength!=null&&(e.maxLength=this.maxLength)):this.type==="password"&&(e.type="password")}setDisabledAction(){const e=ve(this.el,"action");!e||(this.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"))}warnAboutInvalidNumberValue(e){this.type==="number"&&e&&!Ot(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=Li(this.el),t=y("div",{class:on.loader},y("calcite-progress",{label:this.intlLoading,type:"indeterminate"})),i=y("button",{class:on.clearButton,disabled:this.disabled||this.readOnly,onClick:this.clearInputValue,tabIndex:this.disabled?-1:0,type:"button"},y("calcite-icon",{icon:"x",scale:"s"})),n=y("calcite-icon",{class:on.inputIcon,flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:"s"}),r=this.numberButtonType==="horizontal",a=y("button",{class:{[on.numberButtonItem]:!0,[on.buttonItemHorizontal]:r},"data-adjustment":"up",disabled:this.disabled||this.readOnly,onMouseDown:this.numberButtonMouseDownHandler,onMouseOut:this.numberButtonMouseUpAndMouseOutHandler,onMouseUp:this.numberButtonMouseUpAndMouseOutHandler,tabIndex:-1,type:"button"},y("calcite-icon",{icon:"chevron-up",scale:"s"})),o=y("button",{class:{[on.numberButtonItem]:!0,[on.buttonItemHorizontal]:r},"data-adjustment":"down",disabled:this.disabled||this.readOnly,onMouseDown:this.numberButtonMouseDownHandler,onMouseOut:this.numberButtonMouseUpAndMouseOutHandler,onMouseUp:this.numberButtonMouseUpAndMouseOutHandler,tabIndex:-1,type:"button"},y("calcite-icon",{icon:"chevron-down",scale:"s"})),s=y("div",{class:on.numberButtonWrapper},a,o),l=y("div",{class:on.prefix},this.prefixText),u=y("div",{class:on.suffix},this.suffixText),h=this.type==="number"?y("input",{"aria-label":as(this),autofocus:this.autofocus?!0:null,defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.el.enterKeyHint,inputMode:this.el.inputMode,key:"localized-input",maxLength:this.maxLength,minLength:this.minLength,name:void 0,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputNumberInputHandler,onKeyDown:this.inputNumberKeyDownHandler,onKeyUp:this.inputKeyUpHandler,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildNumberElRef,type:"text",value:this.localizedValue}):null,m=this.type!=="number"?[y(this.childElType,{"aria-label":as(this),autofocus:this.autofocus?!0:null,class:{[on.editingEnabled]:this.editingEnabled,[on.inlineChild]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.el.enterKeyHint,inputMode:this.el.inputMode,max:this.maxString,maxLength:this.maxLength,min:this.minString,minLength:this.minLength,name:this.name,onBlur:this.inputBlurHandler,onFocus:this.inputFocusHandler,onInput:this.inputInputHandler,onKeyDown:this.inputKeyDownHandler,onKeyUp:this.inputKeyUpHandler,placeholder:this.placeholder||"",readOnly:this.readOnly,ref:this.setChildElRef,required:this.required?!0:null,step:this.step,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:this.type,value:this.value}),this.isTextarea?y("div",{class:on.resizeIconWrapper},y("calcite-icon",{icon:"chevron-down",scale:"s"})):null]:null;return y(Ae,{onClick:this.inputFocusHandler,onKeyDown:this.keyDownHandler},y("div",{class:{[on.inputWrapper]:!0,[Xo.rtl]:e==="rtl"}},this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?o:null,this.prefixText?l:null,y("div",{class:on.wrapper},h,m,this.isClearable?i:null,this.requestedIcon?n:null,this.loading?t:null),y("div",{class:on.actionWrapper},y("slot",{name:AQ.action})),this.type==="number"&&this.numberButtonType==="vertical"&&!this.readOnly?s:null,this.suffixText?u:null,this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?a:null,y(go,{component:this})))}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],max:["maxWatcher"],min:["minWatcher"],value:["valueWatcher"],icon:["updateRequestedIcon"],type:["updateRequestedIcon"]}}static get style(){return PQ}},RQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:inline-block;width:100%;overflow:visible;vertical-align:top;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.calendar-picker-wrapper{position:static;width:100%;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}.input-wrapper{position:relative}:host([range]) .input-container{display:-ms-flexbox;display:flex}:host([range]) .input-wrapper{-ms-flex:1 1 auto;flex:1 1 auto}:host([range]) .horizontal-arrow-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem}:host([range][layout=vertical]) .input-wrapper{width:100%}:host([range][layout=vertical]) .input-container{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start}:host([range][layout=vertical]) .calendar-picker-wrapper--end{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0)}:host([range][layout=vertical]) .vertical-arrow-container{top:1.5rem;position:absolute;left:0px;z-index:10;margin-left:1px;margin-right:1px;background-color:var(--calcite-ui-foreground-1);padding-left:0.625rem;padding-right:0.625rem}:host([scale=s][range]:not([layout=vertical])) .calendar-picker-wrapper{width:216px}:host([scale=m][range]:not([layout=vertical])) .calendar-picker-wrapper{width:286px}:host([scale=l][range]:not([layout=vertical])) .calendar-picker-wrapper{width:398px}.menu-container{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0);visibility:hidden;pointer-events:none}.menu-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.menu-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.menu-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.menu-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.menu-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.menu-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([active]) .menu-container{pointer-events:initial;visibility:visible}.menu-container--active .menu-container .calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}.menu-container--active .menu-container[data-popper-placement^=bottom] .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.menu-container--active .menu-container[data-popper-placement^=top] .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}.menu-container--active .menu-container[data-popper-placement^=left] .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}.menu-container--active .menu-container[data-popper-placement^=right] .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.menu-container--active .menu-container[data-popper-placement] .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}.input .calcite-input__wrapper{margin-top:0px}:host([range][layout=vertical][scale=m]) .vertical-arrow-container{top:1.5rem;padding-left:0.75rem}:host([range][layout=vertical][scale=m]) .vertical-arrow-container calcite-icon{height:0.75rem;width:0.75rem;min-width:0px}:host([range][layout=vertical][scale=l]) .vertical-arrow-container{top:2.25rem;padding-left:0.875rem;padding-right:0.875rem}:host([range][layout=vertical][active]) .vertical-arrow-container{display:none}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",FQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteDatePickerChange=U(this,"calciteDatePickerChange",7),this.calciteDatePickerRangeChange=U(this,"calciteDatePickerRangeChange",7),this.calciteInputDatePickerChange=U(this,"calciteInputDatePickerChange",7),this.calciteInputDatePickerOpen=U(this,"calciteInputDatePickerOpen",7),this.calciteInputDatePickerClose=U(this,"calciteInputDatePickerClose",7),this.disabled=!1,this.active=!1,this.intlPrevMonth=im.prevMonth,this.intlNextMonth=im.nextMonth,this.intlYear=im.year,this.locale=document.documentElement.lang||"en",this.scale="m",this.range=!1,this.required=!1,this.overlayPositioning="absolute",this.proximitySelectionDisabled=!1,this.layout="horizontal",this.focusedInput="start",this.activeTransitionProp="opacity",this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteInputDatePickerOpen.emit():this.calciteInputDatePickerClose.emit())},this.setStartInput=e=>{this.startInput=e},this.setEndInput=e=>{this.endInput=e},this.deactivate=()=>{this.active=!1},this.keyUpHandler=e=>{e.key==="Escape"&&(this.active=!1)},this.inputBlur=e=>{this.blur(e.detail)},this.startInputFocus=()=>{this.active=!0,this.focusedInput="start"},this.endInputFocus=()=>{this.active=!0,this.focusedInput="end"},this.inputInput=e=>{this.input(e.detail.value)},this.setMenuEl=e=>{e&&(this.menuEl=e,this.createPopper())},this.setStartWrapper=e=>{this.startWrapper=e,this.setReferenceEl()},this.setEndWrapper=e=>{this.endWrapper=e,this.setReferenceEl()},this.handleDateChange=e=>{this.range||(this.value=cl(e.detail))},this.handleDateRangeChange=e=>{var t,i;if(!this.range||!e.detail)return;const{startDate:n,endDate:r}=e.detail;this.start=cl(n),this.end=cl(r),this.value=[this.start,this.end],this.shouldFocusRangeEnd()?(t=this.endInput)===null||t===void 0||t.setFocus():this.shouldFocusRangeStart()&&((i=this.startInput)===null||i===void 0||i.setFocus())}}handleDisabledChange(e){e||(this.active=!1)}valueHandler(e){Array.isArray(e)?(this.valueAsDate=e.map(t=>Ft(t)),this.start=e[0],this.end=e[1]):e?(this.valueAsDate=Ft(e),this.start="",this.end=""):(this.valueAsDate=void 0,this.start=void 0,this.end=void 0)}onMinChanged(e){this.minAsDate=Ft(e)}onMaxChanged(e){this.maxAsDate=Ft(e)}activeHandler(){if(!this.disabled){this.reposition();return}this.active=!1}handleDateOrRangeChange(){this.calciteInputDatePickerChange.emit()}calciteDaySelectHandler(){this.shouldFocusRangeStart()||this.shouldFocusRangeEnd()||(this.active=!1)}async setFocus(){var e;(e=this.startInput)===null||e===void 0||e.setFocus()}async reposition(){const{popper:e,menuEl:t}=this,i=this.getModifiers();e?await Uy({el:t,modifiers:i,placement:ry,popper:e}):this.createPopper()}connectedCallback(){Array.isArray(this.value)?(this.valueAsDate=this.value.map(e=>Ft(e)),this.start=this.value[0],this.end=this.value[1]):this.value&&(this.valueAsDate=Ft(this.value),this.start="",this.end=""),this.start&&(this.startAsDate=Ft(this.start)),this.end&&(this.endAsDate=Ft(this.end)),this.min&&(this.minAsDate=Ft(this.min)),this.max&&(this.maxAsDate=Ft(this.max)),this.createPopper(),sr(this),mo(this)}async componentWillLoad(){await this.loadLocaleData(),this.onMinChanged(this.min),this.onMaxChanged(this.max)}disconnectedCallback(){this.destroyPopper(),Nr(this),fo(this)}componentDidRender(){Je(this)}render(){var e,t;const{disabled:i}=this,n=Cn(this.range?this.startAsDate:this.valueAsDate,this.minAsDate,this.maxAsDate),r=this.range?Cn(this.endAsDate,this.minAsDate,this.maxAsDate):null,a=r?r.toLocaleDateString(this.locale):"",o=n?n.toLocaleDateString(this.locale):"";return y(Ae,{onBlur:this.deactivate,onKeyUp:this.keyUpHandler,role:"application"},this.localeData&&y("div",{"aria-expanded":this.active.toString(),class:"input-container",role:"application"},y("div",{class:"input-wrapper",ref:this.setStartWrapper},y("calcite-input",{class:`input ${this.layout==="vertical"&&this.range?"no-bottom-border":""}`,disabled:i,icon:"calendar",label:as(this),"number-button-type":"none",onCalciteInputBlur:this.inputBlur,onCalciteInputFocus:this.startInputFocus,onCalciteInputInput:this.inputInput,placeholder:(e=this.localeData)===null||e===void 0?void 0:e.placeholder,ref:this.setStartInput,scale:this.scale,type:"text",value:o})),y("div",{"aria-hidden":(!this.active).toString(),class:{"menu-container":!0,"menu-container--active":this.active},ref:this.setMenuEl},y("div",{class:{["calendar-picker-wrapper"]:!0,["calendar-picker-wrapper--end"]:this.focusedInput==="end",[ss.animation]:!0,[ss.animationActive]:this.active},onTransitionEnd:this.transitionEnd},y("calcite-date-picker",{activeRange:this.focusedInput,endAsDate:this.endAsDate,headingLevel:this.headingLevel,intlNextMonth:this.intlNextMonth,intlPrevMonth:this.intlPrevMonth,intlYear:this.intlYear,locale:this.locale,max:this.max,maxAsDate:this.maxAsDate,min:this.min,minAsDate:this.minAsDate,onCalciteDatePickerChange:this.handleDateChange,onCalciteDatePickerRangeChange:this.handleDateRangeChange,proximitySelectionDisabled:this.proximitySelectionDisabled,range:this.range,scale:this.scale,startAsDate:this.startAsDate,tabIndex:0,valueAsDate:this.valueAsDate}))),this.range&&this.layout==="horizontal"&&y("div",{class:"horizontal-arrow-container"},y("calcite-icon",{flipRtl:!0,icon:"arrow-right",scale:"s"})),this.range&&this.layout==="vertical"&&this.scale!=="s"&&y("div",{class:"vertical-arrow-container"},y("calcite-icon",{icon:"arrow-down",scale:"s"})),this.range&&y("div",{class:"input-wrapper",ref:this.setEndWrapper},y("calcite-input",{class:{input:!0,"border-top-color-one":this.layout==="vertical"&&this.range},disabled:i,icon:"calendar","number-button-type":"none",onCalciteInputBlur:this.inputBlur,onCalciteInputFocus:this.endInputFocus,onCalciteInputInput:this.inputInput,placeholder:(t=this.localeData)===null||t===void 0?void 0:t.placeholder,ref:this.setEndInput,scale:this.scale,type:"text",value:a}))),y(go,{component:this}))}setReferenceEl(){const{focusedInput:e,layout:t,endWrapper:i,startWrapper:n}=this;this.referenceEl=e==="end"||t==="vertical"?i||n:n||i,this.createPopper()}onLabelClick(){this.setFocus()}getModifiers(){const e={name:"flip",enabled:!0};e.options={fallbackPlacements:this.flipPlacements||yT};const t={name:"eventListeners",enabled:this.active};return[e,t]}createPopper(){this.destroyPopper();const{menuEl:e,referenceEl:t,overlayPositioning:i}=this;if(!e||!t)return;const n=this.getModifiers();this.popper=qy({el:e,modifiers:n,overlayPositioning:i,placement:ry,referenceEl:t})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}startWatcher(e){this.startAsDate=Ft(e)}endWatcher(e){this.endAsDate=Ft(e)}async loadLocaleData(){if(!su.isBrowser)return;const{locale:e}=this;this.localeData=await xT(e)}clearCurrentValue(){if(!this.range){this.value="";return}const{focusedInput:e}=this;e==="start"?(this.value=Array.isArray(this.value)?["",this.value[1]||""]:[""],this.start=void 0):e==="end"&&(this.value=Array.isArray(this.value)?[this.value[0]||"",""]:["",""],this.end=void 0)}input(e){const t=this.getDateFromInput(e);if(!t){this.clearCurrentValue();return}if(!this.range){this.value=cl(t),this.calciteDatePickerChange.emit(t);return}const{focusedInput:i}=this;if(i==="start"){if(!this.startAsDate||!Ii(t,this.startAsDate)){const n=cl(t);this.value=Array.isArray(this.value)?[n,this.value[1]||""]:[n],this.start=n,this.calciteDatePickerRangeChange.emit({startDate:t,endDate:this.endAsDate})}}else if(i==="end"&&(!this.endAsDate||!Ii(t,this.endAsDate))){const n=cl(t);this.value=Array.isArray(this.value)?[this.value[0]||"",n]:["",n],this.end=n,this.calciteDatePickerRangeChange.emit({startDate:this.startAsDate,endDate:t})}}blur(e){const{locale:t,focusedInput:i,endAsDate:n,range:r,startAsDate:a,valueAsDate:o}=this;this.getDateFromInput(e.value)||(!r&&o?e.value=Array.isArray(o)?o[i==="end"?1:0].toLocaleDateString(t):o.toLocaleDateString(t):i==="start"&&a?e.value=a.toLocaleDateString(t):i==="end"&&n&&(e.value=n.toLocaleDateString(t)))}shouldFocusRangeStart(){return!!(this.endAsDate&&!this.startAsDate&&this.focusedInput==="end"&&this.startInput)}shouldFocusRangeEnd(){return!!(this.startAsDate&&!this.endAsDate&&this.focusedInput==="start"&&this.endInput)}getDateFromInput(e){if(!this.localeData)return!1;const{separator:t}=this.localeData,{day:i,month:n,year:r}=UX(e,this.localeData),a=i>0,o=n>-1,s=new Date(r,n,i);s.setFullYear(r);const l=!isNaN(s.getTime()),u=e.split(t).filter(m=>m).length>2,h=r.toString().length>0;return a&&o&&l&&u&&h&&k9(s,this.min,this.max)?s:!1}get el(){return this}static get watchers(){return{disabled:["handleDisabledChange"],value:["valueHandler"],min:["onMinChanged"],max:["onMaxChanged"],active:["activeHandler"],layout:["setReferenceEl"],focusedInput:["setReferenceEl"],start:["startWatcher"],end:["endWatcher"],locale:["loadLocaleData"]}}static get style(){return RQ}};var Hw;(function(e){e.valid="check-circle",e.invalid="exclamation-mark-triangle",e.idle="information"})(Hw||(Hw={}));const NQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([active][scale=m]),:host([active][scale=l]){--calcite-input-message-spacing-value:0.25rem}:host{visibility:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:0px;width:100%;-ms-flex-align:center;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([active]){visibility:visible;height:auto;opacity:1;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([active][scale=m]),:host([active][scale=l]){margin-top:var(--calcite-input-message-spacing-value)}.calcite-input-message-icon{pointer-events:none;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-negative:0;flex-shrink:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-ui-danger)}:host([status=warning]) .calcite-input-message-icon{color:var(--calcite-ui-warning)}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-ui-success)}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-ui-brand)}:host([status][active]){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([status][active][scale=s]){font-size:var(--calcite-font-size--3);line-height:0.75rem}:host([status][active][scale=m]){margin-top:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([status][active][scale=l]){margin-top:0.25rem;font-size:var(--calcite-font-size--1);line-height:1rem}",zQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.scale="m",this.status="idle"}handleIconEl(){this.requestedIcon=eu(Hw,this.icon,this.status)}connectedCallback(){this.status=Bt(this.el,"status",this.status),this.scale=Bt(this.el,"scale",this.scale),this.requestedIcon=eu(Hw,this.icon,this.status)}render(){const e=!this.active;return y(Ae,{"calcite-hydrated-hidden":e},this.renderIcon(this.requestedIcon),y("slot",null))}renderIcon(e){if(e)return y("calcite-icon",{class:"calcite-input-message-icon",icon:e,scale:"s"})}get el(){return this}static get watchers(){return{status:["handleIconEl"],icon:["handleIconEl"]}}static get style(){return NQ}},FO=5;function By(e,t=!0){try{const i={hour:"2-digit",minute:"2-digit",timeZone:"UTC"};return t&&(i.second="2-digit"),new Intl.DateTimeFormat(e,i)}catch{throw new Error(`Invalid locale supplied while attempting to create a DateTime formatter: ${e}`)}}function nm(e){const t=e.toString();return e>=0&&e<=9?t.padStart(2,"0"):t}function jQ(e){if(!yh(e))return null;const[t,i,n]=e.split(":"),r=nm(parseInt(t)),a=nm(parseInt(i));if(n){const o=nm(parseInt(n));return`${r}:${a}:${o}`}return`${r}:${a}`}function NO(e){const i=By(e).formatToParts(new Date(Date.UTC(0,0,0,0,0,0)));return al("meridiem",i)?"12":"24"}function al(e,t){var i,n,r,a;if(!e||!t)return null;if(e==="hourSuffix"){const o=t.indexOf(t.find(({type:u})=>u==="hour")),s=t.indexOf(t.find(({type:u})=>u==="minute")),l=t[o+1];return l&&l.type==="literal"&&s-o===2&&((i=l.value)===null||i===void 0?void 0:i.trim())||null}if(e==="minuteSuffix"){const o=t.indexOf(t.find(({type:u})=>u==="minute")),s=t.indexOf(t.find(({type:u})=>u==="second")),l=t[o+1];return l&&l.type==="literal"&&s-o===2&&((n=l.value)===null||n===void 0?void 0:n.trim())||null}if(e==="secondSuffix"){const o=t.indexOf(t.find(({type:l})=>l==="second")),s=t[o+1];return s&&s.type==="literal"&&((r=s.value)===null||r===void 0?void 0:r.trim())||null}return((a=t.find(({type:o})=>e=="meridiem"?o==="dayPeriod":o===e))===null||a===void 0?void 0:a.value)||null}function zO(e){if(!Ot(e))return null;const t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function yh(e){if(!e||e.startsWith(":")||e.endsWith(":"))return!1;const t=e.split(":");if(!(t.length>1&&t.length<4))return!1;const[n,r,a]=t,o=parseInt(t[0]),s=parseInt(t[1]),l=parseInt(t[2]),u=Ot(n)&&o>=0&&o<24,h=Ot(r)&&s>=0&&s<60,m=Ot(a)&&l>=0&&l<60;if(u&&h&&!a||u&&h&&m)return!0}function VQ(e,t){if(t==="meridiem")return e==="AM"||e==="PM";if(!Ot(e))return!1;const i=Number(e);return t==="hour"?i>=0&&i<24:i>=0&&i<60}function l2(e,t,i){if(!VQ(e,t))return;const n=parseInt(e),r=new Date(Date.UTC(0,0,0,t==="hour"?n:t==="meridiem"?e==="AM"?0:12:0,t==="minute"?n:0,t==="second"?n:0));if(!r)return;const o=By(i).formatToParts(r);return al(t,o)}function Wb(e,t="en",i=!0){if(!yh(e))return null;const{hour:n,minute:r,second:a="0"}=xk(e),o=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(r),parseInt(a))),s=By(t,i);return(s==null?void 0:s.format(o))||null}function jO(e,t="en"){if(!yh(e))return null;const{hour:i,minute:n,second:r="0"}=xk(e),a=new Date(Date.UTC(0,0,0,parseInt(i),parseInt(n),parseInt(r)));if(a){const s=By(t).formatToParts(a);return{localizedHour:al("hour",s),localizedHourSuffix:al("hourSuffix",s),localizedMinute:al("minute",s),localizedMinuteSuffix:al("minuteSuffix",s),localizedSecond:al("second",s),localizedSecondSuffix:al("secondSuffix",s),localizedMeridiem:al("meridiem",s)}}return null}function HQ(e,t="en"){if(!yh(e))return null;const{hour:i,minute:n,second:r="0"}=xk(e),a=new Date(Date.UTC(0,0,0,parseInt(i),parseInt(n),parseInt(r)));return a?By(t).formatToParts(a):null}function xk(e){if(yh(e)){const[t,i,n]=e.split(":");return{hour:t,minute:i,second:n}}return{hour:null,minute:null,second:null}}const qQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",UQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInputTimePickerChange=U(this,"calciteInputTimePickerChange",7),this.active=!1,this.disabled=!1,this.locale=document.documentElement.lang||navigator.language||"en",this.required=!1,this.scale="m",this.step=60,this.value=null,this.internalValueChange=!1,this.previousValidValue=null,this.referenceElementId=`input-time-picker-${ri()}`,this.calciteInputBlurHandler=()=>{this.active=!1;const e=this.shouldIncludeSeconds(),t=Wb(this.calciteInputEl.value,this.locale,e);this.setInputValue(t||Wb(this.value,this.locale,e))},this.calciteInputFocusHandler=()=>{this.active=!0},this.calciteInputInputHandler=e=>{const t=e.target;this.setValue({value:t.value})},this.timePickerChangeHandler=e=>{e.stopPropagation();const i=e.target.value;this.setValue({value:i,origin:"time-picker"})},this.setCalciteInputEl=e=>{this.calciteInputEl=e},this.setCalciteTimePickerEl=e=>{this.calciteTimePickerEl=e},this.setInputValue=e=>{!this.calciteInputEl||(this.calciteInputEl.value=e)},this.setValue=({value:e,origin:t="input"})=>{const i=this.value,n=jQ(e),r=Wb(n,this.locale,this.shouldIncludeSeconds());this.internalValueChange=t!=="external"&&t!=="loading";const a=t!=="loading"&&t!=="external"&&(e!==this.previousValidValue&&!e||!!(!this.previousValidValue&&n)||n!==this.previousValidValue&&n);e?(a&&(this.previousValidValue=n),n&&n!==this.value&&(this.value=n),this.localizedValue=r):(this.value=e,this.localizedValue=null),(t==="time-picker"||t==="external")&&this.setInputValue(r),a&&(this.calciteInputTimePickerChange.emit().defaultPrevented?(this.internalValueChange=!1,this.value=i,this.setInputValue(i),this.previousValidValue=i):this.previousValidValue=n)}}activeHandler(){this.disabled&&(this.active=!1)}handleDisabledChange(e){e||(this.active=!1)}localeWatcher(e){this.setInputValue(Wb(this.value,e,this.shouldIncludeSeconds()))}valueWatcher(e){this.internalValueChange||this.setValue({value:e,origin:"external"}),this.internalValueChange=!1}clickHandler(e){e.composedPath().includes(this.calciteTimePickerEl)||this.setFocus()}keyUpHandler(e){e.key==="Escape"&&this.active&&(this.active=!1)}timePickerBlurHandler(e){e.preventDefault(),e.stopPropagation(),this.active=!1}timePickerFocusHandler(e){e.preventDefault(),e.stopPropagation(),this.active=!0}async setFocus(){this.calciteInputEl.setFocus()}onLabelClick(){this.setFocus()}shouldIncludeSeconds(){return this.step<60}connectedCallback(){this.value&&this.setValue({value:yh(this.value)?this.value:void 0,origin:"loading"}),sr(this),mo(this)}componentDidLoad(){this.setInputValue(this.localizedValue)}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}render(){const e=`${this.referenceElementId}-popover`;return y(Ae,null,y("div",{"aria-controls":e,"aria-haspopup":"dialog","aria-label":this.name,"aria-owns":e,id:this.referenceElementId,role:"combobox"},y("calcite-input",{disabled:this.disabled,icon:"clock",label:as(this),onCalciteInputBlur:this.calciteInputBlurHandler,onCalciteInputFocus:this.calciteInputFocusHandler,onCalciteInputInput:this.calciteInputInputHandler,ref:this.setCalciteInputEl,scale:this.scale,step:this.step})),y("calcite-popover",{id:e,label:"Time Picker",open:this.active,referenceElement:this.referenceElementId},y("calcite-time-picker",{intlHour:this.intlHour,intlHourDown:this.intlHourDown,intlHourUp:this.intlHourUp,intlMeridiem:this.intlMeridiem,intlMeridiemDown:this.intlMeridiemDown,intlMeridiemUp:this.intlMeridiemUp,intlMinute:this.intlMinute,intlMinuteDown:this.intlMinuteDown,intlMinuteUp:this.intlMinuteUp,intlSecond:this.intlSecond,intlSecondDown:this.intlSecondDown,intlSecondUp:this.intlSecondUp,lang:this.locale,onCalciteTimePickerChange:this.timePickerChangeHandler,ref:this.setCalciteTimePickerEl,scale:this.scale,step:this.step,value:this.value})),y(go,{component:this}))}get el(){return this}static get watchers(){return{active:["activeHandler"],disabled:["handleDisabledChange"],locale:["localeWatcher"],value:["valueWatcher"]}}static get style(){return qQ}},BQ={container:"container"},GQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline}:host([alignment=start]){text-align:start}:host([alignment=end]){text-align:end}:host([alignment=center]){text-align:center}:host([scale=s]) .container{margin-bottom:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) .container{margin-bottom:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{margin-bottom:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host .container{margin-top:0px;margin-right:0px;margin-left:0px;width:100%;line-height:1.375;color:var(--calcite-ui-text-1)}:host([layout=default]) .container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:0.25rem}:host([layout=inline]) .container,:host([layout=inline-space-between]) .container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;gap:0.5rem}:host([layout=inline][scale=l]) .container{gap:0.75rem}:host([layout=inline-space-between]) .container{-ms-flex-pack:justify;justify-content:space-between}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled])>.container{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted(*){pointer-events:none}:host([disabled]) ::slotted(*[disabled]),:host([disabled]) ::slotted(*[disabled] *){--tw-bg-opacity:1}:host([disabled]) ::slotted(calcite-input-message:not([active])){--tw-bg-opacity:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([disable-spacing]) .container{margin:0px;gap:0px}",WQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalLabelClick=U(this,"calciteInternalLabelClick",3),this.alignment="start",this.status="idle",this.scale="m",this.layout="default",this.disableSpacing=!1,this.disabled=!1,this.labelClickHandler=e=>{this.calciteInternalLabelClick.emit({sourceEvent:e})}}connectedCallback(){document.dispatchEvent(new CustomEvent(bk))}disconnectedCallback(){document.dispatchEvent(new CustomEvent(Nw))}render(){return y(Ae,{onClick:this.labelClickHandler},y("div",{class:BQ.container},y("slot",null)))}get el(){return this}static get style(){return GQ}},JQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline}:host a,:host span{position:relative;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:0px;border-style:none;font-family:inherit;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host span:hover{text-decoration:none}:host a,:host span{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host a:focus,:host span:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}calcite-icon{width:1em;height:1em;min-width:unset;min-height:unset}.calcite-link--icon{vertical-align:text-top;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;margin-top:0.125rem}:host .calcite-link--icon.icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host .calcite-link--icon.icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host span,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0px;color:var(--calcite-ui-text-link);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;line-height:inherit;white-space:initial;background-image:-webkit-gradient(linear, left top, left bottom, from(currentColor), to(currentColor)), -webkit-gradient(linear, left top, left bottom, from(var(--calcite-link-blue-underline)), to(var(--calcite-link-blue-underline)));background-image:linear-gradient(currentColor, currentColor), linear-gradient(var(--calcite-link-blue-underline), var(--calcite-link-blue-underline));background-position:0% 100%, 100% 100%;background-repeat:no-repeat, no-repeat;background-size:0% 1px, 100% 1px}:host span:hover,:host span:focus,:host a:hover,:host a:focus{background-size:100% 1px, 100% 1px}:host span:active,:host a:active{background-size:100% 2px, 100% 2px}:host span.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%, 100% 100%}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",YQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.download=!1,this.storeTagRef=e=>{this.childEl=e}}componentDidRender(){Je(this)}render(){const{download:e,el:t}=this,i=Li(t),n=this.href?"a":"span",r=y("calcite-icon",{class:"calcite-link--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),a=y("calcite-icon",{class:"calcite-link--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"}),o=n,s=n==="span"?"link":null,l=n==="span"?0:null;return y(Ae,{role:"presentation"},y(o,{class:{[Xo.rtl]:i==="rtl"},download:o==="a"&&(e===""||e)?e:null,href:o==="a"&&this.href,ref:this.storeTagRef,rel:o==="a"&&this.rel,role:s,tabIndex:l,target:o==="a"&&this.target},this.iconStart?r:null,y("slot",null),this.iconEnd?a:null))}async setFocus(){ti(this.childEl)}get el(){return this}static get style(){return JQ}},KQ={container:"container"},ZQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;background-color:transparent}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(calcite-list-item){margin-bottom:1px;--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}::slotted(calcite-list-item:last-child){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}",XQ=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1}componentDidRender(){Je(this)}async setFocus(){const e=this.el.querySelector("calcite-list-item:not([non-interactive])");e==null||e.setFocus()}render(){return y(Ae,{role:"list"},y("div",{class:KQ.container},y("slot",null)))}get el(){return this}static get style(){return ZQ}},qr={container:"container",contentContainer:"content-container",nestedContainer:"nested-container",contentContainerButton:"content-container--button",content:"content",actionsStart:"actions-start",contentStart:"content-start",label:"label",description:"description",contentEnd:"content-end",actionsEnd:"actions-end"},Pl={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},QQ="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;background-color:var(--calcite-ui-foreground-1);font-family:var(--calcite-sans-family)}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}.nested-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}.content-container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;padding:0px;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.content-container--button{cursor:pointer;border-style:none;background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;text-align:initial}.content-container--button:hover{background-color:var(--calcite-ui-foreground-2)}.content-container--button:hover .label,.content-container--button:hover .description{color:var(--calcite-ui-text-1)}.content-container--button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description{font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child{margin:0px;padding-top:0.25rem;padding-bottom:0.25rem}.label{color:var(--calcite-ui-text-1)}.description{margin-top:0.125rem;color:var(--calcite-ui-text-3)}.content-start,.content-end{pointer-events:none;-ms-flex:0 1 auto;flex:0 1 auto}.actions-start,.actions-end,.content-start,.content-end{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){-ms-flex-item-align:center;align-self:center;padding-left:0.75rem;padding-right:0.75rem}.actions-start ::slotted(calcite-action),.actions-end ::slotted(calcite-action){-ms-flex-item-align:stretch;align-self:stretch;color:inherit}::slotted(calcite-list-item-group),::slotted(calcite-list-item){padding-left:0.5rem}",eee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.nonInteractive=!1,this.disabled=!1}componentDidRender(){Je(this)}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}async setFocus(){var e;(e=this.focusEl)===null||e===void 0||e.focus()}renderActionsStart(){const{el:e}=this;return ve(e,Pl.actionsStart)?y("div",{class:qr.actionsStart},y("slot",{name:Pl.actionsStart})):null}renderActionsEnd(){const{el:e}=this;return ve(e,Pl.actionsEnd)?y("div",{class:qr.actionsEnd},y("slot",{name:Pl.actionsEnd})):null}renderContentStart(){const{el:e}=this;return ve(e,Pl.contentStart)?y("div",{class:qr.contentStart},y("slot",{name:Pl.contentStart})):null}renderContentEnd(){const{el:e}=this;return ve(e,Pl.contentEnd)?y("div",{class:qr.contentEnd},y("slot",{name:Pl.contentEnd})):null}renderContent(){const{label:e,description:t}=this;return!!e||!!t?y("div",{class:qr.content},e?y("div",{class:qr.label},e):null,t?y("div",{class:qr.description},t):null):null}renderContentContainer(){const{disabled:e,nonInteractive:t}=this,i=[this.renderContentStart(),this.renderContent(),this.renderContentEnd()];return t?y("div",{class:qr.contentContainer,ref:()=>this.focusEl=null},i):y("button",{class:{[qr.contentContainer]:!0,[qr.contentContainerButton]:!0},disabled:e,ref:n=>this.focusEl=n},i)}render(){return y(Ae,{role:"listitem"},y("div",{class:qr.container},this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),y("div",{class:qr.nestedContainer},y("slot",null)))}get el(){return this}static get style(){return QQ}},VO={heading:"heading",container:"container"},tee=3,iee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.heading{margin:0px;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;background-color:var(--calcite-ui-foreground-2);padding:0.75rem;font-family:var(--calcite-sans-family);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-2)}.container{display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;background-color:var(--calcite-ui-foreground-1)}::slotted(calcite-list-item-group){padding-left:0.5rem}",nee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow()}render(){var e;const{el:t,heading:i,headingLevel:n}=this,r=(e=t.closest("calcite-list, calcite-list-item-group"))===null||e===void 0?void 0:e.headingLevel,a=r?nT(r+1):null,o=n||a||tee;return y(Ae,null,i?y(lu,{class:VO.heading,level:o},i):null,y("div",{class:VO.container,role:"group"},y("slot",null)))}get el(){return this}static get style(){return iee}},ree='@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;margin-left:auto;margin-right:auto;display:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-top:4rem;padding-bottom:4rem;opacity:1;min-height:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-ui-brand);stroke-width:3;fill:none;-webkit-transform:scale(1, 1);transform:scale(1, 1);animation:loader-color-shift 6s alternate-reverse infinite linear}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-top:0px;padding-bottom:0px}:host{display:none}:host([active]){display:-ms-flexbox;display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);margin-top:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-loader-font-size);width:var(--calcite-loader-size);left:50%;margin-left:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;-webkit-transform:scale(1, 1);transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;width:var(--calcite-loader-size);height:var(--calcite-loader-size);left:50%;margin-left:calc(var(--calcite-loader-size) / 2 * -1);-webkit-transform:scale(1, 1);transform:scale(1, 1)}.loader__svg{position:absolute;top:0px;left:0px;-webkit-transform-origin:center;transform-origin:center;overflow:visible;width:var(--calcite-loader-size);height:var(--calcite-loader-size);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-name:loader-clockwise;animation-name:loader-clockwise}@supports (display: grid){.loader__svg--1{-webkit-animation-name:loader-offset-1;animation-name:loader-offset-1}.loader__svg--2{-webkit-animation-name:loader-offset-2;animation-name:loader-offset-2}.loader__svg--3{-webkit-animation-name:loader-offset-3;animation-name:loader-offset-3}}:host([type=determinate]){-webkit-animation:none;animation:none;stroke:var(--calcite-ui-border-3)}:host([type=determinate]) .loader__svg--3{-webkit-animation:none;animation:none;stroke:var(--calcite-ui-brand);stroke-dasharray:150.79632;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:all var(--calcite-internal-animation-timing-fast) linear;transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;-webkit-animation:none;animation:none;stroke:currentColor;stroke-width:2;padding-top:0px;padding-bottom:0px;height:var(--calcite-loader-size-inline);min-height:var(--calcite-loader-size-inline);width:var(--calcite-loader-size-inline);-webkit-margin-end:calc(var(--calcite-loader-size-inline) * 0.5);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([active][inline]){display:inline-block}:host([inline]) .loader__svgs{top:0px;left:0px;margin:0px;width:var(--calcite-loader-size-inline);height:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{width:var(--calcite-loader-size-inline);height:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;-webkit-transform:scale(0.75, 0.75);transform:scale(0.75, 0.75);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms, -webkit-transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;-webkit-transform:scale(0.75, 0.75);transform:scale(0.75, 0.75);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, -webkit-transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-ui-brand);-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05);-webkit-transform-origin:center;transform-origin:center;-webkit-transition:color var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear, -webkit-transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444% 139.6262222222%;-webkit-animation-duration:0.72s;animation-duration:0.72s}@-webkit-keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}.loader__svg--2{stroke-dasharray:55.8504888889% 139.6262222222%;-webkit-animation-duration:0.96s;animation-duration:0.96s}@-webkit-keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}.loader__svg--3{stroke-dasharray:13.9626222222% 139.6262222222%;-webkit-animation-duration:1.16s;animation-duration:1.16s}@-webkit-keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@-webkit-keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@-webkit-keyframes loader-clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loader-clockwise{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}',aee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.inline=!1,this.scale="m",this.value=0,this.text="",this.noPadding=!1}render(){const{el:e,inline:t,label:i,scale:n,text:r,type:a,value:o}=this,s=e.id||ri(),l=.45,u=t?this.getInlineSize(n):this.getSize(n),h=u*l,m=`0 0 ${u} ${u}`,f=a==="determinate",g=2*h*Math.PI,b=o/100*g,v=g-b,w=Math.floor(o),x={"aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,complete:w===100},S={r:h,cx:u/2,cy:u/2},E={"stroke-dasharray":`${b} ${v}`};return y(Ae,Object.assign({"aria-label":i,id:s,role:"progressbar"},f?x:{}),y("div",{class:"loader__svgs"},y("svg",{class:"loader__svg loader__svg--1",viewBox:m},y("circle",Object.assign({},S))),y("svg",{class:"loader__svg loader__svg--2",viewBox:m},y("circle",Object.assign({},S))),y("svg",Object.assign({class:"loader__svg loader__svg--3",viewBox:m},f?{style:E}:{}),y("circle",Object.assign({},S)))),r&&y("div",{class:"loader__text"},r),f&&y("div",{class:"loader__percentage"},o))}getSize(e){return{s:32,m:56,l:80}[e]}getInlineSize(e){return{s:12,m:16,l:20}[e]}get el(){return this}static get style(){return ree}};function u1(e,t,i,n=20,r=0){let a=[];if(r>=n)return a;const o=l=>{const u=l.assignedNodes().filter(h=>h.nodeType===1);return u.length>0?u1(u[0].parentElement,t,i,n,r+1):[]},s=Array.from(e.children||[]);for(const l of s)t(l)||(i(l)&&a.push(l),l.shadowRoot!=null?a.push(...u1(l.shadowRoot,t,i,n,r+1)):l.tagName==="SLOT"?a.push(...o(l)):a.push(...u1(l,t,i,n,r+1)));return a}function D9(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&e.getAttribute("aria-hidden")!=="false"||e.style.display==="none"||e.style.opacity==="0"||e.style.visibility==="hidden"||e.style.visibility==="collapse"}function oee(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&e.getAttribute("aria-disabled")!=="false"}function see(e){return e.getAttribute("tabindex")==="-1"||D9(e)||oee(e)?!1:e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement}const Sa={title:"title",header:"header",footer:"footer",scrim:"scrim",back:"back",close:"close",secondary:"secondary",primary:"primary",overflowHidden:"overflow-hidden"},lee={close:"x"},Ts={content:"content",header:"header",back:"back",secondary:"secondary",primary:"primary"},cee={close:"Close"},uee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:fixed;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow-y:hidden;color:var(--calcite-ui-text-2);opacity:0;visibility:hidden !important;-webkit-transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);z-index:101}:host([scale=s]){--calcite-modal-padding:0.75rem;--calcite-modal-padding-large:1rem;--calcite-modal-title-text:var(--calcite-font-size-1);--calcite-modal-content-text:var(--calcite-font-size--1)}:host([scale=m]){--calcite-modal-padding:1rem;--calcite-modal-padding-large:1.25rem;--calcite-modal-title-text:var(--calcite-font-size-2);--calcite-modal-content-text:var(--calcite-font-size-0)}:host([scale=l]){--calcite-modal-padding:1.25rem;--calcite-modal-padding-large:1.5rem;--calcite-modal-title-text:var(--calcite-font-size-3);--calcite-modal-content-text:var(--calcite-font-size-1)}.scrim{--calcite-scrim-background:rgba(0, 0, 0, 0.75);position:fixed;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;overflow-y:hidden}.modal{pointer-events:none;float:none;margin:1.5rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-direction:column;flex-direction:column;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);opacity:0;--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);overflow:hidden;z-index:102;-webkit-overflow-scrolling:touch;visibility:hidden;-webkit-transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear 300ms, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);-webkit-transform:translate3d(0, 20px, 0);transform:translate3d(0, 20px, 0)}:host([active]){opacity:1;visibility:visible !important;-webkit-transition-delay:0ms;transition-delay:0ms}:host([active]) .modal{pointer-events:auto;visibility:visible;opacity:1;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition:transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-width var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-height var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88), -webkit-transform var(--calcite-internal-animation-timing-slow) cubic-bezier(0.215, 0.44, 0.42, 0.88);-webkit-transition-delay:0ms;transition-delay:0ms}.header{display:-ms-flexbox;display:flex;min-width:0px;max-width:100%;border-top-left-radius:0.25rem;border-top-right-radius:0.25rem;border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);-ms-flex:0 0 auto;flex:0 0 auto;z-index:2}.close{-ms-flex-order:2;order:2;margin:0px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-start-end-radius:0.25rem;padding:var(--calcite-modal-padding);-ms-flex:0 0 auto;flex:0 0 auto}.close calcite-icon{pointer-events:none;vertical-align:-2px}.close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.close:hover,.close:focus,.close:active{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.title{-ms-flex-order:1;order:1;display:-ms-flexbox;display:flex;min-width:0px;-ms-flex-align:center;align-items:center;-ms-flex:1 1 auto;flex:1 1 auto;padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large)}slot[name=header]::slotted(*),*::slotted([slot=header]){margin:0px;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1);font-size:var(--calcite-modal-title-text)}.content{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:100%;overflow:auto;background-color:var(--calcite-ui-foreground-1);padding:0px;max-height:calc(100vh - 12rem);z-index:1}.content--spaced{padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large)}.content--no-footer{border-bottom-right-radius:0.25rem;border-bottom-left-radius:0.25rem}slot[name=content]::slotted(*),*::slotted([slot=content]){font-size:var(--calcite-modal-content-text)}:host([background-color=grey]) .content{background-color:var(--calcite-ui-background)}.footer{margin-top:auto;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:justify;justify-content:space-between;border-bottom-right-radius:0.25rem;border-bottom-left-radius:0.25rem;border-width:0px;border-top-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1);-ms-flex:0 0 auto;flex:0 0 auto;padding:var(--calcite-modal-padding) var(--calcite-modal-padding-large);z-index:2}.footer--hide-back .back,.footer--hide-secondary .secondary{display:none}.back{display:block;-webkit-margin-end:auto;margin-inline-end:auto}.secondary{margin-left:0.25rem;margin-right:0.25rem;display:block}slot[name=primary]{display:block}:host([width=small]) .modal{width:auto}:host([width=s]) .modal{max-width:32rem}@media screen and (max-width: 35rem){:host([width=s]) .modal{margin:0px}:host([width=s]) .modal{height:100%}:host([width=s]) .modal{max-height:100%}:host([width=s]) .modal{width:100%}:host([width=s]) .modal{max-width:100%}:host([width=s]) .modal{border-radius:0px}:host([width=s]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=s][docked]){-ms-flex-align:end;align-items:flex-end}}:host([width=m]) .modal{max-width:48rem}@media screen and (max-width: 51rem){:host([width=m]) .modal{margin:0px}:host([width=m]) .modal{height:100%}:host([width=m]) .modal{max-height:100%}:host([width=m]) .modal{width:100%}:host([width=m]) .modal{max-width:100%}:host([width=m]) .modal{border-radius:0px}:host([width=m]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=m][docked]){-ms-flex-align:end;align-items:flex-end}}:host([width=l]) .modal{max-width:94rem}@media screen and (max-width: 97rem){:host([width=l]) .modal{margin:0px}:host([width=l]) .modal{height:100%}:host([width=l]) .modal{max-height:100%}:host([width=l]) .modal{width:100%}:host([width=l]) .modal{max-width:100%}:host([width=l]) .modal{border-radius:0px}:host([width=l]) .content{-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset}:host([width=l][docked]){-ms-flex-align:end;align-items:flex-end}}:host([fullscreen]){background-color:transparent}:host([fullscreen]) .modal{margin:0px;height:100%;max-height:100%;width:100%;max-width:100%;-webkit-transform:translate3D(0, 20px, 0) scale(0.95);transform:translate3D(0, 20px, 0) scale(0.95)}:host([fullscreen]) .content{max-height:100%;-ms-flex:1 1 auto;flex:1 1 auto}:host([active][fullscreen]) .modal{-webkit-transform:translate3D(0, 0, 0) scale(1);transform:translate3D(0, 0, 0) scale(1)}:host([active][fullscreen]) .header{border-radius:0}:host([active][fullscreen]) .footer{border-radius:0}:host([docked]) .modal{height:auto}:host([docked]) .content{height:auto;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (max-width: 860px){:host([docked]) .modal{border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}:host([docked]) .close{border-start-end-radius:var(--calcite-border-radius)}}:host([color=red]) .modal{border-color:var(--calcite-ui-danger)}:host([color=blue]) .modal{border-color:var(--calcite-ui-info)}:host([color=red]) .modal,:host([color=blue]) .modal{border-width:0px;border-top-width:4px;border-style:solid}:host([color=red]) .header,:host([color=blue]) .header{border-radius:0.25rem;border-bottom-right-radius:0px;border-bottom-left-radius:0px}@media screen and (max-width: 860px){slot[name=header]::slotted(*),*::slotted([slot=header]){font-size:var(--calcite-font-size-1)}.footer{position:-webkit-sticky;position:sticky}.footer{bottom:0px}}@media screen and (max-width: 480px){.footer{-ms-flex-direction:column;flex-direction:column}.back,.secondary{margin:0px}.back,.secondary{margin-bottom:0.25rem}}",dee=e=>FN(e)||see(e),HO=e=>u1(e,D9,dee),hee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteModalOpen=U(this,"calciteModalOpen",7),this.calciteModalClose=U(this,"calciteModalClose",7),this.active=!1,this.beforeClose=()=>Promise.resolve(),this.disableCloseButton=!1,this.disableOutsideClose=!1,this.intlClose=cee.close,this.disableEscape=!1,this.scale="m",this.width="m",this.backgroundColor="white",this.noPadding=!1,this.hasFooter=!0,this.mutationObserver=Nt("mutation",()=>this.updateFooterVisibility()),this.activeTransitionProp="opacity",this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.active?this.calciteModalOpen.emit():this.calciteModalClose.emit())},this.openEnd=()=>{this.setFocus(),this.el.removeEventListener("calciteModalOpen",this.openEnd)},this.handleOutsideClose=()=>{this.disableOutsideClose||this.close()},this.close=()=>this.beforeClose(this.el).then(()=>{this.active=!1,ti(this.previousActiveElement),this.removeOverflowHiddenClass()}),this.focusFirstElement=()=>{ti(this.closeButtonEl)},this.focusLastElement=()=>{const e=HO(this.el).filter(t=>!t.getAttribute("data-focus-fence"));e.length>0?ti(e[e.length-1]):ti(this.closeButtonEl)},this.updateFooterVisibility=()=>{this.hasFooter=!!ve(this.el,[Ts.back,Ts.primary,Ts.secondary])}}componentWillLoad(){this.active&&this.open()}connectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0}),this.updateFooterVisibility(),pi(this)}disconnectedCallback(){var e;this.removeOverflowHiddenClass(),(e=this.mutationObserver)===null||e===void 0||e.disconnect(),mi(this)}render(){return y(Ae,{"aria-describedby":this.contentId,"aria-labelledby":this.titleId,"aria-modal":"true",role:"dialog"},y("calcite-scrim",{class:Sa.scrim,onClick:this.handleOutsideClose}),this.renderStyle(),y("div",{class:"modal",onTransitionEnd:this.transitionEnd},y("div",{"data-focus-fence":!0,onFocus:this.focusLastElement,tabindex:"0"}),y("div",{class:Sa.header},this.renderCloseButton(),y("header",{class:Sa.title},y("slot",{name:Sa.header}))),y("div",{class:{content:!0,"content--spaced":!this.noPadding,"content--no-footer":!this.hasFooter},ref:e=>this.modalContent=e},y("slot",{name:Ts.content})),this.renderFooter(),y("div",{"data-focus-fence":!0,onFocus:this.focusFirstElement,tabindex:"0"})))}renderFooter(){return this.hasFooter?y("div",{class:Sa.footer,key:"footer"},y("span",{class:Sa.back},y("slot",{name:Ts.back})),y("span",{class:Sa.secondary},y("slot",{name:Ts.secondary})),y("span",{class:Sa.primary},y("slot",{name:Ts.primary}))):null}renderCloseButton(){return this.disableCloseButton?null:y("button",{"aria-label":this.intlClose,class:Sa.close,key:"button",onClick:this.close,ref:e=>this.closeButtonEl=e,title:this.intlClose},y("calcite-icon",{icon:lee.close,scale:this.scale==="s"?"s":this.scale==="m"?"m":this.scale==="l"?"l":null}))}renderStyle(){return!isNaN(parseInt(`${this.width}`))?y("style",null,`
        .modal {
          max-width: ${this.width}px !important;
        }
        @media screen and (max-width: ${this.width}px) {
          .modal {
            height: 100% !important;
            max-height: 100% !important;
            width: 100% !important;
            max-width: 100% !important;
            margin: 0 !important;
            border-radius: 0 !important;
          }
          .content {
            flex: 1 1 auto !important;
            max-height: unset !important;
          }
        }
      `):null}handleEscape(e){this.active&&!this.disableEscape&&e.key==="Escape"&&this.close()}async focusElement(e){return e&&e.focus(),this.setFocus()}async setFocus(e){const t=this.closeButtonEl;return ti(e==="close-button"?t:HO(this.el)[0]||t)}async scrollContent(e=0,t=0){this.modalContent&&(this.modalContent.scrollTo?this.modalContent.scrollTo({top:e,left:t,behavior:"smooth"}):(this.modalContent.scrollTop=e,this.modalContent.scrollLeft=t))}async toggleModal(e,t){e!==t&&(e?this.open():e||this.close())}open(){this.previousActiveElement=document.activeElement,this.el.addEventListener("calciteModalOpen",this.openEnd),this.active=!0;const e=ve(this.el,Ts.header),t=ve(this.el,Ts.content);this.titleId=PM(e),this.contentId=PM(t),document.documentElement.classList.add(Sa.overflowHidden)}removeOverflowHiddenClass(){document.documentElement.classList.remove(Sa.overflowHidden)}get el(){return this}static get watchers(){return{active:["toggleModal"]}}static get style(){return uee}},pee={close:"Close"},Lf={title:"title",message:"message",link:"link",actionsEnd:"actions-end"},Rf={actionsEnd:"actions-end",close:"notice-close",container:"container",content:"notice-content",icon:"notice-icon"},mee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-notice-spacing-token-small:0.5rem;--calcite-notice-spacing-token-large:0.75rem}:host([scale=s]) .container slot[name=title]::slotted(*),:host([scale=s]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) .container slot[name=message]::slotted(*),:host([scale=s]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .notice-close{padding:0.5rem}:host([scale=m]){--calcite-notice-spacing-token-small:0.75rem;--calcite-notice-spacing-token-large:1rem}:host([scale=m]) .container slot[name=title]::slotted(*),:host([scale=m]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) .container slot[name=message]::slotted(*),:host([scale=m]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=l]){--calcite-notice-spacing-token-small:1rem;--calcite-notice-spacing-token-large:1.25rem}:host([scale=l]) .container slot[name=title]::slotted(*),:host([scale=l]) .container *::slotted([slot=title]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) .container slot[name=message]::slotted(*),:host([scale=l]) .container *::slotted([slot=message]){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) ::slotted(calcite-link){margin-top:0.125rem;margin-bottom:0.125rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([width=auto]){--calcite-notice-width:auto}:host([width=half]){--calcite-notice-width:50%}:host([width=full]){--calcite-notice-width:100%}:host{margin-left:auto;margin-right:auto;display:none;max-width:100%;-ms-flex-align:center;align-items:center;width:var(--calcite-notice-width)}.container{pointer-events:none;margin-top:0px;margin-bottom:0px;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;width:100%;background-color:var(--calcite-ui-foreground-1);opacity:0;max-height:0;text-align:start;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);-webkit-border-start:0px solid;border-inline-start:0px solid;-webkit-box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 transparent}.notice-close{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.notice-close:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host{display:-ms-flexbox;display:flex}:host([active]) .container{pointer-events:auto;display:-ms-flexbox;display:flex;max-height:100%;-ms-flex-align:center;align-items:center;border-width:2px;opacity:1;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.container slot[name=title]::slotted(*),.container *::slotted([slot=title]){margin:0px;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}.container slot[name=message]::slotted(*),.container *::slotted([slot=message]){margin:0px;display:inline;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2);-webkit-margin-end:var(--calcite-notice-spacing-token-small);margin-inline-end:var(--calcite-notice-spacing-token-small)}.notice-content{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;display:-ms-flexbox;display:flex;min-width:0px;-ms-flex-direction:column;flex-direction:column;overflow-wrap:break-word;-ms-flex:1 1 0px;flex:1 1 0;padding-block:var(--calcite-notice-spacing-token-small);padding-inline:0 var(--calcite-notice-spacing-token-small)}.notice-content:first-of-type:not(:only-child){-webkit-padding-start:var(--calcite-notice-spacing-token-large);padding-inline-start:var(--calcite-notice-spacing-token-large)}.notice-content:only-of-type{padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large)}.notice-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto}.notice-close{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-item-align:stretch;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;padding:var(--calcite-notice-spacing-token-small) var(--calcite-notice-spacing-token-large);-ms-flex:0 0 auto;flex:0 0 auto;-webkit-appearance:none}.notice-close:hover,.notice-close:focus{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.notice-close:active{background-color:var(--calcite-ui-foreground-3)}.actions-end{display:-ms-flexbox;display:flex;-ms-flex-item-align:stretch;align-self:stretch}:host([color=blue]) .container{border-color:var(--calcite-ui-brand)}:host([color=blue]) .container .notice-icon{color:var(--calcite-ui-brand)}:host([color=red]) .container{border-color:var(--calcite-ui-danger)}:host([color=red]) .container .notice-icon{color:var(--calcite-ui-danger)}:host([color=yellow]) .container{border-color:var(--calcite-ui-warning)}:host([color=yellow]) .container .notice-icon{color:var(--calcite-ui-warning)}:host([color=green]) .container{border-color:var(--calcite-ui-success)}:host([color=green]) .container .notice-icon{color:var(--calcite-ui-success)}",fee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteNoticeClose=U(this,"calciteNoticeClose",7),this.calciteNoticeOpen=U(this,"calciteNoticeOpen",7),this.active=!1,this.color="blue",this.dismissible=!1,this.intlClose=pee.close,this.scale="m",this.width="auto",this.close=()=>{this.active=!1,this.calciteNoticeClose.emit()}}updateRequestedIcon(){this.requestedIcon=eu(xm,this.icon,this.color)}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}componentWillLoad(){this.requestedIcon=eu(xm,this.icon,this.color)}render(){const{el:e}=this,t=y("button",{"aria-label":this.intlClose,class:Rf.close,onClick:this.close,ref:n=>this.closeButton=n},y("calcite-icon",{icon:"x",scale:this.scale==="l"?"m":"s"})),i=ve(e,Lf.actionsEnd);return y("div",{class:Rf.container},this.requestedIcon?y("div",{class:Rf.icon},y("calcite-icon",{icon:this.requestedIcon,scale:this.scale==="l"?"m":"s"})):null,y("div",{class:Rf.content},y("slot",{name:Lf.title}),y("slot",{name:Lf.message}),y("slot",{name:Lf.link})),i?y("div",{class:Rf.actionsEnd},y("slot",{name:Lf.actionsEnd})):null,this.dismissible?t:null)}async setFocus(){const e=this.el.querySelector("calcite-link");!this.closeButton&&!e||(e?e.setFocus():this.closeButton&&this.closeButton.focus())}get el(){return this}static get watchers(){return{icon:["updateRequestedIcon"],color:["updateRequestedIcon"]}}static get style(){return mee}},gee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}",yee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteOptionChange=U(this,"calciteOptionChange",7),this.disabled=!1,this.mutationObserver=Nt("mutation",()=>{this.ensureTextContentDependentProps(),this.calciteOptionChange.emit()})}handlePropChange(e,t,i){(i==="label"||i==="value")&&this.ensureTextContentDependentProps(),this.calciteOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:e}}=this;(!this.label||this.label===this.internallySetLabel)&&(this.label=e,this.internallySetLabel=e),(!this.value||this.value===this.internallySetValue)&&(this.value=e,this.internallySetValue=e)}connectedCallback(){var e;this.ensureTextContentDependentProps(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return y("slot",null,this.label)}get el(){return this}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}}static get style(){return gee}},bee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}",vee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteOptionGroupChange=U(this,"calciteOptionGroupChange",7),this.disabled=!1}handlePropChange(){this.calciteOptionGroupChange.emit()}render(){return y(mn,null,y("div",null,this.label),y("slot",null))}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"]}}static get style(){return bee}},So={page:"page",selected:"is-selected",previous:"previous",next:"next",disabled:"is-disabled",ellipsis:"ellipsis",ellipsisStart:"ellipsis--start",ellipsisEnd:"ellipsis--end"},qO={nextLabel:"Next",previousLabel:"Previous"},wee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-pagination-spacing:0.25rem 0.5rem}:host([scale=s]) .previous,:host([scale=s]) .next,:host([scale=s]) .page{height:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .previous,:host([scale=s]) .next{padding-left:0.25rem;padding-right:0.25rem}:host([scale=m]){--calcite-pagination-spacing:0.5rem 0.75rem}:host([scale=m]) .previous,:host([scale=m]) .next,:host([scale=m]) .page{height:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .previous,:host([scale=m]) .next{padding-left:0.5rem;padding-right:0.5rem}:host([scale=l]){--calcite-pagination-spacing:0.75rem 1rem}:host([scale=l]) .previous,:host([scale=l]) .next,:host([scale=l]) .page{height:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .previous,:host([scale=l]) .next{padding-left:1rem;padding-right:1rem}:host{display:-ms-flexbox;display:flex;-webkit-writing-mode:horizontal-tb;-ms-writing-mode:lr-tb;writing-mode:horizontal-tb}:host button{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host button:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.previous,.next,.page{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;border-style:none;--tw-border-opacity:0;background-color:transparent;font-family:inherit;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-3);border-top:2px solid transparent;border-bottom:2px solid transparent}.previous:hover,.next:hover,.page:hover{color:var(--calcite-ui-text-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.page:hover{border-bottom-color:var(--calcite-ui-border-2)}.page.is-selected{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);border-bottom-color:var(--calcite-ui-brand)}.previous:hover,.next:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-brand)}.previous:active,.next:active{background-color:var(--calcite-ui-foreground-3)}.previous.is-disabled,.next.is-disabled{pointer-events:none;background-color:transparent}.previous.is-disabled>calcite-icon,.next.is-disabled>calcite-icon{opacity:var(--calcite-ui-opacity-disabled)}.next{margin-right:0px}.page,.ellipsis{padding:var(--calcite-pagination-spacing)}.ellipsis{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;color:var(--calcite-ui-text-3)}",Jb=5,xee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePaginationUpdate=U(this,"calcitePaginationUpdate",7),this.calcitePaginationChange=U(this,"calcitePaginationChange",7),this.num=20,this.start=1,this.total=0,this.textLabelNext=qO.nextLabel,this.textLabelPrevious=qO.previousLabel,this.scale="m",this.previousClicked=()=>{this.previousPage().then(),this.emitUpdate()},this.nextClicked=()=>{this.nextPage(),this.emitUpdate()}}async nextPage(){this.start=Math.min(this.getLastStart(),this.start+this.num)}async previousPage(){this.start=Math.max(1,this.start-this.num)}getLastStart(){const{total:e,num:t}=this;return(e%t===0?e-t:Math.floor(e/t)*t)+1}showLeftEllipsis(){return Math.floor(this.start/this.num)>3}showRightEllipsis(){return(this.total-this.start)/this.num>3}emitUpdate(){const e={start:this.start,total:this.total,num:this.num};this.calcitePaginationChange.emit(e),this.calcitePaginationUpdate.emit(e)}renderPages(){const e=this.getLastStart();let t,i;this.total/this.num<=Jb?(i=1+this.num,t=e-this.num):this.start/this.num<Jb-1?(i=1+this.num,t=1+4*this.num):this.start+3*this.num>=this.total?(i=e-4*this.num,t=e-this.num):(i=this.start-this.num,t=this.start+this.num);const n=[];for(;i<=t;)n.push(i),i=i+this.num;return n.map(r=>this.renderPage(r))}renderPage(e){const t=Math.floor(e/this.num)+(this.num===1?0:1);return y("button",{class:{[So.page]:!0,[So.selected]:e===this.start},onClick:()=>{this.start=e,this.emitUpdate()}},t)}renderLeftEllipsis(){if(this.total/this.num>Jb&&this.showLeftEllipsis())return y("span",{class:`${So.ellipsis} ${So.ellipsisStart}`},"\u2026")}renderRightEllipsis(){if(this.total/this.num>Jb&&this.showRightEllipsis())return y("span",{class:`${So.ellipsis} ${So.ellipsisEnd}`},"\u2026")}render(){const{total:e,num:t,start:i}=this,n=t===1?i<=t:i<t,r=i+t>e;return y(mn,null,y("button",{"aria-label":this.textLabelPrevious,class:{[So.previous]:!0,[So.disabled]:n},disabled:n,onClick:this.previousClicked},y("calcite-icon",{flipRtl:!0,icon:"chevronLeft",scale:"s"})),e>t?this.renderPage(1):null,this.renderLeftEllipsis(),this.renderPages(),this.renderRightEllipsis(),this.renderPage(this.getLastStart()),y("button",{"aria-label":this.textLabelNext,class:{[So.next]:!0,[So.disabled]:r},disabled:r,onClick:this.nextClicked},y("calcite-icon",{flipRtl:!0,icon:"chevronRight",scale:"s"})))}get el(){return this}static get style(){return wee}},Ni={backButton:"back-button",container:"container",header:"header",heading:"heading",summary:"summary",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",contentContainer:"content-container",contentHeight:"content-height",fabContainer:"fab-container",footer:"footer",menuContainer:"menu-container",menuButton:"menu-button",menu:"menu",menuOpen:"menu--open"},Yb={close:"x",menu:"ellipsis",backLeft:"chevron-left",backRight:"chevron-right"},bn={headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerActions:"footer-actions"},Kb={back:"Back",close:"Close",open:"Open",options:"Options"},kee=3,_ee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;--calcite-min-header-height:calc(var(--calcite-icon-size) * 3);--calcite-panel-max-height:unset;--calcite-panel-width:100%;--calcite-panel-min-width:unset;--calcite-panel-max-width:unset}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.container{margin:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-background);padding:0px;max-height:var(--calcite-panel-max-height);width:var(--calcite-panel-width);max-width:var(--calcite-panel-max-width);min-width:var(--calcite-panel-min-width);-webkit-transition:max-height var(--calcite-animation-timing), width var(--calcite-animation-timing);transition:max-height var(--calcite-animation-timing), width var(--calcite-animation-timing)}:host([height-scale=s]){--calcite-panel-max-height:40vh}:host([height-scale=m]){--calcite-panel-max-height:60vh}:host([height-scale=l]){--calcite-panel-max-height:80vh}:host([width-scale=s]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 12vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 300px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 150px)}:host([width-scale=m]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 20vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 420px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 240px)}:host([width-scale=l]){--calcite-panel-width:calc(var(--calcite-panel-width-multiplier) * 45vw);--calcite-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 680px);--calcite-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 340px)}.container[hidden]{display:none}:host([loading]) .container,:host([disabled]) .container{position:relative;z-index:1}.header{border-bottom:1px solid;position:-webkit-sticky;position:sticky;top:0px;width:100%;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;justify-content:flex-start;background-color:var(--calcite-ui-foreground-1);border-bottom-color:var(--calcite-ui-border-3);-ms-flex:0 0 auto;flex:0 0 auto;z-index:2}.header-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.875rem;padding-bottom:0.875rem;overflow:hidden;-webkit-margin-end:auto;margin-inline-end:auto}.header-content .heading,.header-content .summary{display:block;overflow-wrap:break-word;padding:0px}.header-content .heading{margin-left:0px;margin-right:0px;margin-top:0px;margin-bottom:0.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-medium)}.header-content .heading:only-child{margin-bottom:0px}.header-content .summary{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}.back-button{border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);border-inline-end-width:1px}.header-actions{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch}.header-actions--end,.menu-container:only-child{-webkit-margin-start:auto;margin-inline-start:auto}.menu-button{position:relative;height:100%;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-item-align:stretch;align-self:stretch}.menu{min-width:10rem;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.content-wrapper{overflow:auto}.content-height{height:100%}.content-container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-background)}.footer{border-top:1px solid;position:-webkit-sticky;position:sticky;bottom:0px;display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:space-evenly;justify-content:space-evenly;background-color:var(--calcite-ui-foreground-1);border-top-color:var(--calcite-ui-border-3);-ms-flex:0 0 auto;flex:0 0 auto;min-height:3rem;padding:0.5rem}.fab-container{position:-webkit-sticky;position:sticky;bottom:0px;left:0px;right:0px;margin-top:0px;margin-bottom:0px;margin-left:auto;margin-right:auto;display:block;padding:0.5rem;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;z-index:1}",See=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePanelDismissedChange=U(this,"calcitePanelDismissedChange",7),this.calcitePanelScroll=U(this,"calcitePanelScroll",7),this.calcitePanelBackClick=U(this,"calcitePanelBackClick",7),this.dismissed=!1,this.disabled=!1,this.dismissible=!1,this.showBackButton=!1,this.loading=!1,this.menuOpen=!1,this.setContainerRef=e=>{this.containerEl=e},this.setDismissRef=e=>{this.dismissButtonEl=e},this.setBackRef=e=>{this.backButtonEl=e},this.panelKeyDownHandler=e=>{e.key==="Escape"&&this.dismiss()},this.dismiss=()=>{this.dismissed=!0},this.panelScrollHandler=()=>{this.calcitePanelScroll.emit()},this.backButtonClick=()=>{this.calcitePanelBackClick.emit()}}dismissedHandler(){this.calcitePanelDismissedChange.emit()}componentDidRender(){Je(this)}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}async setFocus(e){var t,i,n;if(e==="dismiss-button"){(t=this.dismissButtonEl)===null||t===void 0||t.setFocus();return}if(e==="back-button"){(i=this.backButtonEl)===null||i===void 0||i.setFocus();return}(n=this.containerEl)===null||n===void 0||n.focus()}async scrollContentTo(e){var t;(t=this.panelScrollEl)===null||t===void 0||t.scrollTo(e)}renderBackButton(){const{el:e}=this,t=Li(e)==="rtl",{showBackButton:i,intlBack:n,backButtonClick:r}=this,a=n||Kb.back,o=t?Yb.backRight:Yb.backLeft;return i?y("calcite-action",{"aria-label":a,class:Ni.backButton,icon:o,key:"back-button",onClick:r,ref:this.setBackRef,scale:"s",slot:bn.headerActionsStart,text:a}):null}renderHeaderContent(){const{heading:e,headingLevel:t,summary:i}=this,n=e?y(lu,{class:Ni.heading,level:t||kee},e):null,r=i?y("span",{class:Ni.summary},i):null;return n||r?y("div",{class:Ni.headerContent,key:"header-content"},n,r):null}renderHeaderSlottedContent(){return y("div",{class:Ni.headerContent,key:"slotted-header-content"},y("slot",{name:bn.headerContent}))}renderHeaderStartActions(){const{el:e}=this;return ve(e,bn.headerActionsStart)?y("div",{class:{[Ni.headerActionsStart]:!0,[Ni.headerActions]:!0},key:"header-actions-start"},y("slot",{name:bn.headerActionsStart})):null}renderHeaderActionsEnd(){const{dismiss:e,dismissible:t,el:i,intlClose:n}=this,r=n||Kb.close,a=t?y("calcite-action",{"aria-label":r,icon:Yb.close,onClick:e,ref:this.setDismissRef,text:r}):null,o=y("slot",{name:bn.headerActionsEnd});return ve(i,bn.headerActionsEnd)||a?y("div",{class:{[Ni.headerActionsEnd]:!0,[Ni.headerActions]:!0},key:"header-actions-end"},o,a):null}renderMenu(){const{el:e,intlOptions:t,menuOpen:i}=this;return ve(e,bn.headerMenuActions)?y("calcite-action-menu",{flipPlacements:["top","bottom"],key:"menu",label:t||Kb.options,open:i,placement:"bottom-end"},y("calcite-action",{icon:Yb.menu,slot:hl.trigger,text:t||Kb.options}),y("slot",{name:bn.headerMenuActions})):null}renderHeaderNode(){const{el:e,showBackButton:t}=this,i=this.renderBackButton(),r=ve(e,bn.headerContent)?this.renderHeaderSlottedContent():this.renderHeaderContent(),a=this.renderHeaderStartActions(),o=this.renderHeaderActionsEnd(),s=this.renderMenu();return a||r||o||s||t?y("header",{class:Ni.header},i,a,r,o,s):null}renderFooterNode(){const{el:e}=this,t=ve(e,bn.footer),i=ve(e,bn.footerActions);return t||i?y("footer",{class:Ni.footer,key:"footer"},t?y("slot",{key:"footer-slot",name:bn.footer}):null,i?y("slot",{key:"footer-actions-slot",name:bn.footerActions}):null):null}renderContent(){const{el:e}=this,t=ve(e,bn.fab),i=y("slot",{key:"default-slot"}),n="content-wrapper";return t?y("div",{class:{[Ni.contentWrapper]:!0,[Ni.contentHeight]:!0},key:n,onScroll:this.panelScrollHandler,ref:r=>this.panelScrollEl=r,tabIndex:0},y("section",{class:Ni.contentContainer},i),this.renderFab()):y("section",{class:{[Ni.contentWrapper]:!0,[Ni.contentContainer]:!0},key:n,onScroll:this.panelScrollHandler,ref:r=>this.panelScrollEl=r,tabIndex:0},i)}renderFab(){return y("div",{class:Ni.fabContainer},y("slot",{name:bn.fab}))}render(){const{dismissed:e,dismissible:t,loading:i,panelKeyDownHandler:n}=this,r=y("article",{"aria-busy":i.toString(),class:Ni.container,hidden:t&&e,onKeyDown:n,ref:this.setContainerRef,tabIndex:t?0:-1},this.renderHeaderNode(),this.renderContent(),this.renderFooterNode());return y(mn,null,i?y("calcite-scrim",{loading:i}):null,r)}get el(){return this}static get watchers(){return{dismissed:["dismissedHandler"]}}static get style(){return _ee}},Dee={sticky:"sticky-pos"};var Qd;(function(e){e.circle="circle",e.square="square",e.grip="grip"})(Qd||(Qd={}));const $ee={menuActions:"menu-actions"},c2={heading:"heading",container:"container",indented:"container--indented"},x3={parentItem:"parent-item"},Cee=3;function $9(){this.setUpItems(),this.setUpFilter(),this.deselectRemovedItems()}const Tee=["ArrowUp","ArrowDown"];function C9(){this.setUpItems(),this.setUpFilter(),this.emitCalciteListChange=Vd(Iee.bind(this),0)}function T9(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}function E9(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}function I9(e){const{selectedValues:t}=this,{item:i,value:n,selected:r,shiftPressed:a}=e.detail;r?(this.multiple&&a&&this.selectSiblings(i),this.multiple||this.deselectSiblingItems(i),t.set(n,i)):(t.delete(n),this.multiple&&a&&this.selectSiblings(i,!0)),this.multiple||(qd(i,r),r&&ti(i)),this.lastSelectedItem=i,this.emitCalciteListChange()}function M9(e){e.stopPropagation();const t=e.detail.oldValue,i=this.selectedValues;if(i.has(t)){const n=i.get(t);i.delete(t),i.set(e.detail.newValue,n)}}function Eee(e){return!!Tee.find(t=>t===e)}function O9(e){const{el:t,items:i,multiple:n,selectedValues:r}=this;n||t.contains(e.relatedTarget)||k3(i).forEach(o=>{qd(o,r.size===0?o.contains(e.target)||e.target===o:o.selected)})}function A9(e){const{key:t,target:i}=e;if(!Eee(t))return;const{items:n,multiple:r,selectionFollowsFocus:a}=this,{length:o}=n,s=n.indexOf(i);if(!o||s===-1)return;e.preventDefault();const l=P9(this,i,t==="ArrowUp"?"up":"down"),u=n[l];n.forEach(h=>qd(h,h===u)),!r&&a&&(u.selected=!0),ti(u)}function P9(e,t,i){const{items:n}=e,{length:r}=n,a=n.indexOf(t),o=i==="up"?-1:1;let s=1,l=wm(a+o*s++,r);const u=l;for(;n[l].disabled&&(l=wm(a+o*s++,r),l!==u););return l}function k3(e){return e.filter(t=>!t.disabled)}function Iee(){this.calciteListChange.emit(this.selectedValues)}function L9(e){if(e.defaultPrevented)return;const t=e.target,i=this.selectedValues;t.parentElement.tagName==="CALCITE-PICK-LIST-GROUP"&&t.slot===x3.parentItem?(t.parentElement.remove(),Array.from(t.parentElement.children).forEach(n=>i.delete(n.value))):(t.remove(),i.delete(t.value)),this.emitCalciteListChange()}function qd(e,t){e.disabled||(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}async function R9(e){var t;if(this.filterEnabled&&e==="filter"){await ti(this.filterEl);return}const{items:i,multiple:n,selectionFollowsFocus:r}=this;if(i.length===0)return;if(n)return(t=k3(i)[0])===null||t===void 0?void 0:t.setFocus();const a=k3(i),o=a.find(s=>s.selected)||a[0];return r&&o&&(o.selected=!0),o.setFocus()}function F9(e){this.items=Array.from(this.el.querySelectorAll(e));let t=!1;const{items:i}=this;i.forEach(r=>{r.icon=this.getIconType(),this.multiple||(r.disableDeselect=!0,qd(r,!1)),r.selected&&(t=!0,qd(r,!0),this.selectedValues.set(r.value,r))});const[n]=i;!t&&n&&!n.disabled&&qd(n,!0)}function N9(){const e=this.selectedValues,t=this.items.map(({value:i})=>i);e.forEach(i=>{t.includes(i.value)||this.selectedValues.delete(i.value)})}function z9(e){this.items.forEach(t=>{t.value!==e.value&&(t.toggleSelected(!1),this.selectedValues.has(t.value)&&this.selectedValues.delete(t.value))})}function j9(e,t=!1){if(!this.lastSelectedItem)return;const{items:i}=this,n=i.findIndex(a=>a.value===this.lastSelectedItem.value),r=i.findIndex(a=>a.value===e.value);i.slice(Math.min(n,r),Math.max(n,r)).forEach(a=>{a.toggleSelected(!t),t?this.selectedValues.delete(a.value):this.selectedValues.set(a.value,a)})}let Ff;function V9(e){const{filteredItems:t}=e.currentTarget,i=t.map(a=>a.value);let n=!1;Ff||(Ff=new Set);const r=this.items.filter(a=>{const o=a.parentElement;o.matches("calcite-pick-list-group")&&Ff.add(o);const l=i.includes(a.value);return a.hidden=!l,n||(n=l&&a.selected),l});Ff.forEach(a=>{const o=r.some(l=>a.contains(l));if(a.hidden=!o,!o)return;const s=ve(a,"parent-item");s&&(s.hidden=!1,r.includes(s)&&Array.from(a.children).forEach(l=>l.hidden=!1))}),Ff.clear(),r.length>0&&!n&&!this.multiple&&qd(r[0],!0)}function H9(){return this.items.map(e=>({label:e.label,description:e.description,metadata:e.metadata,value:e.value}))}var Mee=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const q9=e=>{var{props:{disabled:t,loading:i,filterEnabled:n,dataForFilter:r,handleFilter:a,filterPlaceholder:o,setFilterEl:s}}=e,l=Mee(e,["props"]);const u=y("slot",null);return y(Ae,Object.assign({"aria-busy":i.toString(),role:"menu"},l),y("section",null,y("header",{class:{[Dee.sticky]:!0}},n?y("calcite-filter",{"aria-label":o,disabled:i||t,items:r,onCalciteFilterChange:a,placeholder:o,ref:s}):null,y("slot",{name:$ee.menuActions})),i?y("calcite-scrim",{loading:i}):null,u))},Oee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([filter-enabled]) header{margin-bottom:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:end;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:-webkit-sticky;position:sticky;top:0px;z-index:1}calcite-filter{margin-bottom:0px}:host([loading][disabled]){min-height:2rem}",Aee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListChange=U(this,"calciteListChange",7),this.disabled=!1,this.filterEnabled=!1,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.selectedValues=new Map,this.dataForFilter=[],this.lastSelectedItem=null,this.mutationObserver=Nt("mutation",$9.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.deselectRemovedItems=N9.bind(this),this.deselectSiblingItems=z9.bind(this),this.selectSiblings=j9.bind(this),this.handleFilter=V9.bind(this),this.getItemData=H9.bind(this),this.keyDownHandler=A9.bind(this)}connectedCallback(){C9.call(this),T9.call(this)}disconnectedCallback(){E9.call(this)}componentDidRender(){Je(this)}calciteListItemRemoveHandler(e){L9.call(this,e)}calciteListItemChangeHandler(e){I9.call(this,e)}calciteListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteListItemValueChangeHandler(e){M9.call(this,e)}calciteListFocusOutHandler(e){O9.call(this,e)}setUpItems(){F9.call(this,"calcite-pick-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}async getSelectedItems(){return this.selectedValues}async setFocus(e){return R9.call(this,e)}getIconType(){return this.multiple?Qd.square:Qd.circle}render(){return y(q9,{onKeyDown:this.keyDownHandler,props:this})}get el(){return this}static get style(){return Oee}},Pee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-bottom:0.25rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host(:last-child){margin-bottom:0px}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}h3.heading{margin-top:0.5rem;margin-bottom:0.5rem;margin-left:1rem;margin-right:1rem;font-size:var(--calcite-font-size--1);line-height:1.375;color:var(--calcite-ui-text-3)}.container--indented{-webkit-margin-start:1.5rem;margin-inline-start:1.5rem}",Lee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow()}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}render(){var e;const{el:t,groupTitle:i,headingLevel:n}=this,r=ve(t,x3.parentItem)!==null,a={[c2.container]:!0,[c2.indented]:r},o=i,s=(e=t.closest("calcite-pick-list"))===null||e===void 0?void 0:e.headingLevel,l=s?nT(s+1):null,u=n||l||Cee;return y(mn,null,o?y(lu,{class:c2.heading,level:u},o):null,y("slot",{name:x3.parentItem}),y("section",{class:a},y("slot",null)))}get el(){return this}static get style(){return Pee}},vr={actions:"actions",actionsEnd:"actions--end",actionsStart:"actions--start",description:"description",handle:"handle",handleActivated:"handle--activated",highlight:"highlight",icon:"icon",iconDot:"icon-dot",label:"label",remove:"remove",title:"title",textContainer:"text-container"},UO={checked:"check",remove:"x"},yd={actionsEnd:"actions-end",actionsStart:"actions-start"},Ree={remove:"Remove"},Fee='@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin:0px;margin-bottom:1px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition:background-color var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing);-webkit-animation:calcite-fade-in var(--calcite-animation-timing);animation:calcite-fade-in var(--calcite-animation-timing)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}.label{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;cursor:pointer;-ms-flex-align:center;align-items:center;background-color:transparent;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.label:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.label:hover{background-color:var(--calcite-ui-foreground-2)}:host([non-interactive]:hover){background-color:var(--calcite-ui-foreground-1)}:host([non-interactive]) .label,:host([non-interactive]) .icon{pointer-events:none}.icon{margin-top:0px;margin-bottom:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:center;align-items:center;padding:0.25rem;color:var(--calcite-ui-brand);-ms-flex:0 0 auto;flex:0 0 auto;line-height:0}.icon:hover{background-color:var(--calcite-ui-foreground-2)}.icon-dot{display:-ms-flexbox;display:flex;width:1.5rem;-ms-flex-align:center;align-items:center;padding:0.5rem}.icon-dot:before{opacity:0;content:"\u2022"}.icon calcite-icon{opacity:0}:host([selected]) .icon-dot:before,:host([selected]) .icon calcite-icon{-webkit-transition:opacity var(--calcite-animation-timing);transition:opacity var(--calcite-animation-timing);opacity:1}.text-container{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--2);line-height:1.375;word-wrap:break-word;word-break:break-word;overflow:hidden}.title{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}.description{margin-top:0.125rem;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.actions{margin:0px;display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:end;justify-content:flex-end}.actions--start~.label{-webkit-padding-start:0.25rem;padding-inline-start:0.25rem}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}',Nee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListItemChange=U(this,"calciteListItemChange",7),this.calciteListItemRemove=U(this,"calciteListItemRemove",7),this.calciteListItemPropsChange=U(this,"calciteListItemPropsChange",7),this.calciteListItemValueChange=U(this,"calciteListItemValueChange",7),this.disabled=!1,this.disableDeselect=!1,this.nonInteractive=!1,this.icon=null,this.removable=!1,this.selected=!1,this.intlRemove=Ree.remove,this.pickListClickHandler=e=>{this.disabled||this.disableDeselect&&this.selected||this.nonInteractive||(this.shiftPressed=e.shiftKey,this.selected=!this.selected)},this.pickListKeyDownHandler=e=>{if(e.key===" "){if(e.preventDefault(),this.disableDeselect&&this.selected||this.nonInteractive)return;this.selected=!this.selected}},this.removeClickHandler=()=>{this.calciteListItemRemove.emit()}}descriptionWatchHandler(){this.calciteListItemPropsChange.emit()}labelWatchHandler(){this.calciteListItemPropsChange.emit()}metadataWatchHandler(){this.calciteListItemPropsChange.emit()}selectedWatchHandler(){this.calciteListItemChange.emit({item:this.el,value:this.value,selected:this.selected,shiftPressed:this.shiftPressed}),this.shiftPressed=!1}valueWatchHandler(e,t){this.calciteListItemValueChange.emit({oldValue:t,newValue:e})}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}componentDidRender(){Je(this,this.el.closest("calcite-pick-list")?"managed":!1)}async toggleSelected(e){this.selected=typeof e=="boolean"?e:!this.selected}async setFocus(){var e;(e=this.focusEl)===null||e===void 0||e.focus()}renderIcon(){const{icon:e}=this;return e?y("span",{class:{[vr.icon]:!0,[vr.iconDot]:e===Qd.circle},onClick:this.pickListClickHandler},e===Qd.square?y("calcite-icon",{icon:UO.checked,scale:"s"}):null):null}renderRemoveAction(){return this.removable?y("calcite-action",{class:vr.remove,icon:UO.remove,onCalciteActionClick:this.removeClickHandler,slot:yd.actionsEnd,text:this.intlRemove}):null}renderActionsStart(){const{el:e}=this;return ve(e,yd.actionsStart)?y("div",{class:{[vr.actions]:!0,[vr.actionsStart]:!0}},y("slot",{name:yd.actionsStart})):null}renderActionsEnd(){const{el:e,removable:t}=this;return ve(e,yd.actionsEnd)||t?y("div",{class:{[vr.actions]:!0,[vr.actionsEnd]:!0}},y("slot",{name:yd.actionsEnd}),this.renderRemoveAction()):null}render(){const{description:e,label:t}=this;return y(mn,null,this.renderIcon(),this.renderActionsStart(),y("label",{"aria-label":t,class:vr.label,onClick:this.pickListClickHandler,onKeyDown:this.pickListKeyDownHandler,ref:i=>this.focusEl=i,tabIndex:0},y("div",{"aria-checked":this.selected.toString(),class:vr.textContainer,role:"menuitemcheckbox"},y("span",{class:vr.title},t),e?y("span",{class:vr.description},e):null)),this.renderActionsEnd())}get el(){return this}static get watchers(){return{description:["descriptionWatchHandler"],label:["labelWatchHandler"],metadata:["metadataWatchHandler"],selected:["selectedWatchHandler"],value:["valueWatchHandler"]}}static get style(){return Fee}},Ll={container:"container",arrow:"arrow",imageContainer:"image-container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContent:"header-content",heading:"heading"},zee={close:"Close"},jee="auto",vg="data-calcite-popover-reference",BO="aria-controls",GO="aria-expanded",Vee=2,Hee='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:900;-webkit-transform:scale(0);transform:scale(0)}.calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}:host([data-popper-placement^=bottom]) .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([data-popper-placement][data-popper-reference-hidden]){pointer-events:none;opacity:0}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}:host{pointer-events:none}:host([open]){pointer-events:initial}.calcite-popper-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}.header{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:start;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);border-bottom-color:var(--calcite-ui-border-3)}.heading{margin:0px;display:block;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-item-align:center;align-self:center;white-space:normal;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);word-wrap:break-word;word-break:break-word}.container{position:relative;display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1)}.container.has-header{-ms-flex-direction:column;flex-direction:column}.content{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-item-align:center;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex:0 0 auto;flex:0 0 auto;border-start-end-radius:0.25rem;border-end-end-radius:0.25rem}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}',qee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calcitePopoverClose=U(this,"calcitePopoverClose",7),this.calcitePopoverOpen=U(this,"calcitePopoverOpen",7),this.closeButton=!1,this.dismissible=!1,this.disableFlip=!1,this.disablePointer=!1,this.offsetDistance=y9,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=jee,this.intlClose=zee.close,this.guid=`calcite-popover-${ri()}`,this.activeTransitionProp="opacity",this.setUpReferenceElement=()=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement();const{el:e,referenceElement:t,effectiveReferenceElement:i}=this;t&&!i&&console.warn(`${e.tagName}: reference-element id "${t}" was not found.`,{el:e}),this.addReferences(),this.createPopper()},this.getId=()=>this.el.id||this.guid,this.setExpandedAttr=()=>{const{effectiveReferenceElement:e,open:t}=this;!e||e.setAttribute(GO,t.toString())},this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();e.setAttribute(vg,t),e.setAttribute(BO,t),this.setExpandedAttr()},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;!e||(e.removeAttribute(vg),e.removeAttribute(BO),e.removeAttribute(GO))},this.hide=()=>{this.open=!1},this.transitionEnd=e=>{e.propertyName===this.activeTransitionProp&&(this.open?this.calcitePopoverOpen.emit():this.calcitePopoverClose.emit())}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(){this.reposition(),this.setExpandedAttr()}placementHandler(){this.reposition()}referenceElementHandler(){this.setUpReferenceElement()}componentWillLoad(){this.setUpReferenceElement()}componentDidLoad(){this.reposition()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,n=this.getModifiers();e?await Uy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}async setFocus(e){var t;const{closeButtonEl:i}=this;if(e==="close-button"&&i){Ym(i),i.setFocus();return}(t=this.el)===null||t===void 0||t.focus()}async toggle(e=!this.open){this.open=e}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?zy(t,{id:e}):e)||null}getModifiers(){const{arrowEl:e,flipPlacements:t,disableFlip:i,disablePointer:n,offsetDistance:r,offsetSkidding:a}=this,o={name:"flip",enabled:!i};t&&(o.options={fallbackPlacements:t});const s={name:"arrow",enabled:!n};e&&(s.options={element:e});const l={name:"offset",enabled:!0,options:{offset:[a,r]}},u={name:"eventListeners",enabled:this.open};return[s,o,l,u]}createPopper(){this.destroyPopper();const{el:e,placement:t,effectiveReferenceElement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=qy({el:e,modifiers:r,overlayPositioning:n,placement:t,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}renderCloseButton(){const{dismissible:e,closeButton:t,intlClose:i}=this;return e||t?y("div",{class:Ll.closeButtonContainer},y("calcite-action",{class:Ll.closeButton,onClick:this.hide,ref:n=>this.closeButtonEl=n,text:i},y("calcite-icon",{icon:"x",scale:"m"}))):null}renderHeader(){const{heading:e,headingLevel:t}=this,i=e?y(lu,{class:Ll.heading,level:t||Vee},e):null;return i?y("div",{class:Ll.header},i,this.renderCloseButton()):null}render(){const{effectiveReferenceElement:e,heading:t,label:i,open:n,disablePointer:r}=this,a=e&&n,o=!a,s=r?null:y("div",{class:Ll.arrow,ref:l=>this.arrowEl=l});return y(Ae,{"aria-hidden":o.toString(),"aria-label":i,"calcite-hydrated-hidden":o,id:this.getId(),role:"dialog"},y("div",{class:{[ss.animation]:!0,[ss.animationActive]:a},onTransitionEnd:this.transitionEnd},s,y("div",{class:{[Ll.hasHeader]:!!t,[Ll.container]:!0}},this.renderHeader(),y("div",{class:Ll.content},y("slot",null)),t?null:this.renderCloseButton())))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Hee}},Uee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}",Bee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.selector=`[${vg}]`,this.autoClose=!1,this.queryPopover=e=>{const{el:t}=this;if(!e.includes(t))return null;const i=e.find(r=>{var a;return(a=r==null?void 0:r.hasAttribute)===null||a===void 0?void 0:a.call(r,vg)});if(!i)return null;const n=i.getAttribute(vg);return zy(t,{id:n})}}render(){return y("slot",null)}closeOpenPopovers(e){const{autoClose:t,el:i}=this,n="calcite-popover",r=e.composedPath(),a=this.queryPopover(r);if(a){a.toggle();return}t&&rJ(i,n).filter(o=>o.open&&!r.includes(o)).forEach(o=>o.toggle(!1))}get el(){return this}static get style(){return Uee}},Gee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block;width:100%}.track,.bar{position:absolute;top:0px;height:2px}.track{z-index:0;width:100%;overflow:hidden;background:var(--calcite-ui-border-3)}.bar{z-index:0;background-color:var(--calcite-ui-brand)}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{width:20%;-webkit-animation:looping-progress-bar-ani 2200ms linear infinite;animation:looping-progress-bar-ani 2200ms linear infinite}.reversed{animation-direction:reverse}.text{padding-left:0px;padding-right:0px;padding-top:1rem;padding-bottom:0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium)}@-webkit-keyframes looping-progress-bar-ani{0%{-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0)}50%{width:40%}100%{-webkit-transform:translate3d(600%, 0, 0);transform:translate3d(600%, 0, 0)}}@keyframes looping-progress-bar-ani{0%{-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0)}50%{width:40%}100%{-webkit-transform:translate3d(600%, 0, 0);transform:translate3d(600%, 0, 0)}}",Wee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.type="determinate",this.value=0,this.reversed=!1}render(){const t=this.type==="determinate"?{width:`${this.value*100}%`}:{};return y("div",{"aria-label":this.label||this.text,"aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":this.value,role:"progressbar"},y("div",{class:"track"},y("div",{class:{bar:!0,indeterminate:this.type==="indeterminate",reversed:this.reversed},style:t})),this.text?y("div",{class:"text"},this.text):null)}get el(){return this}static get style(){return Gee}},Jee={container:"container"},Yee='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;cursor:pointer}:host .container{position:relative;outline:2px solid transparent;outline-offset:2px}:host .radio{cursor:pointer;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([hovered]) .radio,:host(:not([checked])[focused]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .radio{cursor:default;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([hovered][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input);box-shadow:inset 0 0 0 1px var(--calcite-ui-border-input)}:host([scale=s]){--calcite-radio-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-radio-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-radio-size:var(--calcite-font-size-0)}.radio{height:var(--calcite-radio-size);max-width:var(--calcite-radio-size);min-width:var(--calcite-radio-size)}:host([scale=s][checked]) .radio,:host([hovered][scale=s][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 4px var(--calcite-ui-brand)}:host([scale=s][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 4px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([scale=m][checked]) .radio,:host([hovered][scale=m][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 5px var(--calcite-ui-brand);box-shadow:inset 0 0 0 5px var(--calcite-ui-brand)}:host([scale=m][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 5px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}:host([scale=l][checked]) .radio,:host([hovered][scale=l][checked][disabled]) .radio{-webkit-box-shadow:inset 0 0 0 6px var(--calcite-ui-brand);box-shadow:inset 0 0 0 6px var(--calcite-ui-brand)}:host([scale=l][focused][checked]:not([disabled])) .radio{-webkit-box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand);box-shadow:inset 0 0 0 6px var(--calcite-ui-brand), 0 0 0 2px var(--calcite-ui-foreground-1), 0 0 0 4px var(--calcite-ui-brand)}@media (forced-colors: active){:host([checked]) .radio::after,:host([checked][disabled]) .radio::after{content:"";width:var(--calcite-radio-size);height:var(--calcite-radio-size);background-color:windowText;display:block}}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}',Kee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteInternalRadioButtonBlur=U(this,"calciteInternalRadioButtonBlur",7),this.calciteRadioButtonChange=U(this,"calciteRadioButtonChange",7),this.calciteInternalRadioButtonCheckedChange=U(this,"calciteInternalRadioButtonCheckedChange",7),this.calciteInternalRadioButtonFocus=U(this,"calciteInternalRadioButtonFocus",7),this.checked=!1,this.disabled=!1,this.focused=!1,this.hidden=!1,this.hovered=!1,this.required=!1,this.scale="m",this.selectItem=(e,t)=>{e[t].click()},this.queryButtons=()=>Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden])")).filter(e=>e.name===this.name),this.isDefaultSelectable=()=>{const e=this.queryButtons();return!e.some(t=>t.checked)&&e[0]===this.el},this.check=()=>{this.disabled||(this.uncheckAllRadioButtonsInGroup(),this.checked=!0,this.calciteRadioButtonChange.emit(),this.setFocus())},this.clickHandler=()=>{this.check()},this.setContainerEl=e=>{this.containerEl=e},this.handleKeyDown=e=>{const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],i=e.key,{el:n}=this;if(t.indexOf(i)===-1)return;if(i===" "){this.check();return}let r=i;Li(n)==="rtl"&&(i==="ArrowRight"&&(r="ArrowLeft"),i==="ArrowLeft"&&(r="ArrowRight"));const a=Array.from(this.rootNode.querySelectorAll("calcite-radio-button:not([hidden]")).filter(l=>l.name===this.name);let o=0;const s=a.length;switch(a.some((l,u)=>{if(l.checked)return o=u,!0}),r){case"ArrowLeft":case"ArrowUp":e.preventDefault(),this.selectItem(a,wm(Math.max(o-1,-1),s));return;case"ArrowRight":case"ArrowDown":e.preventDefault(),this.selectItem(a,wm(o+1,s));return;default:return}},this.onContainerBlur=()=>{this.focused=!1,this.calciteInternalRadioButtonBlur.emit()},this.onContainerFocus=()=>{this.disabled||(this.focused=!0,this.calciteInternalRadioButtonFocus.emit())}}checkedChanged(e){e&&this.uncheckOtherRadioButtonsInGroup(),this.calciteInternalRadioButtonCheckedChange.emit(e)}nameChanged(){this.checkLastRadioButton()}async setFocus(){this.disabled||ti(this.containerEl)}onLabelClick(e){if(!this.disabled&&!this.hidden){this.uncheckOtherRadioButtonsInGroup();const t=e.currentTarget,i=t.for?this.rootNode.querySelector(`calcite-radio-button[id="${t.for}"]`):t.querySelector(`calcite-radio-button[name="${this.name}"]`);i&&(i.checked=!0,i.focused=!0),this.calciteRadioButtonChange.emit(),this.setFocus()}}checkLastRadioButton(){const t=this.queryButtons().filter(i=>i.checked);if((t==null?void 0:t.length)>1){const i=t[t.length-1];t.filter(n=>n!==i).forEach(n=>{n.checked=!1,n.emitCheckedChange()})}}async emitCheckedChange(){this.calciteInternalRadioButtonCheckedChange.emit()}uncheckAllRadioButtonsInGroup(){this.queryButtons().forEach(t=>{t.checked&&(t.checked=!1,t.focused=!1)})}uncheckOtherRadioButtonsInGroup(){this.queryButtons().filter(i=>i.guid!==this.guid).forEach(i=>{i.checked&&(i.checked=!1,i.focused=!1)})}getTabIndex(){if(!this.disabled)return this.checked||this.isDefaultSelectable()?0:-1}mouseenter(){this.hovered=!0}mouseleave(){this.hovered=!1}connectedCallback(){this.rootNode=this.el.getRootNode(),this.guid=this.el.id||`calcite-radio-button-${ri()}`,this.name&&this.checkLastRadioButton(),sr(this),mo(this)}componentDidLoad(){this.focused&&!this.disabled&&this.setFocus()}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}render(){const e=this.getTabIndex();return y(Ae,{onClick:this.clickHandler,onKeyDown:this.handleKeyDown},y("div",{"aria-checked":this.checked.toString(),"aria-label":as(this),class:Jee.container,onBlur:this.onContainerBlur,onFocus:this.onContainerFocus,ref:this.setContainerEl,role:"radio",tabIndex:e},y("div",{class:"radio"})),y(go,{component:this}))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return Yee}},Zee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;max-width:100vw}:host([layout=horizontal]){-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}:host([layout=horizontal][scale=s]){gap:1rem}:host([layout=horizontal][scale=m]){gap:1.25rem}:host([layout=horizontal][scale=l]){gap:1.5rem}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column}",Xee=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioButtonGroupChange=U(this,"calciteRadioButtonGroupChange",7),this.disabled=!1,this.hidden=!1,this.layout="horizontal",this.required=!1,this.scale="m",this.mutationObserver=Nt("mutation",()=>this.passPropsToRadioButtons()),this.passPropsToRadioButtons=()=>{const e=this.el.querySelectorAll("calcite-radio-button");e.length>0&&e.forEach(t=>{t.disabled=this.disabled||t.disabled,t.hidden=this.hidden,t.name=this.name,t.required=this.required,t.scale=this.scale})}}onDisabledChange(){this.passPropsToRadioButtons()}onHiddenChange(){this.passPropsToRadioButtons()}onLayoutChange(){this.passPropsToRadioButtons()}onScaleChange(){this.passPropsToRadioButtons()}connectedCallback(){var e;this.passPropsToRadioButtons(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}radioButtonChangeHandler(e){this.calciteRadioButtonGroupChange.emit(e.target.value)}render(){return y(Ae,{role:"radiogroup"},y("slot",null))}get el(){return this}static get watchers(){return{disabled:["onDisabledChange"],hidden:["onHiddenChange"],layout:["onLayoutChange"],scale:["onScaleChange"]}}static get style(){return Zee}},Qee="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;outline:1px solid var(--calcite-ui-border-input);outline-offset:-1px}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-item-align:start;align-self:flex-start}:host([width=full]){width:100%;min-width:-moz-fit-content;min-width:-webkit-fit-content;min-width:fit-content}:host([width=full]) ::slotted(calcite-radio-group-item){-ms-flex:1 1 auto;flex:1 1 auto}:host([width=full][layout=vertical]) ::slotted(calcite-radio-group-item){-ms-flex-pack:start;justify-content:flex-start}::slotted(calcite-radio-group-item[checked]),::slotted(calcite-radio-group-item:focus){z-index:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",ete=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioGroupChange=U(this,"calciteRadioGroupChange",7),this.appearance="solid",this.disabled=!1,this.required=!1,this.layout="horizontal",this.scale="m",this.value=null,this.width="auto",this.handleClick=e=>{e.target.localName==="calcite-radio-group-item"&&this.selectItem(e.target,!0)}}valueHandler(e){this.getItems().forEach(i=>i.checked=i.value===e)}handleSelectedItemChange(e,t){if(this.value=e==null?void 0:e.value,e===t)return;const i=this.getItems(),n=Array.from(i).filter(r=>r===e).pop();n?this.selectItem(n):i[0]&&(i[0].tabIndex=0)}componentWillLoad(){const e=this.getItems(),t=Array.from(e).filter(i=>i.checked).pop();t?this.selectItem(t):e[0]&&(e[0].tabIndex=0)}connectedCallback(){sr(this),mo(this)}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}render(){return y(Ae,{onClick:this.handleClick,role:"radiogroup"},y("slot",null),y(go,{component:this}))}handleSelected(e){e.stopPropagation(),e.preventDefault(),this.selectItem(e.target)}handleKeyDown(e){const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],i=e.key,{el:n,selectedItem:r}=this;if(t.indexOf(i)===-1)return;let a=i;Li(n)==="rtl"&&(i==="ArrowRight"&&(a="ArrowLeft"),i==="ArrowLeft"&&(a="ArrowRight"));const o=this.getItems();let s=-1;switch(o.forEach((l,u)=>{l===r&&(s=u)}),a){case"ArrowLeft":case"ArrowUp":e.preventDefault();const l=s<1?o.item(o.length-1):o.item(s-1);this.selectItem(l,!0);return;case"ArrowRight":case"ArrowDown":e.preventDefault();const u=s===-1?o.item(1):o.item(s+1)||o.item(0);this.selectItem(u,!0);return;case" ":e.preventDefault(),this.selectItem(e.target,!0);return;default:return}}async setFocus(){var e;(e=this.selectedItem||this.getItems()[0])===null||e===void 0||e.focus()}onLabelClick(){this.setFocus()}getItems(){return this.el.querySelectorAll("calcite-radio-group-item")}selectItem(e,t=!1){if(e===this.selectedItem)return;const i=this.getItems();let n=null;i.forEach(r=>{const a=r.value===e.value;(a&&!r.checked||!a&&r.checked)&&(r.checked=a),r.tabIndex=a?0:-1,a&&(n=r,t&&this.calciteRadioGroupChange.emit(n.value))}),this.selectedItem=n,su.isBrowser&&n&&n.focus()}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedItem:["handleSelectedItemChange"]}}static get style(){return Qee}},tte={input:"input"},ite={radioGroupItemIcon:"radio-group-item-icon"},nte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-item-align:stretch;align-self:stretch;font-weight:var(--calcite-font-weight-normal);-webkit-transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out;transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out}:host label{pointer-events:none;margin:0.125rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 0%;flex:1 1 0%;-ms-flex-align:center;align-items:center;color:var(--calcite-ui-text-3);-webkit-transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out;transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out}.label--horizontal{-ms-flex-pack:center;justify-content:center}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-1px}.label--scale-s{padding-left:0.5rem;padding-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-top:0.125rem;padding-bottom:0.125rem}.label--scale-m{padding-left:0.75rem;padding-right:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-top:0.375rem;padding-bottom:0.375rem}.label--scale-l{padding-left:1rem;padding-right:1rem;padding-top:0.625rem;padding-bottom:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host(:hover) label{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}:host(:active) label{background-color:var(--calcite-ui-foreground-3)}:host([checked]) label{cursor:default;border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-brand);color:var(--calcite-ui-background)}:host([checked]) .label--outline{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);color:var(--calcite-ui-brand)}::slotted(input){display:none}.radio-group-item-icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;line-height:inherit}:host([icon-position=start]) .label--scale-s .radio-group-item-icon{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([icon-position=end]) .label--scale-s .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host([icon-position=start]) .label--scale-m .radio-group-item-icon{-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([icon-position=end]) .label--scale-m .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:0.75rem;margin-inline-start:0.75rem}:host([icon-position=start]) .label--scale-l .radio-group-item-icon{-webkit-margin-end:1rem;margin-inline-end:1rem}:host([icon-position=end]) .label--scale-l .radio-group-item-icon{-webkit-margin-end:unset;margin-inline-end:unset;-webkit-margin-start:1rem;margin-inline-start:1rem}",rte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRadioGroupItemChange=U(this,"calciteRadioGroupItemChange",7),this.checked=!1,this.iconFlipRtl=!1,this.iconPosition="start"}handleCheckedChange(){this.calciteRadioGroupItemChange.emit()}render(){const{checked:e,value:t}=this,i=Bt(this.el,"scale","m"),n=Bt(this.el,"appearance","solid"),r=Bt(this.el,"layout","horizontal"),a=y("calcite-icon",{class:ite.radioGroupItemIcon,flipRtl:this.iconFlipRtl,icon:this.icon,scale:"s"});return y(Ae,{"aria-checked":e.toString(),role:"radio"},y("label",{class:{"label--scale-s":i==="s","label--scale-m":i==="m","label--scale-l":i==="l","label--horizontal":r==="horizontal","label--outline":n==="outline"}},this.icon&&this.iconPosition==="start"?a:null,y("slot",null,t),y("slot",{name:tte.input}),this.icon&&this.iconPosition==="end"?a:null))}get el(){return this}static get watchers(){return{checked:["handleCheckedChange"]}}static get style(){return nte}},WO={rating:"Rating",stars:"Stars: ${num}"},ate="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){height:1.5rem;--calcite-rating-spacing-unit:0.25rem}:host([scale=m]){height:2rem;--calcite-rating-spacing-unit:0.5rem}:host([scale=l]){height:2.75rem;--calcite-rating-spacing-unit:0.75rem}:host([read-only]){pointer-events:none}.fieldset{margin:0px;display:-ms-flexbox;display:flex;border-width:0px;padding:0px}.wrapper{display:inline-block;-webkit-margin-end:var(--calcite-rating-spacing-unit);margin-inline-end:var(--calcite-rating-spacing-unit)}.star{position:relative;display:-ms-flexbox;display:flex;cursor:pointer;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-border-input);-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);-webkit-transform:scale(1);transform:scale(1)}.star:active{-webkit-transform:scale(1.1);transform:scale(1.1)}.focused{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.average,.fraction{color:var(--calcite-ui-warning)}.hovered,.selected,:host([read-only]) .average,:host([read-only]) .fraction{color:var(--calcite-ui-brand)}.hovered:not(.selected){-webkit-transform:scale(0.9);transform:scale(0.9)}:host .fraction{pointer-events:none;position:absolute;top:0px;overflow:hidden;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);inset-inline-start:0}calcite-chip{pointer-events:none;cursor:default}.number--average{font-weight:var(--calcite-font-weight-bold)}.number--count{color:var(--calcite-ui-text-2);font-style:italic}.number--count:not(:first-child){-webkit-margin-start:var(--calcite-rating-spacing-unit);margin-inline-start:var(--calcite-rating-spacing-unit)}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",ote=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteRatingChange=U(this,"calciteRatingChange",7),this.scale="m",this.value=0,this.readOnly=!1,this.disabled=!1,this.showChip=!1,this.intlRating=WO.rating,this.intlStars=WO.stars,this.required=!1,this.guid=`calcite-ratings-${ri()}`}connectedCallback(){sr(this),mo(this)}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}blurHandler(){this.hasFocus=!1}renderStars(){return[1,2,3,4,5].map(e=>{const t=this.value>=e,i=this.average&&!this.value&&e<=this.average,n=e<=this.hoverValue,r=this.average&&this.average+1-e,a=!this.value&&!n&&r>0&&r<1,o=this.hasFocus&&this.focusValue===e;return y("span",{class:{wrapper:!0}},y("label",{class:{star:!0,focused:o,selected:t,average:i,hovered:n,partial:a},htmlFor:`${this.guid}-${e}`,onMouseOver:()=>{this.hoverValue=e}},y("calcite-icon",{"aria-hidden":"true",class:"icon",icon:t||i||this.readOnly?"star-f":"star",scale:this.scale}),a&&y("div",{class:"fraction",style:{width:`${r*100}%`}},y("calcite-icon",{icon:"star-f",scale:this.scale})),y("span",{class:"visually-hidden"},this.intlStars.replace("${num}",`${e}`))),y("input",{checked:e===this.value,class:"visually-hidden",disabled:this.disabled||this.readOnly,id:`${this.guid}-${e}`,name:this.guid,onChange:()=>this.updateValue(e),onClick:s=>s.stopPropagation(),onFocus:()=>{this.hasFocus=!0,this.focusValue=e},ref:s=>(e===1||e===this.value)&&(this.inputFocusRef=s),type:"radio",value:e}))})}render(){const{disabled:e,intlRating:t,showChip:i,scale:n,count:r,average:a}=this;return y(mn,null,y("fieldset",{class:"fieldset",disabled:e,onBlur:()=>this.hoverValue=null,onMouseLeave:()=>this.hoverValue=null,onTouchEnd:()=>this.hoverValue=null},y("legend",{class:"visually-hidden"},t),this.renderStars()),(r||a)&&i?y("calcite-chip",{scale:n,value:r==null?void 0:r.toString()},!!a&&y("span",{class:"number--average"},a.toString()),!!r&&y("span",{class:"number--count"},"(",r==null?void 0:r.toString(),")")):null,y(go,{component:this}))}onLabelClick(){this.setFocus()}updateValue(e){this.value=e,this.calciteRatingChange.emit({value:e})}async setFocus(){this.inputFocusRef.focus()}get el(){return this}static get style(){return ate}},JO={scrim:"scrim",content:"content"},ste={loading:"Loading"},lte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:absolute;top:0px;right:0px;bottom:0px;left:0px;z-index:50;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}@-webkit-keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-line-pack:center;align-content:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;-webkit-animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background)}.content{padding:1rem}",cte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.intlLoading=ste.loading,this.loading=!1}render(){const{el:e,loading:t,intlLoading:i}=this,n=e.innerHTML.trim().length>0,r=t?y("calcite-loader",{active:!0,label:i}):null,a=n?y("div",{class:JO.content},y("slot",null)):null;return y("div",{class:JO.scrim},r,a)}get el(){return this}static get style(){return lte}},u2={icon:"icon",iconContainer:"icon-container",select:"select"},ute="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;width:var(--select-width)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){height:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing-inline:0.5rem 2rem}:host([scale=s]) .icon-container{padding-left:0.5rem;padding-right:0.5rem}:host([scale=m]){height:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing-inline:0.75rem 2.5rem}:host([scale=m]) .icon-container{padding-left:0.75rem;padding-right:0.75rem}:host([scale=l]){height:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing-inline:1rem 3rem}:host([scale=l]) .icon-container{padding-left:1rem;padding-right:1rem}:host([width=auto]){width:auto}:host([width=half]){width:50%}:host([width=full]){width:100%}.select{margin:0px;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);font-family:inherit;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;font-size:var(--calcite-select-font-size);padding-inline:var(--calcite-select-spacing-inline);border-inline-end-width:0px}.select:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.select:hover{background-color:var(--calcite-ui-foreground-2)}select:disabled{border-color:var(--calcite-ui-border-input);--tw-bg-opacity:1}.icon-container{pointer-events:none;position:absolute;top:0px;bottom:0px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:transparent;color:var(--calcite-ui-text-2);inset-inline-end:0px;border-inline-width:0px 1px}.select:focus~.icon-container{border-color:transparent}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";function Zb(e){return e.tagName==="CALCITE-OPTION"}function dte(e){return e.tagName==="CALCITE-OPTION-GROUP"}const hte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSelectChange=U(this,"calciteSelectChange",7),this.disabled=!1,this.required=!1,this.scale="m",this.value=null,this.width="auto",this.componentToNativeEl=new Map,this.mutationObserver=Nt("mutation",()=>this.populateInternalSelect()),this.handleInternalSelectChange=()=>{const e=this.selectEl.selectedOptions[0];this.selectFromNativeOption(e),requestAnimationFrame(()=>this.emitChangeEvent())},this.populateInternalSelect=()=>{const e=Array.from(this.el.children).filter(t=>t.tagName==="CALCITE-OPTION"||t.tagName==="CALCITE-OPTION-GROUP");this.clearInternalSelect(),e.forEach(t=>{var i;return(i=this.selectEl)===null||i===void 0?void 0:i.append(this.toNativeElement(t))})},this.storeSelectRef=e=>{this.selectEl=e,this.populateInternalSelect();const t=this.selectEl.selectedOptions[0];this.selectFromNativeOption(t)},this.emitChangeEvent=()=>{this.calciteSelectChange.emit()}}valueHandler(e){this.el.querySelectorAll("calcite-option").forEach(i=>i.selected=i.value===e)}selectedOptionHandler(e){this.value=e==null?void 0:e.value}connectedCallback(){var e;const{el:t}=this;(e=this.mutationObserver)===null||e===void 0||e.observe(t,{subtree:!0,childList:!0}),sr(this),mo(this)}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),Nr(this),fo(this)}componentDidLoad(){var e,t;sT(this,(t=(e=this.selectedOption)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:"")}componentDidRender(){Je(this)}async setFocus(){ti(this.selectEl)}handleOptionOrGroupChange(e){e.stopPropagation();const t=e.target,i=this.componentToNativeEl.get(t);!i||(this.updateNativeElement(t,i),Zb(t)&&t.selected&&(this.deselectAllExcept(t),this.selectedOption=t))}onLabelClick(){this.setFocus()}updateNativeElement(e,t){if(t.disabled=e.disabled,t.label=e.label,Zb(e)){const i=t;i.selected=e.selected,i.value=e.value,i.innerText=e.label}}clearInternalSelect(){this.componentToNativeEl.forEach(e=>e.remove()),this.componentToNativeEl.clear()}selectFromNativeOption(e){if(!e)return;let t;this.componentToNativeEl.forEach((i,n)=>{Zb(n)&&i===e&&(n.selected=!0,t=n,this.deselectAllExcept(n))}),t&&(this.selectedOption=t)}toNativeElement(e){if(Zb(e)){const t=document.createElement("option");return this.updateNativeElement(e,t),this.componentToNativeEl.set(e,t),t}if(dte(e)){const t=document.createElement("optgroup");return this.updateNativeElement(e,t),Array.from(e.children).forEach(i=>{const n=this.toNativeElement(i);t.append(n),this.componentToNativeEl.set(e,n)}),this.componentToNativeEl.set(e,t),t}throw new Error("unsupported element child provided")}deselectAllExcept(e){this.el.querySelectorAll("calcite-option").forEach(t=>{t!==e&&(t.selected=!1)})}renderChevron(){return y("div",{class:u2.iconContainer},y("calcite-icon",{class:u2.icon,icon:"chevron-down",scale:"s"}))}render(){return y(mn,null,y("select",{"aria-label":this.label,class:u2.select,disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},y("slot",null)),this.renderChevron(),y(go,{component:this}))}get el(){return this}static get watchers(){return{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}}static get style(){return ute}},Lh={main:"main",mainReversed:"main--reversed",content:"content",contentBehind:"content--behind",footer:"footer"},Rl={centerRow:"center-row",primaryPanel:"primary-panel",contextualPanel:"contextual-panel",header:"header",footer:"footer"},pte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;overflow:hidden;--calcite-shell-tip-spacing:26vw}.main{position:relative;display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;overflow:hidden}.main--reversed{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.content{display:-ms-flexbox;display:flex;height:100%;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:auto}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-item-align:stretch;align-self:stretch;max-height:unset}.content--behind{position:absolute;top:0px;right:0px;bottom:0px;left:0px;z-index:0;border-width:0px;display:initial}::slotted(calcite-shell-center-row){width:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}::slotted(calcite-shell-panel),::slotted(calcite-shell-center-row){position:relative;z-index:1}::slotted(calcite-panel),::slotted(calcite-flow){border-width:1px;border-left-width:0px;border-right-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3)}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])){border-left-width:1px;border-right-width:1px;border-color:var(--calcite-ui-border-3)}::slotted(calcite-tip-manager){position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}::slotted(calcite-tip-manager){-webkit-animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);bottom:0.5rem;left:var(--calcite-shell-tip-spacing);right:var(--calcite-shell-tip-spacing);z-index:2}",mte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.contentBehind=!1}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}renderHeader(){return!!ve(this.el,Rl.header)?y("slot",{key:"header",name:Rl.header}):null}renderContent(){const e=y("slot",{key:"default-slot"}),t=y("slot",{key:"center-row-slot",name:Rl.centerRow}),i="content-container";return this.contentBehind?[y("div",{class:{[Lh.content]:!0,[Lh.contentBehind]:!0},key:i},e),t]:[y("div",{class:Lh.content,key:i},e,t)]}renderFooter(){return!!ve(this.el,Rl.footer)?y("div",{class:Lh.footer,key:"footer"},y("slot",{name:Rl.footer})):null}renderMain(){const e=ve(this.el,Rl.primaryPanel),t={[Lh.main]:!0,[Lh.mainReversed]:(e==null?void 0:e.position)==="end"};return y("div",{class:t},y("slot",{name:Rl.primaryPanel}),this.renderContent(),y("slot",{name:Rl.contextualPanel}))}render(){return y(mn,null,this.renderHeader(),this.renderMain(),this.renderFooter())}get el(){return this}static get style(){return pte}},YO={actionBarContainer:"action-bar-container",content:"content"},KO={actionBar:"action-bar"},fte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:host{-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;background-color:transparent;overflow:hidden}.content{margin:0px;display:-ms-flexbox;display:flex;height:100%;width:100%;overflow:hidden;-ms-flex:1 0 0px;flex:1 0 0}.action-bar-container{display:-ms-flexbox;display:flex}:host([detached]){margin-left:0.5rem;margin-right:0.5rem;margin-top:0.5rem;margin-bottom:1.5rem}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}:host([detached]){-webkit-animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:0.25rem;border-width:0px;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([position=end]){-ms-flex-item-align:end;align-self:flex-end}:host([position=start]){-ms-flex-item-align:start;align-self:flex-start}:host([height-scale=s]){height:33.333333%}:host([height-scale=m]){height:70%}:host([height-scale=l]){height:100%}:host([height-scale=l][detached]){height:calc(100% - 2rem)}::slotted(calcite-panel){height:100%;width:100%}::slotted(calcite-action-bar),::slotted(calcite-action-bar[position=end]){-webkit-border-end:1px solid;border-inline-end:1px solid;border-color:var(--calcite-ui-border-3)}",gte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.detached=!1,this.heightScale="s",this.position="end"}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}render(){const{el:e}=this,t=y("div",{class:YO.content},y("slot",null)),i=ve(e,KO.actionBar),r=[i?y("div",{class:YO.actionBarContainer,key:"action-bar"},y("slot",{name:KO.actionBar})):null,t];return(i==null?void 0:i.position)==="end"&&r.reverse(),y(mn,null,r)}get el(){return this}static get style(){return fte}},Rh={container:"container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentDetached:"content--detached",separator:"separator"},d2={actionBar:"action-bar",header:"header"},yte={resize:"Resize"},bte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-align:stretch;align-items:stretch;--calcite-shell-panel-detached-max-height:unset}.container{pointer-events:none;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}.container *{-webkit-box-sizing:border-box;box-sizing:border-box}:host(:hover) .separator:not(:hover):not(:focus),:host(:focus-within) .separator:not(:hover):not(:focus){opacity:1;background-color:var(--calcite-ui-border-3)}.separator{pointer-events:auto;position:absolute;bottom:0px;top:0px;z-index:10;display:-ms-flexbox;display:flex;height:100%;width:0.125rem;background-color:transparent;opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;cursor:col-resize;outline:none}.separator:hover{opacity:1;background-color:var(--calcite-ui-border-2)}.separator:focus{background-color:var(--calcite-ui-brand);opacity:1}:host([position=start]) .separator{inset-inline-end:-2px}:host([position=end]) .separator{inset-inline-start:-2px}::slotted(calcite-panel),::slotted(calcite-flow){height:100%;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;max-height:unset;max-width:unset}::slotted(.calcite-match-height){display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden}.content{pointer-events:auto;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch;-ms-flex-item-align:stretch;align-self:stretch;background-color:var(--calcite-ui-background);padding:0px;width:var(--calcite-shell-panel-width);max-width:var(--calcite-shell-panel-max-width);min-width:var(--calcite-shell-panel-min-width);-webkit-transition:max-height var(--calcite-animation-timing), max-width var(--calcite-animation-timing);transition:max-height var(--calcite-animation-timing), max-width var(--calcite-animation-timing)}.content__header{display:-ms-flexbox;display:flex;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:stretch;align-items:stretch}.content__body{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host([width-scale=s]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 12vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 300px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 150px)}:host([width-scale=m]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 20vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 420px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 240px)}:host([width-scale=l]) .content{--calcite-shell-panel-width:calc(var(--calcite-panel-width-multiplier) * 45vw);--calcite-shell-panel-max-width:calc(var(--calcite-panel-width-multiplier) * 680px);--calcite-shell-panel-min-width:calc(var(--calcite-panel-width-multiplier) * 340px)}:host([detached-height-scale=s]) .content--detached{--calcite-shell-panel-detached-max-height:40vh}:host([detached-height-scale=m]) .content--detached{--calcite-shell-panel-detached-max-height:60vh}:host([detached-height-scale=l]) .content--detached{--calcite-shell-panel-detached-max-height:80vh}.content--detached{margin-left:0.5rem;margin-right:0.5rem;margin-top:0.5rem;margin-bottom:auto;height:auto;border-radius:0.25rem;--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);overflow:hidden;max-height:var(--calcite-shell-panel-detached-max-height)}.content--detached ::slotted(calcite-panel),.content--detached ::slotted(calcite-flow){max-height:unset}:host([position=start]) .content--detached ::slotted(calcite-panel),:host([position=start]) .content--detached ::slotted(calcite-flow),:host([position=end]) .content--detached ::slotted(calcite-panel),:host([position=end]) .content--detached ::slotted(calcite-flow){border-style:none}.content[hidden]{display:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel){border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3)}:host([position=start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]) .content ::slotted(calcite-flow),:host([position=start]) .content ::slotted(calcite-panel){-webkit-border-start:none;border-inline-start:none}:host([position=end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]) .content ::slotted(calcite-flow),:host([position=end]) .content ::slotted(calcite-panel){-webkit-border-end:none;border-inline-end:none}",vte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteShellPanelToggle=U(this,"calciteShellPanelToggle",7),this.collapsed=!1,this.detached=!1,this.detachedHeightScale="l",this.widthScale="m",this.intlResize=yte.resize,this.resizable=!1,this.contentWidth=null,this.initialContentWidth=null,this.initialClientX=null,this.contentWidthMax=null,this.contentWidthMin=null,this.step=1,this.stepMultiplier=10,this.storeContentEl=e=>{this.contentEl=e},this.getKeyAdjustedWidth=e=>{const{key:t}=e,{el:i,step:n,stepMultiplier:r,contentWidthMin:a,contentWidthMax:o,initialContentWidth:s,position:l}=this,u=n*r;["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].indexOf(t)>-1&&e.preventDefault();const m=Li(i),f=["ArrowLeft","ArrowRight"],g=m==="rtl"&&f.includes(t)?-1:1;if(t==="ArrowUp"||(l==="end"?t===f[0]:t===f[1])){const w=e.shiftKey?u:n;return s+g*w}if(t==="ArrowDown"||(l==="end"?t===f[1]:t===f[0])){const w=e.shiftKey?u:n;return s-g*w}return typeof a=="number"&&t==="Home"?a:typeof o=="number"&&t==="End"?o:t==="PageDown"?s-u:t==="PageUp"?s+u:null},this.separatorKeyDown=e=>{this.setInitialContentWidth();const t=this.getKeyAdjustedWidth(e);typeof t=="number"&&this.setContentWidth(t)},this.separatorPointerMove=e=>{e.preventDefault();const{el:t,initialContentWidth:i,position:n,initialClientX:r}=this,a=e.clientX-r,s=Li(t)==="rtl"?-1:1,l=n==="end"?-s*a:s*a,u=i+l;this.setContentWidth(u)},this.separatorPointerUp=e=>{e.preventDefault(),document.removeEventListener("pointerup",this.separatorPointerUp),document.removeEventListener("pointermove",this.separatorPointerMove)},this.setInitialContentWidth=()=>{var e;this.initialContentWidth=(e=this.contentEl)===null||e===void 0?void 0:e.getBoundingClientRect().width},this.separatorPointerDown=e=>{e.preventDefault();const{separatorEl:t}=this;t&&document.activeElement!==t&&t.focus(),this.setInitialContentWidth(),this.initialClientX=e.clientX,document.addEventListener("pointerup",this.separatorPointerUp),document.addEventListener("pointermove",this.separatorPointerMove)},this.connectSeparator=e=>{this.disconnectSeparator(),this.separatorEl=e,e.addEventListener("pointerdown",this.separatorPointerDown)},this.disconnectSeparator=()=>{var e;(e=this.separatorEl)===null||e===void 0||e.removeEventListener("pointerdown",this.separatorPointerDown)}}watchHandler(){this.calciteShellPanelToggle.emit()}connectedCallback(){pi(this)}disconnectedCallback(){mi(this),this.disconnectSeparator()}componentDidLoad(){this.updateAriaValues()}renderHeader(){const{el:e}=this;return ve(e,d2.header)?y("div",{class:Rh.contentHeader,key:"header"},y("slot",{name:d2.header})):null}render(){const{collapsed:e,detached:t,position:i,initialContentWidth:n,contentWidth:r,contentWidthMax:a,contentWidthMin:o,intlResize:s,resizable:l}=this,u=!t&&l,h=y("div",{class:{[Rh.content]:!0,[Rh.contentDetached]:t},hidden:e,key:"content",ref:this.storeContentEl,style:u&&r?{width:`${r}px`}:null},this.renderHeader(),y("div",{class:Rh.contentBody},y("slot",null))),m=u?y("div",{"aria-label":s,"aria-orientation":"horizontal","aria-valuemax":a,"aria-valuemin":o,"aria-valuenow":r!=null?r:n,class:Rh.separator,key:"separator",onKeyDown:this.separatorKeyDown,ref:this.connectSeparator,role:"separator",tabIndex:0,"touch-action":"none"}):null,g=[y("slot",{key:"action-bar",name:d2.actionBar}),h,m];return i==="end"&&g.reverse(),y("div",{class:{[Rh.container]:!0}},g)}setContentWidth(e){const{contentWidthMax:t,contentWidthMin:i}=this,n=Math.round(e);this.contentWidth=typeof t=="number"&&typeof i=="number"?cT(n,i,t):n}updateAriaValues(){const{contentEl:e}=this,t=e&&getComputedStyle(e);if(!t)return;const i=parseInt(t.getPropertyValue("max-width"),10),n=parseInt(t.getPropertyValue("min-width"),10),r=parseInt(t.getPropertyValue("width"),10);typeof r=="number"&&!isNaN(r)&&(this.initialContentWidth=r),typeof i=="number"&&!isNaN(i)&&(this.contentWidthMax=i),typeof n=="number"&&!isNaN(n)&&(this.contentWidthMin=n),Ym(this)}get el(){return this}static get watchers(){return{collapsed:["watchHandler"]}}static get style(){return bte}},wte=`@charset "UTF-8";@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}.scale--s{--calcite-slider-handle-size:10px;--calcite-slider-handle-extension-height:6.5px;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:14px;--calcite-slider-handle-extension-height:8px;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:16px;--calcite-slider-handle-extension-height:10.5px;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;padding:calc(var(--calcite-slider-handle-size) * 0.5);margin:calc(var(--calcite-slider-handle-size) * 0.5) 0;--calcite-slider-full-handle-height:calc(
    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)
  )}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-ui-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-6px}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-8px}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-9px}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-width:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;-webkit-transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset));transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;top:0px;bottom:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"\u2014";display:inline-block;width:1em}.thumb .handle__label.hyphen--wrap{display:-ms-flexbox;display:flex}.thumb .handle{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-ui-foreground-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;height:var(--calcite-slider-handle-size);width:var(--calcite-slider-handle-size);-webkit-box-shadow:0 0 0 2px var(--calcite-ui-text-3) inset;box-shadow:0 0 0 2px var(--calcite-ui-text-3) inset;-webkit-transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, -webkit-box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, -webkit-box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease, -webkit-box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{width:0.125rem;height:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-ui-text-3)}.thumb:hover .handle{-webkit-box-shadow:0 0 0 3px var(--calcite-ui-brand) inset;box-shadow:0 0 0 3px var(--calcite-ui-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-ui-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.thumb:focus .handle-extension{background-color:var(--calcite-ui-brand)}.thumb.thumb--minValue{-webkit-transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset));transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-2px}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-23px}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-30px}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-32px}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-top:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-bottom:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-33px}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-44px}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-49px}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-ui-brand);-webkit-box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise:after,.thumb:focus.thumb--precise:after,.thumb--active.thumb--precise:after{background-color:var(--calcite-ui-brand)}.track{position:relative;height:0.125rem;border-radius:0px;background-color:var(--calcite-ui-border-2);-webkit-transition:all var(--calcite-internal-animation-timing-medium) ease-in;transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;top:0px;height:0.125rem;background-color:var(--calcite-ui-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range:after{position:absolute;width:100%;content:"";top:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);height:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}.tick{position:absolute;height:0.25rem;width:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-ui-border-input);border-color:var(--calcite-ui-foreground-1);top:-2px;pointer-events:none;-webkit-margin-start:calc(-1 * 0.125rem);margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-ui-brand)}.tick__label{pointer-events:none;margin-top:0.875rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.tick__label--min{-webkit-transition:opacity var(--calcite-animation-timing);transition:opacity var(--calcite-animation-timing)}.tick__label--max{-webkit-transition:opacity var(--calcite-internal-animation-timing-fast);transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}.graph{color:var(--calcite-ui-foreground-3);height:48px}:host([label-ticks][ticks]) .container{padding-bottom:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-bottom:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-bottom:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-bottom:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-top:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-bottom:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-top:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-top:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-bottom:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}`,xte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSliderInput=U(this,"calciteSliderInput",7),this.calciteSliderChange=U(this,"calciteSliderChange",7),this.calciteSliderUpdate=U(this,"calciteSliderUpdate",7),this.disabled=!1,this.hasHistogram=!1,this.labelHandles=!1,this.labelTicks=!1,this.max=100,this.min=0,this.mirrored=!1,this.precise=!1,this.required=!1,this.snap=!1,this.step=1,this.value=null,this.scale="m",this.guid=`calcite-slider-${ri()}`,this.isRange=!1,this.activeProp="value",this.minMaxValueRange=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.tickValues=[],this.dragUpdate=e=>{if(e.preventDefault(),this.dragProp){const t=this.translate(e.clientX||e.pageX);if(this.isRange&&this.dragProp==="minMaxValue")if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const i=t-this.minValueDragRange,n=t+this.maxValueDragRange;n<=this.max&&i>=this.min&&n-i===this.minMaxValueRange&&(this.minValue=this.clamp(i,"minValue"),this.maxValue=this.clamp(n,"maxValue"))}else this.minValueDragRange=t-this.minValue,this.maxValueDragRange=this.maxValue-t,this.minMaxValueRange=this.maxValue-this.minValue;else this.setValue(this.dragProp,this.clamp(t,this.dragProp))}},this.dragEnd=e=>{this.removeDragListeners(),this.focusActiveHandle(e.clientX),this.lastDragPropValue!=this[this.dragProp]&&this.emitChange(),this.dragProp=null,this.lastDragPropValue=null,this.minValueDragRange=null,this.maxValueDragRange=null,this.minMaxValueRange=null},this.storeTrackRef=e=>{this.trackEl=e}}histogramWatcher(e){this.hasHistogram=!!e}connectedCallback(){sr(this),mo(this)}disconnectedCallback(){Nr(this),fo(this),this.removeDragListeners()}componentWillLoad(){this.isRange=!!(this.maxValue||this.maxValue===0),this.tickValues=this.generateTickValues(),this.value=this.clamp(this.value),sT(this,this.value),this.snap&&(this.value=this.getClosestStep(this.value)),this.histogram&&(this.hasHistogram=!0)}componentDidRender(){this.labelHandles&&(this.adjustHostObscuredHandleLabel("value"),this.isRange&&(this.adjustHostObscuredHandleLabel("minValue"),this.precise&&this.isRange&&!this.hasHistogram||this.hyphenateCollidingRangeHandleLabels())),this.hideObscuredBoundingTickLabels(),Je(this)}render(){const e=this.el.id||this.guid,t=this.minValue||this.min,i=this.maxValue||this.value,n=this.isRange?"maxValue":"value",r=this[n],a=this.shouldUseMinValue(),o=this.getUnitInterval(a?this.minValue:t)*100,s=this.getUnitInterval(i)*100,l=this.shouldMirror(),u=`${l?100-o:o}%`,h=`${l?s:100-s}%`,m=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"})),f=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString()),y("div",{class:"handle"})),g=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString())),b=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle"}),y("div",{class:"handle-extension"})),v=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"})),w=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString()),y("div",{class:"handle"}),y("div",{class:"handle-extension"})),x=y("div",{"aria-disabled":this.disabled,"aria-label":this.isRange?this.maxLabel:this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":r,class:{thumb:!0,"thumb--value":!0,"thumb--active":this.lastDragProp!=="minMaxValue"&&this.dragProp===n,"thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp=n,onPointerDown:()=>this.dragStart(n),ref:L=>this.maxHandle=L,role:"slider",style:{right:h},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value static"},r&&r.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--value transformed"},r&&r.toLocaleString())),S=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:L=>this.minHandle=L,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle"})),E=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:L=>this.minHandle=L,role:"slider",style:{left:u},tabIndex:0},y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString()),y("div",{class:"handle"})),T=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue"},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:L=>this.minHandle=L,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString())),C=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:L=>this.minHandle=L,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"})),M=y("div",{"aria-disabled":this.disabled,"aria-label":this.minLabel,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.minValue,class:{thumb:!0,"thumb--minValue":!0,"thumb--active":this.dragProp==="minValue","thumb--precise":!0},onBlur:()=>this.activeProp=null,onFocus:()=>this.activeProp="minValue",onPointerDown:()=>this.dragStart("minValue"),ref:L=>this.minHandle=L,role:"slider",style:{left:u},tabIndex:0},y("div",{class:"handle-extension"}),y("div",{class:"handle"}),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue static"},this.minValue&&this.minValue.toLocaleString()),y("span",{"aria-hidden":"true",class:"handle__label handle__label--minValue transformed"},this.minValue&&this.minValue.toLocaleString()));return y(Ae,{id:e,onTouchStart:this.handleTouchStart},y("div",{class:{container:!0,["container--range"]:this.isRange,[`scale--${this.scale}`]:!0}},this.renderGraph(),y("div",{class:"track",ref:this.storeTrackRef},y("div",{class:"track__range",onPointerDown:()=>this.dragStart("minMaxValue"),style:{left:`${l?100-s:o}%`,right:`${l?o:100-s}%`}}),y("div",{class:"ticks"},this.tickValues.map(L=>{const j=`${this.getUnitInterval(L)*100}%`;let G=L>=t&&L<=i;return a&&(G=L>=this.minValue&&L<=this.maxValue),y("span",{class:{tick:!0,"tick--active":G},style:{left:l?"":j,right:l?j:""}},this.renderTickLabel(L))}))),y("div",{class:"thumb-container"},!this.precise&&!this.labelHandles&&this.isRange&&S,!this.hasHistogram&&!this.precise&&this.labelHandles&&this.isRange&&E,this.precise&&!this.labelHandles&&this.isRange&&C,this.precise&&this.labelHandles&&this.isRange&&M,this.hasHistogram&&!this.precise&&this.labelHandles&&this.isRange&&T,!this.precise&&!this.labelHandles&&m,!this.hasHistogram&&!this.precise&&this.labelHandles&&f,!this.hasHistogram&&this.precise&&!this.labelHandles&&b,this.hasHistogram&&this.precise&&!this.labelHandles&&v,!this.hasHistogram&&this.precise&&this.labelHandles&&w,this.hasHistogram&&!this.precise&&this.labelHandles&&g,this.hasHistogram&&this.precise&&this.labelHandles&&x,y(go,{component:this}))))}renderGraph(){return this.histogram?y("calcite-graph",{class:"graph",colorStops:this.histogramStops,data:this.histogram,highlightMax:this.isRange?this.maxValue:this.value,highlightMin:this.isRange?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(e){const t=e===this.min,i=e===this.max,n=y("span",{class:{tick__label:!0,"tick__label--min":t,"tick__label--max":i}},e.toLocaleString());return this.labelTicks&&!this.hasHistogram&&!this.isRange||this.labelTicks&&!this.hasHistogram&&this.isRange&&!this.precise&&!this.labelHandles||this.labelTicks&&!this.hasHistogram&&this.isRange&&!this.precise&&this.labelHandles||this.labelTicks&&!this.hasHistogram&&this.isRange&&this.precise&&(t||i)||this.labelTicks&&this.hasHistogram&&!this.precise&&!this.labelHandles||this.labelTicks&&this.hasHistogram&&this.precise&&!this.labelHandles&&(t||i)||this.labelTicks&&this.hasHistogram&&!this.precise&&this.labelHandles&&(t||i)||this.labelTicks&&this.hasHistogram&&this.precise&&this.labelHandles&&(t||i)?n:null}keyDownHandler(e){const t=this.shouldMirror(),{activeProp:i,max:n,min:r,pageStep:a,step:o}=this,s=this[i],l=e.key;if(l==="Enter"||l===" "){e.preventDefault();return}let u;if(l==="ArrowUp"||l==="ArrowRight"?u=s+o*(t&&l==="ArrowRight"?-1:1):l==="ArrowDown"||l==="ArrowLeft"?u=s-o*(t&&l==="ArrowLeft"?-1:1):l==="PageUp"?a&&(u=s+a):l==="PageDown"?a&&(u=s-a):l==="Home"?u=r:l==="End"&&(u=n),isNaN(u))return;e.preventDefault();const h=Number(u.toFixed(zp(o)));this.setValue(i,this.clamp(h,i))}clickHandler(e){this.focusActiveHandle(e.clientX)}pointerDownHandler(e){const t=e.clientX||e.pageX,i=this.translate(t);let n="value";this.isRange&&(i>=this.minValue&&i<=this.maxValue&&this.lastDragProp==="minMaxValue"?n="minMaxValue":n=Math.abs(this.maxValue-i)<Math.abs(this.minValue-i)||i>this.maxValue?"maxValue":"minValue"),this.lastDragPropValue=this[n],this.dragStart(n),this.el.shadowRoot.querySelector(".thumb:active")||this.setValue(n,this.clamp(i,n))}handleTouchStart(e){e.preventDefault()}async setFocus(){(this.minHandle?this.minHandle:this.maxHandle).focus()}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){return this.isRange?this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0:!1}generateTickValues(){const e=[];let t=this.min;for(;this.ticks&&t<this.max+this.ticks;)e.push(Math.min(t,this.max)),t=t+this.ticks;return e}dragStart(e){this.dragProp=e,this.lastDragProp=this.dragProp,this.activeProp=e,document.addEventListener("pointermove",this.dragUpdate),document.addEventListener("pointerup",this.dragEnd),document.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(e){switch(this.dragProp){case"minValue":this.minHandle.focus();break;case"maxValue":this.maxHandle.focus();break;case"minMaxValue":this.getClosestHandle(e).focus();break}}emitInput(){this.calciteSliderInput.emit(),this.calciteSliderUpdate.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){document.removeEventListener("pointermove",this.dragUpdate),document.removeEventListener("pointerup",this.dragEnd),document.removeEventListener("pointercancel",this.dragEnd)}setValue(e,t){if(!(this[e]!==t))return;this[e]=t,this.dragProp||this.emitChange(),this.emitInput()}clamp(e,t){return e=cT(e,this.min,this.max),t==="maxValue"&&(e=Math.max(e,this.minValue)),t==="minValue"&&(e=Math.min(e,this.maxValue)),e}translate(e){const t=this.max-this.min,{left:i,width:n}=this.trackEl.getBoundingClientRect(),r=(e-i)/n,a=this.shouldMirror(),o=this.clamp(this.min+t*(a?1-r:r));let s=Number(o.toFixed(zp(this.step)));return this.snap&&this.step&&(s=this.getClosestStep(s)),s}getClosestStep(e){if(e=Number(this.clamp(e).toFixed(zp(this.step))),this.step){const t=Math.round(e/this.step)*this.step;e=Number(this.clamp(t).toFixed(zp(this.step)))}return e}getClosestHandle(e){return this.getDistanceX(this.maxHandle,e)>this.getDistanceX(this.minHandle,e)?this.minHandle:this.maxHandle}getDistanceX(e,t){return Math.abs(e.getBoundingClientRect().left-t)}getFontSizeForElement(e){return Number(window.getComputedStyle(e).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(e){e=this.clamp(e);const t=this.max-this.min;return(e-this.min)/t}adjustHostObscuredHandleLabel(e){const t=this.el.shadowRoot.querySelector(`.handle__label--${e}`),i=this.el.shadowRoot.querySelector(`.handle__label--${e}.static`),n=this.el.shadowRoot.querySelector(`.handle__label--${e}.transformed`),r=i.getBoundingClientRect(),a=this.getHostOffset(r.left,r.right);t.style.transform=`translateX(${a}px)`,n.style.transform=`translateX(${a}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:e}=this.el,t=this.shouldMirror(),i=t?"value":"minValue",n=t?"minValue":"value",r=e.querySelector(`.handle__label--${i}`),a=e.querySelector(`.handle__label--${i}.static`),o=e.querySelector(`.handle__label--${i}.transformed`),s=this.getHostOffset(a.getBoundingClientRect().left,a.getBoundingClientRect().right),l=e.querySelector(`.handle__label--${n}`),u=e.querySelector(`.handle__label--${n}.static`),h=e.querySelector(`.handle__label--${n}.transformed`),m=this.getHostOffset(u.getBoundingClientRect().left,u.getBoundingClientRect().right),f=this.getFontSizeForElement(r),g=this.getRangeLabelOverlap(o,h),b=r,v=f/2;if(g>0){if(b.classList.add("hyphen","hyphen--wrap"),m===0&&s===0){let w=g/2-v;w=Math.sign(w)===-1?Math.abs(w):-w;const x=this.getHostOffset(o.getBoundingClientRect().left+w-v,o.getBoundingClientRect().right+w-v);let S=g/2;const E=this.getHostOffset(h.getBoundingClientRect().left+S,h.getBoundingClientRect().right+S);x!==0&&(w+=x,S+=x),E!==0&&(w+=E,S+=E),r.style.transform=`translateX(${w}px)`,o.style.transform=`translateX(${w-v}px)`,l.style.transform=`translateX(${S}px)`,h.style.transform=`translateX(${S}px)`}else if(s>0||m>0)r.style.transform=`translateX(${s+v}px)`,l.style.transform=`translateX(${g+m}px)`,h.style.transform=`translateX(${g+m}px)`;else if(s<0||m<0){let w=Math.abs(s)+g-v;w=Math.sign(w)===-1?Math.abs(w):-w,r.style.transform=`translateX(${w}px)`,o.style.transform=`translateX(${w-v}px)`}}else b.classList.remove("hyphen","hyphen--wrap"),r.style.transform=`translateX(${s}px)`,o.style.transform=`translateX(${s}px)`,l.style.transform=`translateX(${m}px)`,h.style.transform=`translateX(${m}px)`}hideObscuredBoundingTickLabels(){if(!this.hasHistogram&&!this.isRange&&!this.labelHandles&&!this.precise||!this.hasHistogram&&!this.isRange&&this.labelHandles&&!this.precise||!this.hasHistogram&&!this.isRange&&!this.labelHandles&&this.precise||!this.hasHistogram&&!this.isRange&&this.labelHandles&&this.precise||!this.hasHistogram&&this.isRange&&!this.precise||this.hasHistogram&&!this.precise&&!this.labelHandles)return;const e=this.el.shadowRoot.querySelector(".thumb--minValue"),t=this.el.shadowRoot.querySelector(".thumb--value"),i=this.el.shadowRoot.querySelector(".tick__label--min"),n=this.el.shadowRoot.querySelector(".tick__label--max");!e&&t&&i&&n&&(i.style.opacity=this.isMinTickLabelObscured(i,t)?"0":"1",n.style.opacity=this.isMaxTickLabelObscured(n,t)?"0":"1"),e&&t&&i&&n&&(i.style.opacity=this.isMinTickLabelObscured(i,e)||this.isMinTickLabelObscured(i,t)?"0":"1",n.style.opacity=this.isMaxTickLabelObscured(n,e)||this.isMaxTickLabelObscured(n,t)&&this.hasHistogram?"0":"1")}getHostOffset(e,t){const i=this.el.getBoundingClientRect(),n=7;return e+n<i.left?i.left-e-n:t-n>i.right?-(t-i.right)+n:0}getRangeLabelOverlap(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=this.getFontSizeForElement(e),a=i.right+r-n.left;return Math.max(a,0)}isMinTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return LM(i,n)}isMaxTickLabelObscured(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return LM(i,n)}get el(){return this}static get watchers(){return{histogram:["histogramWatcher"]}}static get style(){return wte}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ZO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ls(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(i),!0).forEach(function(n){kte(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function d1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d1=function(t){return typeof t}:d1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function kte(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function kl(){return kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},kl.apply(this,arguments)}function _te(e,t){if(e==null)return{};var i={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function Ste(e,t){if(e==null)return{};var i=_te(e,t),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(i[n]=e[n]))}return i}var Dte="1.14.0";function yl(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var El=yl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gy=yl(/Edge/i),XO=yl(/firefox/i),wg=yl(/safari/i)&&!yl(/chrome/i)&&!yl(/android/i),U9=yl(/iP(ad|od|hone)/i),$te=yl(/chrome/i)&&yl(/android/i),B9={capture:!1,passive:!1};function st(e,t,i){e.addEventListener(t,i,!El&&B9)}function et(e,t,i){e.removeEventListener(t,i,!El&&B9)}function qw(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Cte(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Wo(e,t,i,n){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&qw(e,t):qw(e,t))||n&&e===i)return e;if(e===i)break}while(e=Cte(e))}return null}var QO=/\s+/g;function pr(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(QO," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(QO," ")}}function De(e,t,i){var n=e&&e.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=i+(typeof i=="string"?"":"px")}}function rm(e,t){var i="";if(typeof e=="string")i=e;else do{var n=De(e,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function G9(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,a=n.length;if(i)for(;r<a;r++)i(n[r],r);return n}return[]}function ns(){var e=document.scrollingElement;return e||document.documentElement}function Ai(e,t,i,n,r){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,l,u,h,m;if(e!==window&&e.parentNode&&e!==ns()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,u=a.right,h=a.height,m=a.width):(o=0,s=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,m=window.innerWidth),(t||i)&&e!==window&&(r=r||e.parentNode,!El))do if(r&&r.getBoundingClientRect&&(De(r,"transform")!=="none"||i&&De(r,"position")!=="static")){var f=r.getBoundingClientRect();o-=f.top+parseInt(De(r,"border-top-width")),s-=f.left+parseInt(De(r,"border-left-width")),l=o+a.height,u=s+a.width;break}while(r=r.parentNode);if(n&&e!==window){var g=rm(r||e),b=g&&g.a,v=g&&g.d;g&&(o/=v,s/=b,m/=b,h/=v,l=o+h,u=s+m)}return{top:o,left:s,bottom:l,right:u,width:m,height:h}}}function eA(e,t,i){for(var n=jc(e,!0),r=Ai(e)[t];n;){var a=Ai(n)[i],o=void 0;if(i==="top"||i==="left"?o=r>=a:o=r<=a,!o)return n;if(n===ns())break;n=jc(n,!1)}return!1}function Cm(e,t,i,n){for(var r=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==ke.ghost&&(n||o[a]!==ke.dragged)&&Wo(o[a],i.draggable,e,!1)){if(r===t)return o[a];r++}a++}return null}function kT(e,t){for(var i=e.lastElementChild;i&&(i===ke.ghost||De(i,"display")==="none"||t&&!qw(i,t));)i=i.previousElementSibling;return i||null}function aa(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ke.clone&&(!t||qw(e,t))&&i++;return i}function tA(e){var t=0,i=0,n=ns();if(e)do{var r=rm(e),a=r.a,o=r.d;t+=e.scrollLeft*a,i+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,i]}function Tte(e,t){for(var i in e)if(!!e.hasOwnProperty(i)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i)}return-1}function jc(e,t){if(!e||!e.getBoundingClientRect)return ns();var i=e,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=De(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return ns();if(n||t)return i;n=!0}}while(i=i.parentNode);return ns()}function Ete(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function h2(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var xg;function W9(e,t){return function(){if(!xg){var i=arguments,n=this;i.length===1?e.call(n,i[0]):e.apply(n,i),xg=setTimeout(function(){xg=void 0},t)}}}function Ite(){clearTimeout(xg),xg=void 0}function J9(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Y9(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}var Tr="Sortable"+new Date().getTime();function Mte(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(De(r,"display")==="none"||r===ke.ghost)){e.push({target:r,rect:Ai(r)});var a=ls({},e[e.length-1].rect);if(r.thisAnimationDuration){var o=rm(r,!0);o&&(a.top-=o.f,a.left-=o.e)}r.fromRect=a}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Tte(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var a=!1,o=0;e.forEach(function(s){var l=0,u=s.target,h=u.fromRect,m=Ai(u),f=u.prevFromRect,g=u.prevToRect,b=s.rect,v=rm(u,!0);v&&(m.top-=v.f,m.left-=v.e),u.toRect=m,u.thisAnimationDuration&&h2(f,m)&&!h2(h,m)&&(b.top-m.top)/(b.left-m.left)===(h.top-m.top)/(h.left-m.left)&&(l=Ate(b,f,g,r.options)),h2(m,h)||(u.prevFromRect=h,u.prevToRect=m,l||(l=r.options.animation),r.animate(u,b,m,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),a?t=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),e=[]},animate:function(n,r,a,o){if(o){De(n,"transition",""),De(n,"transform","");var s=rm(this.el),l=s&&s.a,u=s&&s.d,h=(r.left-a.left)/(l||1),m=(r.top-a.top)/(u||1);n.animatingX=!!h,n.animatingY=!!m,De(n,"transform","translate3d("+h+"px,"+m+"px,0)"),this.forRepaintDummy=Ote(n),De(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),De(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){De(n,"transition",""),De(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function Ote(e){return e.offsetWidth}function Ate(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}var Fh=[],p2={initializeByDefault:!0},Wy={mount:function(t){for(var i in p2)p2.hasOwnProperty(i)&&!(i in t)&&(t[i]=p2[i]);Fh.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Fh.push(t)},pluginEvent:function(t,i,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=t+"Global";Fh.forEach(function(o){!i[o.pluginName]||(i[o.pluginName][a]&&i[o.pluginName][a](ls({sortable:i},n)),i.options[o.pluginName]&&i[o.pluginName][t]&&i[o.pluginName][t](ls({sortable:i},n)))})},initializePlugins:function(t,i,n,r){Fh.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,i,t.options);u.sortable=t,u.options=t.options,t[l]=u,kl(n,u.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var o=this.modifyOption(t,a,t.options[a]);typeof o!="undefined"&&(t.options[a]=o)}},getEventProperties:function(t,i){var n={};return Fh.forEach(function(r){typeof r.eventProperties=="function"&&kl(n,r.eventProperties.call(i[r.pluginName],t))}),n},modifyOption:function(t,i,n){var r;return Fh.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[i]=="function"&&(r=a.optionListeners[i].call(t[a.pluginName],n))}),r}};function Pte(e){var t=e.sortable,i=e.rootEl,n=e.name,r=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,h=e.oldDraggableIndex,m=e.newDraggableIndex,f=e.originalEvent,g=e.putSortable,b=e.extraEventProperties;if(t=t||i&&i[Tr],!!t){var v,w=t.options,x="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!El&&!Gy?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=o||i,v.from=s||i,v.item=r||i,v.clone=a,v.oldIndex=l,v.newIndex=u,v.oldDraggableIndex=h,v.newDraggableIndex=m,v.originalEvent=f,v.pullMode=g?g.lastPutMode:void 0;var S=ls(ls({},b),Wy.getEventProperties(n,t));for(var E in S)v[E]=S[E];i&&i.dispatchEvent(v),w[x]&&w[x].call(t,v)}}var Lte=["evt"],zn=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,a=Ste(n,Lte);Wy.pluginEvent.bind(ke)(t,i,ls({dragEl:ie,parentEl:Kt,ghostEl:Fe,rootEl:Rt,nextEl:Pu,lastDownEl:h1,cloneEl:Qt,cloneHidden:Lc,dragStarted:m0,putSortable:Zi,activeSortable:ke.active,originalEvent:r,oldIndex:jp,oldDraggableIndex:kg,newIndex:wr,newDraggableIndex:Tc,hideGhostForTarget:Q9,unhideGhostForTarget:e6,cloneNowHidden:function(){Lc=!0},cloneNowShown:function(){Lc=!1},dispatchSortableEvent:function(s){wn({sortable:i,name:s,originalEvent:r})}},a))};function wn(e){Pte(ls({putSortable:Zi,cloneEl:Qt,targetEl:ie,rootEl:Rt,oldIndex:jp,oldDraggableIndex:kg,newIndex:wr,newDraggableIndex:Tc},e))}var ie,Kt,Fe,Rt,Pu,h1,Qt,Lc,jp,wr,kg,Tc,Xb,Zi,np=!1,Uw=!1,Bw=[],wu,Da,m2,f2,iA,nA,m0,Nh,_g,Sg=!1,Qb=!1,p1,sn,g2=[],_3=!1,Gw=[],kk=typeof document!="undefined",ev=U9,rA=Gy||El?"cssFloat":"float",Rte=kk&&!$te&&!U9&&"draggable"in document.createElement("div"),K9=function(){if(!!kk){if(El)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Z9=function(t,i){var n=De(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Cm(t,0,i),o=Cm(t,1,i),s=a&&De(a),l=o&&De(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ai(a).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ai(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===m)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=r&&n[rA]==="none"||o&&n[rA]==="none"&&u+h>r)?"vertical":"horizontal"},Fte=function(t,i,n){var r=n?t.left:t.top,a=n?t.right:t.bottom,o=n?t.width:t.height,s=n?i.left:i.top,l=n?i.right:i.bottom,u=n?i.width:i.height;return r===s||a===l||r+o/2===s+u/2},Nte=function(t,i){var n;return Bw.some(function(r){var a=r[Tr].options.emptyInsertThreshold;if(!(!a||kT(r))){var o=Ai(r),s=t>=o.left-a&&t<=o.right+a,l=i>=o.top-a&&i<=o.bottom+a;if(s&&l)return n=r}}),n},X9=function(t){function i(a,o){return function(s,l,u,h){var m=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(o||m))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return i(a(s,l,u,h),o)(s,l,u,h);var f=(o?s:l).options.group.name;return a===!0||typeof a=="string"&&a===f||a.join&&a.indexOf(f)>-1}}var n={},r=t.group;(!r||d1(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=i(r.pull,!0),n.checkPut=i(r.put),n.revertClone=r.revertClone,t.group=n},Q9=function(){!K9&&Fe&&De(Fe,"display","none")},e6=function(){!K9&&Fe&&De(Fe,"display","")};kk&&document.addEventListener("click",function(e){if(Uw)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Uw=!1,!1},!0);var xu=function(t){if(ie){t=t.touches?t.touches[0]:t;var i=Nte(t.clientX,t.clientY);if(i){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Tr]._onDragOver(n)}}},zte=function(t){ie&&ie.parentNode[Tr]._isOutsideThisEl(t.target)};function ke(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=kl({},t),e[Tr]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Z9(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ke.supportPointer!==!1&&"PointerEvent"in window&&!wg,emptyInsertThreshold:5};Wy.initializePlugins(this,e,i);for(var n in i)!(n in t)&&(t[n]=i[n]);X9(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:Rte,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?st(e,"pointerdown",this._onTapStart):(st(e,"mousedown",this._onTapStart),st(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(st(e,"dragover",this),st(e,"dragenter",this)),Bw.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),kl(this,Mte())}ke.prototype={constructor:ke,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Nh=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,ie):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var i=this,n=this.el,r=this.options,a=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,h=r.filter;if(Wte(n),!ie&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&wg&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Wo(l,r.draggable,n,!1),!(l&&l.animated)&&h1!==l)){if(jp=aa(l),kg=aa(l,r.draggable),typeof h=="function"){if(h.call(this,t,l,this)){wn({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),zn("filter",i,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(m){if(m=Wo(u,m.trim(),n,!1),m)return wn({sortable:i,rootEl:m,name:"filter",targetEl:l,fromEl:n,toEl:n}),zn("filter",i,{evt:t}),!0}),h)){a&&t.cancelable&&t.preventDefault();return}r.handle&&!Wo(u,r.handle,n,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,i,n){var r=this,a=r.el,o=r.options,s=a.ownerDocument,l;if(n&&!ie&&n.parentNode===a){var u=Ai(n);if(Rt=a,ie=n,Kt=ie.parentNode,Pu=ie.nextSibling,h1=n,Xb=o.group,ke.dragged=ie,wu={target:ie,clientX:(i||t).clientX,clientY:(i||t).clientY},iA=wu.clientX-u.left,nA=wu.clientY-u.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,ie.style["will-change"]="all",l=function(){if(zn("delayEnded",r,{evt:t}),ke.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!XO&&r.nativeDraggable&&(ie.draggable=!0),r._triggerDragStart(t,i),wn({sortable:r,name:"choose",originalEvent:t}),pr(ie,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){G9(ie,h.trim(),y2)}),st(s,"dragover",xu),st(s,"mousemove",xu),st(s,"touchmove",xu),st(s,"mouseup",r._onDrop),st(s,"touchend",r._onDrop),st(s,"touchcancel",r._onDrop),XO&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ie.draggable=!0),zn("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(Gy||El))){if(ke.eventCanceled){this._onDrop();return}st(s,"mouseup",r._disableDelayedDrag),st(s,"touchend",r._disableDelayedDrag),st(s,"touchcancel",r._disableDelayedDrag),st(s,"mousemove",r._delayedDragTouchMoveHandler),st(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&st(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ie&&y2(ie),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;et(t,"mouseup",this._disableDelayedDrag),et(t,"touchend",this._disableDelayedDrag),et(t,"touchcancel",this._disableDelayedDrag),et(t,"mousemove",this._delayedDragTouchMoveHandler),et(t,"touchmove",this._delayedDragTouchMoveHandler),et(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?st(document,"pointermove",this._onTouchMove):i?st(document,"touchmove",this._onTouchMove):st(document,"mousemove",this._onTouchMove):(st(ie,"dragend",this),st(Rt,"dragstart",this._onDragStart));try{document.selection?m1(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(np=!1,Rt&&ie){zn("dragStarted",this,{evt:i}),this.nativeDraggable&&st(document,"dragover",zte);var n=this.options;!t&&pr(ie,n.dragClass,!1),pr(ie,n.ghostClass,!0),ke.active=this,t&&this._appendGhost(),wn({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Da){this._lastX=Da.clientX,this._lastY=Da.clientY,Q9();for(var t=document.elementFromPoint(Da.clientX,Da.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Da.clientX,Da.clientY),t!==i);)i=t;if(ie.parentNode[Tr]._isOutsideThisEl(t),i)do{if(i[Tr]){var n=void 0;if(n=i[Tr]._onDragOver({clientX:Da.clientX,clientY:Da.clientY,target:t,rootEl:i}),n&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);e6()}},_onTouchMove:function(t){if(wu){var i=this.options,n=i.fallbackTolerance,r=i.fallbackOffset,a=t.touches?t.touches[0]:t,o=Fe&&rm(Fe,!0),s=Fe&&o&&o.a,l=Fe&&o&&o.d,u=ev&&sn&&tA(sn),h=(a.clientX-wu.clientX+r.x)/(s||1)+(u?u[0]-g2[0]:0)/(s||1),m=(a.clientY-wu.clientY+r.y)/(l||1)+(u?u[1]-g2[1]:0)/(l||1);if(!ke.active&&!np){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Fe){o?(o.e+=h-(m2||0),o.f+=m-(f2||0)):o={a:1,b:0,c:0,d:1,e:h,f:m};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");De(Fe,"webkitTransform",f),De(Fe,"mozTransform",f),De(Fe,"msTransform",f),De(Fe,"transform",f),m2=h,f2=m,Da=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Fe){var t=this.options.fallbackOnBody?document.body:Rt,i=Ai(ie,!0,ev,!0,t),n=this.options;if(ev){for(sn=t;De(sn,"position")==="static"&&De(sn,"transform")==="none"&&sn!==document;)sn=sn.parentNode;sn!==document.body&&sn!==document.documentElement?(sn===document&&(sn=ns()),i.top+=sn.scrollTop,i.left+=sn.scrollLeft):sn=ns(),g2=tA(sn)}Fe=ie.cloneNode(!0),pr(Fe,n.ghostClass,!1),pr(Fe,n.fallbackClass,!0),pr(Fe,n.dragClass,!0),De(Fe,"transition",""),De(Fe,"transform",""),De(Fe,"box-sizing","border-box"),De(Fe,"margin",0),De(Fe,"top",i.top),De(Fe,"left",i.left),De(Fe,"width",i.width),De(Fe,"height",i.height),De(Fe,"opacity","0.8"),De(Fe,"position",ev?"absolute":"fixed"),De(Fe,"zIndex","100000"),De(Fe,"pointerEvents","none"),ke.ghost=Fe,t.appendChild(Fe),De(Fe,"transform-origin",iA/parseInt(Fe.style.width)*100+"% "+nA/parseInt(Fe.style.height)*100+"%")}},_onDragStart:function(t,i){var n=this,r=t.dataTransfer,a=n.options;if(zn("dragStart",this,{evt:t}),ke.eventCanceled){this._onDrop();return}zn("setupClone",this),ke.eventCanceled||(Qt=Y9(ie),Qt.draggable=!1,Qt.style["will-change"]="",this._hideClone(),pr(Qt,this.options.chosenClass,!1),ke.clone=Qt),n.cloneId=m1(function(){zn("clone",n),!ke.eventCanceled&&(n.options.removeCloneOnHide||Rt.insertBefore(Qt,ie),n._hideClone(),wn({sortable:n,name:"clone"}))}),!i&&pr(ie,a.dragClass,!0),i?(Uw=!0,n._loopId=setInterval(n._emulateDragOver,50)):(et(document,"mouseup",n._onDrop),et(document,"touchend",n._onDrop),et(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,ie)),st(document,"drop",n),De(ie,"transform","translateZ(0)")),np=!0,n._dragStartId=m1(n._dragStarted.bind(n,i,t)),st(document,"selectstart",n),m0=!0,wg&&De(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,n=t.target,r,a,o,s=this.options,l=s.group,u=ke.active,h=Xb===l,m=s.sort,f=Zi||u,g,b=this,v=!1;if(_3)return;function w(At,ai){zn(At,b,ls({evt:t,isOwner:h,axis:g?"vertical":"horizontal",revert:o,dragRect:r,targetRect:a,canSort:m,fromSortable:f,target:n,completed:S,onMove:function(_s,Ss){return tv(Rt,i,ie,r,_s,Ai(_s),t,Ss)},changed:E},ai))}function x(){w("dragOverAnimationCapture"),b.captureAnimationState(),b!==f&&f.captureAnimationState()}function S(At){return w("dragOverCompleted",{insertion:At}),At&&(h?u._hideClone():u._showClone(b),b!==f&&(pr(ie,Zi?Zi.options.ghostClass:u.options.ghostClass,!1),pr(ie,s.ghostClass,!0)),Zi!==b&&b!==ke.active?Zi=b:b===ke.active&&Zi&&(Zi=null),f===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){w("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===ie&&!ie.animated||n===i&&!n.animated)&&(Nh=null),!s.dragoverBubble&&!t.rootEl&&n!==document&&(ie.parentNode[Tr]._isOutsideThisEl(t.target),!At&&xu(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function E(){wr=aa(ie),Tc=aa(ie,s.draggable),wn({sortable:b,name:"change",toEl:i,newIndex:wr,newDraggableIndex:Tc,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=Wo(n,s.draggable,i,!0),w("dragOver"),ke.eventCanceled)return v;if(ie.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return S(!1);if(Uw=!1,u&&!s.disabled&&(h?m||(o=Kt!==Rt):Zi===this||(this.lastPutMode=Xb.checkPull(this,u,ie,t))&&l.checkPut(this,u,ie,t))){if(g=this._getDirection(t,n)==="vertical",r=Ai(ie),w("dragOverValid"),ke.eventCanceled)return v;if(o)return Kt=Rt,x(),this._hideClone(),w("revert"),ke.eventCanceled||(Pu?Rt.insertBefore(ie,Pu):Rt.appendChild(ie)),S(!0);var T=kT(i,s.draggable);if(!T||qte(t,g,this)&&!T.animated){if(T===ie)return S(!1);if(T&&i===t.target&&(n=T),n&&(a=Ai(n)),tv(Rt,i,ie,r,n,a,t,!!n)!==!1)return x(),i.appendChild(ie),Kt=i,E(),S(!0)}else if(T&&Hte(t,g,this)){var C=Cm(i,0,s,!0);if(C===ie)return S(!1);if(n=C,a=Ai(n),tv(Rt,i,ie,r,n,a,t,!1)!==!1)return x(),i.insertBefore(ie,C),Kt=i,E(),S(!0)}else if(n.parentNode===i){a=Ai(n);var M=0,L,j=ie.parentNode!==i,G=!Fte(ie.animated&&ie.toRect||r,n.animated&&n.toRect||a,g),J=g?"top":"left",q=eA(n,"top","top")||eA(ie,"top","top"),ue=q?q.scrollTop:void 0;Nh!==n&&(L=a[J],Sg=!1,Qb=!G&&s.invertSwap||j),M=Ute(t,n,a,g,G?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Qb,Nh===n);var re;if(M!==0){var de=aa(ie);do de-=M,re=Kt.children[de];while(re&&(De(re,"display")==="none"||re===Fe))}if(M===0||re===n)return S(!1);Nh=n,_g=M;var it=n.nextElementSibling,Ke=!1;Ke=M===1;var He=tv(Rt,i,ie,r,n,a,t,Ke);if(He!==!1)return(He===1||He===-1)&&(Ke=He===1),_3=!0,setTimeout(Vte,30),x(),Ke&&!it?i.appendChild(ie):n.parentNode.insertBefore(ie,Ke?it:n),q&&J9(q,0,ue-q.scrollTop),Kt=ie.parentNode,L!==void 0&&!Qb&&(p1=Math.abs(L-Ai(n)[J])),E(),S(!0)}if(i.contains(ie))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){et(document,"mousemove",this._onTouchMove),et(document,"touchmove",this._onTouchMove),et(document,"pointermove",this._onTouchMove),et(document,"dragover",xu),et(document,"mousemove",xu),et(document,"touchmove",xu)},_offUpEvents:function(){var t=this.el.ownerDocument;et(t,"mouseup",this._onDrop),et(t,"touchend",this._onDrop),et(t,"pointerup",this._onDrop),et(t,"touchcancel",this._onDrop),et(document,"selectstart",this)},_onDrop:function(t){var i=this.el,n=this.options;if(wr=aa(ie),Tc=aa(ie,n.draggable),zn("drop",this,{evt:t}),Kt=ie&&ie.parentNode,wr=aa(ie),Tc=aa(ie,n.draggable),ke.eventCanceled){this._nulling();return}np=!1,Qb=!1,Sg=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),S3(this.cloneId),S3(this._dragStartId),this.nativeDraggable&&(et(document,"drop",this),et(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wg&&De(document.body,"user-select",""),De(ie,"transform",""),t&&(m0&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(Rt===Kt||Zi&&Zi.lastPutMode!=="clone")&&Qt&&Qt.parentNode&&Qt.parentNode.removeChild(Qt),ie&&(this.nativeDraggable&&et(ie,"dragend",this),y2(ie),ie.style["will-change"]="",m0&&!np&&pr(ie,Zi?Zi.options.ghostClass:this.options.ghostClass,!1),pr(ie,this.options.chosenClass,!1),wn({sortable:this,name:"unchoose",toEl:Kt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Rt!==Kt?(wr>=0&&(wn({rootEl:Kt,name:"add",toEl:Kt,fromEl:Rt,originalEvent:t}),wn({sortable:this,name:"remove",toEl:Kt,originalEvent:t}),wn({rootEl:Kt,name:"sort",toEl:Kt,fromEl:Rt,originalEvent:t}),wn({sortable:this,name:"sort",toEl:Kt,originalEvent:t})),Zi&&Zi.save()):wr!==jp&&wr>=0&&(wn({sortable:this,name:"update",toEl:Kt,originalEvent:t}),wn({sortable:this,name:"sort",toEl:Kt,originalEvent:t})),ke.active&&((wr==null||wr===-1)&&(wr=jp,Tc=kg),wn({sortable:this,name:"end",toEl:Kt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){zn("nulling",this),Rt=ie=Kt=Fe=Pu=Qt=h1=Lc=wu=Da=m0=wr=Tc=jp=kg=Nh=_g=Zi=Xb=ke.dragged=ke.ghost=ke.clone=ke.active=null,Gw.forEach(function(t){t.checked=!0}),Gw.length=m2=f2=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ie&&(this._onDragOver(t),jte(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,n=this.el.children,r=0,a=n.length,o=this.options;r<a;r++)i=n[r],Wo(i,o.draggable,this.el,!1)&&t.push(i.getAttribute(o.dataIdAttr)||Gte(i));return t},sort:function(t,i){var n={},r=this.el;this.toArray().forEach(function(a,o){var s=r.children[o];Wo(s,this.options.draggable,r,!1)&&(n[a]=s)},this),i&&this.captureAnimationState(),t.forEach(function(a){n[a]&&(r.removeChild(n[a]),r.appendChild(n[a]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return Wo(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var n=this.options;if(i===void 0)return n[t];var r=Wy.modifyOption(this,t,i);typeof r!="undefined"?n[t]=r:n[t]=i,t==="group"&&X9(n)},destroy:function(){zn("destroy",this);var t=this.el;t[Tr]=null,et(t,"mousedown",this._onTapStart),et(t,"touchstart",this._onTapStart),et(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(et(t,"dragover",this),et(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bw.splice(Bw.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Lc){if(zn("hideClone",this),ke.eventCanceled)return;De(Qt,"display","none"),this.options.removeCloneOnHide&&Qt.parentNode&&Qt.parentNode.removeChild(Qt),Lc=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Lc){if(zn("showClone",this),ke.eventCanceled)return;ie.parentNode==Rt&&!this.options.group.revertClone?Rt.insertBefore(Qt,ie):Pu?Rt.insertBefore(Qt,Pu):Rt.appendChild(Qt),this.options.group.revertClone&&this.animate(ie,Qt),De(Qt,"display",""),Lc=!1}}};function jte(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function tv(e,t,i,n,r,a,o,s){var l,u=e[Tr],h=u.options.onMove,m;return window.CustomEvent&&!El&&!Gy?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=r||t,l.relatedRect=a||Ai(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),h&&(m=h.call(u,l,o)),m}function y2(e){e.draggable=!1}function Vte(){_3=!1}function Hte(e,t,i){var n=Ai(Cm(i.el,0,i.options,!0)),r=10;return t?e.clientX<n.left-r||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-r||e.clientY<n.bottom&&e.clientX<n.left}function qte(e,t,i){var n=Ai(kT(i.el,i.options.draggable)),r=10;return t?e.clientX>n.right+r||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+r}function Ute(e,t,i,n,r,a,o,s){var l=n?e.clientY:e.clientX,u=n?i.height:i.width,h=n?i.top:i.left,m=n?i.bottom:i.right,f=!1;if(!o){if(s&&p1<u*r){if(!Sg&&(_g===1?l>h+u*a/2:l<m-u*a/2)&&(Sg=!0),Sg)f=!0;else if(_g===1?l<h+p1:l>m-p1)return-_g}else if(l>h+u*(1-r)/2&&l<m-u*(1-r)/2)return Bte(t)}return f=f||o,f&&(l<h+u*a/2||l>m-u*a/2)?l>h+u/2?1:-1:0}function Bte(e){return aa(ie)<aa(e)?1:-1}function Gte(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function Wte(e){Gw.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Gw.push(n)}}function m1(e){return setTimeout(e,0)}function S3(e){return clearTimeout(e)}kk&&st(document,"touchmove",function(e){(ke.active||np)&&e.cancelable&&e.preventDefault()});ke.utils={on:st,off:et,css:De,find:G9,is:function(t,i){return!!Wo(t,i,t,!1)},extend:Ete,throttle:W9,closest:Wo,toggleClass:pr,clone:Y9,index:aa,nextTick:m1,cancelNextTick:S3,detectDirection:Z9,getChild:Cm};ke.get=function(e){return e[Tr]};ke.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(ke.utils=ls(ls({},ke.utils),n.utils)),Wy.mount(n)})};ke.create=function(e,t){return new ke(e,t)};ke.version=Dte;var bi=[],f0,D3,$3=!1,b2,v2,Ww,g0;function Jte(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?st(document,"dragover",this._handleAutoScroll):this.options.supportPointer?st(document,"pointermove",this._handleFallbackAutoScroll):n.touches?st(document,"touchmove",this._handleFallbackAutoScroll):st(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?et(document,"dragover",this._handleAutoScroll):(et(document,"pointermove",this._handleFallbackAutoScroll),et(document,"touchmove",this._handleFallbackAutoScroll),et(document,"mousemove",this._handleFallbackAutoScroll)),aA(),f1(),Ite()},nulling:function(){Ww=D3=f0=$3=g0=b2=v2=null,bi.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var r=this,a=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,s=document.elementFromPoint(a,o);if(Ww=i,n||this.options.forceAutoScrollFallback||Gy||El||wg){w2(i,this.options,s,n);var l=jc(s,!0);$3&&(!g0||a!==b2||o!==v2)&&(g0&&aA(),g0=setInterval(function(){var u=jc(document.elementFromPoint(a,o),!0);u!==l&&(l=u,f1()),w2(i,r.options,u,n)},10),b2=a,v2=o)}else{if(!this.options.bubbleScroll||jc(s,!0)===ns()){f1();return}w2(i,this.options,jc(s,!1),!1)}}},kl(e,{pluginName:"scroll",initializeByDefault:!0})}function f1(){bi.forEach(function(e){clearInterval(e.pid)}),bi=[]}function aA(){clearInterval(g0)}var w2=W9(function(e,t,i,n){if(!!t.scroll){var r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,l=ns(),u=!1,h;D3!==i&&(D3=i,f1(),f0=t.scroll,h=t.scrollFn,f0===!0&&(f0=jc(i,!0)));var m=0,f=f0;do{var g=f,b=Ai(g),v=b.top,w=b.bottom,x=b.left,S=b.right,E=b.width,T=b.height,C=void 0,M=void 0,L=g.scrollWidth,j=g.scrollHeight,G=De(g),J=g.scrollLeft,q=g.scrollTop;g===l?(C=E<L&&(G.overflowX==="auto"||G.overflowX==="scroll"||G.overflowX==="visible"),M=T<j&&(G.overflowY==="auto"||G.overflowY==="scroll"||G.overflowY==="visible")):(C=E<L&&(G.overflowX==="auto"||G.overflowX==="scroll"),M=T<j&&(G.overflowY==="auto"||G.overflowY==="scroll"));var ue=C&&(Math.abs(S-r)<=o&&J+E<L)-(Math.abs(x-r)<=o&&!!J),re=M&&(Math.abs(w-a)<=o&&q+T<j)-(Math.abs(v-a)<=o&&!!q);if(!bi[m])for(var de=0;de<=m;de++)bi[de]||(bi[de]={});(bi[m].vx!=ue||bi[m].vy!=re||bi[m].el!==g)&&(bi[m].el=g,bi[m].vx=ue,bi[m].vy=re,clearInterval(bi[m].pid),(ue!=0||re!=0)&&(u=!0,bi[m].pid=setInterval(function(){n&&this.layer===0&&ke.active._onTouchMove(Ww);var it=bi[this.layer].vy?bi[this.layer].vy*s:0,Ke=bi[this.layer].vx?bi[this.layer].vx*s:0;typeof h=="function"&&h.call(ke.dragged.parentNode[Tr],Ke,it,e,Ww,bi[this.layer].el)!=="continue"||J9(bi[this.layer].el,Ke,it)}.bind({layer:m}),24))),m++}while(t.bubbleScroll&&f!==l&&(f=jc(f,!1)));$3=u}},30),t6=function(t){var i=t.originalEvent,n=t.putSortable,r=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!i){var u=n||a;s();var h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,m=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(m)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function _T(){}_T.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Cm(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:t6};kl(_T,{pluginName:"revertOnSpill"});function ST(){}ST.prototype={onSpill:function(t){var i=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:t6};kl(ST,{pluginName:"removeOnSpill"});ke.mount(new Jte);ke.mount(ST,_T);const x2={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},Yte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto}.container--vertical{-ms-flex-direction:column;flex-direction:column}.container--horizontal{-ms-flex-direction:row;flex-direction:row}",Kte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListOrderChange=U(this,"calciteListOrderChange",7),this.handleSelector="calcite-handle",this.layout="vertical",this.disabled=!1,this.loading=!1,this.handleActivated=!1,this.items=[],this.mutationObserver=Nt("mutation",()=>{this.cleanUpDragAndDrop(),this.items=Array.from(this.el.children),this.setUpDragAndDrop()})}connectedCallback(){this.items=Array.from(this.el.children),this.setUpDragAndDrop(),this.beginObserving()}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),this.cleanUpDragAndDrop()}componentDidRender(){Je(this)}calciteHandleNudgeHandler(e){var t;const i=this.items.find(s=>s.contains(e.detail.handle)||e.composedPath().includes(s)),n=this.items.length-1,r=this.items.indexOf(i);let a=!1,o;switch(e.detail.direction){case"up":e.preventDefault(),r===0?a=!0:o=r-1;break;case"down":e.preventDefault(),r===n?o=0:r===n-1?a=!0:o=r+2;break;default:return}(t=this.mutationObserver)===null||t===void 0||t.disconnect(),a?i.parentElement.appendChild(i):i.parentElement.insertBefore(i,this.items[o]),this.items=Array.from(this.el.children),e.detail.handle.activated=!0,e.detail.handle.setFocus(),this.beginObserving()}setUpDragAndDrop(){this.cleanUpDragAndDrop();const e={dataIdAttr:"id",group:this.group,handle:this.handleSelector,onUpdate:()=>{this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()},onStart:()=>{var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()},onEnd:()=>{this.beginObserving()}};this.dragSelector&&(e.draggable=this.dragSelector),this.sortable=ke.create(this.el,e)}cleanUpDragAndDrop(){var e;(e=this.sortable)===null||e===void 0||e.destroy(),this.sortable=null}beginObserving(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}render(){const{layout:e}=this,t=e==="horizontal"||!1;return y("div",{class:{[x2.container]:!0,[x2.containerVertical]:!t,[x2.containerHorizontal]:t}},y("slot",null))}get el(){return this}static get style(){return Yte}},zh={container:"split-button__container",dividerContainer:"split-button__divider-container",divider:"split-button__divider",widthAuto:"width-auto",widthHalf:"width-half",widthFull:"width-full"},Zte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block}:host .split-button__container{display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch}:host .split-button__container>calcite-dropdown>calcite-button{height:100%;vertical-align:top}:host([appearance=solid]):host([color=blue]){--calcite-split-button-background:var(--calcite-ui-brand);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=solid]):host([color=red]){--calcite-split-button-background:var(--calcite-ui-danger);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=solid]):host([color=neutral]){--calcite-split-button-background:var(--calcite-ui-foreground-3);--calcite-split-button-divider:var(--calcite-ui-text-1)}:host([appearance=solid]):host([color=inverse]){--calcite-split-button-background:var(--calcite-ui-inverse);--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=transparent]):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=transparent]):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=transparent]):host([color=neutral]){--calcite-split-button-divider:var(--calcite-ui-text-1)}:host([appearance=transparent]):host([color=inverse]){--calcite-split-button-divider:var(--calcite-ui-foreground-1)}:host([appearance=clear]),:host([appearance=transparent]){--calcite-split-button-background:transparent}:host([appearance=outline]){--calcite-split-button-background:var(--calcite-ui-foreground-1)}:host([appearance=clear]):host([color=blue]),:host([appearance=outline]):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand)}:host([appearance=clear]):host([color=red]),:host([appearance=outline]):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger)}:host([appearance=clear]):host([color=neutral]),:host([appearance=outline]):host([color=neutral]){--calcite-split-button-divider:var(--calcite-ui-foreground-3)}:host([appearance=clear]):host([color=inverse]),:host([appearance=outline]):host([color=inverse]){--calcite-split-button-divider:var(--calcite-ui-inverse)}.width-auto{width:auto}.width-half{width:50%}.width-full{width:100%}.split-button__divider-container{display:-ms-flexbox;display:flex;width:1px;-ms-flex-align:stretch;align-items:stretch;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;background-color:var(--calcite-split-button-background)}.split-button__divider{margin-top:0.25rem;margin-bottom:0.25rem;display:inline-block;width:1px;background-color:var(--calcite-split-button-divider)}:host([appearance=outline]) .split-button__divider-container,:host([appearance=clear]) .split-button__divider-container{border-top:1px solid var(--calcite-split-button-divider);border-bottom:1px solid var(--calcite-split-button-divider)}:host([appearance=outline]):hover .split-button__divider-container,:host([appearance=clear]):hover .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline]:hover) .split-button__divider-container,:host([appearance=clear]:hover) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([appearance=outline]:focus-within):host([color=blue]),:host([appearance=clear]:focus-within):host([color=blue]){--calcite-split-button-divider:var(--calcite-ui-brand-press)}:host([appearance=outline]:focus-within):host([color=red]),:host([appearance=clear]:focus-within):host([color=red]){--calcite-split-button-divider:var(--calcite-ui-danger-press)}:host([appearance=outline]:focus-within) .split-button__divider-container,:host([appearance=clear]:focus-within) .split-button__divider-container{background-color:var(--calcite-split-button-divider)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .split-button__divider-container{opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) calcite-dropdown>calcite-button{pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Xte=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSplitButtonPrimaryClick=U(this,"calciteSplitButtonPrimaryClick",7),this.calciteSplitButtonSecondaryClick=U(this,"calciteSplitButtonSecondaryClick",7),this.appearance="solid",this.color="blue",this.disabled=!1,this.active=!1,this.dropdownIconType="chevron",this.loading=!1,this.overlayPositioning="absolute",this.scale="m",this.width="auto",this.calciteSplitButtonPrimaryClickHandler=e=>this.calciteSplitButtonPrimaryClick.emit(e),this.calciteSplitButtonSecondaryClickHandler=e=>this.calciteSplitButtonSecondaryClick.emit(e)}handleDisabledChange(e){e||(this.active=!1)}activeHandler(){this.disabled&&(this.active=!1)}componentDidRender(){Je(this)}render(){const e={[zh.container]:!0,[zh.widthAuto]:this.width==="auto",[zh.widthHalf]:this.width==="half",[zh.widthFull]:this.width==="full"},t=this.width==="auto"?"auto":"full";return y("div",{class:e},y("calcite-button",{appearance:this.appearance,color:this.color,disabled:this.disabled,"icon-end":this.primaryIconEnd?this.primaryIconEnd:null,"icon-start":this.primaryIconStart?this.primaryIconStart:null,iconFlipRtl:this.primaryIconFlipRtl?this.primaryIconFlipRtl:null,label:this.primaryLabel,loading:this.loading,onClick:this.calciteSplitButtonPrimaryClickHandler,scale:this.scale,splitChild:"primary",type:"button",width:t},this.primaryText),y("div",{class:zh.dividerContainer},y("div",{class:zh.divider})),y("calcite-dropdown",{active:this.active,disabled:this.disabled,onClick:this.calciteSplitButtonSecondaryClickHandler,overlayPositioning:this.overlayPositioning,placement:"bottom-trailing",scale:this.scale,width:this.scale},y("calcite-button",{appearance:this.appearance,color:this.color,disabled:this.disabled,"icon-start":this.dropdownIcon,label:this.dropdownLabel,scale:this.scale,slot:"dropdown-trigger",splitChild:"secondary",type:"button"}),y("slot",null)))}get dropdownIcon(){return this.dropdownIconType==="chevron"?"chevronDown":this.dropdownIconType==="caret"?"caretDown":this.dropdownIconType==="ellipsis"?"ellipsis":"handle-vertical"}get el(){return this}static get watchers(){return{disabled:["handleDisabledChange"],active:["activeHandler"]}}static get style(){return Zte}},Qte="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex;width:100%;min-width:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;-ms-flex-pack:justify;justify-content:space-between}:host([layout=vertical]){-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column}:host ::slotted(.calcite-stepper-content){display:-ms-flexbox;display:flex;width:100%;min-width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap}",eie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteStepperItemChange=U(this,"calciteStepperItemChange",7),this.icon=!1,this.layout="horizontal",this.numbered=!1,this.scale="m",this.items=[],this.sortedItems=[]}contentWatcher(){this.layout==="horizontal"&&(!this.stepperContentContainer&&this.requestedContent&&this.addHorizontalContentContainer(),this.updateContent(this.requestedContent))}componentDidLoad(){this.currentPosition||this.calciteStepperItemChange.emit({position:0})}componentWillLoad(){this.layout==="horizontal"&&!this.stepperContentContainer&&this.addHorizontalContentContainer()}render(){return y("slot",null)}calciteStepperItemKeyEvent(e){const t=e.detail.item,i=e.target,n=this.itemIndex(i)===0,r=this.itemIndex(i)===this.sortedItems.length-1;switch(t.key){case"ArrowDown":case"ArrowRight":r?this.focusFirstItem():this.focusNextItem(i);break;case"ArrowUp":case"ArrowLeft":n?this.focusLastItem():this.focusPrevItem(i);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem();break}}registerItem(e){const t={item:e.target,position:e.detail.position,content:e.detail.content};t.content&&t.item.active&&(this.requestedContent=t.content),this.items.includes(t)||this.items.push(t),this.sortedItems=this.sortItems()}updateItem(e){e.detail.content&&(this.requestedContent=e.detail.content),this.currentPosition=e.detail.position,this.calciteStepperItemChange.emit({position:this.currentPosition})}async nextStep(){this.currentPosition=this.currentPosition+1<this.items.length?this.currentPosition+1:this.currentPosition,this.emitChangedItem()}async prevStep(){this.currentPosition=this.currentPosition-1>=0?this.currentPosition-1:this.currentPosition,this.emitChangedItem()}async goToStep(e){this.currentPosition=e-1,this.emitChangedItem()}async startStep(){this.currentPosition=0,this.emitChangedItem()}async endStep(){this.currentPosition=this.items.length-1,this.emitChangedItem()}addHorizontalContentContainer(){this.stepperContentContainer=document.createElement("div"),this.stepperContentContainer.classList.add("calcite-stepper-content"),this.el.insertAdjacentElement("beforeend",this.stepperContentContainer)}emitChangedItem(){this.calciteStepperItemChange.emit({position:this.currentPosition})}focusFirstItem(){const e=this.sortedItems[0];this.focusElement(e)}focusLastItem(){const e=this.sortedItems[this.sortedItems.length-1];this.focusElement(e)}focusNextItem(e){const t=this.itemIndex(e),i=this.sortedItems[t+1]||this.sortedItems[0];this.focusElement(i)}focusPrevItem(e){const t=this.itemIndex(e),i=this.sortedItems[t-1]||this.sortedItems[this.sortedItems.length-1];this.focusElement(i)}itemIndex(e){return this.sortedItems.indexOf(e)}focusElement(e){e.focus()}sortItems(){const e=Array.from(this.items).filter(t=>!t.item.disabled).sort((t,i)=>t.position-i.position).map(t=>t.item);return[...Array.from(new Set(e))]}updateContent(e){this.stepperContentContainer.innerHTML="",this.stepperContentContainer.append(...e)}get el(){return this}static get watchers(){return{requestedContent:["contentWatcher"]}}static get style(){return Qte}},tie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]){--calcite-stepper-item-spacing-unit-s:0.25rem;--calcite-stepper-item-spacing-unit-m:0.75rem;--calcite-stepper-item-spacing-unit-l:1rem;font-size:var(--calcite-font-size--1);line-height:1rem;-webkit-margin-end:0.25rem;margin-inline-end:0.25rem}:host([scale=s]) .stepper-item-subtitle{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-stepper-item-spacing-unit-s:0.5rem;--calcite-stepper-item-spacing-unit-m:1rem;--calcite-stepper-item-spacing-unit-l:1.25rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([scale=m]) .stepper-item-subtitle{font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-stepper-item-spacing-unit-s:0.75rem;--calcite-stepper-item-spacing-unit-m:1.25rem;--calcite-stepper-item-spacing-unit-l:1.5rem;font-size:var(--calcite-font-size-1);line-height:1.5rem;-webkit-margin-end:0.75rem;margin-inline-end:0.75rem}:host([scale=l]) .stepper-item-subtitle{font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--calcite-stepper-item-spacing-unit-s)}:host .container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;cursor:pointer;-ms-flex-direction:column;flex-direction:column;border-width:0px;border-top-width:2px;border-style:solid;border-color:var(--calcite-ui-border-3);color:var(--calcite-ui-text-3);-webkit-text-decoration-line:none;text-decoration-line:none;outline:2px solid transparent;outline-offset:2px;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host .stepper-item-header{display:-ms-flexbox;display:flex;cursor:pointer;-ms-flex-align:start;align-items:flex-start}:host .stepper-item-content,:host .stepper-item-header{-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);padding-block:var(--calcite-stepper-item-spacing-unit-l);-webkit-padding-end:var(--calcite-stepper-item-spacing-unit-m);padding-inline-end:var(--calcite-stepper-item-spacing-unit-m);text-align:start}:host .stepper-item-header *{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-content{display:none;width:100%;-ms-flex-direction:column;flex-direction:column;font-size:var(--calcite-font-size--2);line-height:1.375}:host .stepper-item-icon{-webkit-margin-end:var(--calcite-stepper-item-spacing-unit-m);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m);margin-top:1px;display:-ms-inline-flexbox;display:inline-flex;height:0.75rem;-ms-flex-negative:0;flex-shrink:0;-ms-flex-item-align:start;align-self:flex-start;color:var(--calcite-ui-text-3);opacity:var(--calcite-ui-opacity-disabled);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .stepper-item-header-text{-ms-flex-direction:column;flex-direction:column;text-align:initial;-webkit-margin-end:auto;margin-inline-end:auto}:host .stepper-item-title,:host .stepper-item-subtitle{display:-ms-flexbox;display:flex;width:100%}:host .stepper-item-title{margin-bottom:0.25rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2)}:host .stepper-item-subtitle{color:var(--calcite-ui-text-3)}:host .stepper-item-number{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-margin-end:var(--calcite-stepper-item-spacing-unit-m);margin-inline-end:var(--calcite-stepper-item-spacing-unit-m)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([complete]) .container .stepper-item-icon{color:var(--calcite-ui-brand)}:host([error]) .container{border-top-color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-number{color:var(--calcite-ui-danger)}:host([error]) .container .stepper-item-icon{opacity:1;color:var(--calcite-ui-danger)}:host(:hover:not([disabled]):not([active])) .container,:host(:focus:not([disabled]):not([active])) .container{border-top-color:var(--calcite-ui-brand)}:host(:hover:not([disabled]):not([active])) .container .stepper-item-title,:host(:focus:not([disabled]):not([active])) .container .stepper-item-title{color:var(--calcite-ui-text-1)}:host(:hover:not([disabled]):not([active])) .container .stepper-item-subtitle,:host(:focus:not([disabled]):not([active])) .container .stepper-item-subtitle{color:var(--calcite-ui-text-2)}:host([error]:hover:not([disabled]):not([active])) .container,:host([error]:focus:not([disabled]):not([active])) .container{border-top-color:var(--calcite-ui-danger-hover)}:host([active]) .container{border-top-color:var(--calcite-ui-brand)}:host([active]) .container .stepper-item-title{color:var(--calcite-ui-text-1)}:host([active]) .container .stepper-item-subtitle{color:var(--calcite-ui-text-2)}:host([active]) .container .stepper-item-number{color:var(--calcite-ui-brand)}:host([active]) .container .stepper-item-icon{color:var(--calcite-ui-brand);opacity:1}:host([layout=vertical]) .container{margin-left:0px;margin-right:0px;margin-top:0px;-ms-flex:1 1 auto;flex:1 1 auto;border-top-width:0px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;border-inline-start-width:2px;-webkit-padding-start:var(--calcite-stepper-item-spacing-unit-l);padding-inline-start:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical]) .container .stepper-item-icon{-ms-flex-order:3;order:3;margin-top:1px;margin-bottom:0px;-webkit-padding-start:var(--calcite-stepper-item-spacing-unit-s);padding-inline-start:var(--calcite-stepper-item-spacing-unit-s);-webkit-margin-start:auto;margin-inline-start:auto}:host([layout=vertical]) .container .stepper-item-header{-webkit-padding-end:0px;padding-inline-end:0px}:host([layout=vertical]) .container .stepper-item-content{padding:0px}:host([layout=vertical][active]) .container .stepper-item-content{display:-ms-flexbox;display:flex}:host([layout=vertical][active]) .container .stepper-item-content ::slotted(:last-child){margin-bottom:var(--calcite-stepper-item-spacing-unit-l)}:host([layout=vertical][complete]) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][complete]:hover:not([disabled]):not([active])) .container,:host([layout=vertical][complete]:focus:not([disabled]):not([active])) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical][error]) .container{border-color:var(--calcite-ui-danger)}:host([layout=vertical][active]) .container{border-color:var(--calcite-ui-brand)}:host([layout=vertical]:hover:not([disabled]):not([active])) .container,:host([layout=vertical]:focus:not([disabled]):not([active])) .container{border-color:rgba(0, 122, 194, 0.5)}:host([layout=vertical][error]:hover:not([disabled]):not([active])) .container,:host([layout=vertical][error]:focus:not([disabled]):not([active])) .container{border-color:var(--calcite-ui-danger-hover)}",iie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteStepperItemKeyEvent=U(this,"calciteStepperItemKeyEvent",7),this.calciteStepperItemSelect=U(this,"calciteStepperItemSelect",7),this.calciteStepperItemRegister=U(this,"calciteStepperItemRegister",7),this.active=!1,this.complete=!1,this.error=!1,this.disabled=!1,this.icon=!1,this.numbered=!1,this.scale="m"}disabledWatcher(){this.registerStepperItem()}componentWillLoad(){this.icon=Bt(this.el,"icon",!1),this.numbered=Bt(this.el,"numbered",!1),this.layout=Bt(this.el,"layout",!1),this.scale=Bt(this.el,"scale","m"),this.parentStepperEl=this.el.parentElement}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.itemContent=this.getItemContent(),this.registerStepperItem(),this.active&&this.emitRequestedItem()}componentDidUpdate(){this.active&&this.emitRequestedItem()}componentDidRender(){Je(this,!0)}render(){return y(Ae,{"aria-expanded":this.active.toString(),onClick:()=>this.emitRequestedItem()},y("div",{class:"container"},y("div",{class:"stepper-item-header"},this.icon?this.renderIcon():null,this.numbered?y("div",{class:"stepper-item-number"},this.getItemPosition()+1,"."):null,y("div",{class:"stepper-item-header-text"},y("span",{class:"stepper-item-title"},this.itemTitle),y("span",{class:"stepper-item-subtitle"},this.itemSubtitle))),y("div",{class:"stepper-item-content"},y("slot",null))))}keyDownHandler(e){if(!this.disabled&&e.target===this.el)switch(e.key){case" ":case"Enter":this.emitRequestedItem(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Home":case"End":this.calciteStepperItemKeyEvent.emit({item:e}),e.preventDefault();break}}updateActiveItemOnChange(e){e.target===this.parentStepperEl&&(this.activePosition=e.detail.position,this.determineActiveItem())}renderIcon(){const e=this.active?"circleF":this.error?"exclamationMarkCircleF":this.complete?"checkCircleF":"circle";return y("calcite-icon",{class:"stepper-item-icon",icon:e,scale:"s"})}determineActiveItem(){this.active=!this.disabled&&this.itemPosition===this.activePosition}registerStepperItem(){this.calciteStepperItemRegister.emit({position:this.itemPosition,content:this.itemContent})}emitRequestedItem(){this.disabled||this.calciteStepperItemSelect.emit({position:this.itemPosition,content:this.itemContent})}getItemContent(){var e;return!((e=this.el.shadowRoot)===null||e===void 0)&&e.querySelector("slot")?this.el.shadowRoot.querySelector("slot").assignedNodes({flatten:!0}):this.el.querySelector(".stepper-item-content")?this.el.querySelector(".stepper-item-content").childNodes:null}getItemPosition(){return Array.prototype.indexOf.call(this.parentStepperEl.querySelectorAll("calcite-stepper-item"),this.el)}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"]}}static get style(){return tie}},nie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([scale=s]) .container{height:0.75rem}:host([scale=s]) .track{height:0.75rem;width:1.5rem}:host([scale=s]) .handle{height:0.5rem;width:0.5rem}:host([scale=m]) .container{height:1rem}:host([scale=m]) .track{height:1rem;width:2rem}:host([scale=m]) .handle{height:0.75rem;width:0.75rem}:host([scale=l]) .container{height:1.5rem}:host([scale=l]) .track{height:1.5rem;width:3rem}:host([scale=l]) .handle{height:1.25rem;width:1.25rem}:host{position:relative;display:inline-block;width:auto;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;tap-highlight-color:transparent}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host{width:auto;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.track{pointer-events:none;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;border-radius:9999px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-2);vertical-align:top;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.handle{pointer-events:none;position:absolute;display:block;border-radius:9999px;border-width:2px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);top:-1px;inset-inline:-1px auto}:host(:hover) .handle,:host(:focus) .handle{border-color:var(--calcite-ui-brand);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand)}:host([checked]) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]) .handle{border-color:var(--calcite-ui-brand);inset-inline:auto -1px}:host([checked]:hover) .track{border-color:var(--calcite-ui-brand-hover);background-color:var(--calcite-ui-brand)}:host([checked]:hover) .handle{border-color:var(--calcite-ui-brand-hover);-webkit-box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}@media (forced-colors: active){:host([checked]) .track{background-color:canvasText}}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(input[slot=hidden-form-input]){bottom:0 !important;left:0 !important;margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;right:0 !important;top:0 !important;-webkit-transform:none !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",rie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteSwitchChange=U(this,"calciteSwitchChange",7),this.disabled=!1,this.scale="m",this.switched=!1,this.checked=!1,this.keyDownHandler=e=>{const t=e.key;!this.disabled&&(t===" "||t==="Enter")&&this.toggle()},this.clickHandler=()=>{this.toggle()},this.setSwitchEl=e=>{this.switchEl=e}}switchedWatcher(e){this.checked=e}async setFocus(){ti(this.switchEl)}onLabelClick(){this.disabled||(this.toggle(),this.setFocus())}toggle(){this.checked=!this.checked,this.calciteSwitchChange.emit({switched:this.checked})}connectedCallback(){const e=this.checked||this.switched;e&&(this.switched=this.checked=e),sr(this),mo(this)}disconnectedCallback(){Nr(this),fo(this)}componentDidRender(){Je(this)}render(){return y(Ae,{onKeyDown:this.keyDownHandler},y("div",{"aria-checked":this.checked.toString(),"aria-label":as(this),class:"container",onClick:this.clickHandler,ref:this.setSwitchEl,role:"switch",tabIndex:0},y("div",{class:"track"},y("div",{class:"handle"})),y(go,{component:this})))}get el(){return this}static get watchers(){return{switched:["switchedWatcher"]}}static get style(){return nie}},aie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host([active]) section{display:block}:host{display:none;height:100%;width:100%}:host([active]){display:block;height:100%;width:100%;overflow:auto}section{display:none;height:100%;width:100%}:host([scale=s]){padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}",oie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabRegister=U(this,"calciteTabRegister",7),this.active=!1,this.scale="m",this.guid=`calcite-tab-title-${ri()}`}render(){const e=this.el.id||this.guid;return y(Ae,{"aria-expanded":this.active.toString(),"aria-labelledby":this.labeledBy,id:e,role:"tabpanel"},y("section",null,y("slot",null)))}componentDidLoad(){this.calciteTabRegister.emit()}componentWillRender(){var e;this.scale=(e=this.el.closest("calcite-tabs"))===null||e===void 0?void 0:e.scale}disconnectedCallback(){var e;(e=document.body)===null||e===void 0||e.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}tabChangeHandler(e){!e.composedPath().includes(this.el.closest("calcite-tabs"))||(this.tab?this.active=this.tab===e.detail.tab:this.getTabIndex().then(t=>{this.active=t===e.detail.tab}))}async getTabIndex(){return Array.prototype.indexOf.call(eo(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}async updateAriaInfo(e=[],t=[]){this.labeledBy=t[e.indexOf(this.el.id)]||null}get el(){return this}static get style(){return aie}},sie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:-ms-flexbox;display:flex}:host([scale=s]){min-height:1.5rem}:host([scale=m]){min-height:2rem}:host([scale=l]){min-height:2.75rem}.tab-nav{display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:start;justify-content:flex-start;overflow:auto}:host([layout=center]) .tab-nav{-ms-flex-pack:center;justify-content:center}.tab-nav-active-indicator-container{position:absolute;left:0px;right:0px;bottom:0px;height:0.125rem;width:100%;overflow:hidden}.tab-nav-active-indicator{position:absolute;bottom:0px;display:block;height:0.125rem;background-color:var(--calcite-ui-brand);-webkit-transition-property:all;transition-property:all;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0, 0, 0.2, 1);transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}:host([position=below]) .tab-nav-active-indicator{bottom:unset;top:0px}:host([position=below]) .tab-nav-active-indicator-container{bottom:unset;top:0px}:host([bordered]) .tab-nav-active-indicator-container{bottom:unset}:host([bordered][position=below]) .tab-nav-active-indicator-container{bottom:0;top:unset}",lie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabChange=U(this,"calciteTabChange",7),this.scale="m",this.layout="inline",this.position="below",this.bordered=!1,this.animationActiveDuration=.3,this.handleContainerScroll=()=>{this.activeIndicatorEl.style.transitionDuration="0s",this.updateOffsetPosition()}}async selectedTabChanged(){localStorage&&this.storageId&&this.selectedTab!==void 0&&this.selectedTab!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTab)),this.calciteTabChange.emit({tab:this.selectedTab}),this.selectedTabEl=await this.getTabTitleById(this.selectedTab)}selectedTabElChanged(){this.updateOffsetPosition(),this.updateActiveWidth(),this.activeIndicatorEl.style.transitionDuration=`${this.animationActiveDuration}s`}componentWillLoad(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const t=JSON.parse(localStorage.getItem(e));this.selectedTab=t,this.calciteTabChange.emit({tab:this.selectedTab})}}componentWillRender(){var e,t,i,n;this.layout=(e=this.el.closest("calcite-tabs"))===null||e===void 0?void 0:e.layout,this.position=(t=this.el.closest("calcite-tabs"))===null||t===void 0?void 0:t.position,this.scale=(i=this.el.closest("calcite-tabs"))===null||i===void 0?void 0:i.scale,this.bordered=(n=this.el.closest("calcite-tabs"))===null||n===void 0?void 0:n.bordered,this.selectedTabEl&&this.updateOffsetPosition()}componentDidRender(){this.tabTitles.length&&this.tabTitles.every(e=>!e.active)&&!this.selectedTab&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteTabChange.emit({tab:e})})}render(){const e=Li(this.el),t=`${this.indicatorWidth}px`,i=`${this.indicatorOffset}px`,n=e!=="rtl"?{width:t,left:i}:{width:t,right:i};return y(Ae,{role:"tablist"},y("div",{class:"tab-nav",onScroll:this.handleContainerScroll,ref:r=>this.tabNavEl=r},y("div",{class:"tab-nav-active-indicator-container",ref:r=>this.activeIndicatorContainerEl=r},y("div",{class:"tab-nav-active-indicator",ref:r=>this.activeIndicatorEl=r,style:n})),y("slot",null)))}resizeHandler(){this.activeIndicatorEl.style.transitionDuration="0s",this.updateActiveWidth(),this.updateOffsetPosition()}focusPreviousTabHandler(e){const t=this.getIndexOfTabTitle(e.target,this.enabledTabTitles);(this.enabledTabTitles[t-1]||this.enabledTabTitles[this.enabledTabTitles.length-1]).focus(),e.stopPropagation(),e.preventDefault()}focusNextTabHandler(e){const t=this.getIndexOfTabTitle(e.target,this.enabledTabTitles);(this.enabledTabTitles[t+1]||this.enabledTabTitles[0]).focus(),e.stopPropagation(),e.preventDefault()}activateTabHandler(e){this.selectedTab=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(e.target),e.stopPropagation(),e.preventDefault()}updateTabTitles(e){e.target.active&&(this.selectedTab=e.detail)}globalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTab!==e.detail.tab&&(this.selectedTab=e.detail.tab)}updateOffsetPosition(){var e,t,i,n,r;const a=Li(this.el),o=(e=this.activeIndicatorContainerEl)===null||e===void 0?void 0:e.offsetWidth,s=(t=this.selectedTabEl)===null||t===void 0?void 0:t.offsetLeft,l=(i=this.selectedTabEl)===null||i===void 0?void 0:i.offsetWidth,u=o-(s+l);this.indicatorOffset=a!=="rtl"?s-((n=this.tabNavEl)===null||n===void 0?void 0:n.scrollLeft):u+((r=this.tabNavEl)===null||r===void 0?void 0:r.scrollLeft)}updateActiveWidth(){var e;this.indicatorWidth=(e=this.selectedTabEl)===null||e===void 0?void 0:e.offsetWidth}getIndexOfTabTitle(e,t=this.tabTitles){return t.indexOf(e)}async getTabTitleById(e){return Promise.all(this.tabTitles.map(t=>t.getTabIdentifier())).then(t=>this.tabTitles[t.indexOf(e)])}get tabTitles(){return m3(this.el,"calcite-tab-title")}get enabledTabTitles(){return m3(this.el,"calcite-tab-title:not([disabled])")}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"],selectedTabEl:["selectedTabElChanged"]}}static get style(){return sie}},cie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-right:1.25rem;display:block;-ms-flex:0 1 auto;flex:0 1 auto;outline:2px solid transparent;outline-offset:2px;-webkit-margin-start:0px;margin-inline-start:0px;-webkit-margin-end:1.25rem;margin-inline-end:1.25rem}:host([layout=center]){margin-top:0px;margin-bottom:0px;margin-left:1.25rem;margin-right:1.25rem;text-align:center;-ms-flex-preferred-size:12rem;flex-basis:12rem}:host([position=below]) a{border-bottom-width:0px;border-top-width:2px;border-top-color:transparent;border-top-style:solid}:host a{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus) a{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host(:active) a,:host(:focus) a,:host(:hover) a{border-color:var(--calcite-ui-border-2);color:var(--calcite-ui-text-1);-webkit-text-decoration-line:none;text-decoration-line:none}:host([active]) a{border-color:transparent;color:var(--calcite-ui-text-1)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) span,:host([disabled]) a{pointer-events:none;opacity:0.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){-webkit-margin-end:1rem;margin-inline-end:1rem}:host([scale=s]) a,:host([scale=s]) span{padding-top:0.25rem;padding-bottom:0.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) a,:host([scale=m]) span{padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){-webkit-margin-end:1.5rem;margin-inline-end:1.5rem}:host([scale=l]) a,:host([scale=l]) span{padding-top:0.75rem;padding-bottom:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}a,span{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;height:100%;width:100%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;-ms-flex-pack:center;justify-content:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom-width:2px;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem;font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-3);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;border-bottom-color:transparent;border-bottom-style:solid}span{cursor:default}.calcite-tab-title--icon{position:relative;margin:0px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-item-align:center;align-self:center}.calcite-tab-title--icon svg{-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}.container--has-text{padding:0.25rem}.container--has-text .calcite-tab-title--icon.icon-start{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}.container--has-text .calcite-tab-title--icon.icon-end{-webkit-margin-start:0.5rem;margin-inline-start:0.5rem}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{-webkit-margin-end:0.5rem;margin-inline-end:0.5rem}:host([bordered]){-webkit-margin-end:0;margin-inline-end:0}:host([bordered][active]){-webkit-box-shadow:inset 0px -2px var(--calcite-ui-foreground-1);box-shadow:inset 0px -2px var(--calcite-ui-foreground-1)}:host([bordered][active][position=below]){-webkit-box-shadow:inset 0 2px 0 var(--calcite-ui-foreground-1);box-shadow:inset 0 2px 0 var(--calcite-ui-foreground-1)}:host([bordered]:hover) a,:host([bordered]:focus) a,:host([bordered]:active) a{position:relative}:host([bordered]:hover) a{background-color:var(--calcite-button-transparent-hover);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s}:host([bordered]) a{border-bottom-style:unset}:host([bordered][position=below]) a{border-top-style:unset}:host([active][bordered]) a{border-left:1px solid var(--calcite-ui-border-1);border-right:1px solid var(--calcite-ui-border-1)}:host([bordered]) a,:host([bordered]) span{padding-left:0.75rem;padding-right:0.75rem}:host([bordered][scale=s]) a,:host([bordered][scale=s]) span{padding-left:0.5rem;padding-right:0.5rem}:host([bordered][scale=l]) a,:host([bordered][scale=l]) span{padding-left:1rem;padding-right:1rem}",uie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTabsActivate=U(this,"calciteTabsActivate",7),this.calciteTabsFocusNext=U(this,"calciteTabsFocusNext",7),this.calciteTabsFocusPrevious=U(this,"calciteTabsFocusPrevious",7),this.calciteTabTitleRegister=U(this,"calciteTabTitleRegister",7),this.active=!1,this.disabled=!1,this.bordered=!1,this.mutationObserver=Nt("mutation",()=>this.updateHasText()),this.hasText=!1,this.guid=`calcite-tab-title-${ri()}`}activeTabChanged(){this.active&&this.emitActiveTab()}connectedCallback(){this.setupTextContentObserver(),this.parentTabNavEl=this.el.closest("calcite-tab-nav"),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){var e,t;(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(t=document.body)===null||t===void 0||t.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el}))}componentWillLoad(){su.isBrowser&&this.updateHasText(),this.tab&&this.active&&this.emitActiveTab()}componentWillRender(){this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.position=this.parentTabsEl.position,this.scale=this.parentTabsEl.scale,this.bordered=this.parentTabsEl.bordered),!this.parentTabsEl&&this.parentTabNavEl&&(this.position=Bt(this.parentTabNavEl,"position",this.position),this.scale=Bt(this.parentTabNavEl,"scale",this.scale))}render(){const e=this.el.id||this.guid,t=this.bordered&&!this.disabled&&this.layout!=="center",i=y("calcite-icon",{class:"calcite-tab-title--icon icon-start",flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:"s"}),n=y("calcite-icon",{class:"calcite-tab-title--icon icon-end",flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:"s"});return y(Ae,{"aria-controls":this.controls,"aria-expanded":this.active.toString(),id:e,role:"tab"},y("a",{class:{container:!0,"container--has-text":this.hasText},style:t&&{width:`${this.parentTabNavEl.indicatorWidth}px`}},this.iconStart?i:null,y("slot",null),this.iconEnd?n:null))}async componentDidLoad(){this.calciteTabTitleRegister.emit(await this.getTabIdentifier())}componentDidRender(){Je(this,!0)}tabChangeHandler(e){e.composedPath().includes(this.parentTabNavEl)&&(this.tab?this.active=this.tab===e.detail.tab:this.getTabIndex().then(t=>{this.active=t===e.detail.tab}))}onClick(){this.emitActiveTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":this.emitActiveTab(),e.preventDefault();break;case"ArrowRight":Li(this.el)==="ltr"?this.calciteTabsFocusNext.emit():this.calciteTabsFocusPrevious.emit();break;case"ArrowLeft":Li(this.el)==="ltr"?this.calciteTabsFocusPrevious.emit():this.calciteTabsFocusNext.emit();break}}async getTabIndex(){return Array.prototype.indexOf.call(this.el.parentElement.querySelectorAll("calcite-tab-title"),this.el)}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async updateAriaInfo(e=[],t=[]){this.controls=e[t.indexOf(this.el.id)]||null}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setupTextContentObserver(){var e;(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}emitActiveTab(){this.disabled||this.calciteTabsActivate.emit({tab:this.tab})}get el(){return this}static get watchers(){return{active:["activeTabChanged"]}}static get style(){return cie}},die={tabNav:"tab-nav"},hie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host([bordered]){-webkit-box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);box-shadow:inset 0 1px 0 var(--calcite-ui-border-1);background-color:var(--calcite-ui-foreground-1)}:host([bordered]:not([position=below])) ::slotted(calcite-tab-nav){margin-bottom:-1px}:host([bordered][position=below]) ::slotted(calcite-tab-nav){margin-top:-1px}:host([bordered][position=below]){-webkit-box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1);box-shadow:inset 0 1px 0 var(--calcite-ui-border-1), inset 0 -1px 0 var(--calcite-ui-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=below]){-ms-flex-direction:column-reverse;flex-direction:column-reverse}section{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;border-top-width:1px;border-top-color:var(--calcite-ui-border-1);overflow:hidden;border-top-style:solid}:host([position=below]) section{-ms-flex-direction:column-reverse;flex-direction:column-reverse;border-top-width:0px;border-bottom-width:1px;border-bottom-color:var(--calcite-ui-border-1)}:host([position=below]:not([bordered])) section{border-bottom-style:solid}",pie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.layout="inline",this.position="above",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}connectedCallback(){this.layout==="center"&&(this.bordered=!1)}render(){return y(mn,null,y("slot",{name:die.tabNav}),y("section",null,y("slot",null)))}calciteTabTitleRegister(e){this.titles=[...this.titles,e.target],this.registryHandler(),e.stopPropagation()}calciteTabTitleUnregister(e){this.titles=this.titles.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}calciteTabRegister(e){this.tabs=[...this.tabs,e.target],this.registryHandler(),e.stopPropagation()}calciteTabUnregister(e){this.tabs=this.tabs.filter(t=>t!==e.detail),this.registryHandler(),e.stopPropagation()}async registryHandler(){let e,t;if(this.tabs.some(i=>i.tab)||this.titles.some(i=>i.tab))e=this.tabs.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id),t=this.titles.sort((i,n)=>i.tab.localeCompare(n.tab)).map(i=>i.id);else{const i=await Promise.all(this.tabs.map(r=>r.getTabIndex())),n=await Promise.all(this.titles.map(r=>r.getTabIndex()));e=i.reduce((r,a,o)=>(r[a]=this.tabs[o].id,r),[]),t=n.reduce((r,a,o)=>(r[a]=this.titles[o].id,r),[])}this.tabs.forEach(i=>i.updateAriaInfo(e,t)),this.titles.forEach(i=>i.updateAriaInfo(e,t))}get el(){return this}static get style(){return hie}},iv={contentStart:"content-start",contentEnd:"content-end"},mie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .container{pointer-events:none;display:grid;grid-template-columns:repeat(1, minmax(0, 1fr));gap:0.5rem}:host .content{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;gap:0.5rem;width:10%}:host .content-container{display:-ms-flexbox;display:flex;width:100%;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:stretch;align-items:stretch;padding:0px;color:var(--calcite-ui-text-2);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host .content-slot-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:var(--calcite-ui-foreground-1)}:host .content-slot-container:first-child{padding-right:0.75rem}:host .content-slot-container:last-child{padding-left:0.75rem}:host .heading{pointer-events:none;overflow-wrap:break-word;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-2);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .large-visual{-ms-flex-align:center;align-items:center;text-align:center;min-height:12rem}:host .large-visual .icon{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-item-align:end;align-self:flex-end}:host .large-visual .content-container{-ms-flex-item-align:center;align-self:center}:host .description{pointer-events:none;font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-ui-text-3);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host(:not([embed])){padding:0.75rem;-webkit-box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-shadow:0 0 0 1px var(--calcite-ui-border-2)}:host(:not([embed])[href]:hover){cursor:pointer;-webkit-box-shadow:0 0 0 2px var(--calcite-ui-brand);box-shadow:0 0 0 2px var(--calcite-ui-brand)}:host(:not([embed])[href]:active){-webkit-box-shadow:0 0 0 3px var(--calcite-ui-brand);box-shadow:0 0 0 3px var(--calcite-ui-brand)}:host([icon][heading]:not([description]):not([embed])){padding:0px}:host([icon][heading]:not([description])) .icon{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}:host([icon][heading]:not([description])) .large-visual{text-align:center}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host(:hover) .heading,:host([active]) .heading{color:var(--calcite-ui-text-1)}:host(:hover) .description,:host([active]) .description{color:var(--calcite-ui-text-2)}",fie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.active=!1,this.disabled=!1,this.embed=!1,this.focused=!1,this.hidden=!1}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}componentDidRender(){Je(this)}renderTile(){const{icon:e,el:t,heading:i,description:n}=this,r=i&&e&&!n;return y("div",{class:{container:!0,"large-visual":r}},e&&y("div",{class:"icon"},y("calcite-icon",{icon:e,scale:"l",style:r?{height:"64px",width:"64px"}:void 0})),y("div",{class:"content-container"},ve(t,iv.contentStart)?y("div",{class:"content-slot-container"},y("slot",{name:iv.contentStart})):null,y("div",{class:"content"},i&&y("div",{class:"heading"},i),n&&y("div",{class:"description"},n)),ve(t,iv.contentEnd)?y("div",{class:"content-slot-container"},y("slot",{name:iv.contentEnd})):null))}render(){return y(mn,null,this.href?y("calcite-link",{disabled:this.disabled,href:this.href},this.renderTile()):this.renderTile())}get el(){return this}static get style(){return mie}},Ur={checked:"checked",description:"description",descriptionOnly:"description-only",disabled:"disabled",heading:"heading",headingOnly:"heading-only",icon:"icon",iconOnly:"icon-only",inputAlignmentEnd:"input-alignment-end",inputAlignmentStart:"input-alignment-start",inputEnabled:"input-enabled",largeVisual:"large-visual",widthAuto:"width-auto",widthFull:"width-full"},gie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block}:host .container{background-color:var(--calcite-ui-foreground-1);-webkit-box-shadow:0 0 0 1px var(--calcite-ui-border-2);box-shadow:0 0 0 1px var(--calcite-ui-border-2);-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:inline-block;height:100%;max-width:300px;padding:0.75rem;position:relative;-webkit-transition:var(--calcite-animation-timing);transition:var(--calcite-animation-timing);vertical-align:top;z-index:10}:host .container.checked{z-index:30;-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host .container.heading-only{-ms-flex-align:center;align-items:center}:host .container:not(.input-enabled) ::slotted(calcite-checkbox),:host .container:not(.input-enabled) ::slotted(calcite-radio-button){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host .container.focused:not(.disabled){z-index:30}:host .container.focused:not(.disabled):not(.input-enabled){-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1), inset 0 0 0 5px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand), inset 0 0 0 2px var(--calcite-ui-foreground-1), inset 0 0 0 5px var(--calcite-ui-brand)}:host .container.input-enabled.input-alignment-start.width-auto.heading-only,:host .container.input-enabled.input-alignment-start.width-auto.icon-only,:host .container.input-enabled.input-alignment-start.width-auto.description-only,:host .container.input-enabled.input-alignment-start.width-auto.heading.description,:host .container.input-enabled.input-alignment-start.width-auto.icon.description,:host .container.input-enabled.input-alignment-start.width-auto.heading.icon.description{display:inline-grid;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-start.heading-only,:host .container.input-enabled.input-alignment-start.icon-only,:host .container.input-enabled.input-alignment-start.description-only,:host .container.input-enabled.input-alignment-start.heading.description,:host .container.input-enabled.input-alignment-start.icon.description,:host .container.input-enabled.input-alignment-start.heading.icon.description{gap:0.75rem}:host .container.input-enabled.input-alignment-start calcite-tile{-ms-flex-order:1;order:1}:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-start.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-start:0.75rem}:host .container.input-enabled.input-alignment-end.width-auto.heading-only,:host .container.input-enabled.input-alignment-end.width-auto.icon-only{display:inline-grid;grid-gap:0.75rem;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr}:host .container.input-enabled.input-alignment-end.heading-only,:host .container.input-enabled.input-alignment-end.icon-only{gap:0.75rem}:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.description-only ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.icon.description ::slotted(calcite-radio-button),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.heading.icon.description ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-checkbox),:host .container.input-enabled.input-alignment-end.large-visual ::slotted(calcite-radio-button){position:absolute;inset-block-start:0.75rem;inset-inline-end:0.75rem}:host .container.width-full{display:-ms-flexbox;display:flex;max-width:none}:host .container.width-full calcite-tile{-ms-flex:1 1 auto;flex:1 1 auto}:host(:hover) .container{z-index:20}:host(:hover) .container:not(.input-enabled){-webkit-box-shadow:0 0 0 1px var(--calcite-ui-brand);box-shadow:0 0 0 1px var(--calcite-ui-brand)}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",yie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTileSelectChange=U(this,"calciteTileSelectChange",7),this.checked=!1,this.disabled=!1,this.hidden=!1,this.inputEnabled=!1,this.inputAlignment="start",this.type="radio",this.width="auto",this.guid=`calcite-tile-select-${ri()}`,this.focused=!1}checkedChanged(e){this.input.checked=e}nameChanged(e){this.input.name=e}async setFocus(){this.input.setFocus()}checkboxChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}checkboxFocusBlurHandler(e){e.target===this.input&&(this.focused=e.detail),e.stopPropagation()}radioButtonChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation(),this.calciteTileSelectChange.emit()}radioButtonCheckedChangeHandler(e){const t=e.target;t===this.input&&(this.checked=t.checked),e.stopPropagation()}radioButtonFocusBlurHandler(e){const t=e.target;t===this.input&&(this.focused=t.focused),e.stopPropagation()}click(e){const t=e.target;["calcite-tile","calcite-tile-select"].includes(t.localName)&&this.input.click()}mouseenter(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!0),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!0)}mouseleave(){this.input.localName==="calcite-radio-button"&&(this.input.hovered=!1),this.input.localName==="calcite-checkbox"&&(this.input.hovered=!1)}connectedCallback(){this.renderInput()}disconnectedCallback(){this.input.parentNode.removeChild(this.input)}componentDidRender(){Je(this)}renderInput(){this.input=document.createElement(this.type==="radio"?"calcite-radio-button":"calcite-checkbox"),this.input.checked=this.checked,this.input.disabled=this.disabled,this.input.hidden=this.hidden,this.input.id=this.guid,this.input.label=this.heading||this.name||"",this.name&&(this.input.name=this.name),this.value&&(this.input.value=this.value!=null?this.value.toString():""),this.el.insertAdjacentElement("beforeend",this.input)}render(){const{checked:e,description:t,disabled:i,focused:n,heading:r,icon:a,inputAlignment:o,inputEnabled:s,width:l}=this;return y("div",{class:{checked:e,container:!0,[Ur.description]:Boolean(t),[Ur.descriptionOnly]:Boolean(!r&&!a&&t),disabled:i,focused:n,[Ur.heading]:Boolean(r),[Ur.headingOnly]:r&&!a&&!t,[Ur.icon]:Boolean(a),[Ur.iconOnly]:!r&&a&&!t,[Ur.inputAlignmentEnd]:o==="end",[Ur.inputAlignmentStart]:o==="start",[Ur.inputEnabled]:s,[Ur.largeVisual]:r&&a&&!t,[Ur.widthAuto]:l==="auto",[Ur.widthFull]:l==="full"}},y("calcite-tile",{active:e,description:t,embed:!0,heading:r,icon:a}),y("slot",null))}get el(){return this}static get watchers(){return{checked:["checkedChanged"],name:["nameChanged"]}}static get style(){return gie}},bie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}:host ::slotted(calcite-tile-select){margin-right:1px;margin-bottom:1px}:host([layout=vertical]){-ms-flex-direction:column;flex-direction:column}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",vie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.layout="horizontal"}componentDidRender(){Je(this)}render(){return y("slot",null)}get el(){return this}static get style(){return bie}},je={button:"button",buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right",column:"column",delimiter:"delimiter",hour:"hour",input:"input",meridiem:"meridiem",minute:"minute",second:"second",showMeridiem:"show-meridiem",showSecond:"show-second","scale-s":"scale-s","scale-m":"scale-m","scale-l":"scale-l",timePicker:"time-picker",meridiemStart:"meridiem--start"},Br={hour:"Hour",hourDown:"Decrease hour",hourUp:"Increase hour",meridiem:"AM/PM",meridiemDown:"Decrease AM/PM",meridiemUp:"Increase AM/PM",minute:"Minute",minuteDown:"Decrease minute",minuteUp:"Increase minute",second:"Second",secondDown:"Decrease second",secondUp:"Increase second"},wie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:inline-block}.time-picker{display:-ms-flexbox;display:flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:center;align-items:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-radius:var(--calcite-border-radius)}.time-picker .column{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.time-picker .meridiem--start{-ms-flex-order:-1;order:-1}.time-picker .button{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1)}.time-picker .button:hover,.time-picker .button:focus{background-color:var(--calcite-ui-foreground-2);outline:2px solid transparent;outline-offset:2px}.time-picker .button:active{background-color:var(--calcite-ui-foreground-3)}.time-picker .button.top-left{border-top-left-radius:var(--calcite-border-radius)}.time-picker .button.bottom-left{border-bottom-left-radius:var(--calcite-border-radius)}.time-picker .button.top-right{border-top-right-radius:var(--calcite-border-radius)}.time-picker .button.bottom-right{border-bottom-right-radius:var(--calcite-border-radius)}.time-picker .button calcite-icon{color:var(--calcite-ui-text-3)}.time-picker .input{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:var(--calcite-ui-foreground-1);font-weight:var(--calcite-font-weight-medium)}.time-picker .input:hover{-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2);box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2)}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;-webkit-box-shadow:inset 0 0 0 2px var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:0.75rem;padding-inline-end:0.75rem}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:1rem;padding-inline-end:1rem}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-left:1.25rem;padding-right:1.25rem;padding-top:0.75rem;padding-bottom:0.75rem}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{-webkit-padding-end:1.25rem;padding-inline-end:1.25rem}";function xie(e){return e.charAt(0).toUpperCase()+e.slice(1)}const kie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTimePickerBlur=U(this,"calciteTimePickerBlur",7),this.calciteTimePickerChange=U(this,"calciteTimePickerChange",7),this.calciteTimePickerFocus=U(this,"calciteTimePickerFocus",7),this.intlHour=Br.hour,this.intlHourDown=Br.hourDown,this.intlHourUp=Br.hourUp,this.intlMeridiem=Br.meridiem,this.intlMeridiemDown=Br.meridiemDown,this.intlMeridiemUp=Br.meridiemUp,this.intlMinute=Br.minute,this.intlMinuteDown=Br.minuteDown,this.intlMinuteUp=Br.minuteUp,this.intlSecond=Br.second,this.intlSecondDown=Br.secondDown,this.intlSecondUp=Br.secondUp,this.locale=document.documentElement.lang||navigator.language||"en",this.scale="m",this.step=60,this.value=null,this.showSecond=this.step<60,this.decrementHour=()=>{const e=this.hour?this.hour==="00"?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)},this.decrementMeridiem=()=>{const e=this.meridiem==="PM"?"AM":"PM";this.setValuePart("meridiem",e)},this.decrementMinuteOrSecond=e=>{let t;if(Ot(this[e])){const i=parseInt(this[e]);t=i===0?59:i-1}else t=59;this.setValuePart(e,t)},this.decrementMinute=()=>{this.decrementMinuteOrSecond("minute")},this.decrementSecond=()=>{this.decrementMinuteOrSecond("second")},this.focusHandler=e=>{this.activeEl=e.currentTarget},this.hourDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementHour()},this.hourKeyDownHandler=e=>{const t=e.key;if(tm.includes(t)){const i=parseInt(t);let n;if(Ot(this.hour))switch(this.hourCycle){case"12":n=this.hour==="01"&&i>=0&&i<=2?`1${i}`:i;break;case"24":this.hour==="01"?n=`1${i}`:this.hour==="02"&&i>=0&&i<=3?n=`2${i}`:n=i;break}else n=i;this.setValuePart("hour",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":case"Spacebar":e.preventDefault();break}},this.hourUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementHour()},this.incrementMeridiem=()=>{const e=this.meridiem==="AM"?"PM":"AM";this.setValuePart("meridiem",e)},this.incrementHour=()=>{const e=Ot(this.hour)?this.hour==="23"?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)},this.incrementMinuteOrSecond=e=>{const t=Ot(this[e])?this[e]==="59"?0:parseInt(this[e])+1:0;this.setValuePart(e,t)},this.incrementMinute=()=>{this.incrementMinuteOrSecond("minute")},this.incrementSecond=()=>{this.incrementMinuteOrSecond("second")},this.meridiemDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMeridiem()},this.meridiemKeyDownHandler=e=>{switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":this.setValuePart("meridiem",null);break;case"ArrowUp":e.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":e.preventDefault(),this.decrementMeridiem();break;case" ":case"Spacebar":e.preventDefault();break}},this.meridiemUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMeridiem()},this.minuteDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementMinute()},this.minuteKeyDownHandler=e=>{const t=e.key;if(tm.includes(t)){const i=parseInt(t);let n;if(Ot(this.minute)&&this.minute.startsWith("0")){const r=parseInt(this.minute);n=r>FO?i:`${r}${i}`}else n=i;this.setValuePart("minute",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":case"Spacebar":e.preventDefault();break}},this.minuteUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementMinute()},this.secondDownButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.decrementSecond()},this.secondKeyDownHandler=e=>{const t=e.key;if(tm.includes(t)){const i=parseInt(t);let n;if(Ot(this.second)&&this.second.startsWith("0")){const r=parseInt(this.second);n=r>FO?i:`${r}${i}`}else n=i;this.setValuePart("second",n)}else switch(t){case"Backspace":case"Delete":this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":case"Spacebar":e.preventDefault();break}},this.secondUpButtonKeyDownHandler=e=>{this.buttonActivated(e)&&this.incrementSecond()},this.setHourEl=e=>this.hourEl=e,this.setMeridiemEl=e=>this.meridiemEl=e,this.setMinuteEl=e=>this.minuteEl=e,this.setSecondEl=e=>this.secondEl=e,this.setValue=(e,t=!0)=>{if(yh(e)){const{hour:i,minute:n,second:r}=xk(e),{localizedHour:a,localizedHourSuffix:o,localizedMinute:s,localizedMinuteSuffix:l,localizedSecond:u,localizedSecondSuffix:h,localizedMeridiem:m}=jO(e,this.locale);if(this.localizedHour=a,this.localizedHourSuffix=o,this.localizedMinute=s,this.localizedMinuteSuffix=l,this.localizedSecond=u,this.localizedSecondSuffix=h,this.hour=i,this.minute=n,this.second=r,m){this.localizedMeridiem=m,this.meridiem=zO(this.hour);const f=HQ(e,this.locale);this.meridiemOrder=this.getMeridiemOrder(f)}}else this.hour=null,this.localizedHour=null,this.localizedHourSuffix=null,this.localizedMeridiem=null,this.localizedMinute=null,this.localizedMinuteSuffix=null,this.localizedSecond=null,this.localizedSecondSuffix=null,this.meridiem=null,this.minute=null,this.second=null,this.value=null;t&&this.calciteTimePickerChange.emit()},this.setValuePart=(e,t,i=!0)=>{var n;if(e==="meridiem"){if(this.meridiem=t,Ot(this.hour)){const r=parseInt(this.hour);switch(t){case"AM":r>=12&&(this.hour=nm(r-12));break;case"PM":r<12&&(this.hour=nm(r+12));break}this.localizedHour=l2(this.hour,"hour",this.locale)}}else this[e]=typeof t=="number"?nm(t):t,this[`localized${xie(e)}`]=l2(this[e],e,this.locale);if(this.hour&&this.minute){const r=this.second&&this.showSecond;this.value=`${this.hour}:${this.minute}:${r?this.second:"00"}`}else this.value=null;this.localizedMeridiem=this.value?((n=jO(this.value,this.locale))===null||n===void 0?void 0:n.localizedMeridiem)||null:l2(this.meridiem,"meridiem",this.locale),i&&this.calciteTimePickerChange.emit()}}localeWatcher(e){this.hourCycle=NO(e),this.setValue(this.value,!1)}valueWatcher(e){this.setValue(e,!1)}hourChanged(e){this.meridiem&&Ot(e)&&this.setValuePart("meridiem",zO(e))}hostBlurHandler(){this.calciteTimePickerBlur.emit()}hostFocusHandler(){this.calciteTimePickerFocus.emit()}keyDownHandler(e){const t=e.key;switch(this.activeEl){case this.hourEl:t==="ArrowRight"&&this.setFocus("minute");break;case this.minuteEl:switch(t){case"ArrowLeft":this.setFocus("hour");break;case"ArrowRight":this.step!==60?this.setFocus("second"):this.hourCycle==="12"&&this.setFocus("meridiem");break}break;case this.secondEl:switch(t){case"ArrowLeft":this.setFocus("minute");break;case"ArrowRight":this.hourCycle==="12"&&this.setFocus("meridiem");break}break;case this.meridiemEl:switch(t){case"ArrowLeft":this.step!==60?this.setFocus("second"):this.setFocus("minute");break}break}}async setFocus(e){var t;(t=this[`${e||"hour"}El`])===null||t===void 0||t.focus()}buttonActivated(e){const t=e.key;return t===" "&&e.preventDefault(),PX(t)}getMeridiemOrder(e){const t=this.locale==="ar"||this.locale==="he";return e&&!t?e.findIndex(n=>n.value===this.localizedMeridiem):0}connectedCallback(){this.setValue(this.value,!1),this.hourCycle=NO(this.locale)}render(){const e=Ot(this.hour),t=this.scale==="s"||this.scale==="m"?"s":"m",i=Ot(this.minute),n=Ot(this.second),r=this.hourCycle==="12";return y("div",{class:{[je.timePicker]:!0,[je.showMeridiem]:r,[je.showSecond]:this.showSecond,[je[`scale-${this.scale}`]]:!0},dir:"ltr"},y("div",{class:je.column,role:"group"},y("span",{"aria-label":this.intlHourUp,class:{[je.button]:!0,[je.buttonHourUp]:!0,[je.buttonTopLeft]:!0},onClick:this.incrementHour,onKeyDown:this.hourUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlHour,"aria-valuemax":"23","aria-valuemin":"1","aria-valuenow":e&&parseInt(this.hour)||"0","aria-valuetext":this.hour,class:{[je.input]:!0,[je.hour]:!0},onFocus:this.focusHandler,onKeyDown:this.hourKeyDownHandler,ref:this.setHourEl,role:"spinbutton",tabIndex:0},this.localizedHour||"--"),y("span",{"aria-label":this.intlHourDown,class:{[je.button]:!0,[je.buttonHourDown]:!0,[je.buttonBottomLeft]:!0},onClick:this.decrementHour,onKeyDown:this.hourDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),y("span",{class:je.delimiter},this.localizedHourSuffix),y("div",{class:je.column,role:"group"},y("span",{"aria-label":this.intlMinuteUp,class:{[je.button]:!0,[je.buttonMinuteUp]:!0},onClick:this.incrementMinute,onKeyDown:this.minuteUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlMinute,"aria-valuemax":"12","aria-valuemin":"1","aria-valuenow":i&&parseInt(this.minute)||"0","aria-valuetext":this.minute,class:{[je.input]:!0,[je.minute]:!0},onFocus:this.focusHandler,onKeyDown:this.minuteKeyDownHandler,ref:this.setMinuteEl,role:"spinbutton",tabIndex:0},this.localizedMinute||"--"),y("span",{"aria-label":this.intlMinuteDown,class:{[je.button]:!0,[je.buttonMinuteDown]:!0},onClick:this.decrementMinute,onKeyDown:this.minuteDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),this.showSecond&&y("span",{class:je.delimiter},this.localizedMinuteSuffix),this.showSecond&&y("div",{class:je.column,role:"group"},y("span",{"aria-label":this.intlSecondUp,class:{[je.button]:!0,[je.buttonSecondUp]:!0},onClick:this.incrementSecond,onKeyDown:this.secondUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlSecond,"aria-valuemax":"59","aria-valuemin":"0","aria-valuenow":n&&parseInt(this.second)||"0","aria-valuetext":this.second,class:{[je.input]:!0,[je.second]:!0},onFocus:this.focusHandler,onKeyDown:this.secondKeyDownHandler,ref:this.setSecondEl,role:"spinbutton",tabIndex:0},this.localizedSecond||"--"),y("span",{"aria-label":this.intlSecondDown,class:{[je.button]:!0,[je.buttonSecondDown]:!0},onClick:this.decrementSecond,onKeyDown:this.secondDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))),this.localizedSecondSuffix&&y("span",{class:je.delimiter},this.localizedSecondSuffix),r&&y("div",{class:{[je.column]:!0,[je.meridiemStart]:this.meridiemOrder===0},role:"group"},y("span",{"aria-label":this.intlMeridiemUp,class:{[je.button]:!0,[je.buttonMeridiemUp]:!0,[je.buttonTopRight]:!0},onClick:this.incrementMeridiem,onKeyDown:this.meridiemUpButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-up",scale:t})),y("span",{"aria-label":this.intlMeridiem,"aria-valuemax":"2","aria-valuemin":"1","aria-valuenow":this.meridiem==="PM"&&"2"||"1","aria-valuetext":this.meridiem,class:{[je.input]:!0,[je.meridiem]:!0},onFocus:this.focusHandler,onKeyDown:this.meridiemKeyDownHandler,ref:this.setMeridiemEl,role:"spinbutton",tabIndex:0},this.localizedMeridiem||"--"),y("span",{"aria-label":this.intlMeridiemDown,class:{[je.button]:!0,[je.buttonMeridiemDown]:!0,[je.buttonBottomRight]:!0},onClick:this.decrementMeridiem,onKeyDown:this.meridiemDownButtonKeyDownHandler,role:"button",tabIndex:-1},y("calcite-icon",{icon:"chevron-down",scale:t}))))}get el(){return this}static get watchers(){return{locale:["localeWatcher"],value:["valueWatcher"],hour:["hourChanged"]}}static get style(){return wie}},$a={header:"header",heading:"heading",close:"close",container:"container",tipContainer:"tip-container",tipContainerAdvancing:"tip-container--advancing",tipContainerRetreating:"tip-container--retreating",pagination:"pagination",pagePosition:"page-position",pageNext:"page-next",pagePrevious:"page-previous"},Nf={chevronLeft:"chevron-left",chevronRight:"chevron-right",close:"x"},zf={defaultGroupTitle:"Tips",defaultPaginationLabel:"Tip",close:"Close",previous:"Previous",next:"Next"},i6=2,ku={container:"container",header:"header",heading:"heading",close:"close",imageFrame:"image-frame",content:"content",info:"info"},_ie={close:"x"},oA={thumbnail:"thumbnail"},Sie={close:"Close"},Die=i6+1,$ie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;margin:1rem;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}.container{width:100%;padding:1rem}:host([dismissed]),:host([dismissed]) .container{display:none}:host([selected]) .container{margin:0px;border-style:none;padding:0px}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{margin-bottom:0.5rem}.header .heading{padding:0px;color:var(--calcite-ui-text-1)}.container[hidden]{display:none}.content{display:-ms-flexbox;display:flex}.info{padding-top:0px;padding-bottom:0px;padding-left:1rem;padding-right:1rem;width:70%}.info:only-child{width:100%;padding-left:0px;padding-right:0px}::slotted(p){margin-top:0px}::slotted(a){outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;color:var(--calcite-ui-brand)}::slotted(a:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.image-frame{width:25%}.image-frame img{max-width:100%}::slotted(img){max-width:100%}",Cie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTipDismiss=U(this,"calciteTipDismiss",7),this.dismissed=!1,this.nonDismissible=!1,this.selected=!1,this.hideTip=()=>{this.dismissed=!0,this.calciteTipDismiss.emit()}}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}renderHeader(){var e;const{heading:t,headingLevel:i,el:n}=this,r=(e=n.closest("calcite-tip-manager"))===null||e===void 0?void 0:e.headingLevel,a=r?nT(r+1):null,o=i||a||Die;return t?y("header",{class:ku.header},y(lu,{class:ku.heading,level:o},t)):null}renderDismissButton(){const{nonDismissible:e,hideTip:t,intlClose:i}=this,n=i||Sie.close;return e?null:y("calcite-action",{class:ku.close,icon:_ie.close,onClick:t,scale:"l",text:n})}renderImageFrame(){const{el:e}=this;return ve(e,oA.thumbnail)?y("div",{class:ku.imageFrame,key:"thumbnail"},y("slot",{name:oA.thumbnail})):null}renderInfoNode(){return y("div",{class:ku.info},y("slot",null))}renderContent(){return y("div",{class:ku.content},this.renderImageFrame(),this.renderInfoNode())}render(){return y(mn,null,y("article",{class:ku.container},this.renderHeader(),this.renderContent()),this.renderDismissButton())}get el(){return this}static get style(){return $ie}},Tie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}::slotted(calcite-tip){margin:0px;border-style:none}:host-context(calcite-tip-manager){margin-top:0.75rem;margin-bottom:0.75rem}:host-context(calcite-tip-manager) ::slotted(calcite-tip){padding:1rem}",Eie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow()}render(){return y("slot",null)}static get style(){return Tie}},Iie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2);--calcite-tip-manager-height:19vh}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([closed]){display:none}.header{margin:0px;display:-ms-flexbox;display:flex;-ms-flex-line-pack:justify;align-content:space-between;-ms-flex-align:center;align-items:center;fill:var(--calcite-ui-text-2);color:var(--calcite-ui-text-2)}.heading{margin:0px;padding:0px;font-weight:var(--calcite-font-weight-medium)}.header .heading{-ms-flex:1 1 auto;flex:1 1 auto;padding:0.5rem}h1.heading{font-size:var(--calcite-font-size-2);line-height:1.5rem}h2.heading{font-size:var(--calcite-font-size-1);line-height:1.5rem}h3.heading{font-size:var(--calcite-font-size-0);line-height:1.25rem}h4.heading,h5.heading{font-size:var(--calcite-font-size--1);line-height:1rem}.header{border-width:0px;border-bottom-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);padding-top:0px;padding-bottom:0px;-webkit-padding-end:0px;padding-inline-end:0px;-webkit-padding-start:1rem;padding-inline-start:1rem}.header h2.heading{padding:0px;font-size:var(--calcite-font-size-1);line-height:1.5rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-1)}.container{position:relative;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;overflow:hidden;min-height:150px}.container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.tip-container{margin-top:1px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center;overflow:auto;outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;-webkit-animation-name:none;animation-name:none;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing);height:var(--calcite-tip-manager-height)}.tip-container:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}::slotted(calcite-tip){border-style:none;padding:0.75rem;max-width:var(--calcite-tip-max-width)}.tip-container--advancing{-webkit-animation-name:tip-advance;animation-name:tip-advance}.tip-container--retreating{-webkit-animation-name:tip-retreat;animation-name:tip-retreat}.pagination{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-left:0px;padding-right:0px;padding-top:0.75rem;padding-bottom:0.5rem}.page-position{margin-top:0px;margin-bottom:0px;margin-left:0.5rem;margin-right:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}@-webkit-keyframes tip-advance{0%{opacity:0}0%{-webkit-transform:translate3d(50px, 0, 0) scale(0.99);transform:translate3d(50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@keyframes tip-advance{0%{opacity:0}0%{-webkit-transform:translate3d(50px, 0, 0) scale(0.99);transform:translate3d(50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@-webkit-keyframes tip-retreat{0%{opacity:0}0%{-webkit-transform:translate3d(-50px, 0, 0) scale(0.99);transform:translate3d(-50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}@keyframes tip-retreat{0%{opacity:0}0%{-webkit-transform:translate3d(-50px, 0, 0) scale(0.99);transform:translate3d(-50px, 0, 0) scale(0.99)}100%{opacity:1}100%{-webkit-transform:translate3d(0, 0, 0) scale(1);transform:translate3d(0, 0, 0) scale(1)}}",Mie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTipManagerToggle=U(this,"calciteTipManagerToggle",7),this.closed=!1,this.mutationObserver=Nt("mutation",()=>this.setUpTips()),this.hideTipManager=()=>{this.closed=!0,this.calciteTipManagerToggle.emit()},this.previousClicked=()=>{this.previousTip()},this.nextClicked=()=>{this.nextTip()},this.tipManagerKeyUpHandler=e=>{if(e.target===this.container)switch(e.key){case"ArrowRight":e.preventDefault(),this.nextTip();break;case"ArrowLeft":e.preventDefault(),this.previousTip();break;case"Home":e.preventDefault(),this.selectedIndex=0;break;case"End":e.preventDefault(),this.selectedIndex=this.total-1;break}},this.storeContainerRef=e=>{this.container=e}}closedChangeHandler(){this.direction=null,this.calciteTipManagerToggle.emit()}selectedChangeHandler(){this.showSelectedTip(),this.updateGroupTitle()}connectedCallback(){var e;this.setUpTips(),(e=this.mutationObserver)===null||e===void 0||e.observe(this.el,{childList:!0,subtree:!0})}disconnectedCallback(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}async nextTip(){this.direction="advancing";const e=this.selectedIndex+1;this.selectedIndex=(e+this.total)%this.total}async previousTip(){this.direction="retreating";const e=this.selectedIndex-1;this.selectedIndex=(e+this.total)%this.total}setUpTips(){const e=Array.from(this.el.querySelectorAll("calcite-tip"));if(this.total=e.length,this.total===0)return;const t=this.el.querySelector("calcite-tip[selected]");this.tips=e,this.selectedIndex=t?e.indexOf(t):0,e.forEach(i=>{i.nonDismissible=!0}),this.showSelectedTip(),this.updateGroupTitle()}showSelectedTip(){this.tips.forEach((e,t)=>{const i=this.selectedIndex===t;e.selected=i,e.hidden=!i})}updateGroupTitle(){const t=this.tips[this.selectedIndex].closest("calcite-tip-group");this.groupTitle=(t==null?void 0:t.groupTitle)||this.intlDefaultTitle||zf.defaultGroupTitle}renderPagination(){const e=Li(this.el),{selectedIndex:t,tips:i,total:n,intlNext:r,intlPrevious:a,intlPaginationLabel:o}=this,s=r||zf.next,l=a||zf.previous,u=o||zf.defaultPaginationLabel;return i.length>1?y("footer",{class:$a.pagination},y("calcite-action",{class:$a.pagePrevious,icon:e==="ltr"?Nf.chevronLeft:Nf.chevronRight,onClick:this.previousClicked,scale:"m",text:l}),y("span",{class:$a.pagePosition},`${u} ${t+1}/${n}`),y("calcite-action",{class:$a.pageNext,icon:e==="ltr"?Nf.chevronRight:Nf.chevronLeft,onClick:this.nextClicked,scale:"m",text:s})):null}render(){const{closed:e,direction:t,headingLevel:i,groupTitle:n,selectedIndex:r,intlClose:a,total:o}=this,s=a||zf.close;return o===0?null:y("section",{"aria-hidden":e.toString(),class:$a.container,hidden:e,onKeyUp:this.tipManagerKeyUpHandler,ref:this.storeContainerRef,tabIndex:0},y("header",{class:$a.header},y(lu,{class:$a.heading,level:i||i6},n),y("calcite-action",{class:$a.close,onClick:this.hideTipManager,scale:"m",text:s},y("calcite-icon",{icon:Nf.close,scale:"m"}))),y("div",{class:{[$a.tipContainer]:!0,[$a.tipContainerAdvancing]:!e&&t==="advancing",[$a.tipContainerRetreating]:!e&&t==="retreating"},key:r,tabIndex:0},y("slot",null)),this.renderPagination())}get el(){return this}static get watchers(){return{closed:["closedChangeHandler"],selectedIndex:["selectedChangeHandler"]}}static get style(){return Iie}},sA={container:"container",arrow:"arrow"},Oie=500,Dg="data-calcite-tooltip-reference",lA="aria-describedby",Aie='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;position:absolute;z-index:999;-webkit-transform:scale(0);transform:scale(0)}.calcite-popper-anim{position:relative;z-index:1;-webkit-transition:var(--calcite-popper-transition);transition:var(--calcite-popper-transition);visibility:hidden;-webkit-transition-property:visibility, opacity, -webkit-transform;transition-property:visibility, opacity, -webkit-transform;transition-property:transform, visibility, opacity;transition-property:transform, visibility, opacity, -webkit-transform;opacity:0;-webkit-box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);border-radius:0.25rem}:host([data-popper-placement^=bottom]) .calcite-popper-anim{-webkit-transform:translateY(-5px);transform:translateY(-5px)}:host([data-popper-placement^=top]) .calcite-popper-anim{-webkit-transform:translateY(5px);transform:translateY(5px)}:host([data-popper-placement^=left]) .calcite-popper-anim{-webkit-transform:translateX(5px);transform:translateX(5px)}:host([data-popper-placement^=right]) .calcite-popper-anim{-webkit-transform:translateX(-5px);transform:translateX(-5px)}:host([data-popper-placement]) .calcite-popper-anim--active{opacity:1;visibility:visible;-webkit-transform:translate(0);transform:translate(0)}:host([data-popper-placement][data-popper-reference-hidden]){pointer-events:none;opacity:0}.arrow,.arrow::before{position:absolute;width:8px;height:8px;z-index:-1}.arrow::before{content:"";--tw-shadow:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--calcite-ui-foreground-1)}:host([data-popper-placement^=top]) .arrow{bottom:-4px}:host([data-popper-placement^=bottom]) .arrow{top:-4px}:host([data-popper-placement^=left]) .arrow{right:-4px}:host([data-popper-placement^=right]) .arrow{left:-4px}.container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:start;justify-content:flex-start;border-radius:0.25rem;background-color:var(--calcite-ui-foreground-1);padding-top:0.75rem;padding-bottom:0.75rem;padding-left:1rem;padding-right:1rem;font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1);overflow:hidden;max-width:20rem;max-height:20rem}.calcite-popper-anim{border-radius:0.25rem;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-3);background-color:var(--calcite-ui-foreground-1)}.arrow::before{outline:1px solid var(--calcite-ui-border-3)}',Pie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.offsetDistance=y9,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.guid=`calcite-tooltip-${ri()}`,this.setUpReferenceElement=()=>{this.removeReferences(),this.effectiveReferenceElement=this.getReferenceElement();const{el:e,referenceElement:t,effectiveReferenceElement:i}=this;t&&!i&&console.warn(`${e.tagName}: reference-element id "${t}" was not found.`,{el:e}),this.addReferences(),this.createPopper()},this.getId=()=>this.el.id||this.guid,this.addReferences=()=>{const{effectiveReferenceElement:e}=this;if(!e)return;const t=this.getId();e.setAttribute(Dg,t),e.setAttribute(lA,t)},this.removeReferences=()=>{const{effectiveReferenceElement:e}=this;!e||(e.removeAttribute(Dg),e.removeAttribute(lA))},this.show=()=>{this.open=!0},this.hide=()=>{this.open=!1}}offsetDistanceOffsetHandler(){this.reposition()}offsetSkiddingHandler(){this.reposition()}openHandler(){this.reposition()}placementHandler(){this.reposition()}referenceElementHandler(){this.setUpReferenceElement()}componentWillLoad(){this.setUpReferenceElement()}componentDidLoad(){this.reposition()}disconnectedCallback(){this.removeReferences(),this.destroyPopper()}async reposition(){const{popper:e,el:t,placement:i}=this,n=this.getModifiers();e?await Uy({el:t,modifiers:n,placement:i,popper:e}):this.createPopper()}getReferenceElement(){const{referenceElement:e,el:t}=this;return(typeof e=="string"?zy(t,{id:e}):e)||null}getModifiers(){const{arrowEl:e,offsetDistance:t,offsetSkidding:i}=this,n={name:"arrow",enabled:!0,options:{element:e}},r={name:"offset",enabled:!0,options:{offset:[i,t]}},a={name:"eventListeners",enabled:this.open};return[n,r,a]}createPopper(){this.destroyPopper();const{el:e,placement:t,effectiveReferenceElement:i,overlayPositioning:n}=this,r=this.getModifiers();this.popper=qy({el:e,modifiers:r,placement:t,overlayPositioning:n,referenceEl:i})}destroyPopper(){const{popper:e}=this;e&&e.destroy(),this.popper=null}render(){const{effectiveReferenceElement:e,label:t,open:i}=this,n=e&&i,r=!n;return y(Ae,{"aria-hidden":r.toString(),"aria-label":t,"calcite-hydrated-hidden":r,id:this.getId(),role:"tooltip"},y("div",{class:{[ss.animation]:!0,[ss.animationActive]:n}},y("div",{class:sA.arrow,ref:a=>this.arrowEl=a}),y("div",{class:sA.container},y("slot",null))))}get el(){return this}static get watchers(){return{offsetDistance:["offsetDistanceOffsetHandler"],offsetSkidding:["offsetSkiddingHandler"],open:["openHandler"],placement:["placementHandler"],referenceElement:["referenceElementHandler"]}}static get style(){return Aie}},Lie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}",Rie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.hoverTimeouts=new WeakMap,this.selector=`[${Dg}]`,this.queryTooltip=e=>{const{el:t}=this;if(!e.includes(t))return null;const i=e.find(r=>{var a;return(a=r==null?void 0:r.hasAttribute)===null||a===void 0?void 0:a.call(r,Dg)});if(!i)return null;const n=i.getAttribute(Dg);return zy(t,{id:n})},this.clearHoverTimeout=e=>{const{hoverTimeouts:t}=this;t.has(e)&&(window.clearTimeout(t.get(e)),t.delete(e))},this.closeExistingTooltip=()=>{const{tooltipEl:e}=this;e&&this.toggleTooltip(e,!1)},this.focusTooltip=({tooltip:e,value:t})=>{this.closeExistingTooltip(),t&&this.clearHoverTimeout(e),this.toggleTooltip(e,t)},this.toggleTooltip=(e,t)=>{e.open=t,t&&(this.tooltipEl=e)},this.hoverToggle=({tooltip:e,value:t})=>{const{hoverTimeouts:i}=this;i.delete(e),t&&this.closeExistingTooltip(),this.toggleTooltip(e,t)},this.hoverTooltip=({tooltip:e,value:t})=>{this.clearHoverTimeout(e);const{hoverTimeouts:i}=this,n=window.setTimeout(()=>this.hoverToggle({tooltip:e,value:t}),Oie);i.set(e,n)},this.activeTooltipHover=e=>{const{tooltipEl:t,hoverTimeouts:i}=this,{type:n}=e;!t||(n==="mouseover"&&e.composedPath().includes(t)?this.clearHoverTimeout(t):n==="mouseout"&&!i.has(t)&&this.hoverTooltip({tooltip:t,value:!1}))},this.hoverEvent=(e,t)=>{const i=this.queryTooltip(e.composedPath());this.activeTooltipHover(e),i&&this.hoverTooltip({tooltip:i,value:t})},this.focusEvent=(e,t)=>{const i=this.queryTooltip(e.composedPath());if(!i||i===this.clickedTooltip){this.clickedTooltip=null;return}this.focusTooltip({tooltip:i,value:t})}}render(){return y("slot",null)}keyUpHandler(e){if(e.key==="Escape"){const{tooltipEl:t}=this;t&&(this.clearHoverTimeout(t),this.toggleTooltip(t,!1))}}mouseEnterShow(e){this.hoverEvent(e,!0)}mouseLeaveHide(e){this.hoverEvent(e,!1)}clickHandler(e){const t=this.queryTooltip(e.composedPath());this.clickedTooltip=t,t&&this.toggleTooltip(t,!1)}focusShow(e){this.focusEvent(e,!0)}blurHide(e){this.focusEvent(e,!1)}get el(){return this}static get style(){return Lie}};var vt;(function(e){e.Single="single",e.Multi="multi",e.Children="children",e.MultiChildren="multi-children",e.Ancestors="ancestors"})(vt||(vt={}));const Fie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;outline:2px solid transparent;outline-offset:2px}",Nie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTreeSelect=U(this,"calciteTreeSelect",7),this.lines=!1,this.inputEnabled=!1,this.scale="m",this.selectionMode=vt.Single}componentWillRender(){const e=this.el.parentElement.closest("calcite-tree");this.lines=e?e.lines:this.lines,this.scale=e?e.scale:this.scale,this.selectionMode=e?e.selectionMode:this.selectionMode,this.child=!!e}render(){return y(Ae,{"aria-multiselectable":this.child?void 0:(this.selectionMode===vt.Multi||this.selectionMode===vt.MultiChildren).toString(),role:this.child?void 0:"tree",tabIndex:this.getRootTabIndex()},y("slot",null))}onFocus(){if(!this.child){const e=this.el.querySelector("calcite-tree-item[selected]")||this.el.querySelector("calcite-tree-item");ti(e)}}onFocusIn(e){(e.relatedTarget===this.el||!this.el.contains(e.relatedTarget))&&this.el.removeAttribute("tabindex")}onFocusOut(e){!this.el.contains(e.relatedTarget)&&(this.el.tabIndex=this.getRootTabIndex())}onClick(e){const t=e.target,i=eo(t.querySelectorAll("calcite-tree-item"));if(this.child)return;if(this.child||(e.preventDefault(),e.stopPropagation()),this.selectionMode===vt.Ancestors&&!this.child){this.updateAncestorTree(e);return}const n=this.selectionMode!==null&&(!t.hasChildren||t.hasChildren&&(this.selectionMode===vt.Children||this.selectionMode===vt.MultiChildren)),r=e.detail.modifyCurrentSelection&&(this.selectionMode===vt.Multi||this.selectionMode===vt.MultiChildren),a=this.selectionMode===vt.MultiChildren||this.selectionMode===vt.Children,o=!r&&((this.selectionMode===vt.Single||this.selectionMode===vt.Multi)&&i.length<=0||this.selectionMode===vt.Children||this.selectionMode===vt.MultiChildren),s=this.selectionMode===vt.Children||this.selectionMode===vt.MultiChildren;if(!this.child){const l=[];n&&l.push(t),a&&i.forEach(u=>{l.push(u)}),o&&eo(this.el.querySelectorAll("calcite-tree-item[selected]")).forEach(h=>{l.includes(h)||(h.selected=!1)}),s&&!e.detail.forceToggle&&(t.expanded=!0),r&&window.getSelection().removeAllRanges(),r&&t.selected||a&&e.detail.forceToggle?l.forEach(u=>{u.selected=!1}):l.forEach(u=>{u.selected=!0})}this.calciteTreeSelect.emit({selected:eo(this.el.querySelectorAll("calcite-tree-item")).filter(l=>l.selected)})}keyDownHandler(e){var t;const i=this.el.closest("calcite-tree:not([child])"),n=e.target;if(i===this.el&&n.tagName==="CALCITE-TREE-ITEM"&&this.el.contains(n))switch(e.key){case"ArrowDown":const r=n.nextElementSibling;r&&r.matches("calcite-tree-item")&&(r.focus(),e.preventDefault());break;case"ArrowLeft":if(n.hasChildren&&n.expanded){n.expanded=!1,e.preventDefault();break}const a=n.parentElement.closest("calcite-tree-item");if(a&&(!n.hasChildren||n.expanded===!1)){a.focus(),e.preventDefault();break}break;case"ArrowRight":if(!n.hasChildren)break;n.expanded&&document.activeElement===n?((t=n.querySelector("calcite-tree-item"))===null||t===void 0||t.focus(),e.preventDefault()):(n.expanded=!0,e.preventDefault());break;case"ArrowUp":const o=n.previousElementSibling;o&&o.matches("calcite-tree-item")&&(o.focus(),e.preventDefault());break}}updateAncestorTree(e){const t=e.target,i=t.querySelectorAll("calcite-tree-item"),n=[];let r=t.parentElement.closest("calcite-tree-item");for(;r;)n.push(r),r=r.parentElement.closest("calcite-tree-item");t.selected=!t.selected,t.indeterminate=!1,i!=null&&i.length&&i.forEach(a=>{a.selected=t.selected,a.indeterminate=!1}),n&&n.forEach(a=>{const o=eo(a.querySelectorAll("calcite-tree-item")),s=o.filter(u=>u.selected);if(s.length===0){a.selected=!1,a.indeterminate=!1;return}const l=s.length<o.length;a.indeterminate=l,a.selected=!l}),this.calciteTreeSelect.emit({selected:eo(this.el.querySelectorAll("calcite-tree-item")).filter(a=>a.selected)})}getRootTabIndex(){return this.child?-1:0}get el(){return this}static get style(){return Fie}},_u={checkboxLabel:"checkbox-label",checkbox:"checkbox",chevron:"chevron",nodeContainer:"node-container",childrenContainer:"children-container",bulletPointIcon:"bullet-point",checkmarkIcon:"checkmark"},cA={children:"children"},jf={bulletPoint:"bullet-point",checkmark:"check",chevronRight:"chevron-right"},zie='@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{display:block;max-width:100%;cursor:pointer;color:var(--calcite-ui-text-3);outline:2px solid transparent;outline-offset:2px}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .node-container{--calcite-tree-padding-y:0.25rem}:host([scale=s]) .node-container .checkbox,:host([scale=s]) .node-container .chevron,:host([scale=s]) .node-container .checkmark,:host([scale=s]) .node-container .bullet-point{margin-inline:0.25rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .node-container{--calcite-tree-padding-y:0.5rem}:host([scale=m]) .node-container .checkbox,:host([scale=m]) .node-container .chevron,:host([scale=m]) .node-container .checkmark,:host([scale=m]) .node-container .bullet-point{margin-inline:0.5rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .node-container{--calcite-tree-padding-y:0.75rem}:host([scale=l]) .node-container .checkbox,:host([scale=l]) .node-container .chevron,:host([scale=l]) .node-container .checkmark,:host([scale=l]) .node-container .bullet-point{margin-inline:0.75rem}:host([lines]) .children-container:after{position:absolute;top:0px;width:1px;transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;-webkit-transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transition-duration:150ms;transition-duration:150ms;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;height:96%;content:"";background-color:var(--calcite-ui-border-2);z-index:-1}:host(:not([lines])) .node-container:after{display:none}::slotted(*){min-width:0px;max-width:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){width:100%;-webkit-text-decoration-line:none;text-decoration-line:none}:host{outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus){outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.checkbox{outline:2px solid transparent;outline-offset:2px;line-height:0}.checkbox-label{pointer-events:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.children-container{position:relative;height:0px;overflow:hidden;-webkit-margin-start:1.25rem;margin-inline-start:1.25rem;-webkit-transform:scaleY(0);transform:scaleY(0);opacity:0;-webkit-transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out;-webkit-transform-origin:top;transform-origin:top}:host([expanded])>.children-container{-webkit-transform:scaleY(1);transform:scaleY(1);opacity:1;height:auto}.node-container{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:var(--calcite-tree-padding-y) 0}.node-container .checkmark,.node-container .bullet-point{opacity:0;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;color:var(--calcite-ui-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus) .node-container .checkmark,:host(:focus) .node-container .bullet-point{opacity:1}:host([selected])>.node-container,:host([selected])>.node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([selected])>.node-container .bullet-point,:host([selected])>.node-container .checkmark,:host([selected])>.node-container:hover .bullet-point,:host([selected])>.node-container:hover .checkmark{opacity:1;color:var(--calcite-ui-brand)}:host(:not([has-children])):host([scale=s])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.25rem;padding-inline-start:1.25rem}:host(:not([has-children])):host([scale=m])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.5rem;padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=l])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-padding-start:1.75rem;padding-inline-start:1.75rem}:host([has-children])>.node-container[data-selection-mode=ancestors] .checkbox{-webkit-margin-start:0;margin-inline-start:0}:host([has-children])>.node-container .bullet-point,:host([has-children])>.node-container .checkmark{display:none}:host([has-children][expanded]:not([selected]))>.node-container ::slotted(*){font-weight:var(--calcite-font-weight-medium);color:var(--calcite-ui-text-1)}:host([has-children][selected])>.node-container[data-selection-mode=children],:host([has-children][selected])>.node-container[data-selection-mode=multi-children]{color:var(--calcite-ui-brand)}.chevron{position:relative;-ms-flex-item-align:center;align-self:center;color:var(--calcite-ui-text-3);-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:var(--calcite-animation-timing);transition-duration:var(--calcite-animation-timing);-webkit-transition-timing-function:ease-in-out;transition-timing-function:ease-in-out;-webkit-transition-delay:0s;transition-delay:0s;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-transform:rotate(0deg);transform:rotate(0deg)}.calcite--rtl .chevron{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host([expanded])>.node-container>.chevron{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-ui-brand)}',jie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteTreeItemSelect=U(this,"calciteTreeItemSelect",7),this.selected=!1,this.expanded=!1,this.parentExpanded=!1,this.depth=-1,this.hasChildren=null,this.iconClickHandler=e=>{e.stopPropagation(),this.expanded=!this.expanded},this.childrenClickHandler=e=>e.stopPropagation(),this.updateParentIsExpanded=(e,t)=>{ve(e,cA.children,{all:!0,selector:"calcite-tree-item"}).forEach(n=>n.parentExpanded=t)},this.updateAncestorTree=()=>{if(this.selected&&this.selectionMode===vt.Ancestors){const e=[];let t=this.parentTreeItem;for(;t;)e.push(t),t=t.parentElement.closest("calcite-tree-item");e.forEach(i=>i.indeterminate=!0);return}}}expandedHandler(e){this.updateParentIsExpanded(this.el,e)}getselectionMode(){this.isSelectionMultiLike=this.selectionMode===vt.Multi||this.selectionMode===vt.MultiChildren}connectedCallback(){if(this.parentTreeItem=this.el.parentElement.closest("calcite-tree-item"),this.parentTreeItem){const{expanded:e}=this.parentTreeItem;this.updateParentIsExpanded(this.parentTreeItem,e)}pi(this)}disconnectedCallback(){mi(this)}componentWillRender(){this.hasChildren=!!this.el.querySelector("calcite-tree"),this.depth=0;let e=this.el.closest("calcite-tree");if(!e)return;this.selectionMode=e.selectionMode,this.scale=e.scale||"m",this.lines=e.lines;let t;for(;e&&(t=e.parentElement.closest("calcite-tree"),t!==e);)e=t,this.depth=this.depth+1}componentDidLoad(){this.updateAncestorTree()}render(){const e=Li(this.el)==="rtl",t=this.selectionMode===vt.Single||this.selectionMode===vt.Children,i=this.selectionMode===vt.Multi||this.selectionMode===vt.MultiChildren,n=this.hasChildren?y("calcite-icon",{class:{[_u.chevron]:!0,[Xo.rtl]:e},"data-test-id":"icon",icon:jf.chevronRight,onClick:this.iconClickHandler,scale:"s"}):null,r=y("slot",{key:"default-slot"}),a=this.selectionMode===vt.Ancestors?y("label",{class:_u.checkboxLabel,key:"checkbox-label"},y("calcite-checkbox",{checked:this.selected,class:_u.checkbox,"data-test-id":"checkbox",indeterminate:this.hasChildren&&this.indeterminate,scale:this.scale,tabIndex:-1}),r):null,o=t?jf.bulletPoint:i?jf.checkmark:null,s=o?y("calcite-icon",{class:{[_u.bulletPointIcon]:o===jf.bulletPoint,[_u.checkmarkIcon]:o===jf.checkmark,[Xo.rtl]:e},icon:o,scale:"s"}):null,l=!(this.parentExpanded||this.depth===1);return y(Ae,{"aria-expanded":this.hasChildren?this.expanded.toString():void 0,"aria-hidden":l.toString(),"aria-selected":this.selected?"true":i?"false":void 0,"calcite-hydrated-hidden":l,role:"treeitem",tabindex:this.parentExpanded||this.depth===1?"0":"-1"},y("div",{class:{[_u.nodeContainer]:!0,[Xo.rtl]:e},"data-selection-mode":this.selectionMode,ref:u=>this.defaultSlotWrapper=u},n,s,a||r),y("div",{class:{[_u.childrenContainer]:!0,[Xo.rtl]:e},"data-test-id":"calcite-tree-children",onClick:this.childrenClickHandler,ref:u=>this.childrenSlotWrapper=u,role:this.hasChildren?"group":void 0},y("slot",{name:cA.children})))}onClick(e){const[t]=m3(this.el,"a");if(t&&e.composedPath()[0].tagName.toLowerCase()!=="a"){const i=t.target===""?"_self":t.target;window.open(t.href,i)}this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.selectionMode===vt.Ancestors||this.isSelectionMultiLike,forceToggle:!1})}keyDownHandler(e){let t;switch(e.key){case" ":this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Enter":const i=eo(this.el.children).find(o=>o.matches("a"));i?(i.click(),this.selected=!0):this.calciteTreeItemSelect.emit({modifyCurrentSelection:this.isSelectionMultiLike,forceToggle:!1}),e.preventDefault();break;case"Home":t=this.el.closest("calcite-tree:not([child])"),t.querySelector("calcite-tree-item").focus();break;case"End":t=this.el.closest("calcite-tree:not([child])");let r=t.children[t.children.length-1],a=eo(r.children).find(o=>o.matches("calcite-tree"));for(;a;)r=a.children[t.children.length-1],a=eo(r.children).find(o=>o.matches("calcite-tree"));r.focus();break}}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],selectionMode:["getselectionMode"]}}static get style(){return zie}},Vie={container:"container",handle:"handle"};var C3;(function(e){e.grip="grip"})(C3||(C3={}));const Hie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}calcite-value-list-item:last-of-type{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header{margin-bottom:0.25rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;background-color:var(--calcite-ui-foreground-1);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([filter-enabled]) header.sticky-pos{position:-webkit-sticky;position:sticky;top:0px;z-index:10}calcite-filter{margin-bottom:1px}",qie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListChange=U(this,"calciteListChange",7),this.calciteListOrderChange=U(this,"calciteListOrderChange",7),this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.loading=!1,this.multiple=!1,this.selectionFollowsFocus=!1,this.selectedValues=new Map,this.dataForFilter=[],this.lastSelectedItem=null,this.mutationObserver=Nt("mutation",$9.bind(this)),this.setFilterEl=e=>{this.filterEl=e},this.deselectRemovedItems=N9.bind(this),this.deselectSiblingItems=z9.bind(this),this.selectSiblings=j9.bind(this),this.handleFilter=V9.bind(this),this.getItemData=H9.bind(this),this.keyDownHandler=e=>{const t=e.composedPath().find(o=>{var s;return((s=o.dataset)===null||s===void 0?void 0:s.jsHandle)!==void 0}),i=e.composedPath().find(o=>{var s;return((s=o.tagName)===null||s===void 0?void 0:s.toLowerCase())==="calcite-value-list-item"});if(!t||!i.handleActivated){A9.call(this,e);return}const{items:n}=this;if(e.key!=="ArrowUp"&&e.key!=="ArrowDown"||n.length<=1)return;e.preventDefault();const{el:r}=this,a=P9(this,i,e.key==="ArrowUp"?"up":"down");if(a===n.length-1)r.appendChild(i);else{const o=r.children[a],s=o===i.nextElementSibling?o.nextElementSibling:o;r.insertBefore(i,s)}this.items=this.getItems(),this.calciteListOrderChange.emit(this.items.map(({value:o})=>o)),requestAnimationFrame(()=>t.focus()),i.handleActivated=!0}}connectedCallback(){C9.call(this),T9.call(this)}componentDidLoad(){this.setUpDragAndDrop()}componentDidRender(){Je(this)}disconnectedCallback(){E9.call(this),this.cleanUpDragAndDrop()}calciteListFocusOutHandler(e){O9.call(this,e)}calciteListItemRemoveHandler(e){L9.call(this,e)}calciteListItemChangeHandler(e){I9.call(this,e)}calciteListItemPropsChangeHandler(e){e.stopPropagation(),this.setUpFilter()}calciteListItemValueChangeHandler(e){M9.call(this,e)}getItems(){return Array.from(this.el.querySelectorAll("calcite-value-list-item"))}setUpItems(){F9.call(this,"calcite-value-list-item")}setUpFilter(){this.filterEnabled&&(this.dataForFilter=this.getItemData())}setUpDragAndDrop(){this.cleanUpDragAndDrop(),this.dragEnabled&&(this.sortable=ke.create(this.el,{dataIdAttr:"id",handle:`.${Vie.handle}`,draggable:"calcite-value-list-item",group:this.group,onSort:()=>{this.items=Array.from(this.el.querySelectorAll("calcite-value-list-item"));const e=this.items.map(t=>t.value);this.calciteListOrderChange.emit(e)}}))}cleanUpDragAndDrop(){var e;(e=this.sortable)===null||e===void 0||e.destroy(),this.sortable=null}async getSelectedItems(){return this.selectedValues}async setFocus(e){return R9.call(this,e)}getIconType(){let e=null;return this.dragEnabled&&(e=C3.grip),e}render(){return y(q9,{onKeyDown:this.keyDownHandler,props:this})}get el(){return this}static get style(){return Hie}},Uie={drag:"drag"},nv={actionsEnd:"actions-end",actionsStart:"actions-start"},Bie="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{margin-bottom:1px;-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;background-color:var(--calcite-ui-foreground-1);font-size:var(--calcite-font-size--1);color:var(--calcite-ui-text-2);--tw-shadow:0 1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 1px 0 var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);-webkit-transition:background-color var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing);transition:background-color var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing), -webkit-box-shadow var(--calcite-animation-timing)}:host *{-webkit-box-sizing:border-box;box-sizing:border-box}calcite-pick-list-item{position:relative;margin:0px;-ms-flex-positive:1;flex-grow:1;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([active]),:host([selected]){--tw-shadow:0 0 0 1px var(--calcite-ui-brand);--tw-shadow-colored:0 0 0 1px var(--tw-shadow-color);-webkit-box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.handle{display:-ms-flexbox;display:flex;cursor:move;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-style:none;background-color:transparent;padding-top:0px;padding-bottom:0px;padding-left:0.25rem;padding-right:0.25rem;color:var(--calcite-ui-text-1);color:var(--calcite-ui-border-1);outline-offset:0;outline-color:transparent;-webkit-transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}.handle:hover{background-color:var(--calcite-ui-foreground-2);color:var(--calcite-ui-text-1)}.handle:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.handle--activated{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}.handle calcite-icon{color:inherit}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}",Gie=class extends X{constructor(){super();this.__registerHost(),this.__attachShadow(),this.calciteListItemRemove=U(this,"calciteListItemRemove",7),this.disabled=!1,this.disableDeselect=!1,this.nonInteractive=!1,this.handleActivated=!1,this.icon=null,this.removable=!1,this.selected=!1,this.pickListItem=null,this.guid=`calcite-value-list-item-${ri()}`,this.getPickListRef=e=>this.pickListItem=e,this.handleKeyDown=e=>{e.key===" "&&(this.handleActivated=!this.handleActivated)},this.handleBlur=()=>{this.handleActivated=!1},this.handleSelectChange=e=>{this.selected=e.detail.selected}}connectedCallback(){pi(this)}disconnectedCallback(){mi(this)}componentDidRender(){Je(this,this.el.closest("calcite-value-list")?"managed":!1)}async toggleSelected(e){this.pickListItem.toggleSelected(e)}async setFocus(){var e;(e=this.pickListItem)===null||e===void 0||e.setFocus()}calciteListItemChangeHandler(e){e.detail.item=this.el}renderActionsEnd(){const{el:e}=this;return ve(e,nv.actionsEnd)?y("slot",{name:nv.actionsEnd,slot:yd.actionsEnd}):null}renderActionsStart(){const{el:e}=this;return ve(e,nv.actionsStart)?y("slot",{name:nv.actionsStart,slot:yd.actionsStart}):null}renderHandle(){const{icon:e}=this;if(e===Qd.grip)return y("span",{"aria-pressed":this.handleActivated.toString(),class:{[vr.handle]:!0,[vr.handleActivated]:this.handleActivated},"data-js-handle":!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,role:"button",tabindex:"0"},y("calcite-icon",{icon:Uie.drag,scale:"s"}))}render(){return y(Ae,{id:this.el.id||this.guid},this.renderHandle(),y("calcite-pick-list-item",{description:this.description,disableDeselect:this.disableDeselect,disabled:this.disabled,label:this.label,metadata:this.metadata,nonInteractive:this.nonInteractive,onCalciteListItemChange:this.handleSelectChange,ref:this.getPickListRef,removable:this.removable,selected:this.selected,value:this.value},this.renderActionsStart(),this.renderActionsEnd()))}get el(){return this}static get style(){return Bie}},Wie=Q(XW,[1,"calcite-accordion",{appearance:[513],iconPosition:[513,"icon-position"],iconType:[513,"icon-type"],scale:[513],selectionMode:[513,"selection-mode"]},[[0,"calciteAccordionItemKeyEvent","calciteAccordionItemKeyEvent"],[0,"calciteAccordionItemRegister","registerCalciteAccordionItem"],[0,"calciteAccordionItemSelect","updateActiveItemOnChange"]]]),Jie=Q(lJ,[1,"calcite-accordion-item",{active:[1540],itemTitle:[1,"item-title"],itemSubtitle:[1,"item-subtitle"],icon:[513]},[[0,"keydown","keyDownHandler"],[16,"calciteAccordionChange","updateActiveItemOnChange"]]]),Yie=Q(pJ,[1,"calcite-action",{active:[516],alignment:[513],appearance:[513],compact:[516],disabled:[516],icon:[1],indicator:[516],intlLoading:[1,"intl-loading"],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"]}]),Kie=Q(oK,[1,"calcite-action-bar",{expandDisabled:[516,"expand-disabled"],expanded:[1540],intlExpand:[1,"intl-expand"],intlCollapse:[1,"intl-collapse"],overflowActionsDisabled:[4,"overflow-actions-disabled"],position:[513],scale:[513]}]),Zie=Q(lK,[1,"calcite-action-group",{expanded:[516],layout:[513],columns:[514],intlMore:[1,"intl-more"],menuOpen:[1540,"menu-open"],scale:[513]}]),Xie=Q(uK,[1,"calcite-action-menu",{expanded:[516],flipPlacements:[16],label:[1],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],scale:[513],activeMenuItemIndex:[32]},[[8,"click","closeCalciteActionMenuOnClick"]]]),Qie=Q(hK,[1,"calcite-action-pad",{expandDisabled:[516,"expand-disabled"],expanded:[1540],layout:[513],intlExpand:[1,"intl-expand"],intlCollapse:[1,"intl-collapse"],position:[513],scale:[513]}]),ene=Q(fK,[1,"calcite-alert",{active:[1540],autoDismiss:[4,"auto-dismiss"],autoDismissDuration:[513,"auto-dismiss-duration"],color:[513],icon:[520],intlClose:[1,"intl-close"],label:[1],placement:[1],scale:[513],queue:[32],queueLength:[32],queued:[32],requestedIcon:[32]},[[8,"calciteAlertSync","alertSync"],[8,"calciteAlertRegister","alertRegister"]]]),tne=Q(_K,[1,"calcite-avatar",{scale:[513],thumbnail:[1],fullName:[1,"full-name"],username:[1],userId:[1,"user-id"],error:[32]}]),ine=Q($K,[1,"calcite-block",{collapsible:[4],disabled:[516],dragHandle:[516,"drag-handle"],heading:[1],headingLevel:[2,"heading-level"],intlCollapse:[1,"intl-collapse"],intlExpand:[1,"intl-expand"],intlLoading:[1,"intl-loading"],intlOptions:[1,"intl-options"],loading:[516],open:[1540],status:[513],summary:[1]}]),nne=Q(TK,[1,"calcite-block-section",{intlCollapse:[1,"intl-collapse"],intlExpand:[1,"intl-expand"],open:[1540],status:[513],text:[1],toggleDisplay:[513,"toggle-display"]}]),rne=Q(PK,[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],color:[513],disabled:[516],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],intlLoading:[1,"intl-loading"],loading:[516],name:[1],rel:[1],form:[1],round:[516],scale:[513],splitChild:[520,"split-child"],target:[1],type:[1025],width:[513],hasContent:[32],hasLoader:[32]}]),ane=Q(RK,[1,"calcite-card",{loading:[516],selected:[1540],selectable:[516],intlLoading:[1,"intl-loading"],intlSelect:[1,"intl-select"],intlDeselect:[1,"intl-deselect"]}]),one=Q(VK,[1,"calcite-checkbox",{checked:[1540],disabled:[516],guid:[1537],hovered:[1540],indeterminate:[1540],label:[1],name:[520],required:[516],scale:[513],value:[8]}]),sne=Q(BK,[1,"calcite-chip",{appearance:[513],color:[513],dismissible:[516],dismissLabel:[1,"dismiss-label"],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],scale:[513],value:[8]}]),lne=Q(uZ,[1,"calcite-color-picker",{allowEmpty:[4,"allow-empty"],appearance:[513],color:[1040],disabled:[516],format:[1],hideHex:[4,"hide-hex"],hideChannels:[4,"hide-channels"],hideSaved:[4,"hide-saved"],intlB:[1,"intl-b"],intlBlue:[1,"intl-blue"],intlDeleteColor:[1,"intl-delete-color"],intlG:[1,"intl-g"],intlGreen:[1,"intl-green"],intlH:[1,"intl-h"],intlHsv:[1,"intl-hsv"],intlHex:[1,"intl-hex"],intlHue:[1,"intl-hue"],intlNoColor:[1,"intl-no-color"],intlR:[1,"intl-r"],intlRed:[1,"intl-red"],intlRgb:[1,"intl-rgb"],intlS:[1,"intl-s"],intlSaturation:[1,"intl-saturation"],intlSaveColor:[1,"intl-save-color"],intlSaved:[1,"intl-saved"],intlV:[1,"intl-v"],intlValue:[1,"intl-value"],scale:[513],storageId:[1,"storage-id"],value:[1025],colorFieldAndSliderInteractive:[32],channelMode:[32],channels:[32],dimensions:[32],savedColors:[32],colorFieldScopeTop:[32],colorFieldScopeLeft:[32],scopeOrientation:[32],hueScopeLeft:[32],hueScopeTop:[32]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]]]),cne=Q(hZ,[1,"calcite-color-picker-hex-input",{allowEmpty:[4,"allow-empty"],intlHex:[1,"intl-hex"],intlNoColor:[1,"intl-no-color"],scale:[513],value:[1537],internalColor:[32]},[[2,"keydown","onInputKeyDown"]]]),une=Q(fZ,[1,"calcite-color-picker-swatch",{active:[516],color:[1],scale:[513]}]),dne=Q(EX,[1,"calcite-combobox",{active:[1540],disabled:[516],label:[1],placeholder:[1],maxItems:[2,"max-items"],name:[513],allowCustomValues:[4,"allow-custom-values"],overlayPositioning:[1,"overlay-positioning"],required:[4],selectionMode:[513,"selection-mode"],scale:[513],value:[1025],intlRemoveTag:[1,"intl-remove-tag"],flipPlacements:[16],items:[32],groupItems:[32],selectedItems:[32],visibleItems:[32],needsIcon:[32],activeItemIndex:[32],activeChipIndex:[32],activeDescendant:[32],text:[32]},[[4,"click","documentClickHandler"],[0,"calciteComboboxItemChange","calciteComboboxItemChangeHandler"]]]),hne=Q(MX,[1,"calcite-combobox-item",{disabled:[516],selected:[1540],active:[4],ancestors:[1040],guid:[1],icon:[1],textLabel:[513,"text-label"],value:[8],constant:[516]}]),pne=Q(AX,[1,"calcite-combobox-item-group",{ancestors:[1040],label:[1]}]),mne=Q(JX,[1,"calcite-date-picker",{activeRange:[1,"active-range"],value:[1025],headingLevel:[2,"heading-level"],valueAsDate:[1040],startAsDate:[1040],endAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1025],max:[1025],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],locale:[1],scale:[513],range:[516],start:[1025],end:[1025],proximitySelectionDisabled:[4,"proximity-selection-disabled"],activeDate:[32],activeStartDate:[32],activeEndDate:[32],localeData:[32],hoverRange:[32]}]),fne=Q(KX,[1,"calcite-date-picker-day",{day:[2],disabled:[516],currentMonth:[516,"current-month"],selected:[516],highlighted:[516],range:[516],startOfRange:[516,"start-of-range"],endOfRange:[516,"end-of-range"],rangeHover:[516,"range-hover"],active:[516],localeData:[16],scale:[513],value:[16]},[[1,"mouseover","mouseoverHandler"]]]),gne=Q(XX,[1,"calcite-date-picker-month",{selectedDate:[16],activeDate:[16],startDate:[16],endDate:[16],min:[16],max:[16],scale:[513],localeData:[16],hoverRange:[16]},[[1,"mouseout","mouseoutHandler"]]]),yne=Q(eQ,[1,"calcite-date-picker-month-header",{selectedDate:[16],activeDate:[16],headingLevel:[2,"heading-level"],min:[16],max:[16],locale:[1],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],scale:[513],localeData:[16],nextMonthDate:[32],prevMonthDate:[32]}]),bne=Q(nQ,[1,"calcite-dropdown",{active:[1540],disableCloseOnSelect:[516,"disable-close-on-select"],disabled:[516],flipPlacements:[16],maxItems:[2,"max-items"],overlayPositioning:[1,"overlay-positioning"],placement:[513],scale:[513],selectedItems:[1040],type:[513],width:[513]},[[8,"click","closeCalciteDropdownOnClick"],[0,"calciteDropdownCloseRequest","closeCalciteDropdownOnEvent"],[8,"calciteDropdownOpen","closeCalciteDropdownOnOpenEvent"],[1,"mouseenter","mouseEnterHandler"],[1,"mouseleave","mouseLeaveHandler"],[0,"calciteDropdownItemKeyEvent","calciteDropdownItemKeyEvent"],[0,"calciteDropdownItemSelect","handleItemSelect"]]]),vne=Q(aQ,[1,"calcite-dropdown-group",{groupTitle:[513,"group-title"],selectionMode:[513,"selection-mode"],scale:[513]},[[0,"calciteDropdownItemSelect","updateActiveItemOnChange"]]]),wne=Q(sQ,[1,"calcite-dropdown-item",{active:[1540],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],iconEnd:[513,"icon-end"],href:[513],label:[1],rel:[1],target:[1]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"],[16,"calciteDropdownItemChange","updateActiveItemOnChange"]]]),xne=Q(dQ,[1,"calcite-fab",{appearance:[513],color:[513],disabled:[516],icon:[1],label:[1],loading:[516],scale:[513],text:[1],textEnabled:[516,"text-enabled"]}]),kne=Q(mQ,[1,"calcite-filter",{items:[1040],disabled:[516],filteredItems:[1040],intlClear:[1,"intl-clear"],intlLabel:[1,"intl-label"],placeholder:[1],scale:[513],value:[1025]}]),_ne=Q(gQ,[1,"calcite-flow",{panelCount:[32],flowDirection:[32],panels:[32]},[[0,"calcitePanelBackClick","handleCalcitePanelBackClick"]]]),Sne=Q(kQ,[1,"calcite-graph",{data:[16],colorStops:[16],highlightMin:[2,"highlight-min"],highlightMax:[2,"highlight-max"],min:[2],max:[2]}]),Dne=Q(DQ,[1,"calcite-handle",{activated:[1540],textTitle:[513,"text-title"]}]),$ne=Q(IQ,[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}]),Cne=Q(OQ,[1,"calcite-inline-editable",{disabled:[516],editingEnabled:[1540,"editing-enabled"],loading:[1540],controls:[516],intlEnableEditing:[513,"intl-enable-editing"],intlCancelEditing:[513,"intl-cancel-editing"],intlConfirmChanges:[513,"intl-confirm-changes"],scale:[1537],afterConfirm:[16]},[[0,"calciteInputBlur","blurHandler"]]]),Tne=Q(LQ,[1,"calcite-input",{alignment:[513],autofocus:[4],clearable:[516],disabled:[516],groupSeparator:[4,"group-separator"],hidden:[4],icon:[520],intlLoading:[1,"intl-loading"],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],locale:[1],localeFormat:[4,"locale-format"],max:[514],min:[514],maxlength:[514],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],numberButtonType:[513,"number-button-type"],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[4,"read-only"],required:[4],scale:[1537],status:[1537],step:[520],suffixText:[1,"suffix-text"],editingEnabled:[1540,"editing-enabled"],type:[513],value:[1025],localizedValue:[32]}]),Ene=Q(FQ,[1,"calcite-input-date-picker",{disabled:[516],value:[1025],flipPlacements:[16],headingLevel:[2,"heading-level"],valueAsDate:[1040],startAsDate:[1040],endAsDate:[1040],minAsDate:[1040],maxAsDate:[1040],min:[1025],max:[1025],active:[1540],name:[1],intlPrevMonth:[1,"intl-prev-month"],intlNextMonth:[1,"intl-next-month"],intlYear:[1,"intl-year"],locale:[1],scale:[513],range:[516],required:[516],start:[1025],end:[1025],overlayPositioning:[1,"overlay-positioning"],proximitySelectionDisabled:[4,"proximity-selection-disabled"],layout:[513],focusedInput:[32],localeData:[32]},[[0,"calciteDatePickerChange","handleDateOrRangeChange"],[0,"calciteDatePickerRangeChange","handleDateOrRangeChange"],[0,"calciteDaySelect","calciteDaySelectHandler"]]]),Ine=Q(zQ,[1,"calcite-input-message",{active:[516],icon:[520],scale:[1537],status:[1537],type:[513]}]),Mne=Q(UQ,[1,"calcite-input-time-picker",{active:[1540],disabled:[516],intlHour:[1,"intl-hour"],intlHourDown:[1,"intl-hour-down"],intlHourUp:[1,"intl-hour-up"],intlMeridiem:[1,"intl-meridiem"],intlMeridiemDown:[1,"intl-meridiem-down"],intlMeridiemUp:[1,"intl-meridiem-up"],intlMinute:[1,"intl-minute"],intlMinuteDown:[1,"intl-minute-down"],intlMinuteUp:[1,"intl-minute-up"],intlSecond:[1,"intl-second"],intlSecondDown:[1,"intl-second-down"],intlSecondUp:[1,"intl-second-up"],locale:[1025,"lang"],name:[1],required:[516],scale:[513],step:[2],value:[1025],localizedValue:[32]},[[0,"click","clickHandler"],[0,"keyup","keyUpHandler"],[0,"calciteTimePickerBlur","timePickerBlurHandler"],[0,"calciteTimePickerFocus","timePickerFocusHandler"]]]),One=Q(WQ,[1,"calcite-label",{alignment:[513],status:[513],for:[513],scale:[513],layout:[513],disableSpacing:[4,"disable-spacing"],disabled:[516]}]),Ane=Q(YQ,[1,"calcite-link",{disabled:[516],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],rel:[1],target:[1]}]),Pne=Q(XQ,[1,"calcite-list",{disabled:[516],headingLevel:[2,"heading-level"]}]),Lne=Q(eee,[1,"calcite-list-item",{nonInteractive:[516,"non-interactive"],description:[1],disabled:[516],label:[1]}]),Rne=Q(nee,[1,"calcite-list-item-group",{heading:[513],headingLevel:[2,"heading-level"]}]),Fne=Q(aee,[1,"calcite-loader",{active:[516],inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1],noPadding:[4,"no-padding"]}]),Nne=Q(hee,[1,"calcite-modal",{active:[1540],beforeClose:[16],disableCloseButton:[4,"disable-close-button"],disableOutsideClose:[4,"disable-outside-close"],intlClose:[1,"intl-close"],docked:[516],firstFocus:[16],disableEscape:[4,"disable-escape"],scale:[513],width:[520],fullscreen:[516],color:[513],backgroundColor:[513,"background-color"],noPadding:[4,"no-padding"],hasFooter:[32]},[[8,"keyup","handleEscape"]]]),zne=Q(fee,[1,"calcite-notice",{active:[1540],color:[513],dismissible:[516],icon:[520],intlClose:[1,"intl-close"],scale:[513],width:[513]}]),jne=Q(yee,[1,"calcite-option",{disabled:[516],label:[1025],selected:[516],value:[1032]}]),Vne=Q(vee,[1,"calcite-option-group",{disabled:[516],label:[1]}]),Hne=Q(xee,[1,"calcite-pagination",{num:[2],start:[1026],total:[2],textLabelNext:[1,"text-label-next"],textLabelPrevious:[1,"text-label-previous"],scale:[513]}]),qne=Q(See,[1,"calcite-panel",{dismissed:[1540],beforeBack:[16],disabled:[516],dismissible:[516],headingLevel:[2,"heading-level"],showBackButton:[516,"show-back-button"],intlBack:[1,"intl-back"],heightScale:[513,"height-scale"],widthScale:[513,"width-scale"],loading:[516],intlClose:[1,"intl-close"],intlOptions:[1,"intl-options"],heading:[1],summary:[1],menuOpen:[516,"menu-open"]}]),Une=Q(Aee,[1,"calcite-pick-list",{disabled:[516],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],headingLevel:[2,"heading-level"],loading:[516],multiple:[516],selectionFollowsFocus:[4,"selection-follows-focus"],selectedValues:[32],dataForFilter:[32]},[[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteListItemPropsChange","calciteListItemPropsChangeHandler"],[0,"calciteListItemValueChange","calciteListItemValueChangeHandler"],[0,"focusout","calciteListFocusOutHandler"]]]),Bne=Q(Lee,[1,"calcite-pick-list-group",{groupTitle:[513,"group-title"],headingLevel:[2,"heading-level"]}]),Gne=Q(Nee,[1,"calcite-pick-list-item",{description:[513],disabled:[516],disableDeselect:[4,"disable-deselect"],nonInteractive:[516,"non-interactive"],icon:[513],label:[513],metadata:[16],removable:[516],selected:[1540],intlRemove:[513,"intl-remove"],value:[8]}]),Wne=Q(qee,[1,"calcite-popover",{closeButton:[516,"close-button"],dismissible:[516],disableFlip:[516,"disable-flip"],disablePointer:[516,"disable-pointer"],flipPlacements:[16],heading:[1],headingLevel:[2,"heading-level"],label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[1540],overlayPositioning:[1,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],intlClose:[1,"intl-close"],effectiveReferenceElement:[32]}]),Jne=Q(Bee,[1,"calcite-popover-manager",{selector:[1],autoClose:[516,"auto-close"]},[[10,"click","closeOpenPopovers"]]]),Yne=Q(Wee,[1,"calcite-progress",{type:[1],value:[2],label:[1],text:[1],reversed:[4]}]),Kne=Q(Kee,[1,"calcite-radio-button",{checked:[1540],disabled:[516],focused:[1540],guid:[1537],hidden:[516],hovered:[1540],label:[1],name:[513],required:[516],scale:[513],value:[1032]},[[1,"mouseenter","mouseenter"],[1,"mouseleave","mouseleave"]]]),Zne=Q(Xee,[1,"calcite-radio-button-group",{disabled:[516],hidden:[516],layout:[513],name:[513],required:[516],scale:[513]},[[0,"calciteRadioButtonChange","radioButtonChangeHandler"]]]),Xne=Q(ete,[1,"calcite-radio-group",{appearance:[513],disabled:[516],required:[516],layout:[513],name:[1],scale:[513],value:[1025],selectedItem:[1040],width:[513]},[[0,"calciteRadioGroupItemChange","handleSelected"],[0,"keydown","handleKeyDown"]]]),Qne=Q(rte,[1,"calcite-radio-group-item",{checked:[1540],icon:[513],iconFlipRtl:[516,"icon-flip-rtl"],iconPosition:[513,"icon-position"],value:[1032]}]),ere=Q(ote,[1,"calcite-rating",{scale:[513],value:[1538],readOnly:[516,"read-only"],disabled:[516],showChip:[516,"show-chip"],count:[514],average:[514],name:[513],intlRating:[1,"intl-rating"],intlStars:[1,"intl-stars"],required:[516],hoverValue:[32],focusValue:[32],hasFocus:[32]},[[0,"blur","blurHandler"]]]),tre=Q(cte,[1,"calcite-scrim",{intlLoading:[1,"intl-loading"],loading:[516]}]),ire=Q(hte,[1,"calcite-select",{disabled:[516],label:[1],name:[1],required:[516],scale:[513],value:[1025],selectedOption:[1040],width:[513]},[[0,"calciteOptionChange","handleOptionOrGroupChange"],[0,"calciteOptionGroupChange","handleOptionOrGroupChange"]]]),nre=Q(mte,[1,"calcite-shell",{contentBehind:[516,"content-behind"]}]),rre=Q(gte,[1,"calcite-shell-center-row",{detached:[516],heightScale:[513,"height-scale"],position:[513]}]),are=Q(vte,[1,"calcite-shell-panel",{collapsed:[516],detached:[516],detachedHeightScale:[513,"detached-height-scale"],widthScale:[513,"width-scale"],position:[513],intlResize:[1,"intl-resize"],resizable:[516],contentWidth:[32]}]),ore=Q(xte,[1,"calcite-slider",{disabled:[516],hasHistogram:[1540,"has-histogram"],histogram:[16],histogramStops:[16],labelHandles:[516,"label-handles"],labelTicks:[516,"label-ticks"],max:[514],maxLabel:[1,"max-label"],maxValue:[1026,"max-value"],min:[514],minLabel:[1,"min-label"],minValue:[1026,"min-value"],mirrored:[516],name:[513],pageStep:[2,"page-step"],precise:[4],required:[516],snap:[4],step:[2],ticks:[2],value:[1538],scale:[1],activeProp:[32],minMaxValueRange:[32],minValueDragRange:[32],maxValueDragRange:[32],tickValues:[32]},[[0,"keydown","keyDownHandler"],[0,"click","clickHandler"],[1,"pointerdown","pointerDownHandler"]]]),sre=Q(Kte,[1,"calcite-sortable-list",{dragSelector:[1,"drag-selector"],group:[1],handleSelector:[1,"handle-selector"],layout:[1],disabled:[516],loading:[516],handleActivated:[32]},[[0,"calciteHandleNudge","calciteHandleNudgeHandler"]]]),lre=Q(Xte,[1,"calcite-split-button",{appearance:[513],color:[513],disabled:[516],active:[1540],dropdownIconType:[513,"dropdown-icon-type"],dropdownLabel:[513,"dropdown-label"],loading:[516],overlayPositioning:[1,"overlay-positioning"],primaryIconEnd:[513,"primary-icon-end"],primaryIconFlipRtl:[513,"primary-icon-flip-rtl"],primaryIconStart:[513,"primary-icon-start"],primaryLabel:[513,"primary-label"],primaryText:[513,"primary-text"],scale:[513],width:[513]}]),cre=Q(eie,[1,"calcite-stepper",{icon:[516],layout:[513],numbered:[516],scale:[513],requestedContent:[1040]},[[0,"calciteStepperItemKeyEvent","calciteStepperItemKeyEvent"],[0,"calciteStepperItemRegister","registerItem"],[0,"calciteStepperItemSelect","updateItem"]]]),ure=Q(iie,[1,"calcite-stepper-item",{active:[1540],complete:[516],error:[4],disabled:[516],itemTitle:[1,"item-title"],itemSubtitle:[1,"item-subtitle"],layout:[1537],icon:[1028],numbered:[1028],scale:[1537]},[[0,"keydown","keyDownHandler"],[16,"calciteStepperItemChange","updateActiveItemOnChange"]]]),dre=Q(rie,[1,"calcite-switch",{disabled:[516],label:[1],name:[513],scale:[513],switched:[1028],checked:[1540],value:[8]}]),hre=Q(oie,[1,"calcite-tab",{tab:[513],active:[1540],scale:[1537],labeledBy:[32]},[[16,"calciteTabChange","tabChangeHandler"]]]),pre=Q(lie,[1,"calcite-tab-nav",{storageId:[1,"storage-id"],syncId:[1,"sync-id"],scale:[1537],layout:[1537],position:[1537],bordered:[1540],indicatorOffset:[1026,"indicator-offset"],indicatorWidth:[1026,"indicator-width"],selectedTab:[32],selectedTabEl:[32]},[[9,"resize","resizeHandler"],[0,"calciteTabsFocusPrevious","focusPreviousTabHandler"],[0,"calciteTabsFocusNext","focusNextTabHandler"],[0,"calciteTabsActivate","activateTabHandler"],[0,"calciteTabTitleRegister","updateTabTitles"],[16,"calciteTabChange","globalTabChangeHandler"]]]),mre=Q(uie,[1,"calcite-tab-title",{active:[1540],disabled:[516],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],layout:[1537],position:[1537],scale:[1537],bordered:[1540],tab:[513],controls:[32],hasText:[32]},[[16,"calciteTabChange","tabChangeHandler"],[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]),fre=Q(pie,[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[1540],titles:[32],tabs:[32]},[[0,"calciteTabTitleRegister","calciteTabTitleRegister"],[16,"calciteTabTitleUnregister","calciteTabTitleUnregister"],[0,"calciteTabRegister","calciteTabRegister"],[16,"calciteTabUnregister","calciteTabUnregister"]]]),gre=Q(fie,[1,"calcite-tile",{active:[516],description:[513],disabled:[516],embed:[516],focused:[516],heading:[513],hidden:[516],href:[513],icon:[513]}]),yre=Q(yie,[1,"calcite-tile-select",{checked:[1540],description:[513],disabled:[516],heading:[513],hidden:[516],icon:[513],name:[520],inputEnabled:[516,"input-enabled"],inputAlignment:[513,"input-alignment"],type:[513],value:[8],width:[513],focused:[32]},[[0,"calciteCheckboxChange","checkboxChangeHandler"],[0,"calciteInternalCheckboxFocus","checkboxFocusBlurHandler"],[0,"calciteInternalCheckboxBlur","checkboxFocusBlurHandler"],[0,"calciteRadioButtonChange","radioButtonChangeHandler"],[0,"calciteInternalRadioButtonCheckedChange","radioButtonCheckedChangeHandler"],[0,"calciteInternalRadioButtonFocus","radioButtonFocusBlurHandler"],[0,"calciteInternalRadioButtonBlur","radioButtonFocusBlurHandler"],[0,"click","click"],[1,"mouseenter","mouseenter"],[1,"mouseleave","mouseleave"]]]),bre=Q(vie,[1,"calcite-tile-select-group",{disabled:[516],layout:[513]}]),vre=Q(kie,[1,"calcite-time-picker",{intlHour:[1,"intl-hour"],intlHourDown:[1,"intl-hour-down"],intlHourUp:[1,"intl-hour-up"],intlMeridiem:[1,"intl-meridiem"],intlMeridiemDown:[1,"intl-meridiem-down"],intlMeridiemUp:[1,"intl-meridiem-up"],intlMinute:[1,"intl-minute"],intlMinuteDown:[1,"intl-minute-down"],intlMinuteUp:[1,"intl-minute-up"],intlSecond:[1,"intl-second"],intlSecondDown:[1,"intl-second-down"],intlSecondUp:[1,"intl-second-up"],locale:[1025,"lang"],scale:[1],step:[2],value:[1025],hour:[32],hourCycle:[32],localizedHour:[32],localizedHourSuffix:[32],localizedMeridiem:[32],localizedMinute:[32],localizedMinuteSuffix:[32],localizedSecond:[32],localizedSecondSuffix:[32],meridiem:[32],minute:[32],second:[32],showSecond:[32]},[[0,"blur","hostBlurHandler"],[0,"focus","hostFocusHandler"],[0,"keydown","keyDownHandler"]]]),wre=Q(Cie,[1,"calcite-tip",{dismissed:[1540],nonDismissible:[516,"non-dismissible"],heading:[1],headingLevel:[2,"heading-level"],selected:[516],intlClose:[1,"intl-close"]}]),xre=Q(Eie,[1,"calcite-tip-group",{groupTitle:[1,"group-title"]}]),kre=Q(Mie,[1,"calcite-tip-manager",{closed:[1540],headingLevel:[2,"heading-level"],intlClose:[1,"intl-close"],intlDefaultTitle:[1,"intl-default-title"],intlNext:[1,"intl-next"],intlPaginationLabel:[1,"intl-pagination-label"],intlPrevious:[1,"intl-previous"],selectedIndex:[32],tips:[32],total:[32],direction:[32],groupTitle:[32]}]),_re=Q(Pie,[1,"calcite-tooltip",{label:[1],offsetDistance:[514,"offset-distance"],offsetSkidding:[514,"offset-skidding"],open:[516],overlayPositioning:[1,"overlay-positioning"],placement:[513],referenceElement:[1,"reference-element"],effectiveReferenceElement:[32]}]),Sre=Q(Rie,[1,"calcite-tooltip-manager",{selector:[1]},[[4,"keyup","keyUpHandler"],[3,"mouseover","mouseEnterShow"],[3,"mouseout","mouseLeaveHide"],[2,"click","clickHandler"],[2,"focus","focusShow"],[2,"blur","blurHide"]]]),Dre=Q(Nie,[1,"calcite-tree",{lines:[1540],inputEnabled:[4,"input-enabled"],child:[1540],scale:[1537],selectionMode:[1537,"selection-mode"]},[[0,"focus","onFocus"],[0,"focusin","onFocusIn"],[0,"focusout","onFocusOut"],[0,"calciteTreeItemSelect","onClick"],[0,"keydown","keyDownHandler"]]]),$re=Q(jie,[1,"calcite-tree-item",{selected:[1540],expanded:[1540],parentExpanded:[4,"parent-expanded"],depth:[1538],hasChildren:[1540,"has-children"],lines:[1540],inputEnabled:[4,"input-enabled"],scale:[1537],indeterminate:[516],selectionMode:[1025,"selection-mode"]},[[0,"click","onClick"],[0,"keydown","keyDownHandler"]]]),Cre=Q(qie,[1,"calcite-value-list",{disabled:[516],dragEnabled:[516,"drag-enabled"],filterEnabled:[516,"filter-enabled"],filterPlaceholder:[513,"filter-placeholder"],group:[1],loading:[516],multiple:[516],selectionFollowsFocus:[4,"selection-follows-focus"],selectedValues:[32],dataForFilter:[32]},[[0,"focusout","calciteListFocusOutHandler"],[0,"calciteListItemRemove","calciteListItemRemoveHandler"],[0,"calciteListItemChange","calciteListItemChangeHandler"],[0,"calciteListItemPropsChange","calciteListItemPropsChangeHandler"],[0,"calciteListItemValueChange","calciteListItemValueChangeHandler"]]]),Tre=Q(Gie,[1,"calcite-value-list-item",{description:[513],disabled:[516],disableDeselect:[4,"disable-deselect"],nonInteractive:[516,"non-interactive"],handleActivated:[1028,"handle-activated"],icon:[513],label:[513],metadata:[16],removable:[516],selected:[1540],value:[8]},[[0,"calciteListItemChange","calciteListItemChangeHandler"]]]),Ere=e=>{typeof customElements!="undefined"&&[Wie,Jie,Yie,Kie,Zie,Xie,Qie,ene,tne,ine,nne,rne,ane,one,sne,lne,cne,une,dne,hne,pne,mne,fne,gne,yne,bne,vne,wne,xne,kne,_ne,Sne,Dne,$ne,Cne,Tne,Ene,Ine,Mne,One,Ane,Pne,Lne,Rne,Fne,Nne,zne,jne,Vne,Hne,qne,Une,Bne,Gne,Wne,Jne,Yne,Kne,Zne,Xne,Qne,ere,tre,ire,nre,rre,are,ore,sre,lre,cre,ure,dre,hre,pre,mre,fre,gre,yre,bre,vre,wre,xre,kre,_re,Sre,Dre,$re,Cre,Tre].forEach(t=>{customElements.get(t.is)||customElements.define(t.is,t,e)})},jh=[];function n6(e,t){return{subscribe:Jy(e,t).subscribe}}function Jy(e,t=kt){let i;const n=new Set;function r(s){if(or(e,s)&&(e=s,i)){const l=!jh.length;for(const u of n)u[1](),jh.push(u,e);if(l){for(let u=0;u<jh.length;u+=2)jh[u][0](jh[u+1]);jh.length=0}}}function a(s){r(s(e))}function o(s,l=kt){const u=[s,l];return n.add(u),n.size===1&&(i=t(r)||kt),s(e),()=>{n.delete(u),n.size===0&&(i(),i=null)}}return{set:r,update:a,subscribe:o}}function DT(e,t,i){const n=!Array.isArray(e),r=n?[e]:e,a=t.length<2;return n6(i,o=>{let s=!1;const l=[];let u=0,h=kt;const m=()=>{if(u)return;h();const g=t(n?l[0]:l,o);a?o(g):h=BC(g)?g:kt},f=r.map((g,b)=>GC(g,v=>{l[b]=v,u&=~(1<<b),s&&m()},()=>{u|=1<<b}));return s=!0,m(),function(){Wm(f),h()}})}function Ire(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var i,n,r,a,o=[],s="",l=e.split("/");for(l[0]||l.shift();r=l.shift();)i=r[0],i==="*"?(o.push("wild"),s+="/(.*)"):i===":"?(n=r.indexOf("?",1),a=r.indexOf(".",1),o.push(r.substring(1,~n?n:~a?a:r.length)),s+=!!~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~n?"?":"")+"\\"+r.substring(a))):s+="/"+r;return{keys:o,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}function Mre(e){let t,i,n;const r=[e[2]];var a=e[0];function o(s){let l={};for(let u=0;u<r.length;u+=1)l=Fy(l,r[u]);return{props:l}}return a&&(t=new a(o()),t.$on("routeEvent",e[7])),{c(){t&&ki(t.$$.fragment),i=Tl()},m(s,l){t&&ci(t,s,l),We(s,i,l),n=!0},p(s,l){const u=l&4?mk(r,[bN(s[2])]):{};if(a!==(a=s[0])){if(t){es();const h=t;Be(h.$$.fragment,1,0,()=>{ui(h,1)}),ts()}a?(t=new a(o()),t.$on("routeEvent",s[7]),ki(t.$$.fragment),Ee(t.$$.fragment,1),ci(t,i.parentNode,i)):t=null}else a&&t.$set(u)},i(s){n||(t&&Ee(t.$$.fragment,s),n=!0)},o(s){t&&Be(t.$$.fragment,s),n=!1},d(s){s&&Ge(i),t&&ui(t,s)}}}function Ore(e){let t,i,n;const r=[{params:e[1]},e[2]];var a=e[0];function o(s){let l={};for(let u=0;u<r.length;u+=1)l=Fy(l,r[u]);return{props:l}}return a&&(t=new a(o()),t.$on("routeEvent",e[6])),{c(){t&&ki(t.$$.fragment),i=Tl()},m(s,l){t&&ci(t,s,l),We(s,i,l),n=!0},p(s,l){const u=l&6?mk(r,[l&2&&{params:s[1]},l&4&&bN(s[2])]):{};if(a!==(a=s[0])){if(t){es();const h=t;Be(h.$$.fragment,1,0,()=>{ui(h,1)}),ts()}a?(t=new a(o()),t.$on("routeEvent",s[6]),ki(t.$$.fragment),Ee(t.$$.fragment,1),ci(t,i.parentNode,i)):t=null}else a&&t.$set(u)},i(s){n||(t&&Ee(t.$$.fragment,s),n=!0)},o(s){t&&Be(t.$$.fragment,s),n=!1},d(s){s&&Ge(i),t&&ui(t,s)}}}function Are(e){let t,i,n,r;const a=[Ore,Mre],o=[];function s(l,u){return l[1]?0:1}return t=s(e),i=o[t]=a[t](e),{c(){i.c(),n=Tl()},m(l,u){o[t].m(l,u),We(l,n,u),r=!0},p(l,[u]){let h=t;t=s(l),t===h?o[t].p(l,u):(es(),Be(o[h],1,1,()=>{o[h]=null}),ts(),i=o[t],i?i.p(l,u):(i=o[t]=a[t](l),i.c()),Ee(i,1),i.m(n.parentNode,n))},i(l){r||(Ee(i),r=!0)},o(l){Be(i),r=!1},d(l){o[t].d(l),l&&Ge(n)}}}function uA(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const i=t.indexOf("?");let n="";return i>-1&&(n=t.substr(i+1),t=t.substr(0,i)),{location:t,querystring:n}}const $T=n6(null,function(t){t(uA());const i=()=>{t(uA())};return window.addEventListener("hashchange",i,!1),function(){window.removeEventListener("hashchange",i,!1)}});DT($T,e=>e.location);DT($T,e=>e.querystring);const dA=Jy(void 0);function Pre(e,t,i){let{routes:n={}}=t,{prefix:r=""}=t,{restoreScrollState:a=!1}=t;class o{constructor(C,M){if(!M||typeof M!="function"&&(typeof M!="object"||M._sveltesparouter!==!0))throw Error("Invalid component object");if(!C||typeof C=="string"&&(C.length<1||C.charAt(0)!="/"&&C.charAt(0)!="*")||typeof C=="object"&&!(C instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:L,keys:j}=Ire(C);this.path=C,typeof M=="object"&&M._sveltesparouter===!0?(this.component=M.component,this.conditions=M.conditions||[],this.userData=M.userData,this.props=M.props||{}):(this.component=()=>Promise.resolve(M),this.conditions=[],this.props={}),this._pattern=L,this._keys=j}match(C){if(r){if(typeof r=="string")if(C.startsWith(r))C=C.substr(r.length)||"/";else return null;else if(r instanceof RegExp){const G=C.match(r);if(G&&G[0])C=C.substr(G[0].length)||"/";else return null}}const M=this._pattern.exec(C);if(M===null)return null;if(this._keys===!1)return M;const L={};let j=0;for(;j<this._keys.length;){try{L[this._keys[j]]=decodeURIComponent(M[j+1]||"")||null}catch{L[this._keys[j]]=null}j++}return L}async checkConditions(C){for(let M=0;M<this.conditions.length;M++)if(!await this.conditions[M](C))return!1;return!0}}const s=[];n instanceof Map?n.forEach((T,C)=>{s.push(new o(C,T))}):Object.keys(n).forEach(T=>{s.push(new o(T,n[T]))});let l=null,u=null,h={};const m=nW();async function f(T,C){await rW(),m(T,C)}let g=null,b=null;a&&(b=T=>{T.state&&T.state.__svelte_spa_router_scrollY?g=T.state:g=null},window.addEventListener("popstate",b),tW(()=>{g?window.scrollTo(g.__svelte_spa_router_scrollX,g.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let v=null,w=null;const x=$T.subscribe(async T=>{v=T;let C=0;for(;C<s.length;){const M=s[C].match(T.location);if(!M){C++;continue}const L={route:s[C].path,location:T.location,querystring:T.querystring,userData:s[C].userData,params:M&&typeof M=="object"&&Object.keys(M).length?M:null};if(!await s[C].checkConditions(L)){i(0,l=null),w=null,f("conditionsFailed",L);return}f("routeLoading",Object.assign({},L));const j=s[C].component;if(w!=j){j.loading?(i(0,l=j.loading),w=j,i(1,u=j.loadingParams),i(2,h={}),f("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u}))):(i(0,l=null),w=null);const G=await j();if(T!=v)return;i(0,l=G&&G.default||G),w=j}M&&typeof M=="object"&&Object.keys(M).length?i(1,u=M):i(1,u=null),i(2,h=s[C].props),f("routeLoaded",Object.assign({},L,{component:l,name:l.name,params:u})).then(()=>{dA.set(u)});return}i(0,l=null),w=null,dA.set(void 0)});iW(()=>{x(),b&&window.removeEventListener("popstate",b)});function S(T){xM.call(this,e,T)}function E(T){xM.call(this,e,T)}return e.$$set=T=>{"routes"in T&&i(3,n=T.routes),"prefix"in T&&i(4,r=T.prefix),"restoreScrollState"in T&&i(5,a=T.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[l,u,h,n,r,a,S,E]}class Lre extends Fr{constructor(t){super();Rr(this,t,Pre,Are,or,{routes:3,prefix:4,restoreScrollState:5})}}function Rre(e){let t,i,n=[{id:i="path-"+e[0]},e[1]],r={};for(let a=0;a<n.length;a+=1)r=Fy(r,n[a]);return{c(){t=pk("path"),Ow(t,r)},m(a,o){We(a,t,o)},p(a,[o]){Ow(t,r=mk(n,[o&1&&i!==(i="path-"+a[0])&&{id:i},o&2&&a[1]]))},i:kt,o:kt,d(a){a&&Ge(t)}}}function Fre(e,t,i){let{id:n}=t,{data:r={}}=t;return e.$$set=a=>{"id"in a&&i(0,n=a.id),"data"in a&&i(1,r=a.data)},[n,r]}class Nre extends Fr{constructor(t){super();Rr(this,t,Fre,Rre,or,{id:0,data:1})}}function zre(e){let t,i,n=[{id:i="polygon-"+e[0]},e[1]],r={};for(let a=0;a<n.length;a+=1)r=Fy(r,n[a]);return{c(){t=pk("polygon"),Ow(t,r)},m(a,o){We(a,t,o)},p(a,[o]){Ow(t,r=mk(n,[o&1&&i!==(i="polygon-"+a[0])&&{id:i},o&2&&a[1]]))},i:kt,o:kt,d(a){a&&Ge(t)}}}function jre(e,t,i){let{id:n}=t,{data:r={}}=t;return e.$$set=a=>{"id"in a&&i(0,n=a.id),"data"in a&&i(1,r=a.data)},[n,r]}class Vre extends Fr{constructor(t){super();Rr(this,t,jre,zre,or,{id:0,data:1})}}function Hre(e){let t;return{c(){t=pk("g")},m(i,n){We(i,t,n),t.innerHTML=e[0]},p(i,[n]){n&1&&(t.innerHTML=i[0])},i:kt,o:kt,d(i){i&&Ge(t)}}}function qre(e,t,i){let n=870711;function r(){return n+=1,`fa-${n.toString(16)}`}let a,{data:o}=t;function s(l){if(!l||!l.raw)return null;let u=l.raw;const h={};return u=u.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(m,f)=>{const g=r();return h[f]=g,` id="${g}"`}),u=u.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(m,f,g,b)=>{const v=f||b;return!v||!h[v]?m:`#${h[v]}`}),u}return e.$$set=l=>{"data"in l&&i(1,o=l.data)},e.$$.update=()=>{e.$$.dirty&2&&i(0,a=s(o))},[a,o]}class Ure extends Fr{constructor(t){super();Rr(this,t,qre,Hre,or,{data:1})}}function Bre(e){let t,i,n,r;const a=e[13].default,o=cN(a,e,e[12],null);return{c(){t=pk("svg"),o&&o.c(),le(t,"version","1.1"),le(t,"class",i="fa-icon "+e[0]+" svelte-roizm6"),le(t,"x",e[8]),le(t,"y",e[9]),le(t,"width",e[1]),le(t,"height",e[2]),le(t,"aria-label",e[11]),le(t,"role",n=e[11]?"img":"presentation"),le(t,"viewBox",e[3]),le(t,"style",e[10]),ko(t,"fa-spin",e[4]),ko(t,"fa-pulse",e[6]),ko(t,"fa-inverse",e[5]),ko(t,"fa-flip-horizontal",e[7]==="horizontal"),ko(t,"fa-flip-vertical",e[7]==="vertical")},m(s,l){We(s,t,l),o&&o.m(t,null),r=!0},p(s,[l]){o&&o.p&&(!r||l&4096)&&hN(o,a,s,s[12],r?dN(a,s[12],l,null):pN(s[12]),null),(!r||l&1&&i!==(i="fa-icon "+s[0]+" svelte-roizm6"))&&le(t,"class",i),(!r||l&256)&&le(t,"x",s[8]),(!r||l&512)&&le(t,"y",s[9]),(!r||l&2)&&le(t,"width",s[1]),(!r||l&4)&&le(t,"height",s[2]),(!r||l&2048)&&le(t,"aria-label",s[11]),(!r||l&2048&&n!==(n=s[11]?"img":"presentation"))&&le(t,"role",n),(!r||l&8)&&le(t,"viewBox",s[3]),(!r||l&1024)&&le(t,"style",s[10]),l&17&&ko(t,"fa-spin",s[4]),l&65&&ko(t,"fa-pulse",s[6]),l&33&&ko(t,"fa-inverse",s[5]),l&129&&ko(t,"fa-flip-horizontal",s[7]==="horizontal"),l&129&&ko(t,"fa-flip-vertical",s[7]==="vertical")},i(s){r||(Ee(o,s),r=!0)},o(s){Be(o,s),r=!1},d(s){s&&Ge(t),o&&o.d(s)}}}function Gre(e,t,i){let{$$slots:n={},$$scope:r}=t,{class:a}=t,{width:o}=t,{height:s}=t,{box:l}=t,{spin:u=!1}=t,{inverse:h=!1}=t,{pulse:m=!1}=t,{flip:f=null}=t,{x:g=void 0}=t,{y:b=void 0}=t,{style:v=void 0}=t,{label:w=void 0}=t;return e.$$set=x=>{"class"in x&&i(0,a=x.class),"width"in x&&i(1,o=x.width),"height"in x&&i(2,s=x.height),"box"in x&&i(3,l=x.box),"spin"in x&&i(4,u=x.spin),"inverse"in x&&i(5,h=x.inverse),"pulse"in x&&i(6,m=x.pulse),"flip"in x&&i(7,f=x.flip),"x"in x&&i(8,g=x.x),"y"in x&&i(9,b=x.y),"style"in x&&i(10,v=x.style),"label"in x&&i(11,w=x.label),"$$scope"in x&&i(12,r=x.$$scope)},[a,o,s,l,u,h,m,f,g,b,v,w,r,n]}class Wre extends Fr{constructor(t){super();Rr(this,t,Gre,Bre,or,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function hA(e,t,i){const n=e.slice();return n[24]=t[i],n[26]=i,n}function pA(e,t,i){const n=e.slice();return n[27]=t[i],n[26]=i,n}function mA(e){let t,i,n,r,a=e[6].paths&&fA(e),o=e[6].polygons&&yA(e),s=e[6].raw&&vA(e);return{c(){a&&a.c(),t=xi(),o&&o.c(),i=xi(),s&&s.c(),n=Tl()},m(l,u){a&&a.m(l,u),We(l,t,u),o&&o.m(l,u),We(l,i,u),s&&s.m(l,u),We(l,n,u),r=!0},p(l,u){l[6].paths?a?(a.p(l,u),u&64&&Ee(a,1)):(a=fA(l),a.c(),Ee(a,1),a.m(t.parentNode,t)):a&&(es(),Be(a,1,1,()=>{a=null}),ts()),l[6].polygons?o?(o.p(l,u),u&64&&Ee(o,1)):(o=yA(l),o.c(),Ee(o,1),o.m(i.parentNode,i)):o&&(es(),Be(o,1,1,()=>{o=null}),ts()),l[6].raw?s?(s.p(l,u),u&64&&Ee(s,1)):(s=vA(l),s.c(),Ee(s,1),s.m(n.parentNode,n)):s&&(es(),Be(s,1,1,()=>{s=null}),ts())},i(l){r||(Ee(a),Ee(o),Ee(s),r=!0)},o(l){Be(a),Be(o),Be(s),r=!1},d(l){a&&a.d(l),l&&Ge(t),o&&o.d(l),l&&Ge(i),s&&s.d(l),l&&Ge(n)}}}function fA(e){let t,i,n=e[6].paths,r=[];for(let o=0;o<n.length;o+=1)r[o]=gA(pA(e,n,o));const a=o=>Be(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=Tl()},m(o,s){for(let l=0;l<r.length;l+=1)r[l].m(o,s);We(o,t,s),i=!0},p(o,s){if(s&64){n=o[6].paths;let l;for(l=0;l<n.length;l+=1){const u=pA(o,n,l);r[l]?(r[l].p(u,s),Ee(r[l],1)):(r[l]=gA(u),r[l].c(),Ee(r[l],1),r[l].m(t.parentNode,t))}for(es(),l=n.length;l<r.length;l+=1)a(l);ts()}},i(o){if(!i){for(let s=0;s<n.length;s+=1)Ee(r[s]);i=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)Be(r[s]);i=!1},d(o){mN(r,o),o&&Ge(t)}}}function gA(e){let t,i;return t=new Nre({props:{id:e[26],data:e[27]}}),{c(){ki(t.$$.fragment)},m(n,r){ci(t,n,r),i=!0},p(n,r){const a={};r&64&&(a.data=n[27]),t.$set(a)},i(n){i||(Ee(t.$$.fragment,n),i=!0)},o(n){Be(t.$$.fragment,n),i=!1},d(n){ui(t,n)}}}function yA(e){let t,i,n=e[6].polygons,r=[];for(let o=0;o<n.length;o+=1)r[o]=bA(hA(e,n,o));const a=o=>Be(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=Tl()},m(o,s){for(let l=0;l<r.length;l+=1)r[l].m(o,s);We(o,t,s),i=!0},p(o,s){if(s&64){n=o[6].polygons;let l;for(l=0;l<n.length;l+=1){const u=hA(o,n,l);r[l]?(r[l].p(u,s),Ee(r[l],1)):(r[l]=bA(u),r[l].c(),Ee(r[l],1),r[l].m(t.parentNode,t))}for(es(),l=n.length;l<r.length;l+=1)a(l);ts()}},i(o){if(!i){for(let s=0;s<n.length;s+=1)Ee(r[s]);i=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)Be(r[s]);i=!1},d(o){mN(r,o),o&&Ge(t)}}}function bA(e){let t,i;return t=new Vre({props:{id:e[26],data:e[24]}}),{c(){ki(t.$$.fragment)},m(n,r){ci(t,n,r),i=!0},p(n,r){const a={};r&64&&(a.data=n[24]),t.$set(a)},i(n){i||(Ee(t.$$.fragment,n),i=!0)},o(n){Be(t.$$.fragment,n),i=!1},d(n){ui(t,n)}}}function vA(e){let t,i,n;function r(o){e[15](o)}let a={};return e[6]!==void 0&&(a.data=e[6]),t=new Ure({props:a}),l3.push(()=>sW(t,"data",r)),{c(){ki(t.$$.fragment)},m(o,s){ci(t,o,s),n=!0},p(o,s){const l={};!i&&s&64&&(i=!0,l.data=o[6],aW(()=>i=!1)),t.$set(l)},i(o){n||(Ee(t.$$.fragment,o),n=!0)},o(o){Be(t.$$.fragment,o),n=!1},d(o){ui(t,o)}}}function Jre(e){let t,i,n=e[6]&&mA(e);return{c(){n&&n.c(),t=Tl()},m(r,a){n&&n.m(r,a),We(r,t,a),i=!0},p(r,a){r[6]?n?(n.p(r,a),a&64&&Ee(n,1)):(n=mA(r),n.c(),Ee(n,1),n.m(t.parentNode,t)):n&&(es(),Be(n,1,1,()=>{n=null}),ts())},i(r){i||(Ee(n),i=!0)},o(r){Be(n),i=!1},d(r){n&&n.d(r),r&&Ge(t)}}}function Yre(e){let t;const i=e[14].default,n=cN(i,e,e[16],null),r=n||Jre(e);return{c(){r&&r.c()},m(a,o){r&&r.m(a,o),t=!0},p(a,o){n?n.p&&(!t||o&65536)&&hN(n,i,a,a[16],t?dN(i,a[16],o,null):pN(a[16]),null):r&&r.p&&(!t||o&64)&&r.p(a,t?o:-1)},i(a){t||(Ee(r,a),t=!0)},o(a){Be(r,a),t=!1},d(a){r&&r.d(a)}}}function Kre(e){let t,i;return t=new Wre({props:{label:e[5],width:e[7],height:e[8],box:e[10],style:e[9],spin:e[1],flip:e[4],inverse:e[2],pulse:e[3],class:e[0],$$slots:{default:[Yre]},$$scope:{ctx:e}}}),{c(){ki(t.$$.fragment)},m(n,r){ci(t,n,r),i=!0},p(n,[r]){const a={};r&32&&(a.label=n[5]),r&128&&(a.width=n[7]),r&256&&(a.height=n[8]),r&1024&&(a.box=n[10]),r&512&&(a.style=n[9]),r&2&&(a.spin=n[1]),r&16&&(a.flip=n[4]),r&4&&(a.inverse=n[2]),r&8&&(a.pulse=n[3]),r&1&&(a.class=n[0]),r&65600&&(a.$$scope={dirty:r,ctx:n}),t.$set(a)},i(n){i||(Ee(t.$$.fragment,n),i=!0)},o(n){Be(t.$$.fragment,n),i=!1},d(n){ui(t,n)}}}let wA=1;function Zre(e){if("iconName"in e&&"icon"in e){let t={},i=e.icon,n=e.iconName,r=i[0],a=i[1],o=i[4],s={width:r,height:a,paths:[{d:o}]};return t[n]=s,t}return e}function Xre(e,t,i){let{$$slots:n={},$$scope:r}=t,{class:a=""}=t,{data:o}=t,{scale:s=1}=t,{spin:l=!1}=t,{inverse:u=!1}=t,{pulse:h=!1}=t,{flip:m=null}=t,{label:f=null}=t,g=null,{style:b=null}=t,v,w,x,S;function E(){if(typeof o=="undefined")return;const q=Zre(o),[ue]=Object.keys(q),re=q[ue];re.paths||(re.paths=[]),re.d&&re.paths.push({d:re.d}),re.polygons||(re.polygons=[]),re.points&&re.polygons.push({points:re.points}),i(6,g=re)}function T(){let q=1;return typeof s!="undefined"&&(q=Number(s)),isNaN(q)||q<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),wA):q*wA}function C(){return g?`0 0 ${g.width} ${g.height}`:`0 0 ${v} ${w}`}function M(){return g?Math.max(g.width,g.height)/16:1}function L(){return g?g.width/M()*T():0}function j(){return g?g.height/M()*T():0}function G(){let q="";b!==null&&(q+=b);let ue=T();return ue===1?q.length===0?void 0:q:(q!==""&&!q.endsWith(";")&&(q+="; "),`${q}font-size: ${ue}em`)}function J(q){g=q,i(6,g)}return e.$$set=q=>{"class"in q&&i(0,a=q.class),"data"in q&&i(11,o=q.data),"scale"in q&&i(12,s=q.scale),"spin"in q&&i(1,l=q.spin),"inverse"in q&&i(2,u=q.inverse),"pulse"in q&&i(3,h=q.pulse),"flip"in q&&i(4,m=q.flip),"label"in q&&i(5,f=q.label),"style"in q&&i(13,b=q.style),"$$scope"in q&&i(16,r=q.$$scope)},e.$$.update=()=>{e.$$.dirty&14336&&(E(),i(7,v=L()),i(8,w=j()),i(9,x=G()),i(10,S=C()))},[a,l,u,h,m,f,g,v,w,x,S,o,s,b,n,J,r]}class Cd extends Fr{constructor(t){super();Rr(this,t,Xre,Kre,or,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13})}}var r6={phone:{width:1408,height:1792,paths:[{d:"M1408 1240q0 27-10 70.5t-21 68.5q-21 50-122 106-94 51-186 51-27 0-53-3.5t-57.5-12.5-47-14.5-55.5-20.5-49-18q-98-35-175-83-127-79-264-216t-216-264q-48-77-83-175-3-9-18-49t-20.5-55.5-14.5-47-12.5-57.5-3.5-53q0-92 51-186 56-101 106-122 25-11 68.5-21t70.5-10q14 0 21 3 18 6 53 76 11 19 30 54t35 63.5 31 53.5q3 4 17.5 25t21.5 35.5 7 28.5q0 20-28.5 50t-62 55-62 53-28.5 46q0 9 5 22.5t8.5 20.5 14 24 11.5 19q76 137 174 235t235 174q2 1 19 11.5t24 14 20.5 8.5 22.5 5q18 0 46-28.5t53-62 55-62 50-28.5q14 0 28.5 7t35.5 21.5 25 17.5q25 15 53.5 31t63.5 35 54 30q70 35 76 53 3 7 3 21z"}]}},Qre={globe:{width:1536,height:1792,paths:[{d:"M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zM1042 649q-2 1-9.5 9.5t-13.5 9.5q2 0 4.5-5t5-11 3.5-7q6-7 22-15 14-6 52-12 34-8 51 11-2-2 9.5-13t14.5-12q3-2 15-4.5t15-7.5l2-22q-12 1-17.5-7t-6.5-21q0 2-6 8 0-7-4.5-8t-11.5 1-9 1q-10-3-15-7.5t-8-16.5-4-15q-2-5-9.5-11t-9.5-10q-1-2-2.5-5.5t-3-6.5-4-5.5-5.5-2.5-7 5-7.5 10-4.5 5q-3-2-6-1.5t-4.5 1-4.5 3-5 3.5q-3 2-8.5 3t-8.5 2q15-5-1-11-10-4-16-3 9-4 7.5-12t-8.5-14h5q-1-4-8.5-8.5t-17.5-8.5-13-6q-8-5-34-9.5t-33-0.5q-5 6-4.5 10.5t4 14 3.5 12.5q1 6-5.5 13t-6.5 12q0 7 14 15.5t10 21.5q-3 8-16 16t-16 12q-5 8-1.5 18.5t10.5 16.5q2 2 1.5 4t-3.5 4.5-5.5 4-6.5 3.5l-3 2q-11 5-20.5-6t-13.5-26q-7-25-16-30-23-8-29 1-5-13-41-26-25-9-58-4 6-1 0-15-7-15-19-12 3-6 4-17.5t1-13.5q3-13 12-23 1-1 7-8.5t9.5-13.5 0.5-6q35 4 50-11 5-5 11.5-17t10.5-17q9-6 14-5.5t14.5 5.5 14.5 5q14 1 15.5-11t-7.5-20q12 1 3-17-4-7-8-9-12-4-27 5-8 4 2 8-1-1-9.5 10.5t-16.5 17.5-16-5q-1-1-5.5-13.5t-9.5-13.5q-8 0-16 15 3-8-11-15t-24-8q19-12-8-27-7-4-20.5-5t-19.5 4q-5 7-5.5 11.5t5 8 10.5 5.5 11.5 4 8.5 3q14 10 8 14-2 1-8.5 3.5t-11.5 4.5-6 4q-3 4 0 14t-2 14q-5-5-9-17.5t-7-16.5q7 9-25 6l-10-1q-4 0-16 2t-20.5 1-13.5-8q-4-8 0-20 1-4 4-2-4-3-11-9.5t-10-8.5q-46 15-94 41 6 1 12-1 5-2 13-6.5t10-5.5q34-14 42-7l5-5q14 16 20 25-7-4-30-1-20 6-22 12 7 12 5 18-4-3-11.5-10t-14.5-11-15-5q-16 0-22 1-146 80-235 222 7 7 12 8 4 1 5 9t2.5 11 11.5-3q9 8 3 19 1-1 44 27 19 17 21 21 3 11-10 18-1-2-9-9t-9-4q-3 5 0.5 18.5t10.5 12.5q-7 0-9.5 16t-2.5 35.5-1 23.5l2 1q-3 12 5.5 34.5t21.5 19.5q-13 3 20 43 6 8 8 9 3 2 12 7.5t15 10 10 10.5q4 5 10 22.5t14 23.5q-2 6 9.5 20t10.5 23q-1 0-2.5 1t-2.5 1q3 7 15.5 14t15.5 13q1 3 2 10t3 11 8 2q2-20-24-62-15-25-17-29-3-5-5.5-15.5t-4.5-14.5q2 0 6 1.5t8.5 3.5 7.5 4 2 3q-3 7 2 17.5t12 18.5 17 19 12 13q6 6 14 19.5t0 13.5q9 0 20 10.5t17 19.5q5 8 8 26t5 24q2 7 8.5 13.5t12.5 9.5l16 8t13 7q5 2 18.5 10.5t21.5 11.5q10 4 16 4t14.5-2.5 13.5-3.5q15-2 29 15t21 21q36 19 55 11-2 1 0.5 7.5t8 15.5 9 14.5 5.5 8.5q5 6 18 15t18 15q6-4 7-9-3 8 7 20t18 10q14-3 14-32-31 15-49-18 0-1-2.5-5.5t-4-8.5-2.5-8.5 0-7.5 5-3q9 0 10-3.5t-2-12.5-4-13q-1-8-11-20t-12-15q-5 9-16 8t-16-9q0 1-1.5 5.5t-1.5 6.5q-13 0-15-1 1-3 2.5-17.5t3.5-22.5q1-4 5.5-12t7.5-14.5 4-12.5-4.5-9.5-17.5-2.5q-19 1-26 20-1 3-3 10.5t-5 11.5-9 7q-7 3-24 2t-24-5q-13-8-22.5-29t-9.5-37q0-10 2.5-26.5t3-25-5.5-24.5q3-2 9-9.5t10-10.5q2-1 4.5-1.5t4.5 0 4-1.5 3-6q-1-1-4-3-3-3-4-3 7 3 28.5-1.5t27.5 1.5q15 11 22-2 0-1-2.5-9.5t-0.5-13.5q5 27 29 9 3 3 15.5 5t17.5 5q3 2 7 5.5t5.5 4.5 5-0.5 8.5-6.5q10 14 12 24 11 40 19 44 7 3 11 2t4.5-9.5 0-14-1.5-12.5l-1-8v-18l-1-8q-15-3-18.5-12t1.5-18.5 15-18.5q1-1 8-3.5t15.5-6.5 12.5-8q21-19 15-35 7 0 11-9-1 0-5-3t-7.5-5-4.5-2q9-5 2-16 5-3 7.5-11t7.5-10q9 12 21 2 8-8 1-16 5-7 20.5-10.5t18.5-9.5q7 2 8-2t1-12 3-12q4-5 15-9t13-5l17-11q3-4 0-4 18 2 31-11 10-11-6-20 3-6-3-9.5t-15-5.5q3-1 11.5-0.5t10.5-1.5q15-10-7-16-17-5-43 12zM879 1526q206-36 351-189-3-3-12.5-4.5t-12.5-3.5q-18-7-24-8 1-7-2.5-13t-8-9-12.5-8-11-7q-2-2-7-6t-7-5.5-7.5-4.5-8.5-2-10 1l-3 1q-3 1-5.5 2.5t-5.5 3-4 3 0 2.5q-21-17-36-22-5-1-11-5.5t-10.5-7-10-1.5-11.5 7q-5 5-6 15t-2 13q-7-5 0-17.5t2-18.5q-3-6-10.5-4.5t-12 4.5-11.5 8.5-9 6.5-8.5 5.5-8.5 7.5q-3 4-6 12t-5 11q-2-4-11.5-6.5t-9.5-5.5q2 10 4 35t5 38q7 31-12 48-27 25-29 40-4 22 12 26 0 7-8 20.5t-7 21.5q0 6 2 16z"}]}},a6={instagram:{width:1536,height:1792,paths:[{d:"M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1162 896q0 164-115 279t-279 115-279-115-115-279 115-279 279-115 279 115 115 279zM1270 486q0 38-27 65t-65 27-65-27-27-65 27-65 65-27 65 27 27 65zM768 266q-7 0-76.5-0.5t-105.5 0-96.5 3-103 10-71.5 18.5q-50 20-88 58t-58 88q-11 29-18.5 71.5t-10 103-3 96.5 0 105.5 0.5 76.5-0.5 76.5 0 105.5 3 96.5 10 103 18.5 71.5q20 50 58 88t88 58q29 11 71.5 18.5t103 10 96.5 3 105.5 0 76.5-0.5 76.5 0.5 105.5 0 96.5-3 103-10 71.5-18.5q50-20 88-58t58-88q11-29 18.5-71.5t10-103 3-96.5 0-105.5-0.5-76.5 0.5-76.5 0-105.5-3-96.5-10-103-18.5-71.5q-20-50-58-88t-88-58q-29-11-71.5-18.5t-103-10-96.5-3-105.5 0-76.5 0.5zM1536 896q0 229-5 317-10 208-124 322t-322 124q-88 5-317 5t-317-5q-208-10-322-124t-124-322q-5-88-5-317t5-317q10-208 124-322t322-124q88-5 317-5t317 5q208 10 322 124t124 322q5 88 5 317z"}]}},o6={at:{width:1536,height:1792,paths:[{d:"M972 775q0-108-53.5-169t-147.5-61q-63 0-124 30.5t-110 84.5-79.5 137-30.5 180q0 112 53.5 173t150.5 61q96 0 176-66.5t122.5-166 42.5-203.5zM1536 896q0 111-37 197t-98.5 135-131.5 74.5-145 27.5q-6 0-15.5 0.5t-16.5 0.5q-95 0-142-53-28-33-33-83-52 66-131.5 110t-173.5 44q-161 0-249.5-95.5t-88.5-269.5q0-157 66-290t179-210.5 246-77.5q87 0 155 35.5t106 99.5l2-19 11-56q1-6 5.5-12t9.5-6h118q5 0 13 11 5 5 3 16l-120 614q-5 24-5 48 0 39 12.5 52t44.5 13q28-1 57-5.5t73-24 77-50 57-89.5 24-137q0-292-174-466t-466-174q-130 0-248.5 51t-204 136.5-136.5 204-51 248.5 51 248.5 136.5 204 204 136.5 248.5 51q228 0 405-144 11-9 24-8t21 12l41 49q8 12 7 24-2 13-12 22-102 83-227.5 128t-258.5 45q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q344 0 556 212t212 556z"}]}};function eae(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S;return a=new Cd({props:{data:r6,scale:2,label:"Call"}}),u=new Cd({props:{data:a6,scale:2,label:"Instagram"}}),g=new Cd({props:{data:o6,scale:2,label:"Email"}}),x=new Cd({props:{data:Qre,scale:2,label:"Map"}}),{c(){t=Ne("aside"),i=Ne("ul"),n=Ne("li"),r=Ne("a"),ki(a.$$.fragment),o=xi(),s=Ne("li"),l=Ne("a"),ki(u.$$.fragment),h=xi(),m=Ne("li"),f=Ne("a"),ki(g.$$.fragment),b=xi(),v=Ne("li"),w=Ne("a"),ki(x.$$.fragment),le(r,"href","tel:+18433888118"),le(r,"class","hydromapic"),le(n,"class","hover:bg-slate-100 py-2 px-3 rounded-full shadow-neumolight"),le(l,"href","https://instagram.com/coastal_vantage"),le(l,"target","_blank"),le(l,"class","hydromapic"),le(s,"class","hover:bg-slate-100 p-3 rounded-full shadow-neumolight"),le(f,"href","mailto: hello@coastal-vantage.com?subject=Hello%20Coastal%20Vantage"),le(f,"class","hydromapic"),le(m,"class","transition duration-300 hover:bg-slate-100 p-3 rounded-full shadow-neumolight"),le(w,"href","#map"),le(w,"class","hydromapic"),le(v,"class","transition duration-300 hover:bg-slate-100 p-3 rounded-full shadow-neumolight"),le(i,"class","hidden sm:block text-center content-center"),le(t,"class","fixed mt-16 md:mt-32 py-3 ml-3 px-3 z-10")},m(E,T){We(E,t,T),$e(t,i),$e(i,n),$e(n,r),ci(a,r,null),$e(i,o),$e(i,s),$e(s,l),ci(u,l,null),$e(i,h),$e(i,m),$e(m,f),ci(g,f,null),$e(i,b),$e(i,v),$e(v,w),ci(x,w,null),S=!0},p:kt,i(E){S||(Ee(a.$$.fragment,E),Ee(u.$$.fragment,E),Ee(g.$$.fragment,E),Ee(x.$$.fragment,E),S=!0)},o(E){Be(a.$$.fragment,E),Be(u.$$.fragment,E),Be(g.$$.fragment,E),Be(x.$$.fragment,E),S=!1},d(E){E&&Ge(t),ui(a),ui(u),ui(g),ui(x)}}}class tae extends Fr{constructor(t){super();Rr(this,t,null,eae,or,{})}}var s6="/assets/ep.48573f80.svg";function iae(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,T,C,M,L,j,G;return a=new Cd({props:{data:r6,scale:2,label:"Call"}}),u=new Cd({props:{data:a6,scale:2,label:"Instagram"}}),g=new Cd({props:{data:o6,scale:2,label:"Email"}}),{c(){t=Ne("footer"),i=Ne("div"),n=Ne("button"),r=Ne("a"),ki(a.$$.fragment),o=xi(),s=Ne("button"),l=Ne("a"),ki(u.$$.fragment),h=xi(),m=Ne("button"),f=Ne("a"),ki(g.$$.fragment),b=xi(),v=Ne("div"),w=Ne("div"),x=Ne("div"),S=Ka("\xA9"),E=Ka(e[0]),T=Ka(` Coastal Vantage, LLC.
				`),C=Ne("img"),L=xi(),j=Ne("a"),j.innerHTML='Developed by <span class="font-semibold">MapMazeLu.</span>',le(r,"href","tel:+14045421123"),le(r,"class","hydromapic"),le(n,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),le(l,"href","https://instagram.com/coastal_vantage"),le(l,"target","_blank"),le(l,"class","hydromapic"),le(s,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),le(f,"href","mailto:hello@coastal-vantage.com?subject=Hello%20Coastal%20Vantage"),le(f,"class","hydromapic"),le(m,"class","bg-gray-100 hover:bg-blue-200 text-gray-800 py-2 px-3 rounded-full shadow-neumodark"),le(i,"class","grid grid-cols-4 sm:hidden place-items-center"),le(C,"class","w-10 inline"),lN(C.src,M=s6)||le(C,"src",M),le(C,"alt","MapMazeLu Portfolio"),le(j,"class","button text-gray-600 transition ease-in-out hover:-translate-x-2 hover:scale-110 duration-300"),le(j,"href","https://emmalu.github.io/portfolio"),le(j,"target","_blank"),le(x,"class","pt-2"),le(w,"class","text-xxs"),le(v,"class","grid grid-cols-1 pt-3"),le(t,"class","flex flex-col relative pt-4 px-4 sm:px-20")},m(J,q){We(J,t,q),$e(t,i),$e(i,n),$e(n,r),ci(a,r,null),$e(i,o),$e(i,s),$e(s,l),ci(u,l,null),$e(i,h),$e(i,m),$e(m,f),ci(g,f,null),$e(t,b),$e(t,v),$e(v,w),$e(w,x),$e(x,S),$e(x,E),$e(x,T),$e(x,C),$e(x,L),$e(x,j),G=!0},p:kt,i(J){G||(Ee(a.$$.fragment,J),Ee(u.$$.fragment,J),Ee(g.$$.fragment,J),G=!0)},o(J){Be(a.$$.fragment,J),Be(u.$$.fragment,J),Be(g.$$.fragment,J),G=!1},d(J){J&&Ge(t),ui(a),ui(u),ui(g)}}}function nae(e){var t=new Date().getFullYear();return[t]}class rae extends Fr{constructor(t){super();Rr(this,t,nae,iae,or,{})}}function aae(e){let t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w;return i=new tae({}),v=new rae({}),{c(){t=xi(),ki(i.$$.fragment),n=xi(),r=Ne("main"),a=Ne("h1"),a.textContent="HYDROMAPIC",o=xi(),s=Ne("div"),s.innerHTML='<a href="#/map" class="button rounded-full drop-shadow-lg py-2 px-4 bg-black text-slate-100 hover:bg-slate-600 hover:text-white">Enter \u21D2</a>',l=xi(),u=Ne("div"),h=Ne("span"),h.textContent="A project by Coastal Vantage.",m=xi(),f=Ne("img"),b=xi(),ki(v.$$.fragment),document.title="Home",le(a,"class","text-7xl pt-20 pb-10"),le(s,"class","pb-20"),le(h,"class","block text-xs"),le(f,"class","justify-center w-24"),lN(f.src,g=s6)||le(f,"src",g),le(f,"alt","MapMazeLu logo"),le(u,"class","flex flex-col text-center items-center"),le(r,"class","main my-10 py-20 align-middle text-center")},m(x,S){We(x,t,S),ci(i,x,S),We(x,n,S),We(x,r,S),$e(r,a),$e(r,o),$e(r,s),$e(r,l),$e(r,u),$e(u,h),$e(u,m),$e(u,f),We(x,b,S),ci(v,x,S),w=!0},p:kt,i(x){w||(Ee(i.$$.fragment,x),Ee(v.$$.fragment,x),w=!0)},o(x){Be(i.$$.fragment,x),Be(v.$$.fragment,x),w=!1},d(x){x&&Ge(t),ui(i,x),x&&Ge(n),x&&Ge(r),x&&Ge(b),ui(v,x)}}}class oae extends Fr{constructor(t){super();Rr(this,t,null,aae,or,{})}}const sae={id:"",name:""},lae=()=>{const{subscribe:e,set:t}=Jy(sae);return{subscribe:e,set:i=>t(i)}},l6=lae(),cae=localStorage.getItem("wl_usr_cnfg");let y0;l6.subscribe(e=>{y0=e});const uae=JSON.parse(cae)||{savedStations:[],selectedStation:""},dae=()=>{const{subscribe:e,set:t,update:i}=Jy(uae);return{subscribe:e,refresh:()=>i(n=>(n.selectedStation=y0,n.savedStations.sort((r,a)=>r.id===n.selectedStation.id?-1:a.id===n.selectedStation.id?1:0),n)),add:()=>i(n=>(n.selectedStation=y0,n.savedStations.find(r=>r.id===y0.id)||n.savedStations.push(y0),n)),remove:()=>i(n=>(n.savedStations.filter(r=>r.id!==n.selectedStation),n.selectedStation=n.savedStations[0],n)),set:n=>t(n)}},Rc=dae();Rc.subscribe(e=>localStorage.wl_usr_cnfg=JSON.stringify(e));var CT={exports:{}},c6=function(t,i){return function(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];return t.apply(i,r)}},hae=c6,uu=Object.prototype.toString;function TT(e){return Array.isArray(e)}function T3(e){return typeof e=="undefined"}function pae(e){return e!==null&&!T3(e)&&e.constructor!==null&&!T3(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function u6(e){return uu.call(e)==="[object ArrayBuffer]"}function mae(e){return uu.call(e)==="[object FormData]"}function fae(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&u6(e.buffer),t}function gae(e){return typeof e=="string"}function yae(e){return typeof e=="number"}function d6(e){return e!==null&&typeof e=="object"}function g1(e){if(uu.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function bae(e){return uu.call(e)==="[object Date]"}function vae(e){return uu.call(e)==="[object File]"}function wae(e){return uu.call(e)==="[object Blob]"}function h6(e){return uu.call(e)==="[object Function]"}function xae(e){return d6(e)&&h6(e.pipe)}function kae(e){return uu.call(e)==="[object URLSearchParams]"}function _ae(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Sae(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ET(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),TT(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function E3(){var e={};function t(r,a){g1(e[a])&&g1(r)?e[a]=E3(e[a],r):g1(r)?e[a]=E3({},r):TT(r)?e[a]=r.slice():e[a]=r}for(var i=0,n=arguments.length;i<n;i++)ET(arguments[i],t);return e}function Dae(e,t,i){return ET(t,function(r,a){i&&typeof r=="function"?e[a]=hae(r,i):e[a]=r}),e}function $ae(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var lr={isArray:TT,isArrayBuffer:u6,isBuffer:pae,isFormData:mae,isArrayBufferView:fae,isString:gae,isNumber:yae,isObject:d6,isPlainObject:g1,isUndefined:T3,isDate:bae,isFile:vae,isBlob:wae,isFunction:h6,isStream:xae,isURLSearchParams:kae,isStandardBrowserEnv:Sae,forEach:ET,merge:E3,extend:Dae,trim:_ae,stripBOM:$ae},Vh=lr;function xA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var p6=function(t,i,n){if(!i)return t;var r;if(n)r=n(i);else if(Vh.isURLSearchParams(i))r=i.toString();else{var a=[];Vh.forEach(i,function(l,u){l===null||typeof l=="undefined"||(Vh.isArray(l)?u=u+"[]":l=[l],Vh.forEach(l,function(m){Vh.isDate(m)?m=m.toISOString():Vh.isObject(m)&&(m=JSON.stringify(m)),a.push(xA(u)+"="+xA(m))}))}),r=a.join("&")}if(r){var o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t},Cae=lr;function _k(){this.handlers=[]}_k.prototype.use=function(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};_k.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};_k.prototype.forEach=function(t){Cae.forEach(this.handlers,function(n){n!==null&&t(n)})};var Tae=_k,Eae=lr,Iae=function(t,i){Eae.forEach(t,function(r,a){a!==i&&a.toUpperCase()===i.toUpperCase()&&(t[i]=r,delete t[a])})},m6=function(t,i,n,r,a){return t.config=i,n&&(t.code=n),t.request=r,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},f6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mae=m6,g6=function(t,i,n,r,a){var o=new Error(t);return Mae(o,i,n,r,a)},Oae=g6,Aae=function(t,i,n){var r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):i(Oae("Request failed with status code "+n.status,n.config,null,n.request,n))},rv=lr,Pae=rv.isStandardBrowserEnv()?function(){return{write:function(i,n,r,a,o,s){var l=[];l.push(i+"="+encodeURIComponent(n)),rv.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),rv.isString(a)&&l.push("path="+a),rv.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Lae=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Rae=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},Fae=Lae,Nae=Rae,zae=function(t,i){return t&&!Fae(i)?Nae(t,i):i},k2=lr,jae=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Vae=function(t){var i={},n,r,a;return t&&k2.forEach(t.split(`
`),function(s){if(a=s.indexOf(":"),n=k2.trim(s.substr(0,a)).toLowerCase(),r=k2.trim(s.substr(a+1)),n){if(i[n]&&jae.indexOf(n)>=0)return;n==="set-cookie"?i[n]=(i[n]?i[n]:[]).concat([r]):i[n]=i[n]?i[n]+", "+r:r}}),i},kA=lr,Hae=kA.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),n;function r(a){var o=a;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=r(window.location.href),function(o){var s=kA.isString(o)?r(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function IT(e){this.message=e}IT.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};IT.prototype.__CANCEL__=!0;var Sk=IT,av=lr,qae=Aae,Uae=Pae,Bae=p6,Gae=zae,Wae=Vae,Jae=Hae,_2=g6,Yae=f6,Kae=Sk,_A=function(t){return new Promise(function(n,r){var a=t.data,o=t.headers,s=t.responseType,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}av.isFormData(a)&&delete o["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.Authorization="Basic "+btoa(m+":"+f)}var g=Gae(t.baseURL,t.url);h.open(t.method.toUpperCase(),Bae(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function b(){if(!!h){var w="getAllResponseHeaders"in h?Wae(h.getAllResponseHeaders()):null,x=!s||s==="text"||s==="json"?h.responseText:h.response,S={data:x,status:h.status,statusText:h.statusText,headers:w,config:t,request:h};qae(function(T){n(T),u()},function(T){r(T),u()},S),h=null}}if("onloadend"in h?h.onloadend=b:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(b)},h.onabort=function(){!h||(r(_2("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(_2("Network Error",t,null,h)),h=null},h.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||Yae;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),r(_2(x,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},av.isStandardBrowserEnv()){var v=(t.withCredentials||Jae(g))&&t.xsrfCookieName?Uae.read(t.xsrfCookieName):void 0;v&&(o[t.xsrfHeaderName]=v)}"setRequestHeader"in h&&av.forEach(o,function(x,S){typeof a=="undefined"&&S.toLowerCase()==="content-type"?delete o[S]:h.setRequestHeader(S,x)}),av.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(l=function(w){!h||(r(!w||w&&w.type?new Kae("canceled"):w),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l))),a||(a=null),h.send(a)})},Xi=lr,SA=Iae,Zae=m6,Xae=f6,Qae={"Content-Type":"application/x-www-form-urlencoded"};function DA(e,t){!Xi.isUndefined(e)&&Xi.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function eoe(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=_A),e}function toe(e,t,i){if(Xi.isString(e))try{return(t||JSON.parse)(e),Xi.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}var Dk={transitional:Xae,adapter:eoe(),transformRequest:[function(t,i){return SA(i,"Accept"),SA(i,"Content-Type"),Xi.isFormData(t)||Xi.isArrayBuffer(t)||Xi.isBuffer(t)||Xi.isStream(t)||Xi.isFile(t)||Xi.isBlob(t)?t:Xi.isArrayBufferView(t)?t.buffer:Xi.isURLSearchParams(t)?(DA(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Xi.isObject(t)||i&&i["Content-Type"]==="application/json"?(DA(i,"application/json"),toe(t)):t}],transformResponse:[function(t){var i=this.transitional||Dk.transitional,n=i&&i.silentJSONParsing,r=i&&i.forcedJSONParsing,a=!n&&this.responseType==="json";if(a||r&&Xi.isString(t)&&t.length)try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?Zae(o,this,"E_JSON_PARSE"):o}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Xi.forEach(["delete","get","head"],function(t){Dk.headers[t]={}});Xi.forEach(["post","put","patch"],function(t){Dk.headers[t]=Xi.merge(Qae)});var MT=Dk,ioe=lr,noe=MT,roe=function(t,i,n){var r=this||noe;return ioe.forEach(n,function(o){t=o.call(r,t,i)}),t},y6=function(t){return!!(t&&t.__CANCEL__)},$A=lr,S2=roe,aoe=y6,ooe=MT,soe=Sk;function D2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new soe("canceled")}var loe=function(t){D2(t),t.headers=t.headers||{},t.data=S2.call(t,t.data,t.headers,t.transformRequest),t.headers=$A.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),$A.forEach(["delete","get","head","post","put","patch","common"],function(r){delete t.headers[r]});var i=t.adapter||ooe.adapter;return i(t).then(function(r){return D2(t),r.data=S2.call(t,r.data,r.headers,t.transformResponse),r},function(r){return aoe(r)||(D2(t),r&&r.response&&(r.response.data=S2.call(t,r.response.data,r.response.headers,t.transformResponse))),Promise.reject(r)})},dr=lr,b6=function(t,i){i=i||{};var n={};function r(h,m){return dr.isPlainObject(h)&&dr.isPlainObject(m)?dr.merge(h,m):dr.isPlainObject(m)?dr.merge({},m):dr.isArray(m)?m.slice():m}function a(h){if(dr.isUndefined(i[h])){if(!dr.isUndefined(t[h]))return r(void 0,t[h])}else return r(t[h],i[h])}function o(h){if(!dr.isUndefined(i[h]))return r(void 0,i[h])}function s(h){if(dr.isUndefined(i[h])){if(!dr.isUndefined(t[h]))return r(void 0,t[h])}else return r(void 0,i[h])}function l(h){if(h in i)return r(t[h],i[h]);if(h in t)return r(void 0,t[h])}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return dr.forEach(Object.keys(t).concat(Object.keys(i)),function(m){var f=u[m]||a,g=f(m);dr.isUndefined(g)&&f!==l||(n[m]=g)}),n},v6={version:"0.26.1"},coe=v6.version,OT={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){OT[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var CA={};OT.transitional=function(t,i,n){function r(a,o){return"[Axios v"+coe+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return function(a,o,s){if(t===!1)throw new Error(r(o," has been removed"+(i?" in "+i:"")));return i&&!CA[o]&&(CA[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,o,s):!0}};function uoe(e,t,i){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),r=n.length;r-- >0;){var a=n[r],o=t[a];if(o){var s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new TypeError("option "+a+" must be "+l);continue}if(i!==!0)throw Error("Unknown option "+a)}}var doe={assertOptions:uoe,validators:OT},w6=lr,hoe=p6,TA=Tae,EA=loe,$k=b6,x6=doe,Hh=x6.validators;function Yy(e){this.defaults=e,this.interceptors={request:new TA,response:new TA}}Yy.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=$k(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=i.transitional;n!==void 0&&x6.assertOptions(n,{silentJSONParsing:Hh.transitional(Hh.boolean),forcedJSONParsing:Hh.transitional(Hh.boolean),clarifyTimeoutError:Hh.transitional(Hh.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(i)===!1||(a=a&&g.synchronous,r.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var s;if(!a){var l=[EA,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),s=Promise.resolve(i);l.length;)s=s.then(l.shift(),l.shift());return s}for(var u=i;r.length;){var h=r.shift(),m=r.shift();try{u=h(u)}catch(f){m(f);break}}try{s=EA(u)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};Yy.prototype.getUri=function(t){return t=$k(this.defaults,t),hoe(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};w6.forEach(["delete","get","head","options"],function(t){Yy.prototype[t]=function(i,n){return this.request($k(n||{},{method:t,url:i,data:(n||{}).data}))}});w6.forEach(["post","put","patch"],function(t){Yy.prototype[t]=function(i,n,r){return this.request($k(r||{},{method:t,url:i,data:n}))}});var poe=Yy,moe=Sk;function Tm(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(r){t=r});var i=this;this.promise.then(function(n){if(!!i._listeners){var r,a=i._listeners.length;for(r=0;r<a;r++)i._listeners[r](n);i._listeners=null}}),this.promise.then=function(n){var r,a=new Promise(function(o){i.subscribe(o),r=o}).then(n);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r){i.reason||(i.reason=new moe(r),t(i.reason))})}Tm.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Tm.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Tm.prototype.unsubscribe=function(t){if(!!this._listeners){var i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}};Tm.source=function(){var t,i=new Tm(function(r){t=r});return{token:i,cancel:t}};var foe=Tm,goe=function(t){return function(n){return t.apply(null,n)}},yoe=lr,boe=function(t){return yoe.isObject(t)&&t.isAxiosError===!0},IA=lr,voe=c6,y1=poe,woe=b6,xoe=MT;function k6(e){var t=new y1(e),i=voe(y1.prototype.request,t);return IA.extend(i,y1.prototype,t),IA.extend(i,t),i.create=function(r){return k6(woe(e,r))},i}var fs=k6(xoe);fs.Axios=y1;fs.Cancel=Sk;fs.CancelToken=foe;fs.isCancel=y6;fs.VERSION=v6.version;fs.all=function(t){return Promise.all(t)};fs.spread=goe;fs.isAxiosError=boe;CT.exports=fs;CT.exports.default=fs;var koe=CT.exports;const _oe=async e=>{const t=`https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?date=latest&station=${e}&product=water_level&datum=MLLW&time_zone=lst_ldt&units=english&format=json`;return await(await koe.get(t)).data};let ay;Rc.subscribe(e=>{ay=e});const Soe=e=>{const t=e.find(r=>r.id===ay.selectedStation.id),i=e.filter(r=>r.id!==ay.selectedStation.id),n=[t,...i];if(e&&e.length>0){let r=[];return n.forEach(async a=>{const o=a.id;let s=await _oe(o);r.push(s)}),r}};function Doe(){const e=Soe(ay.savedStations),{subscribe:t,set:i,update:n}=Jy(e);return{subscribe:t,refresh:()=>n(r=>(r=ay.savedStations.map(s=>r.find(l=>l.metadata.id===s.id)),r)),reset:()=>i([])}}const Jw=Doe();function Er(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fn(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function gs(e){fn(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function $oe(e,t){fn(2,arguments);var i=gs(e).getTime(),n=Er(t);return new Date(i+n)}function Coe(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var _6=6e4,S6=36e5;function Toe(e){return fn(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Eoe(e){if(fn(1,arguments),!Toe(e)&&typeof e!="number")return!1;var t=gs(e);return!isNaN(Number(t))}var Ioe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Moe=function(e,t,i){var n,r=Ioe[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n},Ooe=Moe;function $2(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.width?String(t.width):e.defaultWidth,n=e.formats[i]||e.formats[e.defaultWidth];return n}}var Aoe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Poe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Loe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Roe={date:$2({formats:Aoe,defaultWidth:"full"}),time:$2({formats:Poe,defaultWidth:"full"}),dateTime:$2({formats:Loe,defaultWidth:"full"})},Foe=Roe,Noe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zoe=function(e,t,i,n){return Noe[e]},joe=zoe;function Vf(e){return function(t,i){var n=i||{},r=n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var l=e.defaultWidth,u=n.width?String(n.width):e.defaultWidth;a=e.values[u]||e.values[l]}var h=e.argumentCallback?e.argumentCallback(t):t;return a[h]}}var Voe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uoe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Boe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Goe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Woe=function(e,t){var i=Number(e),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Joe={ordinalNumber:Woe,era:Vf({values:Voe,defaultWidth:"wide"}),quarter:Vf({values:Hoe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Vf({values:qoe,defaultWidth:"wide"}),day:Vf({values:Uoe,defaultWidth:"wide"}),dayPeriod:Vf({values:Boe,defaultWidth:"wide",formattingValues:Goe,defaultFormattingWidth:"wide"})},Yoe=Joe;function Hf(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;var o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?Zoe(s,function(m){return m.test(o)}):Koe(s,function(m){return m.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=i.valueCallback?i.valueCallback(u):u;var h=t.slice(o.length);return{value:u,rest:h}}}function Koe(e,t){for(var i in e)if(e.hasOwnProperty(i)&&t(e[i]))return i}function Zoe(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return i}function Xoe(e){return function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var r=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=i.valueCallback?i.valueCallback(o):o;var s=t.slice(r.length);return{value:o,rest:s}}}var Qoe=/^(\d+)(th|st|nd|rd)?/i,ese=/\d+/i,tse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ise={any:[/^b/i,/^(a|c)/i]},nse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rse={any:[/1/i,/2/i,/3/i,/4/i]},ase={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ose={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},use={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dse={ordinalNumber:Xoe({matchPattern:Qoe,parsePattern:ese,valueCallback:function(e){return parseInt(e,10)}}),era:Hf({matchPatterns:tse,defaultMatchWidth:"wide",parsePatterns:ise,defaultParseWidth:"any"}),quarter:Hf({matchPatterns:nse,defaultMatchWidth:"wide",parsePatterns:rse,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hf({matchPatterns:ase,defaultMatchWidth:"wide",parsePatterns:ose,defaultParseWidth:"any"}),day:Hf({matchPatterns:sse,defaultMatchWidth:"wide",parsePatterns:lse,defaultParseWidth:"any"}),dayPeriod:Hf({matchPatterns:cse,defaultMatchWidth:"any",parsePatterns:use,defaultParseWidth:"any"})},hse=dse,pse={code:"en-US",formatDistance:Ooe,formatLong:Foe,formatRelative:joe,localize:Yoe,match:hse,options:{weekStartsOn:0,firstWeekContainsDate:1}},mse=pse;function fse(e,t){fn(2,arguments);var i=Er(t);return $oe(e,-i)}var gse=864e5;function yse(e){fn(1,arguments);var t=gs(e),i=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),r=i-n;return Math.floor(r/gse)+1}function Yw(e){fn(1,arguments);var t=1,i=gs(e),n=i.getUTCDay(),r=(n<t?7:0)+n-t;return i.setUTCDate(i.getUTCDate()-r),i.setUTCHours(0,0,0,0),i}function D6(e){fn(1,arguments);var t=gs(e),i=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(i+1,0,4),n.setUTCHours(0,0,0,0);var r=Yw(n),a=new Date(0);a.setUTCFullYear(i,0,4),a.setUTCHours(0,0,0,0);var o=Yw(a);return t.getTime()>=r.getTime()?i+1:t.getTime()>=o.getTime()?i:i-1}function bse(e){fn(1,arguments);var t=D6(e),i=new Date(0);i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0);var n=Yw(i);return n}var vse=6048e5;function wse(e){fn(1,arguments);var t=gs(e),i=Yw(t).getTime()-bse(t).getTime();return Math.round(i/vse)+1}function Kw(e,t){fn(1,arguments);var i=t||{},n=i.locale,r=n&&n.options&&n.options.weekStartsOn,a=r==null?0:Er(r),o=i.weekStartsOn==null?a:Er(i.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=gs(e),l=s.getUTCDay(),u=(l<o?7:0)+l-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function $6(e,t){fn(1,arguments);var i=gs(e),n=i.getUTCFullYear(),r=t||{},a=r.locale,o=a&&a.options&&a.options.firstWeekContainsDate,s=o==null?1:Er(o),l=r.firstWeekContainsDate==null?s:Er(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(n+1,0,l),u.setUTCHours(0,0,0,0);var h=Kw(u,t),m=new Date(0);m.setUTCFullYear(n,0,l),m.setUTCHours(0,0,0,0);var f=Kw(m,t);return i.getTime()>=h.getTime()?n+1:i.getTime()>=f.getTime()?n:n-1}function xse(e,t){fn(1,arguments);var i=t||{},n=i.locale,r=n&&n.options&&n.options.firstWeekContainsDate,a=r==null?1:Er(r),o=i.firstWeekContainsDate==null?a:Er(i.firstWeekContainsDate),s=$6(e,t),l=new Date(0);l.setUTCFullYear(s,0,o),l.setUTCHours(0,0,0,0);var u=Kw(l,t);return u}var kse=6048e5;function _se(e,t){fn(1,arguments);var i=gs(e),n=Kw(i,t).getTime()-xse(i,t).getTime();return Math.round(n/kse)+1}function gt(e,t){for(var i=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return i+n}var Sse={y:function(e,t){var i=e.getUTCFullYear(),n=i>0?i:1-i;return gt(t==="yy"?n%100:n,t.length)},M:function(e,t){var i=e.getUTCMonth();return t==="M"?String(i+1):gt(i+1,2)},d:function(e,t){return gt(e.getUTCDate(),t.length)},a:function(e,t){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,t){return gt(e.getUTCHours()%12||12,t.length)},H:function(e,t){return gt(e.getUTCHours(),t.length)},m:function(e,t){return gt(e.getUTCMinutes(),t.length)},s:function(e,t){return gt(e.getUTCSeconds(),t.length)},S:function(e,t){var i=t.length,n=e.getUTCMilliseconds(),r=Math.floor(n*Math.pow(10,i-3));return gt(r,t.length)}},Fl=Sse,qh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dse={G:function(e,t,i){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){var n=e.getUTCFullYear(),r=n>0?n:1-n;return i.ordinalNumber(r,{unit:"year"})}return Fl.y(e,t)},Y:function(e,t,i,n){var r=$6(e,n),a=r>0?r:1-r;if(t==="YY"){var o=a%100;return gt(o,2)}return t==="Yo"?i.ordinalNumber(a,{unit:"year"}):gt(a,t.length)},R:function(e,t){var i=D6(e);return gt(i,t.length)},u:function(e,t){var i=e.getUTCFullYear();return gt(i,t.length)},Q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return gt(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,i){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return gt(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,i){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Fl.M(e,t);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,i){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return gt(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,i,n){var r=_se(e,n);return t==="wo"?i.ordinalNumber(r,{unit:"week"}):gt(r,t.length)},I:function(e,t,i){var n=wse(e);return t==="Io"?i.ordinalNumber(n,{unit:"week"}):gt(n,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):Fl.d(e,t)},D:function(e,t,i){var n=yse(e);return t==="Do"?i.ordinalNumber(n,{unit:"dayOfYear"}):gt(n,t.length)},E:function(e,t,i){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,i,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return gt(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,i,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return gt(a,t.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,i){var n=e.getUTCDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return gt(r,t.length);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,i){var n=e.getUTCHours(),r=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,i){var n=e.getUTCHours(),r;switch(n===12?r=qh.noon:n===0?r=qh.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,i){var n=e.getUTCHours(),r;switch(n>=17?r=qh.evening:n>=12?r=qh.afternoon:n>=4?r=qh.morning:r=qh.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return Fl.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Fl.H(e,t)},K:function(e,t,i){var n=e.getUTCHours()%12;return t==="Ko"?i.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},k:function(e,t,i){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?i.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Fl.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Fl.s(e,t)},S:function(e,t){return Fl.S(e,t)},X:function(e,t,i,n){var r=n._originalDate||e,a=r.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return OA(a);case"XXXX":case"XX":return Lu(a);case"XXXXX":case"XXX":default:return Lu(a,":")}},x:function(e,t,i,n){var r=n._originalDate||e,a=r.getTimezoneOffset();switch(t){case"x":return OA(a);case"xxxx":case"xx":return Lu(a);case"xxxxx":case"xxx":default:return Lu(a,":")}},O:function(e,t,i,n){var r=n._originalDate||e,a=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+MA(a,":");case"OOOO":default:return"GMT"+Lu(a,":")}},z:function(e,t,i,n){var r=n._originalDate||e,a=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+MA(a,":");case"zzzz":default:return"GMT"+Lu(a,":")}},t:function(e,t,i,n){var r=n._originalDate||e,a=Math.floor(r.getTime()/1e3);return gt(a,t.length)},T:function(e,t,i,n){var r=n._originalDate||e,a=r.getTime();return gt(a,t.length)}};function MA(e,t){var i=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),a=n%60;if(a===0)return i+String(r);var o=t||"";return i+String(r)+o+gt(a,2)}function OA(e,t){if(e%60===0){var i=e>0?"-":"+";return i+gt(Math.abs(e)/60,2)}return Lu(e,t)}function Lu(e,t){var i=t||"",n=e>0?"-":"+",r=Math.abs(e),a=gt(Math.floor(r/60),2),o=gt(r%60,2);return n+a+i+o}var $se=Dse;function AA(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function C6(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function Cse(e,t){var i=e.match(/(P+)(p+)?/)||[],n=i[1],r=i[2];if(!r)return AA(e,t);var a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",AA(n,t)).replace("{{time}}",C6(r,t))}var Tse={p:C6,P:Cse},Ese=Tse,Ise=["D","DD"],Mse=["YY","YYYY"];function Ose(e){return Ise.indexOf(e)!==-1}function Ase(e){return Mse.indexOf(e)!==-1}function PA(e,t,i){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"))}var Pse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rse=/^'([^]*?)'?$/,Fse=/''/g,Nse=/[a-zA-Z]/;function LA(e,t,i){fn(2,arguments);var n=String(t),r=i||{},a=r.locale||mse,o=a.options&&a.options.firstWeekContainsDate,s=o==null?1:Er(o),l=r.firstWeekContainsDate==null?s:Er(r.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=a.options&&a.options.weekStartsOn,h=u==null?0:Er(u),m=r.weekStartsOn==null?h:Er(r.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var f=gs(e);if(!Eoe(f))throw new RangeError("Invalid time value");var g=Coe(f),b=fse(f,g),v={firstWeekContainsDate:l,weekStartsOn:m,locale:a,_originalDate:f},w=n.match(Lse).map(function(x){var S=x[0];if(S==="p"||S==="P"){var E=Ese[S];return E(x,a.formatLong,v)}return x}).join("").match(Pse).map(function(x){if(x==="''")return"'";var S=x[0];if(S==="'")return zse(x);var E=$se[S];if(E)return!r.useAdditionalWeekYearTokens&&Ase(x)&&PA(x,t,e),!r.useAdditionalDayOfYearTokens&&Ose(x)&&PA(x,t,e),E(b,x,a.localize,v);if(S.match(Nse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return x}).join("");return w}function zse(e){return e.match(Rse)[1].replace(Fse,"'")}function RA(e,t){fn(1,arguments);var i=t||{},n=i.additionalDigits==null?2:Er(i.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=qse(e),a;if(r.date){var o=Use(r.date,n);a=Bse(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(r.time&&(l=Gse(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(u=Wse(r.timezone),isNaN(u))return new Date(NaN)}else{var h=new Date(s+l),m=new Date(0);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return new Date(s+l+u)}var ov={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Vse=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hse=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qse(e){var t={},i=e.split(ov.dateTimeDelimiter),n;if(i.length>2)return t;if(/:/.test(i[0])?n=i[0]:(t.date=i[0],n=i[1],ov.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ov.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var r=ov.timezone.exec(n);r?(t.time=n.replace(r[1],""),t.timezone=r[1]):t.time=n}return t}function Use(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(i);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?r:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Bse(e,t){if(t===null)return new Date(NaN);var i=e.match(jse);if(!i)return new Date(NaN);var n=!!i[4],r=qf(i[1]),a=qf(i[2])-1,o=qf(i[3]),s=qf(i[4]),l=qf(i[5])-1;if(n)return Xse(t,s,l)?Jse(t,s,l):new Date(NaN);var u=new Date(0);return!Kse(t,a,o)||!Zse(t,r)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(r,o)),u)}function qf(e){return e?parseInt(e):1}function Gse(e){var t=e.match(Vse);if(!t)return NaN;var i=C2(t[1]),n=C2(t[2]),r=C2(t[3]);return Qse(i,n,r)?i*S6+n*_6+r*1e3:NaN}function C2(e){return e&&parseFloat(e.replace(",","."))||0}function Wse(e){if(e==="Z")return 0;var t=e.match(Hse);if(!t)return 0;var i=t[1]==="+"?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return ele(n,r)?i*(n*S6+r*_6):NaN}function Jse(e,t,i){var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,a=(t-1)*7+i+1-r;return n.setUTCDate(n.getUTCDate()+a),n}var Yse=[31,null,31,30,31,30,31,31,30,31,30,31];function T6(e){return e%400===0||e%4===0&&e%100!==0}function Kse(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(Yse[t]||(T6(e)?29:28))}function Zse(e,t){return t>=1&&t<=(T6(e)?366:365)}function Xse(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}function Qse(e,t,i){return e===24?t===0&&i===0:i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}function ele(e,t){return t>=0&&t<=59}function tle(e){let t;return{c(){t=Ne("div"),t.textContent="Found trouble fetching data... :("},m(i,n){We(i,t,n)},p:kt,d(i){i&&Ge(t)}}}function ile(e){let t;function i(a,o){return a[1].length==0?ole:a[1].length>0?ale:rle}let n=i(e),r=n(e);return{c(){r.c(),t=Tl()},m(a,o){r.m(a,o),We(a,t,o)},p(a,o){n===(n=i(a))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(t.parentNode,t)))},d(a){r.d(a),a&&Ge(t)}}}function nle(e){let t,i,n;return{c(){t=Ne("h1"),t.textContent="Welcome!",i=xi(),n=Ne("div"),n.textContent="To get started, find & select a Tide Station to follow.",le(t,"class","text-7xl"),le(n,"class","text-2xl")},m(r,a){We(r,t,a),We(r,i,a),We(r,n,a)},p:kt,d(r){r&&Ge(t),r&&Ge(i),r&&Ge(n)}}}function rle(e){let t;return{c(){t=Ne("div"),t.textContent="Found trouble in fetching data... :("},m(i,n){We(i,t,n)},p:kt,d(i){i&&Ge(t)}}}function ale(e){let t,i=e[1][0].metadata.name+"",n,r,a,o,s,l=e[1][0].data[0].v+"",u,h,m,f,g,b,v,w=LA(RA(e[1][0].data[0].t),"PPpp")+"",x;return{c(){t=Ne("div"),n=Ka(i),r=xi(),a=Ne("div"),o=Ka("Latest Tide: "),s=Ne("span"),u=Ka(l),h=Ka("' MLLW"),m=xi(),f=Ne("div"),g=Ne("em"),b=Ka("as of "),v=Ne("span"),x=Ka(w),le(t,"class","text-7xl"),le(s,"class","font-bold"),le(a,"class","text-4xl"),le(v,"class","font-bold"),le(f,"class","text-4xl")},m(S,E){We(S,t,E),$e(t,n),We(S,r,E),We(S,a,E),$e(a,o),$e(a,s),$e(s,u),$e(s,h),We(S,m,E),We(S,f,E),$e(f,g),$e(g,b),$e(g,v),$e(v,x)},p(S,E){E&2&&i!==(i=S[1][0].metadata.name+"")&&q_(n,i),E&2&&l!==(l=S[1][0].data[0].v+"")&&q_(u,l),E&2&&w!==(w=LA(RA(S[1][0].data[0].t),"PPpp")+"")&&q_(x,w)},d(S){S&&Ge(t),S&&Ge(r),S&&Ge(a),S&&Ge(m),S&&Ge(f)}}}function ole(e){let t;return{c(){t=Ne("h1"),t.textContent="Loading..."},m(i,n){We(i,t,n)},p:kt,d(i){i&&Ge(t)}}}function sle(e){let t;function i(a,o){return a[2].savedStations==0?nle:a[1]?ile:tle}let n=i(e),r=n(e);return{c(){t=Ne("main"),r.c(),le(t,"class","pl-2")},m(a,o){We(a,t,o),r.m(t,null)},p(a,[o]){n===(n=i(a))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(t,null)))},i:kt,o:kt,d(a){a&&Ge(t),r.d()}}}function lle(e,t,i){let n,r=kt,a=()=>(r(),r=GC(l,u=>i(3,n=u)),l),o,s;s3(e,Jw,u=>i(1,o=u)),s3(e,Rc,u=>i(2,s=u)),e.$$.on_destroy.push(()=>r());let{selectedStationData:l=DT([Jw],([u])=>{if(u)return u.length>0?u[0]:void 0})}=t;return a(),e.$$set=u=>{"selectedStationData"in u&&a(i(0,l=u.selectedStationData))},e.$$.update=()=>{e.$$.dirty&2&&console.log("all stations data",o),e.$$.dirty&8&&console.log("selected station data",n)},[l,o,s,n]}class cle extends Fr{constructor(t){super();Rr(this,t,lle,sle,or,{selectedStationData:0})}}function c(e,t,i,n){var r,a=arguments.length,o=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,i,o):r(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o}function ule(e){return e&&e.release&&typeof e.release=="function"}function dle(e){return e&&e.acquire&&typeof e.acquire=="function"}class co{constructor(t,i,n,r=1,a=0){if(this.ctor=t,this.acquireFunction=i,this.releaseFunction=n,this.allocationSize=r,this._pool=new Array(a),this._initialSize=a,this.ctor)for(let o=0;o<a;o++)this._pool[o]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let i;if(co.test.disabled)i=new this.ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let r=0;r<n;r++)this._pool[r]=new this.ctor}i=this._pool.pop()}return this.acquireFunction?this.acquireFunction(i,...t):dle(i)&&i.acquire(...t),i}release(t){t&&!co.test.disabled&&(this.releaseFunction?this.releaseFunction(t):ule(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}}co.test={disabled:!1};function hle(e){e.length=0}class In{constructor(t=50,i=50){this._pool=new co(Array,void 0,hle,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return T2.acquire()}static release(t){return T2.release(t)}static prune(){T2.prune()}}const T2=new In(100);var FA,NA;let ml;var zA,jA;(FA=globalThis.dojoConfig)!=null&&FA.has||(NA=globalThis.esriConfig)!=null&&NA.has?ml=D(D({},(zA=globalThis.dojoConfig)==null?void 0:zA.has),(jA=globalThis.esriConfig)==null?void 0:jA.has):ml={};function V(e){return typeof ml[e]=="function"?ml[e]=ml[e](globalThis):ml[e]}V.add=(e,t,i,n)=>((n||ml[e]===void 0)&&(ml[e]=t),i&&V(e)),V.cache=ml,V.add("esri-deprecation-warnings",!0),(()=>{var e;V.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location===location&&window.document===document;if(V.add("host-browser",t),V.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),V.add("dom",t),V("host-browser")){const i=navigator,n=i.userAgent,r=i.appVersion,a=parseFloat(r);if(V.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),V.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),V.add("khtml",r.includes("Konqueror")?a:void 0),V.add("edge",parseFloat(n.split("Edge/")[1])||void 0),V.add("opr",parseFloat(n.split("OPR/")[1])||void 0),V.add("webkit",!V("wp")&&!V("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),V.add("chrome",!V("edge")&&!V("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),V.add("android",!V("wp")&&parseFloat(n.split("Android ")[1])||void 0),V.add("safari",!r.includes("Safari")||V("wp")||V("chrome")||V("android")||V("edge")||V("opr")?void 0:parseFloat(r.split("Version/")[1])),V.add("mac",r.includes("Macintosh")),!V("wp")&&n.match(/(iPhone|iPod|iPad)/)){const o=RegExp.$1.replace(/P/,"p"),s=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",l=parseFloat(s.replace(/_/,".").replace(/_/g,""));V.add(o,l),V.add("ios",l)}V.add("trident",parseFloat(r.split("Trident/")[1])||void 0),V("webkit")||(!n.includes("Gecko")||V("wp")||V("khtml")||V("trident")||V("edge")||V.add("mozilla",a),V("mozilla")&&V.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&V.add("esri-mobile",t),i&&V.add("esri-iPhone",i),V.add("esri-geolocation",!!navigator.geolocation)}V.add("esri-canvas-svg-support",!V("trident")),V.add("esri-wasm","WebAssembly"in globalThis),V.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),V.add("esri-atomics","Atomics"in globalThis),V.add("esri-workers","Worker"in globalThis),V.add("web-feat:cache","caches"in globalThis),V.add("esri-workers-arraybuffer-transfer",!V("safari")||Number(V("safari"))>=12),V.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),V.add("featurelayer-simplify-payload-size-factors",[1,1,4]),V.add("featurelayer-snapshot-enabled",!0),V.add("featurelayer-snapshot-point-min-threshold",8e4),V.add("featurelayer-snapshot-point-max-threshold",4e5),V.add("featurelayer-snapshot-point-coverage",.1),V.add("featurelayer-advanced-symbols",!1),V.add("featurelayer-pbf",!0),V.add("featurelayer-pbf-statistics",!1),V.add("feature-layers-workers",!0),V.add("feature-polyline-generalization-factor",1),V.add("mapview-transitions-duration",200),V.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),V.add("mapserver-pbf-enabled",!1),V("host-webworker")||V("host-browser")&&(V.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),V.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{V.add("esri-image-decode",!0,!0,!0)}).catch(()=>{V.add("esri-image-decode",!1,!0,!0)})}return!1}),V.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();const VA=new Set;function ple(e,t,i=!1){i&&VA.has(t)||(i&&VA.add(t),e.warn(`\u{1F6D1} DEPRECATED - ${t}`))}function rp(e,t,i={}){if(V("esri-deprecation-warnings")){const{moduleName:n}=i;Ck(e,`Function: ${(n?n+"::":"")+t+"()"}`,i)}}function mle(e,t,i={}){if(V("esri-deprecation-warnings")){const{moduleName:n}=i;Ck(e,`Property: ${(n?n+"::":"")+t}`,i)}}function Ck(e,t,i={}){if(V("esri-deprecation-warnings")){const{replacement:n,version:r,see:a,warnOnce:o}=i;let s=t;n&&(s+=`
	\u{1F6E0}\uFE0F Replacement: ${n}`),r&&(s+=`
	\u2699\uFE0F Version: ${r}`),a&&(s+=`
	\u{1F517} See ${a} for more details.`),ple(e,s,o)}}const fle=null;function $(e){return e!=null}function z(e){return e==null}function IMe(e){return e===void 0}function Fc(e,t){return $(e)?t(e):fle}function MMe(e){return e}function gle(e,t){if(z(e))throw new Error(t);return e}function AT(e,t){return $(e)?e:typeof t=="function"?t():t}function OMe(e,t){return $(e)?e:t}function Ko(e){return $(e)&&e.destroy(),null}function AMe(e){return $(e)&&e.dispose(),null}function bh(e){return $(e)&&e.remove(),null}function I3(e){return $(e)&&e.abort(),null}function PMe(e){return $(e)&&e.release(),null}function yle(e){return null}function LMe(e,t){const i=new Array;for(const n of e)i.push(b0(n,null,t));return i}function RMe(e,t){for(const i of e)Fc(i,t)}function b0(e,t,i){return $(e)?i(e):t}function FMe(e){return e.filter(t=>$(t))}function E6(e,...t){let i=e;for(let n=0;n<t.length&&i;++n)i=i[t[n]];return i}function NMe(e){return e}class Xa{constructor(t=1){this._seed=t}set seed(t){this._seed=t==null?Math.random()*Xa._m:t}getInt(){return this._seed=(Xa._a*this._seed+Xa._c)%Xa._m,this._seed}getFloat(){return this.getInt()/(Xa._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const n=i-t;return t+this.getInt()/Xa._m*n}}Xa._m=2147483647,Xa._a=48271,Xa._c=0;function I6(e,t,i){if(z(e)&&z(t))return!0;if(z(e)||z(t)||e.length!==t.length)return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function zMe(e){return e&&typeof e.length=="number"}const ble=!!Array.prototype.fill;function jMe(e,t){if(ble)return new Array(e).fill(t);const i=new Array(e);for(let n=0;n<e;n++)i[n]=t;return i}function VMe(e,t){t===void 0&&(t=e,e=0);const i=new Array(t-e);for(let n=e;n<t;n++)i[n-e]=n;return i}class M6{constructor(){this.last=0}}const O6=new M6;function A6(e,t,i,n){n=n||O6;const r=Math.max(0,n.last-10);for(let o=r;o<i;++o)if(e[o]===t)return n.last=o,o;const a=Math.min(r,i);for(let o=0;o<a;++o)if(e[o]===t)return n.last=o,o;return-1}function P6(e,t,i,n){const r=i==null?e.length:i,a=A6(e,t,r,n);if(a!==-1)return e[a]=e[r-1],i==null&&e.pop(),t}const Ca=new Set;function vle(e,t,i=e.length,n=t.length,r,a){if(n===0||i===0)return i;Ca.clear();for(let s=0;s<n;++s)Ca.add(t[s]);r=r||O6;const o=Math.max(0,r.last-10);for(let s=o;s<i;++s)if(Ca.has(e[s])&&(a&&a.push(e[s]),Ca.delete(e[s]),e[s]=e[i-1],--i,--s,Ca.size===0||i===0))return Ca.clear(),i;for(let s=0;s<o;++s)if(Ca.has(e[s])&&(a&&a.push(e[s]),Ca.delete(e[s]),e[s]=e[i-1],--i,--s,Ca.size===0||i===0))return Ca.clear(),i;return Ca.clear(),i}new Xa;function wle(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function HMe(e,t){if(e.forEach)e.forEach(t);else for(let i=0;i<e.length;i++)t(e[i],i,e)}function xle(e,t,i){if(e.slice)return e.slice(t,i);t===void 0?t=0:(t<0&&(t+=e.length),t=Math.min(e.length,Math.max(0,t))),i===void 0?i=e.length:(i<0&&(i+=e.length),i=Math.min(e.length,Math.max(0,i)));const n=Math.max(0,i-t),r=new e.constructor(n);for(let a=0;a<n;a++)r[a]=e[t+a];return r}function qMe(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}function kle(e){return e instanceof Int8Array||e&&e.constructor&&e.constructor.name==="Int8Array"}function _le(e){return e instanceof Uint8Array||e&&e.constructor&&e.constructor.name==="Uint8Array"}function Sle(e){return e instanceof Uint8ClampedArray||e&&e.constructor&&e.constructor.name==="Uint8ClampedArray"}function Dle(e){return e instanceof Int16Array||e&&e.constructor&&e.constructor.name==="Int16Array"}function $le(e){return e instanceof Uint16Array||e&&e.constructor&&e.constructor.name==="Uint16Array"}function Cle(e){return e instanceof Int32Array||e&&e.constructor&&e.constructor.name==="Int32Array"}function Tle(e){return e instanceof Uint32Array||e&&e.constructor&&e.constructor.name==="Uint32Array"}function Ele(e){return e instanceof Float32Array||e&&e.constructor&&e.constructor.name==="Float32Array"}function Ile(e){return e instanceof Float64Array||e&&e.constructor&&e.constructor.name==="Float64Array"}function L6(e,t){let i;if(t)for(i in e)e.hasOwnProperty(i)&&(e[i]===void 0?delete e[i]:e[i]instanceof Object&&L6(e[i],!0));else for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function N(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=z6(e);if($(t))return t;if(R6(e))return e.clone();if(F6(e))return e.map(N);if(N6(e))return e.clone();const i={};for(const n of Object.getOwnPropertyNames(e))i[n]=N(e[n]);return i}function M3(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=z6(e);if($(t))return t;if(F6(e)){let i=!0;const n=e.map(r=>{const a=M3(r);return r!=null&&a==null&&(i=!1),a});return i?n:null}if(R6(e))return e.clone();if(!N6(e)){const i=new(Object.getPrototypeOf(e)).constructor;for(const n of Object.getOwnPropertyNames(e)){const r=e[n],a=M3(r);if(r!=null&&a==null)return null;i[n]=a}return i}return null}function R6(e){return typeof e.clone=="function"}function F6(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function N6(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function z6(e){if(kle(e)||_le(e)||Sle(e)||Dle(e)||$le(e)||Cle(e)||Tle(e)||Ele(e)||Ile(e))return xle(e);if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;return e.forEach((i,n)=>{t.set(n,N(i))}),t}if(e instanceof Set){const t=new Set;return e.forEach(i=>{t.add(N(i))}),t}return null}function Tk(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof(e||{}).getTime=="function"&&typeof(t||{}).getTime=="function"&&e.getTime()===t.getTime()||!1}function j6(e,t,i=!1){return H6(e,t,i)}function Zm(e,t){if(t!=null)return t[e]||V6(e.split("."),!1,t)}function Pr(e,t,i){const n=e.split("."),r=n.pop(),a=V6(n,!0,i);a&&r&&(a[r]=t)}function V6(e,t,i){let n=i;for(const r of e){if(n==null)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function H6(e,t,i){return t?Object.keys(t).reduce(function(n,r){let a=n[r],o=t[r];return a===o?n:a===void 0?(n[r]=N(o),n):(Array.isArray(o)||Array.isArray(n)?(a=a?Array.isArray(a)?n[r]=a.concat():n[r]=[a]:n[r]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(s=>{a.indexOf(s)===-1&&a.push(s)}):n[r]=o.concat())):o&&typeof o=="object"?n[r]=H6(a,o,i):n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=o),n)},e||{}):e}var HA;const rt={apiKey:void 0,applicationUrl:(HA=globalThis.location)==null?void 0:HA.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(j6(rt,globalThis.esriConfig,!0),delete rt.has),!rt.assetsPath){const e="4.23.5";rt.assetsPath=`https://js.arcgis.com/${e.slice(0,-2)}/@arcgis/core/assets`}rt.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(rt,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),rt.request.corsEnabledServers=[],rt.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const Mle=/\{([^\}]+)\}/g;function qA(e){return e==null?"":e}function cs(e,t){return e.replace(Mle,typeof t=="object"?(i,n)=>qA(Zm(n,t)):(i,n)=>qA(t(n)))}function q6(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,i=>t&&t.indexOf(i)!==-1?i:`\\${i}`)}function PT(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}function UMe(e){return new DOMParser().parseFromString(e||"","text/html").body.innerText||""}const UA={info:0,warn:1,error:2,none:3};class Z{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,Z._loggers[this.module]=this;const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Z.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const i=Z._loggers;return Z._loggers=t,i},set throttlingDisabled(t){Z._throttlingDisabled=t}}}static getLogger(t){let i=Z._loggers[t];return i||(i=new Z({module:t})),i}_log(t,i,...n){if(!!this._matchLevel(t)){if(i!=="always"&&!Z._throttlingDisabled){const r=this._argsToKey(n),a=this._loggedMessages[t].get(r);if(i==="once"&&a!=null||i==="oncePerTick"&&a&&a>=Z._tickCounter)return;this._loggedMessages[t].set(r,Z._tickCounter),Z._scheduleTickCounterIncrement()}for(const r of rt.log.interceptors)if(r(t,this.module,...n))return;this._inheritedWriter()(t,this.module,...n)}}_parentWithMember(t,i){let n=this;for(;$(n);){const r=n[t];if($(r))return r;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,i,...n){console[t](`[${i}]`,...n)}_matchLevel(t){const i=rt.log.level?rt.log.level:"warn";return UA[this._parentWithMember("level",i)]<=UA[t]}_argsToKey(...t){const i=(n,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]";return PT(JSON.stringify(t,i))}static _scheduleTickCounterIncrement(){Z._tickCounterScheduled||(Z._tickCounterScheduled=!0,Promise.resolve().then(()=>{Z._tickCounter++,Z._tickCounterScheduled=!1}))}}Z._loggers={},Z._tickCounter=0,Z._tickCounterScheduled=!1,Z._throttlingDisabled=!1;function Ek(e){return Xm(()=>e.forEach(t=>$(t)&&t.remove()))}function Xm(e){return{remove:()=>{e&&(e(),e=void 0)}}}function Ln(e){return e?e.__accessor__?e.__accessor__:e.propertyInvalidated?e:null:null}function Ole(e,t){return e!=null&&e.metadatas&&e.metadatas[t]!=null}function b1(e,t,i){return i?Zw(e,t,{policy:i,path:""}):Zw(e,t,null)}function Zw(e,t,i){return t?Object.keys(t).reduce(function(n,r){let a=null,o="merge";if(i&&(a=i.path?`${i.path}.${r}`:r,o=i.policy(a)),o==="replace")return n[r]=t[r],n;if(n[r]===void 0)return n[r]=N(t[r]),n;let s=n[r],l=t[r];if(s===l)return n;if(Array.isArray(l)||Array.isArray(n))s=s?Array.isArray(s)?n[r]=s.concat():n[r]=[s]:n[r]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach(u=>{s.indexOf(u)===-1&&s.push(u)}));else if(l&&typeof l=="object")if(i){const u=i.path;i.path=a,n[r]=Zw(s,l,i),i.path=u}else n[r]=Zw(s,l,null);else n.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(n[r]=l);return n},e||{}):e}function U6(e){return Array.isArray(e)?e:e.split(".")}function BA(e){return e.indexOf(",")>-1?e.split(",").map(t=>t.trim()):[e.trim()]}function Ale(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...BA(i));return t}return BA(e)}function B6(e,t,i,n){const r=Ale(t);if(r.length!==1){const a=r.map(o=>n(e,o,i));return Ek(a)}return n(e,r[0],i)}function G6(e){let t=!1;return()=>{t||(t=!0,e())}}function W6(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const r=parseInt(i,10);if(!isNaN(r))return Array.isArray(t)?t[r]:t.getItemAt(r)}const n=Ln(t);return Ole(n,i)?n.get(i):t[i]}function J6(e,t,i){if(e==null)return e;const n=W6(t[i],e);return!n&&i<t.length-1?void 0:i===t.length-1?n:J6(n,t,i+1)}function Ky(e,t,i=0){return typeof t=="string"&&t.indexOf(".")===-1?W6(t,e):J6(e,U6(t),i)}function Xw(e,t){return Ky(e,t)}function GA(e,t){return Ky(t,e)!==void 0}var Zo;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"})(Zo||(Zo={}));class WA{constructor(t){this.autoDestroy=!1,this.properties=t}}function Zy(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){const n=Object.create(t.properties),r=t.autoDestroy;for(const a in n)n[a]=N(n[a]);t=new WA(n),t.autoDestroy=r,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t=new WA({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function Ple(e){return Zy(e).properties}function Ik(e,t){const i=Ple(e);let n=i[t];return n||(n=i[t]={}),n}function Lle(e,t){return b1(e,t,Fle)}const Rle=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Fle(e){return Rle.test(e)?"replace":"merge"}var Ve;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.USER=6]="USER"})(Ve||(Ve={}));const O3=Ve.USER+1;function Vc(e){switch(e){case"defaults":return Ve.DEFAULTS;case"service":return Ve.SERVICE;case"portal-item":return Ve.PORTAL_ITEM;case"web-scene":return Ve.WEB_SCENE;case"web-map":return Ve.WEB_MAP;case"user":return Ve.USER}}function Qw(e){switch(e){case Ve.DEFAULTS:return"defaults";case Ve.SERVICE:return"service";case Ve.PORTAL_ITEM:return"portal-item";case Ve.WEB_SCENE:return"web-scene";case Ve.WEB_MAP:return"web-map";case Ve.USER:return"user"}return void 0}function Nle(e){return Qw(e)}var ht;(function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(ht||(ht={}));let ex,v0=[];const zle=Z.getLogger("esri.core.Accessor");function Pe(e){ex!==void 0&&ex.onObservableAccessed(e)}let v1=!1,w1=!1;function _l(e,t,i){if(v1)return LT(e,t,i);Y6(e);const n=t.call(i);return K6(),n}function jle(e,t){return _l(void 0,e,t)}function LT(e,t,i){const n=v1;v1=!0,Y6(e);let r=null;try{r=t.call(i)}catch(a){w1&&zle.error(a)}return K6(),v1=n,r}function Y6(e){ex=e,v0.push(e)}function K6(){const e=v0.pop();ex=v0.length>0?v0[v0.length-1]:void 0,e!==void 0&&e.onTrackingEnd()}function Z6(e,t){if(t.flags&ht.DepTrackingInitialized)return;const i=w1;w1=!1,t.flags&ht.AutoTracked?LT(t,t.metadata.get,e):X6(e,t),w1=i}const Vle=[];function X6(e,t){t.flags&ht.ExplicitlyTracking||(t.flags|=ht.ExplicitlyTracking,LT(t,()=>{const i=t.metadata.dependsOn||Vle;for(const n of i)if(typeof n=="string"&&n.indexOf(".")===-1)JA(e,n,!1);else{const r=U6(n);for(let a=0,o=e;a<r.length&&o!=null&&typeof o=="object";++a)o=JA(o,r[a],a!==r.length-1)}}),t.flags&=~ht.ExplicitlyTracking)}function JA(e,t,i){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const o=parseInt(n,10);if(!isNaN(o))return Array.isArray(e)?e[o]:e.getItemAt(o)}const r=Ln(e),a=r==null?void 0:r.properties.get(n);return a&&(Pe(a),Z6(e,a)),i?e[n]:void 0}class Q6{constructor(t,i){this._observers=t,this._observer=i}remove(){wle(this._observers,this._observer)}}class YA{constructor(t,i,n){this.properties=t,this.propertyName=i,this.metadata=n,this._observers=null,this._accessed=null,this._handles=null,this.flags=ht.Dirty|(n.nonNullable?ht.NonNullable:0)|(n.hasOwnProperty("value")?ht.HasDefaultValue:0)|(n.get===void 0?ht.DepTrackingInitialized:0)|(n.dependsOn===void 0?ht.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){Pe(this);const t=this.properties.store,i=this.propertyName,n=this.flags,r=t.get(i);if(n&ht.Computing||~n&ht.Dirty&&t.has(i))return r;this.flags|=ht.Computing;const a=this.properties.host;let o;n&ht.AutoTracked?o=_l(this,this.metadata.get,a):(X6(a,this),o=this.metadata.get.call(a)),t.set(i,o,Ve.COMPUTED);const s=t.get(i);return s===r?this.flags&=~ht.Dirty:jle(this.commit,this),this.flags&=~ht.Computing,s}onObservableAccessed(t){t!==this&&(this._accessed===null&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=ht.DepTrackingInitialized;const t=this._accessed;if(t===null)return;let i=this._handles;i===null&&(i=this._handles=[]);for(let n=0;n<t.length;++n)i.push(t[n].observe(this));t.length=0}observe(t){return this._observers===null&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new Q6(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&ht.Overriden&&(this.flags|=ht.Dirty);const t=this._observers;if(t!==null)for(let i=0;i<t.length;++i)t[i].onInvalidated()}commit(){this.flags&=~ht.Dirty,this.onCommitted()}onCommitted(){if(this._observers===null)return;const t=this._observers.slice();for(let i=0;i<t.length;++i)t[i].onCommitted()}_clearObservationHandles(){const t=this._handles;if(t!==null){for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}}class RT{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new RT;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,N(n))}),i}get(t){return this._values.get(t)}originOf(){return Ve.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function sv(e,t,i){return e!==void 0}function KA(e,t,i,n){return e!==void 0&&(!(i==null&&e.flags&ht.NonNullable)||(n.lifecycle,Zo.INITIALIZING,!1))}function Hle(e){return e&&typeof e.destroy=="function"}Z.getLogger("esri.core.accessorSupport.Properties");class qle{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Zo.INITIALIZING,this.store=new RT,this._origin=Ve.USER;const i=this.host.constructor.__accessorMetadata__,n=i.properties;for(const r in n){const a=new YA(this,r,n[r]);this.properties.set(r,a)}this.metadatas=n,this._autoDestroy=i.autoDestroy}initialize(){this.lifecycle=Zo.CONSTRUCTING}constructed(){this.lifecycle=Zo.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,i]of this.properties){const n=this.internalGet(t);n&&Hle(n)&&(n.destroy(),~i.flags&ht.NonNullable&&this._internalSet(i,null)),i.destroy()}else for(const[t,i]of this.properties)i.destroy()}get initialized(){return this.lifecycle!==Zo.INITIALIZING}get(t){const i=this.properties.get(t);if(i.metadata.get)return i.getComputed();Pe(i);const n=this.store;return n.has(t)?n.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const n=this.properties.get(t);if(n!==void 0&&n.flags&ht.HasDefaultValue)return"defaults"}return Qw(i)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const i=this.properties.get(t);if(sv(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const n=this.properties.get(t);sv(n)&&this._internalSet(n,i)}getDependsInfo(t,i,n){const r=this.properties.get(i);if(!sv(r))return"";const a=new Set,o=_l({onObservableAccessed:l=>a.add(l),onTrackingEnd:()=>{}},()=>{var l;return(l=r.metadata.get)==null?void 0:l.call(t)});let s=`${n}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;if(a.size===0)return s;n+="  ";for(const l of a){if(!(l instanceof YA))continue;const u=l.properties.host,h=l.propertyName,m=Ln(u);s+=m?m.getDependsInfo(u,h,n):`${n}${h}: undefined
`}return s}setAtOrigin(t,i,n){const r=this.properties.get(t);if(sv(r))return this._setAtOrigin(r,i,n)}isOverridden(t){const i=this.properties.get(t);return i!==void 0&&!!(i.flags&ht.Overriden)}clearOverride(t){const i=this.properties.get(t);i!==void 0&&i.flags&ht.Overriden&&(i.flags&=~ht.Overriden,i.notifyChange())}override(t,i){const n=this.properties.get(t);if(!KA(n,t,i,this))return;const r=n.metadata.cast;if(r){const a=this._cast(r,i),{valid:o,value:s}=a;if(E2.release(a),!o)return;i=s}n.flags|=ht.Overriden,this._internalSet(n,i)}set(t,i){const n=this.properties.get(t);if(!KA(n,t,i,this))return;const r=n.metadata.cast;if(r){const o=this._cast(r,i),{valid:s,value:l}=o;if(E2.release(o),!s)return;i=l}const a=n.metadata.set;a?a.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(t){this._origin=Vc(t)}getDefaultOrigin(){return Qw(this._origin)}notifyChange(t){const i=this.properties.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.properties.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.properties.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const n=this.lifecycle!==Zo.INITIALIZING?this._origin:Ve.DEFAULTS;this._setAtOrigin(t,i,n)}_setAtOrigin(t,i,n){const r=this.store,a=t.propertyName;r.has(a,n)&&Tk(i,r.get(a))&&~t.flags&ht.Overriden&&n===r.originOf(a)||(t.invalidate(),r.set(a,i,n),t.commit(),Z6(this.host,t))}_cast(t,i){const n=E2.acquire();return n.valid=!0,n.value=i,t&&(n.value=t.call(this.host,i,n)),n}}class Ule{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const E2=new co(Ule);function Ble(e,t){return e.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(i,n){if(n==="")return"$";const r=Zm(n,t),a=r==null?"":r;if(a===void 0)throw new Error(`could not find key "${n}" in template`);return a.toString()})}class Mk{constructor(t,i,n){this.name=t,this.details=n,this.message=void 0,this instanceof Mk&&(this.message=i&&Ble(i,n)||"")}toString(){return"["+this.name+"]: "+this.message}}class P extends Mk{constructor(t,i,n){if(super(t,i,n),!(this instanceof P))return new P(t,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return N(i)}catch{return"[object]"}}))}}catch(t){throw Z.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new P(t.name,t.message,t.details)}}P.prototype.type="error";function tx(e,t,i){if(e&&t)if(typeof t=="object")for(const n of Object.getOwnPropertyNames(t))tx(e,n,t[n]);else{if(t.indexOf(".")!==-1){const r=t.split("."),a=r.splice(r.length-1,1)[0];return void tx(Xw(e,r),a,i)}const n=e.__accessor__;n!=null&&Gle(t,n),e[t]=i}}function Gle(e,t){if(V("esri-unknown-property-errors")&&!Wle(e,t))throw new P("set:unknown-property",Jle(e,t))}function Wle(e,t){return t.metadatas[e]!=null}function Jle(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}Z.getLogger("esri.core.accessorSupport.set");class Yle extends co{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=yle(this._set)}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}const lv=[];function ix(e){lv.push(e),lv.length===1&&queueMicrotask(()=>{const t=lv.slice();lv.length=0;for(const i of t)i()})}const Kle=29;class $g{constructor(t,i=Kle){this.name=t,this._counter=0,this._items=new Array(i)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort((t,i)=>t-i)[Math.floor(this._items.length/2)]}get average(){return this._items.reduce((t,i)=>t+i,0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var A3;(function(e){const t=(a,o,s,l)=>{let u=o,h=o;const m=s>>>1,f=a[u-1];for(;h<=m;){h=u<<1,h<s&&l(a[h-1],a[h])<0&&++h;const g=a[h-1];if(l(g,f)<=0)break;a[u-1]=g,u=h}a[u-1]=f},i=(a,o)=>a<o?-1:a>o?1:0;function n(a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=a.length),l===void 0&&(l=i);for(let h=s>>>1;h>o;h--)t(a,h,s,l);const u=o+1;for(let h=s-1;h>o;h--){const m=a[o];a[o]=a[h],a[h]=m,t(a,u,h,l)}}function*r(a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=a.length),l===void 0&&(l=i);for(let h=s>>>1;h>o;h--)t(a,h,s,l),yield;const u=o+1;for(let h=s-1;h>o;h--){const m=a[o];a[o]=a[h],a[h]=m,t(a,u,h,l),yield}}e.sort=n,e.iterableSort=r})(A3||(A3={}));const ZA=A3,Zle=1.5,Xle=1.1;class Ud{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new M6,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>XA(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];t(r)&&i.push(r)}return i}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let n=0;n<i;n++)this.data[this._length++]=t[n]}fill(t,i){for(let n=0;n<i;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,XA(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=A6(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){const i=P6(this.data,t,this.length,this._hint);return i!==void 0&&(this.length=this.length-1),this._shrink(),i}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,n){this.length=vle(this.data,t,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){t>=this.length||i>=this.length||t===i||([this.data[t],this.data[i]]=[this.data[i],this.data[t]])}sort(t){ZA.sort(this.data,0,this.length,t)}iterableSort(t){return ZA.iterableSort(this.data,0,this.length,t)}some(t,i){for(let n=0;n<this.length;++n)if(t.call(i,this.data[n],n,this.data))return!0;return!1}filterInPlace(t,i){let n=0;for(let r=0;r<this._length;++r){const a=this.data[r];t.call(i,a,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=a,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(t,i){const n=this.length,r=this.data;for(let a=0;a<n;++a)t.call(i,r[a],a,r)}forEach(t,i){for(let n=0;n<this.length;++n)t.call(i,this.data[n],n,this.data)}map(t,i){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=t.call(i,this.data[r],r,this.data);return n}reduce(t,i){let n=i;for(let r=0;r<this.length;++r)n=t(n,this.data[r],r,this.data);return n}has(t){const i=this.length,n=this.data;for(let r=0;r<i;++r)if(n[r]===t)return!0;return!1}}function XA(e){e.data.length>Zle*e.length&&(e.data.length=Math.floor(e.length*Xle))}function Qle(e){return{setTimeout:(t,i)=>{const n=e.setTimeout(t,i);return{remove:()=>e.clearTimeout(n)}}}}const Xy=Qle(globalThis);function Ok(e){return e&&(typeof e.on=="function"||typeof e.addEventListener=="function")}function Ak(e,t,i){if(!Ok(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,i);if(Array.isArray(t)){const n=t.slice();for(const r of n)e.addEventListener(r,i);return{remove(){for(const r of n)e.removeEventListener(r,i)}}}return e.addEventListener(t,i),{remove(){e.removeEventListener(t,i)}}}function ez(e,t,i){if(!Ok(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const n=Ak(e,t,r=>{n.remove(),i.call(e,r)});return{remove(){n.remove()}}}const ece={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function bd({key:e}){return ece[e]||e}function tz(e){return Promise.all(e)}function FT(e){return new Promise((t,i)=>{try{e(t,i)}catch(n){Promise.resolve().then(()=>i(n))}})}function di(e="Aborted"){return new P("AbortError",e)}function hi(e,t="Aborted"){if(us(e))throw di(t)}function Pk(e){return $(e)?"aborted"in e?e:e.signal:e}function us(e){const t=Pk(e);return $(t)&&t.aborted}function Qy(e){if(va(e))throw e}function P3(e){if(!va(e))throw e}function uo(e,t){const i=Pk(e);if(!z(i)){if(!i.aborted)return ez(i,"abort",()=>t());t()}}function Lk(e,t){const i=Pk(e);if(!z(i))return hi(i),ez(i,"abort",()=>t(di()))}function iz(e,t){const i=Pk(t);return z(i)?e:new Promise((n,r)=>{let a=uo(t,()=>r(di()));const o=()=>a=bh(a);e.then(o,o),e.then(n,r)})}function va(e){return e&&e.name==="AbortError"}function L3(e){return e.catch(t=>{if(!va(t))throw t})}function Sl(){let e=null;const t=new Promise((i,n)=>{e={promise:void 0,resolve:i,reject:n}});return e.promise=t,e}function tr(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e);return tr(i.map(n=>e[n])).then(n=>{const r={};return i.forEach((a,o)=>r[a]=n[o]),r})}const t=e;return FT(i=>{const n=[];let r=t.length;r===0&&i(n),t.forEach(a=>{const o={promise:a||Promise.resolve(a)};n.push(o),o.promise.then(s=>{o.value=s}).catch(s=>{o.error=s}).then(()=>{--r,r===0&&i(n)})})})}function tce(e){return tr(e).then(t=>t.filter(i=>!!i.value).map(i=>i.value))}function QA(e){return Promise.reject(e)}function Vp(e){return Promise.resolve(e)}function NT(e,t,i){const n=new AbortController;return uo(i,()=>n.abort()),new Promise((r,a)=>{let o=setTimeout(()=>{o=0,r(t)},e);uo(n,()=>{o&&(clearTimeout(o),a(di()))})})}function Il(e){return e&&typeof e.then=="function"}function R3(e){return Il(e)?e:Promise.resolve(e)}function nz(e,t=-1){let i,n,r,a,o=null;const s=(...l)=>{if(i){n=l,a&&a.reject(di()),a=Sl();const f=a.promise;if(o){const g=o;o=null,g.abort()}return f}if(r=a||Sl(),a=null,t>0){const f=new AbortController;i=R3(e(...l,f.signal));const g=i;NT(t).then(()=>{i===g&&(a?f.abort():o=f)})}else i=1,i=R3(e(...l));const u=()=>{const f=n;n=r=i=o=null,f!=null&&s(...f)},h=i,m=r;return h.then(u,u),h.then(m.resolve,m.reject),m.promise};return s}function ice(){let e,t;const i=new Promise((r,a)=>{e=r,t=a}),n=r=>{e(r)};return n.resolve=r=>e(r),n.reject=r=>t(r),n.timeout=(r,a)=>Xy.setTimeout(()=>n.reject(a),r),n.promise=i,n}function rz(e,t){let i,n=new AbortController;const r=e(n.signal);let a={promise:r,finished:!1,abort:()=>{n&&(n.abort(),n=null)}};const o=()=>{a&&(a.finished=!0,a=null),$(i)&&(i.remove(),i=null),n=null};return r.then(o,o),i=uo(t,()=>{$(a)&&a.abort()}),a}function BMe(e){return Promise.resolve().then(()=>{hi(e)})}function GMe(e){return e}class nce{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class rce{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let F3=0;const Uf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},N3=["prepare","preRender","render","postRender","update","finish"],z3=[],eh=new Ud;class ace{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const nx={frameTasks:eh,willDispatch:!1,clearFrameTasks:oce,dispatch:sz,executeFrameTasks:sce};function eb(e){const t=new rce(e);return z3.push(t),nx.willDispatch||(nx.willDispatch=!0,ix(sz)),t}function Em(e){const t=new nce(e);return eh.push(t),rx==null&&(F3=performance.now(),rx=requestAnimationFrame(az)),new ace(t)}let rx=null;function oce(e=!1){eh.forAll(t=>{t.removed=!0}),e&&oz()}function az(){const e=performance.now();rx=null,rx=eh.length>0?requestAnimationFrame(az):null,nx.executeFrameTasks(e)}function sce(e){const t=e-F3;F3=e;const i=1e3/60,n=Math.max(0,t-i);for(let r=0;r<N3.length;r++){const a=performance.now(),o=N3[r];eh.forAll(s=>{var l;s.paused||s.removed||(r===0&&s.ticks++,s.phases[o]&&(Uf.time=e,Uf.deltaTime=s.ticks===0?0:t,Uf.elapsedFrameTime=performance.now()-e,Uf.frameDuration=i-n,(l=s.phases[o])==null||l.call(s,Uf)))}),lce[r].record(performance.now()-a)}oz(),cce.record(performance.now()-e)}const cv=new Ud;function oz(){eh.forAll(e=>{e.removed&&cv.push(e)}),eh.removeUnorderedMany(cv.data,cv.length),cv.clear()}function sz(){for(;z3.length;){const e=z3.shift();e.isActive&&e.callback()}nx.willDispatch=!1}function WMe(e=1,t){const i=ice(),n=()=>{us(t)?i.reject(di()):e===0?i():(--e,ix(()=>n()))};return n(),i.promise}const lce=N3.map(e=>new $g(e)),cce=new $g("total");let uce=0;function Cg(){return++uce}class Rk{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,i=this._accessed;for(let n=0;n<i.length;++n)t.push(i[n].observe(this));i.length=0}clear(){const t=this._handles;for(let i=0;i<t.length;++i)t[i].remove();t.length=0}}let am=!1;const ax=[];function lz(e,t){let i=new Rk(a),n=null,r=!1;function a(){if(!i||r)return;if(am)return void dz(a);const s=n;i.clear(),am=!0,r=!0,n=_l(i,e),r=!1,am=!1,t(n,s),hz()}function o(){i&&(i.destroy(),i=null,n=null)}return r=!0,n=_l(i,e),r=!1,{remove:o}}function cz(e,t){let i=new Rk(r),n=null;function r(){t(n,o)}function a(){i&&(i.destroy(),i=null),n=null}function o(){return i?(i.clear(),n=_l(i,e),n):null}return o(),{remove:a}}function uz(e){let t=new Rk(n),i=!1;function n(){t&&!i&&(am?dz(n):(t.clear(),am=!0,i=!0,_l(t,e),i=!1,am=!1,hz()))}function r(){t&&(t.destroy(),t=null)}return i=!0,_l(t,e),i=!1,{remove:r}}function dz(e){ax.includes(e)||ax.unshift(e)}function hz(){for(;ax.length;)ax.pop()()}var Tg;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Tg||(Tg={}));class oy{constructor(){this.uid=Cg(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,n,r,a){return this.pool.acquire(Tg.Untracked,t,i,n,r,a,Tk)}static acquireTracked(t,i,n,r){return this.pool.acquire(Tg.Tracked,t,i,n,null,null,r)}notify(t,i){this.type===Tg.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i)}acquire(t,i,n,r,a,o,s){this.uid=Cg(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=n,this.getValue=r,this.target=a,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Cg(),this.removed=!0}}oy.pool=new Yle(oy);const x1=new In,Kc=new Set;let ox;function sx(e){Kc.delete(e),Kc.add(e),ox||(ox=eb(pce))}function dce(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function hce(e){for(const t of Kc.values())t.target===e&&(t.removed=!0)}function pce(){let e=10;for(;ox&&e--;){ox=null;const t=mce(),i=x1.acquire();for(const n of t){const r=n.uid;dce(n),r===n.uid&&n.removed&&i.push(n)}for(const n of Kc)n.removed&&(i.push(n),Kc.delete(n));for(const n of i)oy.pool.release(n);x1.release(i),x1.release(t),fce.forEach(n=>n())}}function mce(){const e=x1.acquire();e.length=Kc.size;let t=0;for(const i of Kc)e[t]=i,++t;return Kc.clear(),e}const fce=new Set;function gce(e,t,i){let n=B6(e,t,i,(r,a,o)=>{let s,l,u=cz(()=>Ky(r,a),(h,m)=>{r.__accessor__.destroyed||s&&s.uid!==l?n.remove():(s||(s=oy.acquireUntracked(h,o,m,r,a),l=s.uid),sx(s))});return{remove:G6(()=>{u.remove(),s&&(s.uid!==l||s.removed||(s.removed=!0,sx(s)),s=null),n=u=null})}});return n}function yce(e,t,i){const n=B6(e,t,i,(r,a,o)=>{let s=!1;return lz(()=>Ky(r,a),(l,u)=>{r.__accessor__.destroyed?n.remove():s||(s=!0,Tk(u,l)||o.call(r,l,u,a,r),s=!1)})});return n}function bce(e,t,i,n=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:n?yce(e,t,i):gce(e,t,i)}function vce(e,t,i){let n,r,a=cz(e,(o,s)=>{n&&n.uid!==r?a.remove():(n||(n=oy.acquireTracked(o,t,s,i),r=n.uid),sx(n))});return{remove:G6(()=>{a.remove(),n&&(n.uid!==r||n.removed||(n.removed=!0,sx(n)),n=null),a=null})}}function wce(e,t,i){let n=!1;return lz(e,(r,a)=>{n||(n=!0,i(a,r)||t(r,a),n=!1)})}function xce(e,t,i=!1,n=Tk){return i?wce(e,t,n):vce(e,t,n)}function Fk(e,t){for(const[i,n]of e)if(t(n,i))return!0;return!1}function kce(e,t,i){const n=e.get(t);if(n!==void 0)return n;const r=i();return e.set(t,r),r}const om=Z.getLogger("esri.core.Accessor");function _ce(e){return e==null?e:new Date(e)}function Sce(e){return e==null?e:!!e}function tb(e){return e==null?e:e.toString()}function la(e){return e==null?e:(e=parseFloat(e),isNaN(e)?0:e)}function zT(e){return e==null?e:Math.round(parseFloat(e))}function pz(e){return e&&e.constructor&&e.constructor.__accessorMetadata__!==void 0}function lx(e,t){return t!=null&&e&&!(t instanceof e)}function mz(e){return e&&"isCollection"in e}function eP(e){return e&&e.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Dce(e,t){if(!t||!t.constructor||!mz(t.constructor))return j3(e,t)?t:new e(t);const i=eP(e.prototype.itemType),n=eP(t.constructor.prototype.itemType);return i?n?i===n?t:i.prototype.isPrototypeOf(n.prototype)?new e(t):(j3(e,t),t):new e(t):t}function j3(e,t){return!!pz(t)&&(om.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+Nk(e)+"'"),!0)}function jT(e,t){return t==null?t:mz(e)?Dce(e,t):lx(e,t)?j3(e,t)?t:new e(t):t}function Nk(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const $ce=new WeakMap;function Cce(e){switch(e){case Number:return la;case xt:return zT;case Boolean:return Sce;case String:return tb;case Date:return _ce;default:return kce($ce,e,()=>jT.bind(null,e))}}function _t(e,t){const i=Cce(e);return arguments.length===1?i:i(t)}function sy(e,t,i){return arguments.length===1?sy.bind(null,e):t&&(Array.isArray(t)?t.map(n=>e(n,i)):[e(t,i)])}function Tce(e,t){return arguments.length===1?sy(_t.bind(null,e)):sy(_t.bind(null,e),t)}function fz(e,t,i){return t!==0&&Array.isArray(i)?i.map(n=>fz(e,t-1,n)):e(i)}function cx(e,t,i){if(arguments.length===2)return cx.bind(null,e,t);if(!i)return i;let n=t,r=i=fz(e,t,i);for(;n>0&&Array.isArray(r);)n--,r=r[0];if(r!==void 0)for(let a=0;a<n;a++)i=[i];return i}function Ece(e,t,i){return arguments.length===2?cx(_t.bind(null,e),t):cx(_t.bind(null,e),t,i)}function gz(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function V3(e,t){if(arguments.length===2)return V3(e).call(null,t);const i=new Set,n=e.filter(s=>typeof s!="function"),r=e.filter(s=>typeof s=="function");for(const s of e)typeof s!="string"&&typeof s!="number"||i.add(s);let a=null,o=null;return(s,l)=>{if(s==null)return s;const u=typeof s,h=u==="string"||u==="number";return h&&(i.has(s)||r.some(m=>u==="string"&&m===String||u==="number"&&m===Number))||u==="object"&&r.some(m=>!lx(s,m))?s:(h&&n.length?(a||(a=n.map(m=>typeof m=="string"?`'${m}'`:`${m}`).join(", ")),om.error("Accessor#set",`'${s}' is not a valid value for this property, only the following values are valid: ${a}`)):typeof s=="object"&&r.length?(o||(o=r.map(m=>Nk(m)).join(", ")),om.error("Accessor#set",`'${s}' is not a valid value for this property, value must be one of ${o}`)):om.error("Accessor#set",`'${s}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function ds(e,t){if(arguments.length===2)return ds(e).call(null,t);const i={},n=[],r=[];for(const l in e.typeMap){const u=e.typeMap[l];i[l]=_t(u),n.push(Nk(u)),r.push(l)}const a=()=>`'${n.join("', '")}'`,o=()=>`'${r.join("', '")}'`,s=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!lx(e.base,l)||l==null)return l;const u=s(l)||e.defaultKeyValue,h=i[u];if(!h)return om.error("Accessor#set",`Invalid property value, value needs to be one of ${a()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!lx(e.typeMap[u],l))return l;if(typeof e.key=="string"&&!pz(l)){const m={};for(const f in l)f!==e.key&&(m[f]=l[f]);return h(m)}return h(l)}}class xt{}const JMe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function Ice(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function yz(e){switch(e.type){case"native":return _t(e.value);case"array":return sy(yz(e.value));case"one-of":return Mce(e);default:return null}}function Mce(e){let t=null;return(i,n)=>q3(i,e)?i:(t==null&&(t=H3(e)),om.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}function H3(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case xt:return"integer";case Date:return"date";default:return Nk(e.value)}case"array":return`array of ${H3(e.value)}`;case"one-of":{const t=e.values.map(i=>H3(i));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function q3(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case xt:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string"}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!q3(i,t.value));case"one-of":return t.values.some(i=>q3(e,i))}}function d(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(t,i),r=Ik(t,i);n&&(n.get||n.set?(r.get=n.get||r.get,r.set=n.set||r.set):"value"in n&&("value"in e&&Z.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),r.value=e.value=n.value)),e.readOnly!=null&&(r.readOnly=e.readOnly);const a=e.aliasOf;if(a){const l=typeof a=="string"?a:a.source,u=typeof a=="string"?null:a.overridable===!0;let h;r.dependsOn=[l],r.get=function(){let m=Xw(this,l);if(typeof m=="function"){h||(h=l.split(".").slice(0,-1).join("."));const f=Xw(this,h);f&&(m=m.bind(f))}return m},r.readOnly||(r.set=u?function(m){m!==void 0?this._override(i,m):this._clearOverride(i)}:function(m){tx(this,l,m)})}const o=e.type,s=e.types;r.cast||(o?r.cast=Oce(o):s&&(Array.isArray(s)?r.cast=sy(ds(s[0])):r.cast=ds(s))),e.range&&(r.cast=Ace(r.cast,e.range)),Lle(r,e)}}function bz(e,t,i){const n=Ik(e,i);n.json||(n.json={});let r=n.json;return t!==void 0&&(r.origins||(r.origins={}),r.origins[t]||(r.origins[t]={}),r=r.origins[t]),r}function Oce(e){let t=0,i=e;if(Ice(e))return yz(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const n=i;if(gz(n))return t===0?V3(n):cx(V3(n),t);if(t===1)return Tce(n);if(t>1)return Ece(n,t);const r=e;return r.from?r.from:_t(r)}function Ace(e,t){return i=>{let n=+e(i);return t.step!=null&&(n=Math.round(n/t.step)*t.step),t.min!=null&&(n=Math.max(t.min,n)),t.max!=null&&(n=Math.min(t.max,n)),n}}function Pce(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(t[n]){const r=t[n];i[n].forEach(a=>{t[a]=r}),delete t[n]}}}class Rn extends Mk{constructor(t,i,n){if(super(t,i,n),!(this instanceof Rn))return new Rn(t,i,n)}}Rn.prototype.type="warning";function vz(e){return!!e&&e.prototype&&e.prototype.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const U3=Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function tP(e,t,i){var n,r;e&&(!i&&!t.read||(n=t.read)!=null&&n.reader||((r=t.read)==null?void 0:r.enabled)===!1||Fce(e)&&Pr("read.reader",Qm(e),t))}function Qm(e){var t;const i=(t=e.ndimArray)!=null?t:0;if(i>1)return Rce(e);if(i===1)return iP(e);if("type"in e&&xz(e.type)){var n,r;const a=(n=e.type.prototype)==null||(r=n.itemType)==null?void 0:r.Type,o=iP(typeof a=="function"?{type:a}:{types:a});return(s,l,u)=>{const h=o(s,l,u);return h&&new e.type(h)}}return VT(e)}function VT(e){return"type"in e?Lce(e.type):Nce(e.types)}function Lce(e){return e.prototype.read?(t,i,n)=>{if(t==null)return t;const r=typeof t;if(r!=="object")return void U3.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${r}'`);const a=new e;return a.read(t,n),a}:e.fromJSON}function wz(e,t,i,n){return n!==0&&Array.isArray(t)?t.map(r=>wz(e,r,i,n-1)):e(t,void 0,i)}function Rce(e){var t;const i=VT(e),n=wz.bind(null,i),r=(t=e.ndimArray)!=null?t:0;return(a,o,s)=>{if(a==null)return a;a=n(a,s,r);let l=r,u=a;for(;l>0&&Array.isArray(u);)l--,u=u[0];if(u!==void 0)for(let h=0;h<l;h++)a=[a];return a}}function iP(e){const t=VT(e);return(i,n,r)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const s of i){const l=t(s,void 0,r);l!==void 0&&o.push(l)}return o}const a=t(i,void 0,r);return a!==void 0?[a]:void 0}}function xz(e){if(!vz(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?HT(t.Type):kz(t.Type))}function Fce(e){return"types"in e?kz(e.types):HT(e.type)}function HT(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||xz(e))}function kz(e){for(const t in e.typeMap)if(!HT(e.typeMap[t]))return!1;return!0}function Nce(e){var t;let i=null;const n=(t=e.errorContext)!=null?t:"type";return(r,a,o)=>{if(r==null)return r;const s=typeof r;if(s!=="object")return void U3.error(`Expected JSON value of type 'object' to deserialize, but got '${s}'`);i||(i=zce(e));const l=e.key;if(typeof l!="string")return;const u=r[l],h=u?i[u]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!h){const f=`Type '${u||"unknown"}' is not supported`;return o&&o.messages&&r&&o.messages.push(new Rn(`${n}:unsupported`,f,{definition:r,context:o})),void U3.error(f)}const m=new h;return m.read(r,o),m}}function zce(e){const t={};for(const r in e.typeMap){var i,n;const a=e.typeMap[r],o=Zy(a.prototype);if(typeof e.key=="function")continue;const s=o.properties[e.key];if(!s)continue;(i=s.json)!=null&&i.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"&&(t[s.json.type[0]]=a);const l=(n=s.json)==null?void 0:n.write;if(!l||!l.writer){t[r]=a;continue}const u=l.target,h=typeof u=="string"?u:e.key,m={};l.writer(r,m,h),m[h]&&(t[m[h]]=a)}return t}function jce(e){if(e.json||(e.json={}),rP(e.json),aP(e.json),nP(e.json),e.json.origins)for(const t in e.json.origins)rP(e.json.origins[t]),aP(e.json.origins[t]),nP(e.json.origins[t]);return!0}function nP(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function rP(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function aP(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}const Vce=Z.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function oP(e,t){var i;if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const n=(i=e==null?void 0:e.ndimArray)!=null?i:0;e&&(n===1||"type"in e&&vz(e.type))?t.write.writer=Uce:n>1?t.write.writer=Bce(n):t.types?Array.isArray(t.types)?t.write.writer=qce(t.types[0]):t.write.writer=Hce(t.types):t.write.writer=ly}function Hce(e){return(t,i,n,r)=>t?_z(t,e,r)?ly(t,i,n,r):void 0:ly(t,i,n,r)}function _z(e,t,i){for(const a in t.typeMap)if(e instanceof t.typeMap[a])return!0;if(i!=null&&i.messages){var n,r;const a=(n=t.errorContext)!=null?n:"type",o=`Values of type '${(r=typeof t.key!="function"?e[t.key]:e.declaredClass)!=null?r:"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new P(`${a}:unsupported`,o,{definition:e,context:i})),Vce.error(o)}return!1}function qce(e){return(t,i,n,r)=>!t||!Array.isArray(t)?ly(t,i,n,r):ly(t.filter(a=>_z(a,e,r)),i,n,r)}function ly(e,t,i,n){Pr(i,ux(e,n),t)}function ux(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?dx(e):e}function dx(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Uce(e,t,i,n){let r;e===null?r=null:e&&typeof e.map=="function"?(r=e.map(a=>ux(a,n)),typeof r.toArray=="function"&&(r=r.toArray())):r=[ux(e,n)],Pr(i,r,t)}function Sz(e,t,i){return i!==0&&Array.isArray(e)?e.map(n=>Sz(n,t,i-1)):ux(e,t)}function Bce(e){return function(t,i,n,r){let a;if(t===null)a=null;else{a=Sz(t,r,e);let o=e,s=a;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(s!==void 0)for(let l=0;l<o;l++)a=[a]}Pr(n,a,i)}}function B3(e,t){return qT(e,"read",t)}function Dz(e,t){return qT(e,"write",t)}function qT(e,t,i){let n=e&&e.json;if(e&&e.json&&e.json.origins&&i){const r=e.json.origins[i.origin];r&&(t==="any"||t in r)&&(n=r)}return n}function Gce(e){const t=Wce(e);if(e.json.origins)for(const i in e.json.origins){const n=e.json.origins[i],r=n.types?Jce(n):t;tP(r,n,!1),n.types&&!n.write&&e.json.write&&e.json.write.enabled&&(n.write=D({},e.json.write)),oP(r,n)}tP(t,e.json,!0),oP(t,e.json)}function Wce(e){return e.json.types?G3(e.json):e.type?$z(e):G3(e)}function Jce(e){return e.type?$z(e):G3(e)}function $z(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!gz(i);)i=i[0],t++;return{type:i,ndimArray:t}}function G3(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function Yce(e){jce(e)&&(Pce(e),Gce(e))}const I2=new Set,M2=new Set;function _(e){return t=>{t.prototype.declaredClass=e,Zce(t);const i=[],n=[];let r=t.prototype;for(;r;)r.hasOwnProperty("initialize")&&!I2.has(r.initialize)&&(I2.add(r.initialize),i.push(r.initialize)),r.hasOwnProperty("destroy")&&!M2.has(r.destroy)&&(M2.add(r.destroy),n.push(r.destroy)),r=Object.getPrototypeOf(r);I2.clear(),M2.clear();class a extends t{constructor(...s){if(super(...s),this.constructor===a&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),n.length){let l=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0;for(let u=0;u<n.length;u++)n[u].call(this)}}})}this.postscript(...s)}}}return a.__accessorMetadata__=Zy(t.prototype),a.prototype.declaredClass=e,a}}function Kce(e,t){return t.get==null?function(){const i=this.__accessor__.properties.get(e);if(i===void 0)return;Pe(i);const n=this.__accessor__.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const i=this.__accessor__.properties.get(e);if(i!==void 0)return i.getComputed()}}function Zce(e){const t=e.prototype,i=Zy(t).properties,n={};for(const r of Object.getOwnPropertyNames(i)){const a=i[r];Yce(a),n[r]={enumerable:!0,configurable:!0,get:Kce(r,a),set(o){const s=this.__accessor__;if(s!==void 0){if(!Object.isFrozen(this)){if(s.initialized&&a.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${r}' of ${this.declaredClass}`);if(s.lifecycle===Zo.CONSTRUCTED&&a.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${r}' of ${this.declaredClass}`);s.set(r,o)}}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,n)}function Xce(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor&&e.constructor.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}class he{constructor(...t){if(this.constructor===he)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new qle(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:r}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const a=this;class o extends a{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}Zy(o.prototype);for(const s in t){const l=t[s];o.prototype[s]=typeof l=="function"?function(...u){const h=this.inherited;let m;this.inherited=function(...f){if(a.prototype[s])return a.prototype[s].apply(this,f)};try{m=l.apply(this,u)}catch(f){throw this.inherited=h,f}return this.inherited=h,m}:t[s]}for(const s in i){const l=Xce(i[s]);d(l)(o.prototype,s)}return _(n)(o)}postscript(t){const i=this.__accessor__,n=i.ctorArgs||t;i.initialize(),n&&(this.set(n),i.ctorArgs=null),i.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(hce(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===Zo.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return Xw(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return rp(Z.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return tx(this,t,i),this}watch(t,i,n){return bce(this,t,i,n)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,i){return this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}}class sm{constructor(){this._emitter=new sm.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}}(function(e){class t{constructor(r=null){this.target=r,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(r,a){const o=this._listenersMap&&this._listenersMap.get(r);if(!o)return!1;const s=this.target||this;return[...o].forEach(l=>{l.call(s,a)}),o.length>0}on(r,a){if(Array.isArray(r)){const s=r.map(l=>this.on(l,a));return Ek(s)}if(r.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const o=this._listenersMap.get(r)||[];return o.push(a),this._listenersMap.set(r,o),{remove:()=>{const s=this._listenersMap&&this._listenersMap.get(r)||[],l=s.indexOf(a);l>=0&&s.splice(l,1)}}}once(r,a){const o=this.on(r,s=>{o.remove(),a.call(null,s)});return o}hasEventListener(r){const a=this._listenersMap&&this._listenersMap.get(r);return a!=null&&a.length>0}}e.EventEmitter=t,e.EventedMixin=n=>{let r=class extends n{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(a,o){return this._emitter.emit(a,o)}on(a,o){return this._emitter.on(a,o)}once(a,o){return this._emitter.once(a,o)}hasEventListener(a){return this._emitter.hasEventListener(a)}};return r=c([_("esri.core.Evented")],r),r};let i=class extends he{constructor(){super(...arguments),this._emitter=new sm.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,r){return this._emitter.emit(n,r)}on(n,r){return this._emitter.on(n,r)}once(n,r){return this._emitter.once(n,r)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=c([_("esri.core.Evented")],i),e.EventedAccessor=i})(sm||(sm={}));const ys=sm;var nt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(nt||(nt={}));function UT(e){return(t,i)=>{t[i]=e}}class Qce{constructor(){this._observers=[]}observe(t){return this._observers.includes(t)||this._observers.push(t),new Q6(this._observers,t)}notify(){const t=this._observers.slice();for(let i=0;i<t.length;++i){const n=t[i];n.onInvalidated(),n.onCommitted()}}}var ul;class eue{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}const Gr=new co(eue,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}),tue=()=>{};function O2(e){return e?e instanceof vd?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function A2(e){if(e&&e.length)return e[0]}function iue(e,t,i,n){const r=Math.min(e.length-i,t.length-n);let a=0;for(;a<r&&e[i+a]===t[n+a];)a++;return a}function Cz(e,t,i,n){t&&t.forEach((r,a,o)=>{e.push(r),Cz(e,i.call(n,r,a,o),i,n)})}const Nl=new Set,zl=new Set,jl=new Set,P2=new Map;let nue=0,vd=ul=class extends ys.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new Qce,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:nue++})}static isCollection(e){return e!=null&&e instanceof ul}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof ul?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return Pe(this._observable),this._items}set items(e){this._emitBeforeChanges(nt.ADD)||(this._splice(0,this.length,O2(e)),this._emitAfterChanges(nt.ADD))}hasEventListener(e){return e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if(e==="change"){const i=this._chgListeners,n={removed:!1,callback:t};return i.push(n),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=tue,n.removed=!0,i.splice(i.indexOf(n),1)}}}return this._emitter.on(e,t)}once(e,t){const i=this.on(e,t);return{remove(){i.remove()}}}add(e,t){if(Pe(this._observable),this._emitBeforeChanges(nt.ADD))return this;const i=this.getNextIndex(t!=null?t:null);return this._splice(i,0,[e]),this._emitAfterChanges(nt.ADD),this}addMany(e,t=this._items.length){if(Pe(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(nt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,O2(e)),this._emitAfterChanges(nt.ADD),this}at(e){if(Pe(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(nt.REMOVE))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(nt.REMOVE),e}clone(){return Pe(this._observable),this._createNewInstance({items:this._items.map(N)})}concat(...e){Pe(this._observable);const t=e.map(O2);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Pe(this._observable),!this.length||this._emitBeforeChanges(nt.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let r=0;r<n;r++)e.call(t,i[r],r,i);this._emitAfterChanges(nt.REMOVE)}every(e,t){return Pe(this._observable),this._items.every(e,t)}filter(e,t){let i;return Pe(this._observable),i=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return Pe(this._observable),this._items.find(e,t)}findIndex(e,t){return Pe(this._observable),this._items.findIndex(e,t)}flatten(e,t){Pe(this._observable);const i=[];return Cz(i,this,e,t),new ul(i)}forEach(e,t){return Pe(this._observable),this._items.forEach(e,t)}getItemAt(e){return Pe(this._observable),this._items[e]}getNextIndex(e){Pe(this._observable);const t=this.length;return(e=e==null?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Pe(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Pe(this._observable),this._items.indexOf(e,t)}join(e=","){return Pe(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Pe(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Pe(this._observable);const i=this._items.map(e,t);return new ul({items:i})}reorder(e,t=this.length-1){Pe(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(nt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(nt.MOVE)}return e}}pop(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(nt.REMOVE))return;const e=A2(this._splice(this.length-1,1));return this._emitAfterChanges(nt.REMOVE),e}push(...e){return Pe(this._observable),this._emitBeforeChanges(nt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(nt.ADD)),this.length}reduce(e,t){Pe(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Pe(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Pe(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Pe(this._observable),e<0||e>=this.length||this._emitBeforeChanges(nt.REMOVE))return;const t=A2(this._splice(e,1));return this._emitAfterChanges(nt.REMOVE),t}removeMany(e){if(Pe(this._observable),!e||!e.length||this._emitBeforeChanges(nt.REMOVE))return[];const t=e instanceof ul?e.toArray():e,i=this._items,n=[],r=t.length;for(let a=0;a<r;a++){const o=t[a],s=i.indexOf(o);if(s>-1){const l=1+iue(t,i,a+1,s+1),u=this._splice(s,l);u&&u.length>0&&n.push.apply(n,u),a+=l-1}}return this._emitAfterChanges(nt.REMOVE),n}reverse(){if(Pe(this._observable),this._emitBeforeChanges(nt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(nt.MOVE),this}shift(){if(Pe(this._observable),!this.length||this._emitBeforeChanges(nt.REMOVE))return;const e=A2(this._splice(0,1));return this._emitAfterChanges(nt.REMOVE),e}slice(e=0,t=this.length){return Pe(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Pe(this._observable),this._items.some(e,t)}sort(e){if(Pe(this._observable),!this.length||this._emitBeforeChanges(nt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(nt.MOVE),this}splice(e,t,...i){Pe(this._observable);const n=(t?nt.REMOVE:0)|(i.length?nt.ADD:0);if(this._emitBeforeChanges(n))return[];const r=this._splice(e,t,i)||[];return this._emitAfterChanges(n),r}toArray(){return Pe(this._observable),this._items.slice()}toJSON(){return Pe(this._observable),this.toArray()}toLocaleString(){return Pe(this._observable),this._items.toLocaleString()}toString(){return Pe(this._observable),this._items.toString()}unshift(...e){return Pe(this._observable),!e.length||this._emitBeforeChanges(nt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(nt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const n=this._items,r=this.itemType;let a,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=eb(()=>this._dispatchChange())),t){if(o=n.splice(e,t),this.hasEventListener("before-remove")){const s=Gr.acquire();s.target=this,s.cancellable=!0;for(let l=0,u=o.length;l<u;l++)a=o[l],s.reset(a),this.emit("before-remove",s),s.defaultPrevented&&(o.splice(l,1),n.splice(e,0,a),e+=1,l-=1,u-=1);Gr.release(s)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const s=Gr.acquire();s.target=this,s.cancellable=!1;const l=o.length;for(let u=0;u<l;u++)s.reset(o[u]),this.emit("after-remove",s);Gr.release(s)}}if(i&&i.length){if(r){const h=[];for(const m of i){const f=r.ensureType(m);f==null&&m!=null||h.push(f)}i=h}const s=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),u=e===this.length;if(s||l){const h=Gr.acquire();h.target=this,h.cancellable=!0;const m=Gr.acquire();m.target=this,m.cancellable=!1;for(const f of i)s?(h.reset(f),this.emit("before-add",h),h.defaultPrevented||(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),l&&(m.reset(f),this.emit("after-add",m)))):(u?n.push(f):n.splice(e++,0,f),this._set("length",n.length),m.reset(f),this.emit("after-add",m));Gr.release(m),Gr.release(h)}else{if(u)for(const h of i)n.push(h);else n.splice(e,0,...i);this._set("length",n.length)}}return(i&&i.length||o&&o.length)&&this._notifyChangeEvent(i,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Gr.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Gr.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Gr.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Gr.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;Nl.clear(),zl.clear(),jl.clear();for(const{added:l,removed:u}of i){if(l)if(jl.size===0&&zl.size===0)for(const h of l)Nl.add(h);else for(const h of l)zl.has(h)?(jl.add(h),zl.delete(h)):jl.has(h)||Nl.add(h);if(u)if(jl.size===0&&Nl.size===0)for(const h of u)zl.add(h);else for(const h of u)Nl.has(h)?Nl.delete(h):(jl.delete(h),zl.add(h))}const n=In.acquire();Nl.forEach(l=>{n.push(l)});const r=In.acquire();zl.forEach(l=>{r.push(l)});const a=this._items,o=t.items,s=In.acquire();if(jl.forEach(l=>{o.indexOf(l)!==a.indexOf(l)&&s.push(l)}),t.listeners&&(n.length||r.length||s.length)){const l={target:this,added:n,removed:r,moved:s},u=t.listeners.length;for(let h=0;h<u;h++){const m=t.listeners[h];m.removed||m.callback.call(this,l)}}In.release(n),In.release(r),In.release(s)}Nl.clear(),zl.clear(),jl.clear()}};vd.ofType=e=>{if(!e)return ul;if(P2.has(e))return P2.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const n in e.typeMap){const r=e.typeMap[n].prototype.declaredClass;t?t+=` | ${r}`:t=r}let i=class extends ul{};return c([UT({Type:e,ensureType:typeof e=="function"?_t(e):ds(e)})],i.prototype,"itemType",void 0),i=c([_(`esri.core.Collection<${t}>`)],i),P2.set(e,i),i},c([d()],vd.prototype,"length",void 0),c([d()],vd.prototype,"items",null),vd=ul=c([_("esri.core.Collection")],vd);const ge=vd;function th(e,t,i=ge){return t||(t=new i),t===e||(t.removeAll(),rue(e)?t.addMany(e):e&&t.add(e)),t}function Tz(e){return e}function rue(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}class BT{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new BT;return this._values.forEach((n,r)=>{t&&t.has(r)||i.set(r,N(n.value),n.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const n=this._values.get(t);return i==null||(n==null?void 0:n.origin)===i?n==null?void 0:n.value:void 0}originOf(t){var i,n;return(i=(n=this._values.get(t))==null?void 0:n.origin)!=null?i:Ve.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(n=>{var r;return((r=this._values.get(n))==null?void 0:r.origin)===t})}set(t,i,n){if((n=this._normalizeOrigin(n))===Ve.DEFAULTS){const r=this._values.get(t);if(r&&r.origin!=null&&r.origin>n)return}this._values.set(t,new aue(i,n))}delete(t,i){var n;(i=this._normalizeOrigin(i))!=null&&((n=this._values.get(t))==null?void 0:n.origin)!==i||this._values.delete(t)}has(t,i){var n;return(i=this._normalizeOrigin(i))!=null?((n=this._values.get(t))==null?void 0:n.origin)===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},n)=>t(i,n))}_normalizeOrigin(t){if(t!=null)return t===Ve.DEFAULTS?t:Ve.USER}}class aue{constructor(t,i){this.value=t,this.origin=i}}function Ez(e,t,i){t.keys().forEach(r=>{i.set(r,t.get(r),Ve.DEFAULTS)});const n=e.metadatas;Object.keys(n).forEach(r=>{e.internalGet(r)&&i.set(r,e.internalGet(r),Ve.DEFAULTS)})}function oue(e,t,i){if(!e||!e.read||e.read.enabled===!1||!e.read.source)return!1;const n=e.read.source;if(typeof n=="string"){if(n===t||n.indexOf(".")>-1&&n.indexOf(t)===0&&GA(n,i))return!0}else for(const r of n)if(r===t||r.indexOf(".")>-1&&r.indexOf(t)===0&&GA(r,i))return!0;return!1}function sue(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function lue(e,t,i,n,r){let a=B3(t[i],r);sue(a)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))a=B3(t[o],r),oue(a,i,n)&&(e[o]=!0)}function cue(e,t,i,n){const r=i.metadatas,a=qT(r[t],"any",n),o=a&&a.default;if(o===void 0)return;const s=typeof o=="function"?o.call(e,t,n):o;s!==void 0&&i.set(t,s)}const Iz={origin:"service"};function Mz(e,t,i=Iz){if(!t||typeof t!="object")return;const n=Ln(e),r=n.metadatas,a={};for(const o of Object.getOwnPropertyNames(t))lue(a,r,o,t,i);n.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(a)){const s=B3(r[o],i).read,l=s&&s.source;let u;u=l&&typeof l=="string"?Ky(t,l):t[o],s&&s.reader&&(u=s.reader.call(e,u,t,i)),u!==void 0&&n.set(o,u)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))a[o]||cue(e,o,n,i)}n.setDefaultOrigin("user")}function uue(e,t,i,n=Iz){var r;const a=ne(D({},n),{messages:[]});i(a),(r=a.messages)==null||r.forEach(o=>{o.type!=="warning"||e.loaded?n&&n.messages&&n.messages.push(o):e.loadWarnings.push(o)})}const due=Z.getLogger("esri.core.accessorSupport.write");function hue(e,t,i,n,r){var a,o;const s={};return(a=t.write)==null||(o=a.writer)==null||o.call(e,n,s,i,r),s}function Oz(e,t,i,n,r,a){if(!n||!n.write)return!1;const o=e.get(i);if(!r&&n.write.overridePolicy){const s=n.write.overridePolicy.call(e,o,i,a);s!==void 0&&(r=s)}if(r||(r=n.write),!r||r.enabled===!1)return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const s=new P("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return s&&a&&a.messages?a.messages.push(s):s&&!a&&due.error(s.name,s.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||(!t.store.multipleOriginsSupported||t.store.originOf(i)===Ve.DEFAULTS)&&pue(e,i,a,n,o)||!r.ignoreOrigin&&a&&a.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<Vc(a.origin))}function pue(e,t,i,n,r){const a=n.default;if(a===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(r);if(typeof a=="function"){if(Array.isArray(r)){const o=a.call(e,t,i);return I6(o,r)}return!1}return a===r}function mue(e,t,i,n){const r=Ln(e),a=r.metadatas,o=Dz(a[t],n);return!!o&&Oz(e,r,t,o,i,n)}function Az(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return b1(t,e.toJSON());const n=Ln(e),r=n.metadatas;for(const s in r){const l=Dz(r[s],i);if(!Oz(e,n,s,l,void 0,i))continue;const u=e.get(s),h=hue(e,l,l.write&&typeof l.write.target=="string"?l.write.target:s,u,i);var a,o;Object.keys(h).length>0&&(t=b1(t,h),i!=null&&(a=i.resources)!=null&&(o=a.pendingOperations)!=null&&o.length&&Promise.all(i.resources.pendingOperations).then(()=>b1(t,h)),i&&i.writtenProperties&&i.writtenProperties.push({target:e,propName:s,oldOrigin:Nle(n.store.originOf(s)),newOrigin:i.origin}))}return t}const ib=e=>{let t=class extends e{constructor(...i){super(...i);const n=Ln(this),r=n.store,a=new BT;n.store=a,Ez(n,r,a)}read(i,n){Mz(this,i,n)}write(i={},n){return Az(this,i,n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return fue.call(this,i,n)}};return t=c([_("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function fue(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let B=class extends ib(he){};B=c([_("esri.core.JSONSupport")],B);var Ec;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Ec||(Ec={}));class gue{constructor(t){this.instance=t,this._resolver=Sl(),this._status=Ec.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ec.RESOLVED,this._cleanUp()},()=>{this._status=Ec.REJECTED,this._cleanUp()})}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Ec.RESOLVED}isRejected(){return this._status===Ec.REJECTED}isFulfilled(){return this._status!==Ec.PENDING}abort(){this._resolver.reject(di())}when(t,i){return this._resolver.promise.then(t,i)}_cleanUp(){this._allPromise=this._resolvingPromises=this._allPromise=null}_tryResolve(){if(this.isFulfilled())return;const t=Sl(),i=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(i);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve(this.instance)},r=>{this.isFulfilled()||this._allPromise!==n||va(r)||this._resolver.reject(r)}),t.resolve()}}const zk=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new gue(this),this.addResolvingPromise(Promise.resolve())}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return new Promise((r,a)=>{this._promiseProps.when(r,a)}).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=c([_("esri.core.Promise")],t),t};let hx=class extends zk(he){};hx=c([_("esri.core.Promise")],hx);const yue="not-loaded",bue="loading",vue="failed",sP="loaded",Pz=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const r=this.load.bind(this);this.load=a=>{const o=new Promise((s,l)=>{const u=Lk(a,l);this.destroyed&&l(new P("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(s,l).finally(()=>{u&&u.remove()})});if(this.loadStatus===yue){this._set("loadStatus",bue);const s=this._loadController=new AbortController;r({signal:s.signal}),uo(s.signal,()=>{this._promiseProps.abort()})}return n(),o}})),this.when(()=>{this._set("loadStatus",sP),this._loadController=null},n=>{this._set("loadStatus",vue),this._set("loadError",n),this._loadController=null})}get loaded(){return this.loadStatus===sP}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new P("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort()),this}};return c([d({readOnly:!0})],t.prototype,"loaded",null),c([d({readOnly:!0})],t.prototype,"loadError",void 0),c([d({clonable:!1})],t.prototype,"loadStatus",void 0),c([d({type:[Rn],readOnly:!0})],t.prototype,"loadWarnings",null),t=c([_("esri.core.Loadable")],t),t};let w0=class extends Pz(hx){};w0=c([_("esri.core.Loadable")],w0),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=Pz,e.isLoadable=t}(w0||(w0={}));const Dl=w0;function wue(e,t,i){return tr(e.map((n,r)=>t.apply(i,[n,r])))}function xue(e,t,i){return tr(e.map((n,r)=>t.apply(i,[n,r]))).then(n=>n.map(r=>r.value))}function jk(e){return z(e)?Vp():e.then(t=>({ok:!0,value:t})).catch(t=>({ok:!1,error:t}))}function YMe(e){return e.then(t=>({ok:!0,value:t})).catch(t=>(Qy(t),{ok:!1,error:t}))}async function Lz(e,t){return await e.load(),kue(e,t)}async function kue(e,t){const i=[],n=(...a)=>{for(const o of a)z(o)||(Array.isArray(o)?n(...o):ge.isCollection(o)?o.forEach(s=>n(s)):Dl.isLoadable(o)&&i.push(o))};t(n);let r=null;if(await xue(i,async a=>{(await jk(_ue(a)?a.loadAll():a.load())).ok!==!1||r||(r=a)}),r)throw r.loadError;return e}function _ue(e){return"loadAll"in e&&typeof e.loadAll=="function"}const Sue=Z.getLogger("esri.core.urlUtils"),ef=rt.request,lP="esri/config: esriConfig.request.proxyUrl is not set.",Rz=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Fz=/^\s*http:/i,Due=/^\s*https:/i,$ue=/^\s*file:/i,Cue=/:\d+$/,Tue=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Eue=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Iue=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class lm{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Eue);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Iue),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}}const uv={},Mue=new lm(rt.applicationUrl);let pn=Mue;const Oue=Aue();let GT=Oue;const Nz=()=>pn,KMe=()=>GT;function Aue(){const e=pn.path,t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${pn.scheme}://${pn.host}${pn.port!=null?`:${pn.port}`:""}`}${t}`}function Bi(e){const t={path:null,query:null},i=new lm(e),n=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.substring(0,n),t.query=zz(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.substring(0,t.path.length-(i.fragment.length+1)))),t}function zz(e){const t=e.split("&"),i={};for(const n of t){if(!n)continue;const r=n.indexOf("=");let a,o;r<0?(a=decodeURIComponent(n),o=""):(a=decodeURIComponent(n.slice(0,r)),o=decodeURIComponent(n.slice(r+1)));let s=i[a];typeof s=="string"&&(s=i[a]=[s]),Array.isArray(s)?s.push(o):i[a]=o}return i}function cP(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}function cy(e,t){return e?t&&typeof t=="function"?Object.keys(e).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(t(i,e[i]))).join("&"):Object.keys(e).map(i=>{const n=e[i];if(n==null)return"";const r=encodeURIComponent(i)+"=",a=t&&t[i];return a?r+encodeURIComponent(a(n)):Array.isArray(n)?n.map(o=>cP(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):cP(n)?r+encodeURIComponent(JSON.stringify(n)):r+encodeURIComponent(n)}).filter(i=>i).join("&"):""}function Pue(e=!1){let t,i=ef.proxyUrl;if(typeof e=="string"){t=Vue(e);const n=Vk(e);n&&(i=n.proxyUrl)}else t=!!e;if(!i)throw Sue.warn(lP),new P("urlutils:proxy-not-set",lP);return t&&W3()&&(i=ZT(i)),Bi(i)}function Lue(e){const t=Vk(e);let i,n;if(t){const r=WT(t.proxyUrl);i=r.path,n=r.query?zz(r.query):null}if(i){const r=Bi(e);e=i+"?"+r.path;const a=cy(D(D({},n),r.query));a&&(e=`${e}?${a}`)}return e}const Bf={path:"",query:""};function WT(e){const t=e.indexOf("?");return t!==-1?(Bf.path=e.slice(0,t),Bf.query=e.slice(t+1)):(Bf.path=e,Bf.query=null),Bf}function jz(e){return e=(e=mx(e=Wue(e=WT(e).path),!0)).toLowerCase()}function Rue(e){const t={proxyUrl:e.proxyUrl,urlPrefix:jz(e.urlPrefix)},i=ef.proxyRules,n=t.urlPrefix;let r=i.length;for(let a=0;a<i.length;a++){const o=i[a].urlPrefix;if(n.indexOf(o)===0){if(n.length===o.length)return-1;r=a;break}o.indexOf(n)===0&&(r=a+1)}return i.splice(r,0,t),r}function Vk(e){const t=ef.proxyRules,i=jz(e);for(let n=0;n<t.length;n++)if(i.indexOf(t[n].urlPrefix)===0)return t[n]}function Vz(e,t){return e=uP(e),t=uP(t),mx(e)===mx(t)}function uP(e){const t=(e=ao(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function Hz(e){const t=n=>n==null||n instanceof RegExp&&n.test(e)||typeof n=="string"&&e.startsWith(n),i=ef.interceptors;if(i){for(const n of i)if(Array.isArray(n.urls)){if(n.urls.some(t))return n}else if(t(n.urls))return n}return null}function px(e,t,i=!1){const n=Y3(e),r=Y3(t);return!(!i&&n.scheme!==r.scheme)&&n.host!=null&&r.host!=null&&n.host.toLowerCase()===r.host.toLowerCase()&&n.port===r.port}function JT(e){if(typeof e=="string"){if(!Ir(e))return!0;e=Y3(e)}if(px(e,pn))return!0;const t=ef.trustedServers||[];for(let i=0;i<t.length;i++){const n=Fue(t[i]);for(let r=0;r<n.length;r++)if(px(e,n[r]))return!0}return!1}function Fue(e){return uv[e]||(KT(e)||hs(e)?uv[e]=[new lm(to(e))]:uv[e]=[new lm(`http://${e}`),new lm(`https://${e}`)]),uv[e]}function to(e,t=GT,i){return hs(e)?i&&i.preserveProtocolRelative?e:pn.scheme==="http"&&pn.authority===tf(e).slice(2)?`http:${e}`:`https:${e}`:KT(e)?e:tu(e[0]==="/"?Bue(t):t,e)}function YT(e,t=GT,i){if(!Ir(e))return e;const n=ao(e),r=n.toLowerCase(),a=ao(t).toLowerCase().replace(/\/+$/,""),o=i?ao(i).toLowerCase().replace(/\/+$/,""):null;if(o&&a.indexOf(o)!==0)return e;const s=(m,f,g)=>(g=m.indexOf(f,g))===-1?m.length:g;let l=s(r,"/",r.indexOf("//")+2),u=-1;for(;r.slice(0,l+1)===a.slice(0,l)+"/"&&(u=l+1,l!==r.length);)l=s(r,"/",l+1);if(u===-1||o&&u<o.length)return e;e=n.slice(u);const h=a.slice(u-1).replace(/[^/]+/g,"").length;if(h>0)for(let m=0;m<h;m++)e=`../${e}`;else e=`./${e}`;return e}function ao(e){return e=Kue(e=Yue(e=Jue(e=to(e=e.trim()))))}function tu(...e){const t=e.filter($);if(!t||!t.length)return;const i=[];if(Ir(t[0])){const r=t[0],a=r.indexOf("//");a!==-1&&(i.push(r.slice(0,a+1)),que(t[0])&&(i[0]+="/"),t[0]=r.slice(a+2))}else t[0][0]==="/"&&i.push("");const n=t.reduce((r,a)=>a?r.concat(a.split("/")):r,[]);for(let r=0;r<n.length;r++){const a=n[r];a===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!a&&r===n.length-1||a&&(a!=="."||i.length===0))&&i.push(a)}return i.join("/")}function tf(e,t=!1){if(Hk(e)||vh(e))return null;let i=e.indexOf("://");if(i===-1&&hs(e))i=2;else{if(i===-1)return null;i+=3}const n=e.indexOf("/",i);return n!==-1&&(e=e.slice(0,n)),t&&(e=mx(e,!0)),e}function Ir(e){return hs(e)||KT(e)}function Hk(e){return e!=null&&e.slice(0,5)==="blob:"}function vh(e){return e.slice(0,5)==="data:"}function ZMe(e){const t=qz(e);if(!t||!t.isBase64)return null;const i=atob(t.data),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n.buffer}function XMe(e){return btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Nue=/^data:(.*?)(;base64)?,(.*)$/;function qz(e){const t=e.match(Nue);if(!t)return null;const[,i,n,r]=t;return{mediaType:i,isBase64:!!n,data:r}}function Uz(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function QMe(e,t){zue(e,t)||jue(e,t)}function zue(e,t){if(!e)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const n=URL.createObjectURL(e);return i.download=t,i.href=n,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),!0}function jue(e,t){return!!window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,t)}function hs(e){return e!=null&&e!==void 0&&e[0]==="/"&&e[1]==="/"}function KT(e){return Rz.test(e)}function Vue(e){return Due.test(e)||pn.scheme==="https"&&hs(e)}function Hue(e){return Fz.test(e)||pn.scheme==="http"&&hs(e)}function que(e){return $ue.test(e)}function ZT(e){return hs(e)?`https:${e}`:e.replace(Fz,"https:")}function Uue(){return pn.scheme==="http"}function W3(){return pn.scheme==="https"}function mx(e,t=!1){return hs(e)?e.slice(2):(e=e.replace(Rz,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function Bue(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function Gue(e){let t=0;if(Ir(e)){const n=e.indexOf("//");n!==-1&&(t=n+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function eOe(e,t){if(!e)return"";const i=Bi(e).path.replace(/\/+$/,""),n=i.substring(i.lastIndexOf("/")+1);if(t==null||!t.length)return n;const r=new RegExp(`.(${t.join("|")})$`,"ig");return n.replace(r,"")}function Wue(e){return e&&e[e.length-1]==="/"?e:`${e}/`}function Bz(e){return e.replace(/\/+$/,"")}function Jue(e){if(/^https?:\/\//i.test(e)){const t=WT(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Yue(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Kue(e){const t=ef.httpsDomains;if(!Hue(e))return e;const i=e.indexOf("/",7);let n;if(n=i===-1?e:e.slice(0,i),n=n.toLowerCase().slice(7),Cue.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return Uue()&&n===pn.authority&&!Tue.test(e)||(W3()&&n===pn.authority||t&&t.some(r=>n===r||n.endsWith(`.${r}`))||W3()&&!Vk(e))&&(e=ZT(e)),e}function J3(e,t,i){if(!(t&&i&&e&&Ir(e)))return e;const n=e.indexOf("//"),r=e.indexOf("/",n+2),a=e.indexOf(":",n+2),o=Math.min(r<0?e.length:r,a<0?e.length:a);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${i}${e.slice(o)}`}function Y3(e){return typeof e=="string"?new lm(to(e)):(e.scheme||(e.scheme=pn.scheme),e)}function tOe(e){return Xue.test(e)}function Gz(e,t){const i=Bi(e),n=Object.keys(i.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function Wz(e,t,i){const n=Bi(e),r=n.query||{};return r[t]=String(i),`${n.path}?${cy(r)}`}function dP(e,t){const i=Bi(e),n=i.query||{};for(const a in t)n[a]=t[a];const r=cy(n);return r?`${i.path}?${r}`:i.path}function iOe(e){if(z(e))return null;const t=e.match(Zue);return t?t[1]:null}const Zue=/.*?\.([^\/]*)$/,Xue=/(^data:image\/svg|\.svg$)/i;function ae(e,t,i){let n,r;return t===void 0?(r=e,n=[void 0]):typeof t!="string"?(r=e,n=[void 0],i=t):(r=t,n=Array.isArray(e)?e:[e]),(a,o)=>{const s=a.constructor.prototype;for(const l of n){const u=bz(a,l,r);u.write&&typeof u.write=="object"||(u.write={}),i&&(u.write.target=i),u.write.writer=s[o]}}}var ih;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(ih||(ih={}));let p;const k={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(p=2e3;p<=2045;p++)k[p]=0;for(p=2056;p<=2065;p++)k[p]=0;for(p=2067;p<=2135;p++)k[p]=0;for(p=2137;p<=2154;p++)k[p]=0;for(p=2161;p<=2170;p++)k[p]=0;for(p=2172;p<=2193;p++)k[p]=0;for(p=2195;p<=2198;p++)k[p]=0;for(p=2200;p<=2203;p++)k[p]=0;for(p=2205;p<=2217;p++)k[p]=0;for(p=2222;p<=2224;p++)k[p]=1;for(p=2225;p<=2250;p++)k[p]=2;for(p=2251;p<=2253;p++)k[p]=1;for(p=2257;p<=2264;p++)k[p]=2;for(p=2274;p<=2279;p++)k[p]=2;for(p=2280;p<=2282;p++)k[p]=1;for(p=2283;p<=2289;p++)k[p]=2;for(p=2290;p<=2292;p++)k[p]=0;for(p=2308;p<=2313;p++)k[p]=0;for(p=2315;p<=2491;p++)k[p]=0;for(p=2494;p<=2866;p++)k[p]=0;for(p=2867;p<=2869;p++)k[p]=1;for(p=2870;p<=2888;p++)k[p]=2;for(p=2891;p<=2895;p++)k[p]=2;for(p=2896;p<=2898;p++)k[p]=1;for(p=2902;p<=2908;p++)k[p]=2;for(p=2915;p<=2920;p++)k[p]=2;for(p=2921;p<=2923;p++)k[p]=1;for(p=2924;p<=2930;p++)k[p]=2;for(p=2931;p<=2962;p++)k[p]=0;for(p=2964;p<=2968;p++)k[p]=2;for(p=2969;p<=2973;p++)k[p]=0;for(p=2975;p<=2991;p++)k[p]=0;for(p=2995;p<=3051;p++)k[p]=0;for(p=3054;p<=3079;p++)k[p]=0;for(p=3081;p<=3088;p++)k[p]=0;for(p=3092;p<=3101;p++)k[p]=0;for(p=3106;p<=3138;p++)k[p]=0;for(p=3146;p<=3151;p++)k[p]=0;for(p=3153;p<=3166;p++)k[p]=0;for(p=3168;p<=3172;p++)k[p]=0;for(p=3174;p<=3203;p++)k[p]=0;for(p=3294;p<=3358;p++)k[p]=0;for(p=3367;p<=3403;p++)k[p]=0;for(p=3408;p<=3416;p++)k[p]=0;for(p=3417;p<=3438;p++)k[p]=2;for(p=3441;p<=3446;p++)k[p]=2;for(p=3447;p<=3450;p++)k[p]=0;for(p=3451;p<=3459;p++)k[p]=2;for(p=3460;p<=3478;p++)k[p]=0;for(p=3554;p<=3559;p++)k[p]=0;for(p=3560;p<=3570;p++)k[p]=2;for(p=3571;p<=3581;p++)k[p]=0;for(p=3594;p<=3597;p++)k[p]=0;for(p=3601;p<=3604;p++)k[p]=0;for(p=3637;p<=3639;p++)k[p]=0;for(p=3665;p<=3667;p++)k[p]=0;for(p=3693;p<=3695;p++)k[p]=0;for(p=3701;p<=3727;p++)k[p]=0;for(p=3728;p<=3739;p++)k[p]=2;for(p=3740;p<=3751;p++)k[p]=0;for(p=3753;p<=3760;p++)k[p]=2;for(p=3761;p<=3773;p++)k[p]=0;for(p=3775;p<=3777;p++)k[p]=0;for(p=3779;p<=3781;p++)k[p]=0;for(p=3783;p<=3785;p++)k[p]=0;for(p=3788;p<=3791;p++)k[p]=0;for(p=3797;p<=3802;p++)k[p]=0;for(p=3814;p<=3816;p++)k[p]=0;for(p=3825;p<=3829;p++)k[p]=0;for(p=3832;p<=3841;p++)k[p]=0;for(p=3844;p<=3852;p++)k[p]=0;for(p=3873;p<=3885;p++)k[p]=0;for(p=3890;p<=3893;p++)k[p]=0;for(p=3907;p<=3912;p++)k[p]=0;for(p=3942;p<=3950;p++)k[p]=0;for(p=3968;p<=3970;p++)k[p]=0;for(p=3973;p<=3976;p++)k[p]=0;for(p=3986;p<=3989;p++)k[p]=0;for(p=3994;p<=3997;p++)k[p]=0;for(p=4048;p<=4051;p++)k[p]=0;for(p=4056;p<=4063;p++)k[p]=0;for(p=4093;p<=4096;p++)k[p]=0;for(p=4390;p<=4398;p++)k[p]=0;for(p=4399;p<=4413;p++)k[p]=2;for(p=4418;p<=4433;p++)k[p]=2;for(p=4455;p<=4457;p++)k[p]=2;for(p=4484;p<=4489;p++)k[p]=0;for(p=4491;p<=4554;p++)k[p]=0;for(p=4568;p<=4589;p++)k[p]=0;for(p=4652;p<=4656;p++)k[p]=0;for(p=4766;p<=4800;p++)k[p]=0;for(p=5014;p<=5016;p++)k[p]=0;for(p=5069;p<=5072;p++)k[p]=0;for(p=5105;p<=5130;p++)k[p]=0;for(p=5173;p<=5188;p++)k[p]=0;for(p=5253;p<=5259;p++)k[p]=0;for(p=5269;p<=5275;p++)k[p]=0;for(p=5292;p<=5311;p++)k[p]=0;for(p=5329;p<=5331;p++)k[p]=0;for(p=5343;p<=5349;p++)k[p]=0;for(p=5355;p<=5357;p++)k[p]=0;for(p=5387;p<=5389;p++)k[p]=0;for(p=5459;p<=5463;p++)k[p]=0;for(p=5479;p<=5482;p++)k[p]=0;for(p=5518;p<=5520;p++)k[p]=0;for(p=5530;p<=5539;p++)k[p]=0;for(p=5550;p<=5552;p++)k[p]=0;for(p=5562;p<=5583;p++)k[p]=0;for(p=5623;p<=5625;p++)k[p]=2;for(p=5631;p<=5639;p++)k[p]=0;for(p=5649;p<=5653;p++)k[p]=0;for(p=5663;p<=5680;p++)k[p]=0;for(p=5682;p<=5685;p++)k[p]=0;for(p=5875;p<=5877;p++)k[p]=0;for(p=5896;p<=5899;p++)k[p]=0;for(p=5921;p<=5940;p++)k[p]=0;for(p=6050;p<=6125;p++)k[p]=0;for(p=6244;p<=6275;p++)k[p]=0;for(p=6328;p<=6348;p++)k[p]=0;for(p=6350;p<=6356;p++)k[p]=0;for(p=6366;p<=6372;p++)k[p]=0;for(p=6381;p<=6387;p++)k[p]=0;for(p=6393;p<=6404;p++)k[p]=0;for(p=6480;p<=6483;p++)k[p]=0;for(p=6511;p<=6514;p++)k[p]=0;for(p=6579;p<=6581;p++)k[p]=0;for(p=6619;p<=6624;p++)k[p]=0;for(p=6625;p<=6627;p++)k[p]=2;for(p=6628;p<=6632;p++)k[p]=0;for(p=6634;p<=6637;p++)k[p]=0;for(p=6669;p<=6692;p++)k[p]=0;for(p=6707;p<=6709;p++)k[p]=0;for(p=6720;p<=6723;p++)k[p]=0;for(p=6732;p<=6738;p++)k[p]=0;for(p=6931;p<=6933;p++)k[p]=0;for(p=6956;p<=6959;p++)k[p]=0;for(p=7005;p<=7007;p++)k[p]=0;for(p=7057;p<=7070;p++)k[p]=2;for(p=7074;p<=7082;p++)k[p]=0;for(p=7109;p<=7118;p++)k[p]=0;for(p=7119;p<=7127;p++)k[p]=1;for(p=7374;p<=7376;p++)k[p]=0;for(p=7528;p<=7586;p++)k[p]=0;for(p=7587;p<=7645;p++)k[p]=2;for(p=7692;p<=7696;p++)k[p]=0;for(p=7755;p<=7787;p++)k[p]=0;for(p=7791;p<=7795;p++)k[p]=0;for(p=7799;p<=7801;p++)k[p]=0;for(p=7803;p<=7805;p++)k[p]=0;for(p=7825;p<=7831;p++)k[p]=0;for(p=7845;p<=7859;p++)k[p]=0;for(p=8013;p<=8032;p++)k[p]=0;for(p=8065;p<=8068;p++)k[p]=1;for(p=8518;p<=8529;p++)k[p]=2;for(p=8533;p<=8536;p++)k[p]=2;for(p=8538;p<=8540;p++)k[p]=2;for(p=8677;p<=8679;p++)k[p]=0;for(p=8836;p<=8840;p++)k[p]=0;for(p=8857;p<=8859;p++)k[p]=0;for(p=8908;p<=8910;p++)k[p]=0;for(p=9154;p<=9159;p++)k[p]=0;for(p=9205;p<=9218;p++)k[p]=0;for(p=9271;p<=9273;p++)k[p]=0;for(p=9295;p<=9297;p++)k[p]=0;for(p=9356;p<=9360;p++)k[p]=0;for(p=9404;p<=9407;p++)k[p]=0;for(p=9476;p<=9482;p++)k[p]=0;for(p=9487;p<=9494;p++)k[p]=0;for(p=9697;p<=9699;p++)k[p]=0;for(p=20002;p<=20032;p++)k[p]=0;for(p=20062;p<=20092;p++)k[p]=0;for(p=20135;p<=20138;p++)k[p]=0;for(p=20248;p<=20258;p++)k[p]=0;for(p=20348;p<=20358;p++)k[p]=0;for(p=20436;p<=20440;p++)k[p]=0;for(p=20822;p<=20824;p++)k[p]=0;for(p=20904;p<=20932;p++)k[p]=0;for(p=20934;p<=20936;p++)k[p]=0;for(p=21004;p<=21032;p++)k[p]=0;for(p=21035;p<=21037;p++)k[p]=0;for(p=21095;p<=21097;p++)k[p]=0;for(p=21148;p<=21150;p++)k[p]=0;for(p=21207;p<=21264;p++)k[p]=0;for(p=21307;p<=21364;p++)k[p]=0;for(p=21413;p<=21423;p++)k[p]=0;for(p=21453;p<=21463;p++)k[p]=0;for(p=21473;p<=21483;p++)k[p]=0;for(p=21780;p<=21782;p++)k[p]=0;for(p=21891;p<=21894;p++)k[p]=0;for(p=21896;p<=21899;p++)k[p]=0;for(p=22171;p<=22177;p++)k[p]=0;for(p=22181;p<=22187;p++)k[p]=0;for(p=22191;p<=22197;p++)k[p]=0;for(p=22234;p<=22236;p++)k[p]=0;for(p=22521;p<=22525;p++)k[p]=0;for(p=22991;p<=22994;p++)k[p]=0;for(p=23028;p<=23038;p++)k[p]=0;for(p=23830;p<=23853;p++)k[p]=0;for(p=23866;p<=23872;p++)k[p]=0;for(p=23877;p<=23884;p++)k[p]=0;for(p=23886;p<=23894;p++)k[p]=0;for(p=23946;p<=23948;p++)k[p]=0;for(p=24311;p<=24313;p++)k[p]=0;for(p=24342;p<=24347;p++)k[p]=0;for(p=24370;p<=24374;p++)k[p]=10;for(p=24375;p<=24381;p++)k[p]=0;for(p=24718;p<=24721;p++)k[p]=0;for(p=24817;p<=24821;p++)k[p]=0;for(p=24877;p<=24882;p++)k[p]=0;for(p=24891;p<=24893;p++)k[p]=0;for(p=25391;p<=25395;p++)k[p]=0;for(p=25828;p<=25838;p++)k[p]=0;for(p=26191;p<=26195;p++)k[p]=0;for(p=26391;p<=26393;p++)k[p]=0;for(p=26701;p<=26722;p++)k[p]=0;for(p=26729;p<=26799;p++)k[p]=2;for(p=26801;p<=26803;p++)k[p]=2;for(p=26811;p<=26813;p++)k[p]=2;for(p=26847;p<=26870;p++)k[p]=2;for(p=26891;p<=26899;p++)k[p]=0;for(p=26901;p<=26923;p++)k[p]=0;for(p=26929;p<=26946;p++)k[p]=0;for(p=26948;p<=26998;p++)k[p]=0;for(p=27037;p<=27040;p++)k[p]=0;for(p=27205;p<=27232;p++)k[p]=0;for(p=27258;p<=27260;p++)k[p]=0;for(p=27391;p<=27398;p++)k[p]=0;for(p=27561;p<=27564;p++)k[p]=0;for(p=27571;p<=27574;p++)k[p]=0;for(p=27581;p<=27584;p++)k[p]=0;for(p=27591;p<=27594;p++)k[p]=0;for(p=28191;p<=28193;p++)k[p]=0;for(p=28348;p<=28358;p++)k[p]=0;for(p=28402;p<=28432;p++)k[p]=0;for(p=28462;p<=28492;p++)k[p]=0;for(p=29118;p<=29122;p++)k[p]=0;for(p=29168;p<=29172;p++)k[p]=0;for(p=29177;p<=29185;p++)k[p]=0;for(p=29187;p<=29195;p++)k[p]=0;for(p=29900;p<=29903;p++)k[p]=0;for(p=30161;p<=30179;p++)k[p]=0;for(p=30491;p<=30494;p++)k[p]=0;for(p=30729;p<=30732;p++)k[p]=0;for(p=31251;p<=31259;p++)k[p]=0;for(p=31265;p<=31268;p++)k[p]=0;for(p=31275;p<=31279;p++)k[p]=0;for(p=31281;p<=31297;p++)k[p]=0;for(p=31461;p<=31469;p++)k[p]=0;for(p=31491;p<=31495;p++)k[p]=0;for(p=31917;p<=31922;p++)k[p]=0;for(p=31965;p<=32e3;p++)k[p]=0;for(p=32001;p<=32003;p++)k[p]=2;for(p=32005;p<=32031;p++)k[p]=2;for(p=32033;p<=32060;p++)k[p]=2;for(p=32064;p<=32067;p++)k[p]=2;for(p=32074;p<=32077;p++)k[p]=2;for(p=32081;p<=32086;p++)k[p]=0;for(p=32107;p<=32130;p++)k[p]=0;for(p=32133;p<=32158;p++)k[p]=0;for(p=32164;p<=32167;p++)k[p]=2;for(p=32180;p<=32199;p++)k[p]=0;for(p=32201;p<=32260;p++)k[p]=0;for(p=32301;p<=32360;p++)k[p]=0;for(p=32601;p<=32662;p++)k[p]=0;for(p=32664;p<=32667;p++)k[p]=2;for(p=32701;p<=32761;p++)k[p]=0;for(p=53001;p<=53004;p++)k[p]=0;for(p=53008;p<=53019;p++)k[p]=0;for(p=53021;p<=53032;p++)k[p]=0;for(p=53034;p<=53037;p++)k[p]=0;for(p=53042;p<=53046;p++)k[p]=0;for(p=53074;p<=53080;p++)k[p]=0;for(p=54001;p<=54004;p++)k[p]=0;for(p=54008;p<=54019;p++)k[p]=0;for(p=54021;p<=54032;p++)k[p]=0;for(p=54034;p<=54037;p++)k[p]=0;for(p=54042;p<=54046;p++)k[p]=0;for(p=54048;p<=54053;p++)k[p]=0;for(p=54074;p<=54080;p++)k[p]=0;for(p=54098;p<=54101;p++)k[p]=0;for(p=102001;p<=102040;p++)k[p]=0;for(p=102042;p<=102063;p++)k[p]=0;for(p=102065;p<=102067;p++)k[p]=0;for(p=102070;p<=102117;p++)k[p]=0;for(p=102122;p<=102216;p++)k[p]=0;for(p=102221;p<=102377;p++)k[p]=0;for(p=102382;p<=102388;p++)k[p]=0;for(p=102389;p<=102398;p++)k[p]=2;for(p=102399;p<=102444;p++)k[p]=0;for(p=102445;p<=102447;p++)k[p]=2;for(p=102448;p<=102458;p++)k[p]=0;for(p=102459;p<=102468;p++)k[p]=2;for(p=102469;p<=102499;p++)k[p]=0;for(p=102500;p<=102519;p++)k[p]=1;for(p=102520;p<=102524;p++)k[p]=0;for(p=102525;p<=102529;p++)k[p]=2;for(p=102530;p<=102588;p++)k[p]=0;for(p=102590;p<=102598;p++)k[p]=0;for(p=102601;p<=102603;p++)k[p]=0;for(p=102605;p<=102628;p++)k[p]=0;for(p=102629;p<=102646;p++)k[p]=2;for(p=102648;p<=102700;p++)k[p]=2;for(p=102701;p<=102703;p++)k[p]=0;for(p=102707;p<=102730;p++)k[p]=2;for(p=102733;p<=102758;p++)k[p]=2;for(p=102767;p<=102900;p++)k[p]=0;for(p=102901;p<=102933;p++)k[p]=2;for(p=102934;p<=102950;p++)k[p]=13;for(p=102951;p<=102960;p++)k[p]=0;for(p=102965;p<=102969;p++)k[p]=0;for(p=102971;p<=102973;p++)k[p]=0;for(p=102975;p<=102989;p++)k[p]=0;for(p=102990;p<=102992;p++)k[p]=1;for(p=102997;p<=103002;p++)k[p]=0;for(p=103003;p<=103008;p++)k[p]=2;for(p=103009;p<=103011;p++)k[p]=0;for(p=103012;p<=103014;p++)k[p]=2;for(p=103019;p<=103021;p++)k[p]=0;for(p=103022;p<=103024;p++)k[p]=2;for(p=103029;p<=103031;p++)k[p]=0;for(p=103032;p<=103034;p++)k[p]=2;for(p=103065;p<=103068;p++)k[p]=0;for(p=103074;p<=103076;p++)k[p]=0;for(p=103077;p<=103079;p++)k[p]=1;for(p=103080;p<=103082;p++)k[p]=0;for(p=103083;p<=103085;p++)k[p]=2;for(p=103090;p<=103093;p++)k[p]=0;for(p=103097;p<=103099;p++)k[p]=0;for(p=103100;p<=103102;p++)k[p]=2;for(p=103107;p<=103109;p++)k[p]=0;for(p=103110;p<=103112;p++)k[p]=2;for(p=103113;p<=103116;p++)k[p]=0;for(p=103117;p<=103120;p++)k[p]=2;for(p=103153;p<=103157;p++)k[p]=0;for(p=103158;p<=103162;p++)k[p]=2;for(p=103163;p<=103165;p++)k[p]=0;for(p=103166;p<=103168;p++)k[p]=1;for(p=103169;p<=103171;p++)k[p]=2;for(p=103186;p<=103188;p++)k[p]=0;for(p=103189;p<=103191;p++)k[p]=2;for(p=103192;p<=103195;p++)k[p]=0;for(p=103196;p<=103199;p++)k[p]=2;for(p=103200;p<=103224;p++)k[p]=0;for(p=103225;p<=103227;p++)k[p]=1;for(p=103232;p<=103237;p++)k[p]=0;for(p=103238;p<=103243;p++)k[p]=2;for(p=103244;p<=103246;p++)k[p]=0;for(p=103247;p<=103249;p++)k[p]=2;for(p=103254;p<=103256;p++)k[p]=0;for(p=103257;p<=103259;p++)k[p]=2;for(p=103264;p<=103266;p++)k[p]=0;for(p=103267;p<=103269;p++)k[p]=2;for(p=103300;p<=103375;p++)k[p]=0;for(p=103381;p<=103383;p++)k[p]=0;for(p=103384;p<=103386;p++)k[p]=1;for(p=103387;p<=103389;p++)k[p]=0;for(p=103390;p<=103392;p++)k[p]=2;for(p=103397;p<=103399;p++)k[p]=0;for(p=103400;p<=103471;p++)k[p]=2;for(p=103476;p<=103478;p++)k[p]=0;for(p=103479;p<=103481;p++)k[p]=2;for(p=103486;p<=103488;p++)k[p]=0;for(p=103489;p<=103491;p++)k[p]=2;for(p=103492;p<=103495;p++)k[p]=0;for(p=103496;p<=103499;p++)k[p]=2;for(p=103528;p<=103543;p++)k[p]=0;for(p=103544;p<=103548;p++)k[p]=2;for(p=103549;p<=103551;p++)k[p]=0;for(p=103552;p<=103554;p++)k[p]=1;for(p=103555;p<=103557;p++)k[p]=2;for(p=103558;p<=103560;p++)k[p]=0;for(p=103571;p<=103573;p++)k[p]=0;for(p=103574;p<=103576;p++)k[p]=2;for(p=103577;p<=103580;p++)k[p]=0;for(p=103581;p<=103583;p++)k[p]=2;for(p=103595;p<=103694;p++)k[p]=0;for(p=103696;p<=103699;p++)k[p]=0;for(p=103700;p<=103793;p++)k[p]=2;for(p=103794;p<=103872;p++)k[p]=0;for(p=103900;p<=103971;p++)k[p]=2;const Que={102113:!0,102100:!0,3857:!0,3785:!0},ede={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},hP='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',dv=[-20037508342788905e-9,20037508342788905e-9],hv=[-20037508342787e-6,20037508342787e-6],Jz={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:dv,origin:hv,dx:1e-5},102100:{wkTemplate:hP,valid:dv,origin:hv,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:dv,origin:hv,dx:1e-5},3857:{wkTemplate:hP,valid:dv,origin:hv,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function cr(e,t){return!z(e)&&!z(t)&&(e===t||(e.wkid!=null||t.wkid!=null?e.wkid===t.wkid||nh(e)&&nh(t)||t.latestWkid!=null&&e.wkid===t.latestWkid||e.latestWkid!=null&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase()))}function oo(e){return ir(e)&&e.wkid?Jz[e.wkid]:null}function Yz(e){return!!ir(e)&&(e.wkid?k[e.wkid]==null:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function tde(e){return!(qk(e)||Uk(e))}function uy(e){return ir(e)&&e.wkid===4326}function nOe(e){return ir(e)&&e.wkid===ih.CGCS2000}function nh(e){return ir(e)&&e.wkid!=null&&Que[e.wkid]===!0}function ide(e){return ir(e)&&e.wkid===32662}function XT(e){return e===ih.GCSMARS2000||e===ih.GCSMARS2000_SPHERE}function qk(e){return ir(e)&&e.wkid!=null&&XT(e.wkid)}function QT(e){return e===ih.GCSMOON2000}function Uk(e){return ir(e)&&e.wkid!=null&&QT(e.wkid)}function nde(e){return ir(e)&&e.wkid!=null&&ede[e.wkid]===!0}function ir(e){return $(e)&&(e.wkid!=null&&e.wkid>=2e3||e.wkt!=null)}const rde={wkid:4326,wkt:cs(Jz[4326].wkTemplate,{Central_Meridian:"0.0"})},ade={wkid:102100,latestWkid:3857},ode={wkid:32662};var Co;let ut=Co=class extends B{constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(e){if(!e)return null;if(e.wkid){if(e.wkid===102100)return Co.WebMercator;if(e.wkid===4326)return Co.WGS84}const t=new Co;return t.read(e),t}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return uy(this)}get isWebMercator(){return nh(this)}get isGeographic(){return Yz(this)}get isWrappable(){return nde(this)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Co.WGS84)return Co.WGS84;if(this===Co.WebMercator)return Co.WebMercator;const e=new Co;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):this.wkt!=null&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=N(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,r=this.imageCoordinateSystem;return t==null||n?JSON.stringify(r)===JSON.stringify(e.imageCoordinateSystem):i?r.id===t&&r.referenceServiceName===i:r.id===t}return cr(this,e)}toJSON(e){return this.write(void 0,e)}};ut.GCS_NAD_1927=null,ut.WGS84=null,ut.WebMercator=null,ut.PlateCarree=null,c([d({readOnly:!0})],ut.prototype,"isWGS84",null),c([d({readOnly:!0})],ut.prototype,"isWebMercator",null),c([d({readOnly:!0})],ut.prototype,"isGeographic",null),c([d({readOnly:!0})],ut.prototype,"isWrappable",null),c([d({type:xt,json:{write:!0}})],ut.prototype,"latestWkid",void 0),c([d({type:xt,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt===null}}}}}}})],ut.prototype,"wkid",void 0),c([d({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid===null}}}}}}})],ut.prototype,"wkt",void 0),c([ae("wkt"),ae("web-scene","wkt")],ut.prototype,"writeWkt",null),c([d({type:xt,json:{write:!0}})],ut.prototype,"vcsWkid",void 0),c([d({type:xt,json:{write:!0}})],ut.prototype,"latestVcsWkid",void 0),c([d()],ut.prototype,"imageCoordinateSystem",void 0),ut=Co=c([_("esri.geometry.SpatialReference")],ut),ut.prototype.toJSON.isDefaultToJSON=!0,ut.GCS_NAD_1927=new ut({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),ut.WGS84=new ut(rde),ut.WebMercator=new ut(ade),ut.PlateCarree=new ut(ode),Object.freeze&&(Object.freeze(ut.GCS_NAD_1927),Object.freeze(ut.WGS84),Object.freeze(ut.WebMercator));const Le=ut,Kz="20220330",Zz="c6040e027595ee92afd67ccc7c3952c1c711f402",Xz="4.23",sde={async request(e,t){var i;const{default:n}=await Promise.resolve().then(function(){return kde}),r=e.options,a=r.responseType;r.signal=t==null?void 0:t.signal,r.responseType=a==="native"||a==="native-request-init"?"native-request-init":["blob","json","text"].includes(a)&&(i=Hz(e.url))!=null&&i.after?a:"array-buffer";const o=await n(e.url,r),s={data:o.data,ssl:o.ssl};switch(o.requestOptions.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}};let ii;function rOe(e){ii=e}function lde(e){const t=ii&&ii.findCredential(e);return t&&t.token?Wz(e,"token",t.token):e}V("host-webworker")||(V("edge")||V("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const cde=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Qz(e){const t=tf(e,!0);return t&&t.endsWith(".arcgis.com")&&!cde.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function ude(e,t,i=!1,n){return new Promise((r,a)=>{if(us(n))return void a(pP());let o=()=>{u(),a(new Error(`Unable to load ${t}`))},s=()=>{const h=e;u(),r(h)},l=()=>{if(!e)return;const h=e;u(),h.src="",a(pP())};const u=()=>{V("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",s)),o=null,s=null,e=null,$(n)&&n.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};$(n)&&n.addEventListener("abort",l),V("esri-image-decode")?e.decode().then(s,o):(e.addEventListener("error",o),e.addEventListener("load",s))})}function pP(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function $t(e,t){var i;const n=vh(e),r=Hk(e);r||n||(e=ao(e));const a={url:e,requestOptions:D({},t)};let o=Hz(e);if(o){const h=await bde(o,a);if(h!=null)return{data:h,getHeader:eE,requestOptions:a.requestOptions,url:a.url};o.after||o.error||(o=null)}if(e=a.url,(t=a.requestOptions).responseType==="image"){if(V("host-webworker")||V("host-node"))throw io("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),a)}else if(n)throw io("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),a);if(t.method==="head"){if(t.body)throw io("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),a);if(n||r)throw io("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),a)}if(await fde(),fx)return fx.execute(e,t);const s=new AbortController;uo(t,()=>s.abort());const l={controller:s,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:o,params:a,redoRequest:!1,useIdentity:ol.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await wde(l);return(i=o)==null||i.after==null||i.after(u),u}let fx;const ol=rt.request,e8="FormData"in globalThis,dde=[499,498,403,401],hde=["COM_0056","COM_0057","SB_0008"],pde=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],eE=()=>null,K3=Symbol();function mde(e){const t=tf(e);t&&!$t._corsServers.includes(t)&&$t._corsServers.push(t)}function mP(e){const t=tf(e);return!t||t.endsWith(".arcgis.com")||$t._corsServers.includes(t)||JT(t)}function io(e,t,i,n){let r="Error";const a={url:i.url,requestOptions:i.requestOptions,getHeader:eE,ssl:!1};if(t instanceof P)return t.details?(t.details=N(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=a,t;if(t){const o=n&&(u=>n.headers.get(u)),s=n&&n.status,l=t.message;l&&(r=l),o&&(a.getHeader=o),a.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||s||0,a.subCode=t.subcode,a.messageCode=t.messageCode,typeof t.details=="string"?a.messages=[t.details]:a.messages=t.details,a.raw=K3 in t?t[K3]:t}return va(t)?di():new P(e,r,a)}async function fde(){V("host-webworker")?fx||(fx=await import("./request.c7eea0ec.js")):$t._abortableFetch||($t._abortableFetch=globalThis.fetch.bind(globalThis))}async function Z3(){ii||await import("./IdentityManager.12402517.js")}async function gde(e){const t=e.params.url,i=e.params.requestOptions,n=e.controller.signal,r=i.body;let a=null,o=null,s=null;if(e8&&"HTMLFormElement"in globalThis&&(r instanceof FormData?a=r:r instanceof HTMLFormElement&&(o=r,a=new FormData(o))),typeof r=="string"&&(s=r),e.fetchOptions={cache:i.cacheBust&&!$t._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",redirect:"follow",signal:n},(a||s)&&(e.fetchOptions.body=a||s),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query&&i.query.token||a&&a.get&&a.get("token")||o&&o.elements.token),!e.hasToken&&rt.apiKey&&Qz(t)&&(i.query||(i.query={}),i.query.token=rt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!t8(t)&&!us(n)){let l;i.authMode==="immediate"?(await Z3(),l=await ii.getCredential(t,{signal:n}),e.credential=l):i.authMode==="no-prompt"?(await Z3(),l=await ii.getCredential(t,{prompt:!1,signal:n}).catch(()=>{}),e.credential=l):ii&&(l=ii.findCredential(t)),l&&(e.credentialToken=l.token,e.useSSL=!!l.ssl)}}function t8(e){return pde.some(t=>t.test(e))}async function yde(e){let t=e.params.url;const i=e.params.requestOptions,n=e.fetchOptions,r=Hk(t)||vh(t),a=i.responseType||"json",o=r?0:i.timeout!=null?i.timeout:ol.timeout;let s=!1;if(!r){e.useSSL&&(t=ZT(t)),i.cacheBust&&n.cache==="default"&&(t=Wz(t,"request.preventCache",Date.now()));let f=D({},i.query);e.credentialToken&&(f.token=e.credentialToken);let g=cy(f);V("esri-url-encodes-apostrophe")&&(g=g.replace(/'/g,"%27"));const b=t.length+1+g.length;let v;s=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>ol.maxUrlLength;const w=i.useProxy||!!Vk(t);if(w){const x=Pue(t);v=x.path,!s&&v.length+1+b>ol.maxUrlLength&&(s=!0),x.query&&(f=D(D({},x.query),f))}if(n.method==="HEAD"&&(s||w)){if(s)throw b>ol.maxUrlLength?io("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):io("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw io("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(s?(n.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=dP(t,f):(n.body=cy(f),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=dP(t,f),w&&(e.useProxy=!0,t=`${v}?${t}`),f.token&&e8&&n.body instanceof FormData){const x=n.body;x.set?x.set("token",f.token):x.append("token",f.token)}if(i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!px(t,Nz())){if(JT(t))e.withCredentials=!0;else if(ii){const x=ii.findServerInfo(t);x&&x.webTierAuth&&(e.withCredentials=!0)}}e.withCredentials&&(n.credentials="include")}let l,u,h=0,m=!1;o>0&&(h=setTimeout(()=>{m=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")u=n,u.url=t;else if(i.responseType!=="image"||n.cache!=="default"||n.method!=="GET"||s||vde(i.headers)||!r&&!e.useProxy&&ol.proxyUrl&&!mP(t)){if(l=await $t._abortableFetch(t,n),e.useProxy||mde(t),i.responseType==="native")u=l;else if(n.method!=="HEAD")if(l.ok){switch(a){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(h&&(clearTimeout(h),h=0),a==="json"||a==="xml"||a==="document")if(u)switch(a){case"json":u=JSON.parse(u);break;case"xml":u=fP(u,"application/xml");break;case"document":u=fP(u,"text/html")}else u=null;if(u){if(a==="array-buffer"||a==="blob"){const f=l.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(f)&&u[a==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(u).json();g.error&&(u=g)}catch{}}a==="image"&&u instanceof Blob&&(u=await gP(URL.createObjectURL(u),e,!0))}}else u=await l.text()}else u=await gP(t,e)}catch(f){if(f.name==="AbortError")throw m?new Error("Timeout exceeded"):di("Request canceled");if(!(!l&&f instanceof TypeError&&ol.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||mP(t))throw f;e.redoRequest=!0,Rue({proxyUrl:ol.proxyUrl,urlPrefix:tf(t)})}finally{h&&clearTimeout(h)}return[l,u]}async function bde(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers=D(D({},t.requestOptions.headers),e.headers)),e.query&&(t.requestOptions.query=D(D({},t.requestOptions.query),e.query)),e.before){let i,n;try{n=await e.before(t)}catch(r){i=io("request:interceptor",r,t)}if((n instanceof Error||n instanceof P)&&(i=io("request:interceptor",n,t)),i)throw e.error&&e.error(i),i;return n}}function vde(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function fP(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function wde(e){var t,i;let n,r;await gde(e);try{do[n,r]=await yde(e);while(!await xde(e,n,r))}catch(s){const l=io("request:server",s,e.params,n);throw l.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(l),l}const a=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(a)&&!e.hasToken&&!e.credentialToken&&(t=r)!=null&&(i=t.user)!=null&&i.username&&!JT(a)){const s=tf(a,!0);s&&ol.trustedServers.push(s)}const o=e.credential;if(o&&ii){const s=ii.findServerInfo(o.server);let l=s&&s.owningSystemUrl;if(l){l=l.replace(/\/?$/,"/sharing");const u=ii.findCredential(l,o.userId);u&&ii._getIdenticalSvcIdx(l,u)===-1&&u.resources.unshift(l)}}return{data:r,getHeader:n?s=>n.headers.get(s):eE,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function xde(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const n=e.params.requestOptions;if(!t||n.responseType==="native"||n.responseType==="native-request-init")return!0;let r,a,o,s;if(!t.ok)throw r=new Error(`Unable to load ${t.url} status: ${t.status}`),r[K3]=i,r;i!=null&&i.error&&(r=i.error),r&&(a=Number(r.code),o=r.hasOwnProperty("subcode")?Number(r.subcode):null,s=r.messageCode,s=s&&s.toUpperCase());const l=n.authMode;if(a===403&&(o===4||r.message&&r.message.toLowerCase().indexOf("ssl")>-1&&r.message.toLowerCase().indexOf("permission")===-1)){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||a===498)&&dde.indexOf(a)!==-1&&!t8(e.params.url)&&(a!==403||hde.indexOf(s)===-1&&(o==null||o===2&&e.credentialToken))){await Z3();try{const u=await ii.getCredential(e.params.url,{error:io("request:server",r,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=u,e.credentialToken=u.token,e.useSSL=e.useSSL||u.ssl,!1}catch(u){if(l==="no-prompt")return e.credential=null,e.credentialToken=null,!1;r=u}}if(r)throw r;return!0}function gP(e,t,i=!1){const n=t.controller.signal,r=new Image;return t.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.src=e,ude(r,e,i,n)}$t._abortableFetch=null,$t._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];var kde=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"}));function te(e,t,i){let n,r;return t===void 0||Array.isArray(t)?(r=e,i=t,n=[void 0]):(r=t,n=Array.isArray(e)?e:[e]),(a,o)=>{const s=a.constructor.prototype;n.forEach(l=>{const u=bz(a,l,r);u.read&&typeof u.read=="object"||(u.read={}),u.read.reader=s[o],i&&(u.read.source=(u.read.source||[]).concat(i))})}}let To=class extends B{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Le.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Le)return e;if(e!=null){const i=new Le;return i.read(e,t),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};c([d()],To.prototype,"type",void 0),c([d({readOnly:!0})],To.prototype,"cache",null),c([d({readOnly:!0})],To.prototype,"extent",null),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],To.prototype,"hasM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],To.prototype,"hasZ",void 0),c([d({type:Le,json:{write:!0}})],To.prototype,"spatialReference",void 0),c([te("spatialReference")],To.prototype,"readSpatialReference",null),To=c([_("esri.geometry.Geometry")],To);const nr=To,_de=Object.prototype.toString;function Sde(e){const t="__accessorMetadata__"in e?_t(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Dde.apply(this,i)}}function Dde(e,t,i,n){Ik(e,t).cast=n}function $de(e){return function(t,i){Ik(t,e).cast=t[i]}}function Ye(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&_de.call(e[0])==="[object Function]"?Sde(e[0]):e.length===1&&typeof e[0]=="string"?$de(e[0]):void 0}function Cde(e,t,i,n){var r;return e.x=e.x+t,e.y=e.y+i,n!=null&&(e.z=((r=e.z)!=null?r:0)+n),e}function Tde(e,t){const i=e.x-t.x,n=e.y-t.y,r=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(i*i+n*n+r*r)}class tE{constructor(t,i,n,r){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Ct=new tE(6378137,1/298.257223563,3e5,.006694379990137799),bl=new tE(3396190,1/169.8944472236118,23e4),iu=new tE(1737400,0,0),Ede=57.29577951308232,Ide=.017453292519943;function yP(e){return e*Ede}function bP(e){return e*Ide}function aOe(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Ct.radius))}function X3(e){return e.wkid!=null||e.wkt!=null}const L2=[0,0];function gx(e,t,i,n,r){const a=e,o=r;if(o.spatialReference=i,"x"in a&&"x"in o)[o.x,o.y]=t(a.x,a.y,L2,n);else if("xmin"in a&&"xmin"in o)[o.xmin,o.ymin]=t(a.xmin,a.ymin,L2,n),[o.xmax,o.ymax]=t(a.xmax,a.ymax,L2,n);else if("paths"in a&&"paths"in o||"rings"in a&&"rings"in o){const s="paths"in a?a.paths:a.rings,l=[];let u;for(let h=0;h<s.length;h++){const m=s[h];u=[],l.push(u);for(let f=0;f<m.length;f++)u.push(t(m[f][0],m[f][1],[0,0],n)),m[f].length>2&&u[f].push(m[f][2]),m[f].length>3&&u[f].push(m[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in a&&"points"in o){const s=a.points,l=[];for(let u=0;u<s.length;u++)l[u]=t(s[u][0],s[u][1],[0,0],n),s[u].length>2&&l[u].push(s[u][2]),s[u].length>3&&l[u].push(s[u][3]);o.points=l}return r}function k1(e,t){const i=e&&(X3(e)?e:e.spatialReference),n=t&&(X3(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!n)&&(!!cr(n,i)||nh(n)&&uy(i)||nh(i)&&uy(n))}function Bk(e,t){if(z(e))return null;const i=e.spatialReference,n=t&&(X3(t)?t:t.spatialReference);return k1(i,n)?cr(i,n)?N(e):nh(n)?gx(e,Hp,Le.WebMercator,!1,N(e)):uy(n)?gx(e,Eg,Le.WGS84,!1,N(e)):null:null}function Hp(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=bP(t);return i[0]=bP(e)*Ct.radius,i[1]=Ct.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function Eg(e,t,i=[0,0],n=!1){const r=yP(e/Ct.radius);return i[0]=n?r:r-360*Math.floor((r+180)/360),i[1]=yP(Math.PI/2-2*Math.atan(Math.exp(-t/Ct.radius))),i}function vl(e,t=!1,i=N(e)){return gx(e,Hp,Le.WebMercator,t,i)}function x0(e,t=!1,i=N(e)){return gx(e,Eg,Le.WGS84,t,i)}var _1;const Gf=[0,0];function vP(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}const pv=Z.getLogger("esri.geometry.Point");let xn=_1=class extends nr{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(i)?i:i.clone())}normalizeCtorArgs(e,t,i,n,r){let a;if(Array.isArray(e))a=e,r=t,e=a[0],t=a[1],i=a[2],n=a[3];else if(e&&typeof e=="object"){if(a=e,e=a.x!=null?a.x:a.longitude,t=a.y!=null?a.y:a.latitude,i=a.z,n=a.m,(r=a.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new Le(r)),a.longitude!=null||a.latitude!=null){if(a.longitude==null)pv.warn(".longitude=","Latitude was defined without longitude");else if(a.latitude==null)pv.warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&r&&r.isWebMercator){const s=Hp(a.longitude,a.latitude,Gf);e=s[0],t=s[1]}}}else vP(i)?(r=i,i=null):vP(n)&&(r=n,n=null);const o={x:e,y:t};return o.x==null&&o.y!=null?pv.warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&pv.warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),i!=null&&(o.z=i),n!=null&&(o.m=n),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:i}=this;if(e){if(e.isWebMercator)return Eg(t,i,Gf)[1];if(e.isGeographic)return i}return null}set latitude(e){const{spatialReference:t,x:i}=this;t&&(t.isWebMercator?this._set("y",Hp(i,e,Gf)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:i}=this;if(i){if(i.isWebMercator)return Eg(e,t,Gf)[0];if(i.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:i}=this;i&&(i.isWebMercator?this._set("x",Hp(e,t,Gf)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new _1;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return _1.copy(e,this),this}equals(e){if(z(e))return!1;const{x:t,y:i,z:n,m:r,spatialReference:a}=this,{z:o,m:s}=e;let{x:l,y:u,spatialReference:h}=e;if(!a.equals(h))if(a.isWebMercator&&h.isWGS84)[l,u]=Hp(l,u),h=a;else{if(!a.isWGS84||!h.isWebMercator)return!1;[l,u]=Eg(l,u),h=a}return t===l&&i===u&&n===o&&r===s&&a.wkid===h.wkid}offset(e,t,i){return Cde(this,e,t,i)}normalize(){if(!this.spatialReference)return this;const e=oo(this.spatialReference);if(!e)return this;let t=this.x;const[i,n]=e.valid,r=2*n;let a;return t>n?(a=Math.ceil(Math.abs(t-n)/r),t-=a*r):t<i&&(a=Math.ceil(Math.abs(t-i)/r),t+=a*r),this._set("x",t),this}distance(e){return Tde(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],xn.prototype,"cache",null),c([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],xn.prototype,"hasM",null),c([d({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],xn.prototype,"hasZ",null),c([d({type:Number})],xn.prototype,"latitude",null),c([d({type:Number})],xn.prototype,"longitude",null),c([d({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ye(e=>isNaN(e)?e:la(e))],xn.prototype,"x",void 0),c([ae("x")],xn.prototype,"writeX",null),c([te("x")],xn.prototype,"readX",null),c([d({type:Number,json:{write:!0}})],xn.prototype,"y",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],xn.prototype,"z",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],xn.prototype,"m",void 0),xn=_1=c([_("esri.geometry.Point")],xn),xn.prototype.toJSON.isDefaultToJSON=!0;const be=xn,R2=[0,0];function Gk(e,t){return!!$(t)&&$n(e,t.x,t.y,t.z)}function oOe(e,t){if(!t.points||t.points.length)return!1;for(const i of t.points)if(!Im(e,i))return!1;return!0}function Mde(e,t){const{xmin:i,ymin:n,zmin:r,xmax:a,ymax:o,zmax:s}=t;return e.hasZ&&t.hasZ?$n(e,i,n,r)&&$n(e,i,o,r)&&$n(e,a,o,r)&&$n(e,a,n,r)&&$n(e,i,n,s)&&$n(e,i,o,s)&&$n(e,a,o,s)&&$n(e,a,n,s):$n(e,i,n)&&$n(e,i,o)&&$n(e,a,o)&&$n(e,a,n)}function Im(e,t){return $n(e,t[0],t[1])}function Ode(e,t){return $n(e,t[0],t[1],t[2])}function $n(e,t,i,n){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(n==null||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function i8(e,t){return R2[1]=t.y,R2[0]=t.x,n8(e,R2)}function n8(e,t){return Ade(e.rings,t)}function Ade(e,t){if(!e)return!1;if(Pde(e))return wP(!1,e,t);let i=!1;for(let n=0,r=e.length;n<r;n++)i=wP(i,e[n],t);return i}function Pde(e){return!Array.isArray(e[0][0])}function wP(e,t,i){const[n,r]=i;let a=e,o=0;for(let s=0,l=t.length;s<l;s++){o++,o===l&&(o=0);const[u,h]=t[s],[m,f]=t[o];(h<r&&f>=r||f<r&&h>=r)&&u+(r-h)/(f-h)*(m-u)<n&&(a=!a)}return a}function Lde(e,t){return Gk(e,t)}function Rde(e,t){const i=e.hasZ&&t.hasZ;let n,r,a;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(r=t.ymin,e.ymax<r)return!1}else if(r=e.ymin,t.ymax<r)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(a=t.zmin,e.zmax<a)return!1}else if(a=e.zmin,t.zmax<a)return!1}return!0}function Fde(e,t){const{points:i,hasZ:n}=t,r=n?Ode:Im;for(const a of i)if(r(e,a))return!0;return!1}const rh=[0,0],ah=[0,0],oh=[0,0],sh=[0,0],Nde=[rh,ah,oh,sh],r8=[[oh,rh],[rh,ah],[ah,sh],[sh,oh]];function zde(e,t){rh[0]=e.xmin,rh[1]=e.ymax,ah[0]=e.xmax,ah[1]=e.ymax,oh[0]=e.xmin,oh[1]=e.ymin,sh[0]=e.xmax,sh[1]=e.ymin;for(const i of Nde)if(n8(t,i))return!0;for(const i of t.rings){if(!i.length)continue;let n=i[0];if(Im(e,n))return!0;for(let r=1;r<i.length;r++){const a=i[r];if(Im(e,a)||a8(n,a,r8))return!0;n=a}}return!1}function jde(e,t){rh[0]=e.xmin,rh[1]=e.ymax,ah[0]=e.xmax,ah[1]=e.ymax,oh[0]=e.xmin,oh[1]=e.ymin,sh[0]=e.xmax,sh[1]=e.ymin;const i=t.paths;for(const n of i){if(!i.length)continue;let r=n[0];if(Im(e,r))return!0;for(let a=1;a<n.length;a++){const o=n[a];if(Im(e,o)||a8(r,o,r8))return!0;r=o}}return!1}const zi=[0,0];function Vde(e){for(let t=0;t<e.length;t++){const i=e[t];for(let r=0;r<i.length-1;r++){const a=i[r],o=i[r+1];for(let s=t+1;s<e.length;s++)for(let l=0;l<e[s].length-1;l++){const u=e[s][l],h=e[s][l+1];if(Q3(a,o,u,h,zi)&&!(zi[0]===a[0]&&zi[1]===a[1]||zi[0]===u[0]&&zi[1]===u[1]||zi[0]===o[0]&&zi[1]===o[1]||zi[0]===h[0]&&zi[1]===h[1]))return!0}}const n=i.length;if(!(n<=4))for(let r=0;r<n-3;r++){let a=n-1;r===0&&(a=n-2);const o=i[r],s=i[r+1];for(let l=r+2;l<a;l++){const u=i[l],h=i[l+1];if(Q3(o,s,u,h,zi)&&!(zi[0]===o[0]&&zi[1]===o[1]||zi[0]===u[0]&&zi[1]===u[1]||zi[0]===s[0]&&zi[1]===s[1]||zi[0]===h[0]&&zi[1]===h[1]))return!0}}}return!1}function a8(e,t,i){for(let n=0;n<i.length;n++)if(Q3(e,t,i[n][0],i[n][1]))return!0;return!1}function Q3(e,t,i,n,r){const[a,o]=e,[s,l]=t,[u,h]=i,[m,f]=n,g=m-u,b=a-u,v=s-a,w=f-h,x=o-h,S=l-o,E=w*v-g*S;if(E===0)return!1;const T=(g*x-w*b)/E,C=(v*x-S*b)/E;return T>=0&&T<=1&&C>=0&&C<=1&&(r&&(r[0]=a+T*(s-a),r[1]=o+T*(l-o)),!0)}function Hde(e){switch(e){case"esriGeometryEnvelope":case"extent":return Rde;case"esriGeometryMultipoint":case"multipoint":return Fde;case"esriGeometryPoint":case"point":return Lde;case"esriGeometryPolygon":case"polygon":return zde;case"esriGeometryPolyline":case"polyline":return jde}}var Kr;function qde(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Vl(e,t,i){return t==null?i:i==null?t:e(t,i)}let Si=Kr=class extends nr{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,n,r){return qde(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Le.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:n,spatialReference:r==null?Le.WGS84:r}}static fromBounds(e,t){return new Kr({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Kr({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new be({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Kr;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&k1(t,i)&&(e=t.isWebMercator?vl(e):x0(e,!0)),e.type==="point"?Gk(this,e):e.type==="extent"&&Mde(this,e)}equals(e){if(this===e)return!0;if(z(e))return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&k1(t,i)&&(e=t.isWebMercator?vl(e):x0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,n=this.height*t;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const r=(this.zmax-this.zmin)*t;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*t;this.mmin+=r,this.mmax-=r}return this}intersects(e){if(z(e))return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&k1(t,i)&&(e=t.isWebMercator?vl(e):x0(e,!0)),Hde(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Vl(Math.min,this.zmin,e.zmin),this.zmax=Vl(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Vl(Math.min,this.mmin,e.mmin),this.mmax=Vl(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:z(e)||!this.intersects(e)?null:(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Vl(Math.max,this.zmin,e.zmin),this.zmax=Vl(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Vl(Math.max,this.mmin,e.mmin),this.mmax=Vl(Math.min,this.mmax,e.mmax)),this)}toJSON(e){return this.write({},e)}_shiftCM(e=oo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const n=t.isWebMercator?x0(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(n.x=this._normalizeX(n.x,e).x),this.spatialReference=new Le(cs(t.isWGS84?e.altTemplate:e.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(e){let t=null;const[i,n]=e.valid,r=this.xmin,a=this.xmax;return r>=i&&r<=n&&a>=i&&a<=n||(t=this.center),t}_normalize(e,t,i){const n=this.spatialReference;if(!n)return this;if(!(i=i||oo(n)))return this;const r=this._getParts(i).map(s=>s.extent);if(r.length<2)return r[0]||this;if(r.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return r;let a=!0,o=!0;return r.forEach(s=>{s.hasZ||(a=!1),s.hasM||(o=!1)}),{rings:r.map(s=>{const l=[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]];if(a){const u=(s.zmax-s.zmin)/2;for(let h=0;h<l.length;h++)l[h].push(u)}if(o){const u=(s.mmax-s.mmin)/2;for(let h=0;h<l.length;h++)l[h].push(u)}return l}),hasZ:a,hasM:o,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:a,spatialReference:o}=this,s=this.width,l=this.xmin,u=this.xmax;let h;e=e||oo(o);const[m,f]=e.valid;h=this._normalizeX(this.xmin,e);const g=h.x,b=h.frameId;h=this._normalizeX(this.xmax,e);const v=h.x,w=h.frameId,x=g===v&&s>0;if(s>2*f){const S=new Kr(l<u?g:v,r,f,a,o),E=new Kr(m,r,l<u?v:g,a,o),T=new Kr(0,r,f,a,o),C=new Kr(m,r,0,a,o),M=[],L=[];S.contains(T)&&M.push(b),S.contains(C)&&L.push(b),E.contains(T)&&M.push(w),E.contains(C)&&L.push(w);for(let j=b+1;j<w;j++)M.push(j),L.push(j);t.push({extent:S,frameIds:[b]},{extent:E,frameIds:[w]},{extent:T,frameIds:M},{extent:C,frameIds:L})}else g>v||x?t.push({extent:new Kr(g,r,f,a,o),frameIds:[b]},{extent:new Kr(m,r,v,a,o),frameIds:[w]}):t.push({extent:new Kr(g,r,v,a,o),frameIds:[b]});this.cache._parts=t}const i=this.hasZ,n=this.hasM;if(i||n){const r={};i&&(r.zmin=this.zmin,r.zmax=this.zmax),n&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let a=0;a<t.length;a++)t[a].extent.set(r)}return t}_normalizeX(e,t){const[i,n]=t.valid,r=2*n;let a,o=0;return e>n?(a=Math.ceil(Math.abs(e-n)/r),e-=a*r,o=a):e<i&&(a=Math.ceil(Math.abs(e-i)/r),e+=a*r,o=-a),{x:e,frameId:o}}};c([d({readOnly:!0})],Si.prototype,"cache",null),c([d({readOnly:!0})],Si.prototype,"center",null),c([d({readOnly:!0})],Si.prototype,"extent",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Si.prototype,"hasM",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Si.prototype,"hasZ",null),c([d({readOnly:!0})],Si.prototype,"height",null),c([d({readOnly:!0})],Si.prototype,"width",null),c([d({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Si.prototype,"xmin",void 0),c([d({type:Number,json:{write:!0}})],Si.prototype,"ymin",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Si.prototype,"mmin",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Si.prototype,"zmin",void 0),c([d({type:Number,json:{write:!0}})],Si.prototype,"xmax",void 0),c([d({type:Number,json:{write:!0}})],Si.prototype,"ymax",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Si.prototype,"mmax",void 0),c([d({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Si.prototype,"zmax",void 0),Si=Kr=c([_("esri.geometry.Extent")],Si),Si.prototype.toJSON.isDefaultToJSON=!0;const lt=Si;var xP,kP,_P;let Ude,Ig;const SP=(xP=(kP=globalThis.esriConfig)==null?void 0:kP.locale)!=null?xP:(_P=globalThis.dojoConfig)==null?void 0:_P.locale;function o8(){var e,t;return(e=SP!=null?SP:(t=globalThis.navigator)==null?void 0:t.language)!=null?e:"en"}function Mr(){return Ig===void 0&&(Ig=o8()),Ig}const Mg=[];function s8(e){return Mg.push(e),{remove(){Mg.splice(Mg.indexOf(e),1)}}}const e5=[];function iE(e){return e5.push(e),{remove(){Mg.splice(e5.indexOf(e),1)}}}function Bde(){var e;const t=(e=Ude)!=null?e:o8();Ig!==t&&(Ig=t,[...e5].forEach(i=>{i.call(null,t)}),[...Mg].forEach(i=>{i.call(null,t)}))}globalThis.addEventListener==null||globalThis.addEventListener("languagechange",Bde);class Te{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=i,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,a)=>{const o=this.toJSON(n);o!==void 0&&Pr(a,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const i=this.apiToJSON[t];return this.options.useNumericKeys?+i:i}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const i={};for(const n in t)i[t[n]]=n;return i}_getKeysSorted(t){const i=[];for(const n in t)i.push(n);return i.sort(),i}}function rn(){return function(e,t){return new Te(e,D({ignoreUnknown:!0},t))}}var t5;const Gde=new Te({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Zr=t5=class extends he{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new t5({categories:this.categories?N(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i,n;if(this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o)),this.extent){const o=Bk(this.extent,Le.WGS84);$(o)&&(n=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&e.extraQuery&&(r="("+r+")"+e.extraQuery);const a={categories:i,bbox:n,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(",").map(o=>Gde.toJSON(o.trim())).join(","),a.sortOrder=this.sortOrder),{query:D(D({},t),a)}}};c([d()],Zr.prototype,"categories",void 0),c([d()],Zr.prototype,"disableExtraQuery",void 0),c([d({type:lt})],Zr.prototype,"extent",void 0),c([d()],Zr.prototype,"filter",void 0),c([d()],Zr.prototype,"num",void 0),c([d()],Zr.prototype,"query",void 0),c([d()],Zr.prototype,"sortField",void 0),c([d()],Zr.prototype,"sortOrder",null),c([d()],Zr.prototype,"start",void 0),Zr=t5=c([_("esri.portal.PortalQueryParams")],Zr);const pl=Zr;let Ru=class extends he{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};c([d()],Ru.prototype,"nextQueryParams",void 0),c([d()],Ru.prototype,"queryParams",void 0),c([d()],Ru.prototype,"results",void 0),c([d()],Ru.prototype,"total",void 0),Ru=c([_("esri.portal.PortalQueryResult")],Ru);const Wde=Ru;let Ls=class extends B{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new P("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};c([d({type:Date})],Ls.prototype,"created",void 0),c([d()],Ls.prototype,"id",void 0),c([d()],Ls.prototype,"portal",void 0),c([d()],Ls.prototype,"title",void 0),c([d({readOnly:!0})],Ls.prototype,"url",null),c([d()],Ls.prototype,"username",void 0),Ls=c([_("esri.portal.PortalFolder")],Ls);const Jde=Ls;let Di=class extends B{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new P("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let i=_t(pl,e);return parseFloat(this.portal.currentVersion)>5?(i=i||new pl,this.portal._queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new pl,i.query="group:"+this.id+(i.query?" "+i.query:""),this.portal.queryItems(i,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then(i=>{const n=i.contentCategorySetsGroupQuery;if(n){const r=new pl;return r.disableExtraQuery=!0,r.num=1,r.query=n,this.portal.queryGroups(r,t)}throw new P("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],r=new pl;return r.num=1,r.query=`typekeywords:"${e}"`,n.queryItems(r,t)}throw new P("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(n=>{const r=n&&n.categorySchema;return r&&r.length?r:[]}):[])}};c([d()],Di.prototype,"access",void 0),c([d({type:Date})],Di.prototype,"created",void 0),c([d()],Di.prototype,"description",void 0),c([d()],Di.prototype,"id",void 0),c([d()],Di.prototype,"isInvitationOnly",void 0),c([d({type:Date})],Di.prototype,"modified",void 0),c([d()],Di.prototype,"owner",void 0),c([d()],Di.prototype,"portal",void 0),c([d()],Di.prototype,"snippet",void 0),c([d()],Di.prototype,"sortField",void 0),c([d()],Di.prototype,"sortOrder",void 0),c([d()],Di.prototype,"tags",void 0),c([d()],Di.prototype,"thumbnail",void 0),c([d({readOnly:!0})],Di.prototype,"thumbnailUrl",null),c([d()],Di.prototype,"title",void 0),c([d({readOnly:!0})],Di.prototype,"url",null),Di=c([_("esri.portal.PortalGroup")],Di);const i5=Di;var Yde=Object.freeze(Object.defineProperty({__proto__:null,default:i5},Symbol.toStringTag,{value:"Module"})),n5;let St=n5=class extends B{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e&&e.data,n=e&&e.folder,r={method:"post"};t&&(r.query=t.createPostQuery(),i!=null&&(typeof i=="string"?r.query.text=i:typeof i=="object"&&(r.query.text=JSON.stringify(i))));let a=this.userContentUrl;return n&&(a+="/"+(typeof n=="string"?n:n.id)),this.portal._request(a+"/addItem",r).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then(()=>{e.id=null,e.portal=null})}deleteItems(e){const t=this.userContentUrl+"/deleteItems",i=e.map(n=>n.id);if(i.length){const n={method:"post",query:{items:i.join(",")}};return this.portal._request(t,n).then(()=>{e.forEach(r=>{r.id=null,r.portal=null})})}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal._request(this.userContentUrl,e).then(t=>{let i;return i=t&&t.folders?t.folders.map(n=>{const r=Jde.fromJSON(n);return r.portal=this.portal,r}):[],i})}fetchGroups(){return this.portal._request(this.url).then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const n=i5.fromJSON(i);return n.portal=this.portal,n}):[],t})}fetchItems(e){e||(e={});let t,i=this.userContentUrl;return e.folder&&(i+="/"+e.folder.id),Promise.resolve().then(function(){return l8}).then(({default:n})=>{t=n;const r={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(i,{query:r})}).then(n=>{let r;return n&&n.items?(r=n.items.map(a=>{const o=t.fromJSON(a);return o.portal=this.portal,o}),Promise.all(r.map(a=>a.load())).catch(a=>a).then(()=>({items:r,nextStart:n.nextStart,total:n.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal._request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new i5({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new P("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new P("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new n5;return t.sourceJSON=e,t.read(e),t}};c([d()],St.prototype,"access",void 0),c([d({type:Date})],St.prototype,"created",void 0),c([d()],St.prototype,"culture",void 0),c([d()],St.prototype,"description",void 0),c([d()],St.prototype,"email",void 0),c([d()],St.prototype,"favGroupId",void 0),c([d()],St.prototype,"fullName",void 0),c([d({type:Date})],St.prototype,"modified",void 0),c([d()],St.prototype,"orgId",void 0),c([d()],St.prototype,"portal",void 0),c([d()],St.prototype,"preferredView",void 0),c([d()],St.prototype,"privileges",void 0),c([d()],St.prototype,"region",void 0),c([d()],St.prototype,"role",void 0),c([d()],St.prototype,"roleId",void 0),c([d()],St.prototype,"sourceJSON",void 0),c([d()],St.prototype,"thumbnail",void 0),c([d({readOnly:!0})],St.prototype,"thumbnailUrl",null),c([d()],St.prototype,"units",void 0),c([d({readOnly:!0})],St.prototype,"userContentUrl",null),c([d({readOnly:!0})],St.prototype,"url",null),c([d()],St.prototype,"username",void 0),c([d()],St.prototype,"userType",void 0),St=n5=c([_("esri.portal.PortalUser")],St);const nE=St;var Kde=Object.freeze(Object.defineProperty({__proto__:null,default:nE},Symbol.toStringTag,{value:"Module"})),mr;let F2;const DP={PortalGroup:()=>Promise.resolve().then(function(){return Yde}),PortalItem:()=>Promise.resolve().then(function(){return l8}),PortalUser:()=>Promise.resolve().then(function(){return Kde})};let ee=mr=class extends ib(Dl){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=rt.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)rt.request.trustedServers.indexOf(t)===-1&&rt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return mle(Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=nE.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(function(){return phe}).then(({default:i})=>{hi(e),F2=i}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e)).then(i=>{if(ii){const n=ii;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==mr.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=n.on("credential-create",()=>{n.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){rp(Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(await import("./ClosestFacilityTask.ed057834.js")).default(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await import("./ElevationLayer.5f9ef221.js")).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async createGeometryService(){rp(Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(await import("./GeometryService.c397957a.js")).default({url:e})}async createPrintTask(){rp(Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(await import("./PrintTask.75c42d8b.js")).default(e)}async createRouteTask(){rp(Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(await import("./RouteTask.7085c19c.js")).default(e)}async createServiceAreaTask(){rp(Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(await import("./ServiceAreaTask.cb5ae248.js")).default(e)}fetchBasemaps(e,t){const i=new pl;return i.query=e||(rt.apiKey&&Qz(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0,this.queryGroups(i,t).then(n=>{if(i.num=100,i.query='type:"Web Map" -type:"Web Application"',n.total){const r=n.results[0];return i.sortField=r.sortField||"name",i.sortOrder=r.sortOrder||"desc",r.queryItems(i,t)}return null}).then(n=>{let r;return r=n&&n.total?n.results.filter(a=>a.type==="Web Map").map(a=>new F2({portalItem:a})):[],r})}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):us(e)?Promise.reject(di()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new pl;if(i.num=100,i.sortField="title",t&&t.length){const n=[];for(const r of t)n.push(`(title:"${r.title}" AND owner:${r.owner})`);return i.query=n.join(" OR "),this.queryGroups(i,e).then(r=>r.results)}return us(e)?Promise.reject(di()):Promise.resolve([])}fetchRegions(e){var t;const i=((t=this.user)==null?void 0:t.culture)||this.culture||Mr();return this._request(this.restUrl+"/portals/regions",ne(D({},e),{query:{culture:i}}))}fetchSettings(e){var t;const i=((t=this.user)==null?void 0:t.culture)||this.culture||Mr();return this._request(this.restUrl+"/portals/self/settings",ne(D({},e),{query:{culture:i}}))}static getDefault(){return mr._default&&!mr._default.destroyed||(mr._default=new mr),mr._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new P("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new mr({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new P("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new P("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,i){const n=this.restUrl+"/portals/self",r=D({authMode:e,query:{culture:Mr().toLowerCase()}},i);return r.authMode==="auto"&&(r.authMode="no-prompt"),t&&(r.query.default=!0),this._request(n,r)}_queryPortal(e,t,i,n){const r=_t(pl,t),a=o=>this._request(this.restUrl+e,D(D({},r.toRequestOptions(this)),n)).then(s=>{const l=r.clone();return l.start=s.nextStart,new Wde({nextQueryParams:l,queryParams:r,total:s.total,results:mr._resultsToTypedArray(o,{portal:this},s,n)})}).then(s=>Promise.all(s.results.map(l=>typeof l.when=="function"?l.when():s)).then(()=>s,l=>(Qy(l),s)));return i&&DP[i]?DP[i]().then(({default:o})=>(hi(n),a(o))):a()}_signIn(){if(this.authMode===mr.AUTH_MODE_ANONYMOUS)return Promise.reject(new P("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this._fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this._fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return ii?ii.getCredential(this.restUrl).then(t=>e(t)):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,i){return this._request(e,t).then(n=>{const r=mr._resultsToTypedArray(i,{portal:this},n);return Promise.all(r.map(a=>typeof a.when=="function"?a.when():n)).then(()=>r,()=>r)})}_readBasemap(e){if(e){const t=F2.fromJSON(e);return t.portalItem={portal:this},t}return null}_request(e,t={}){const i=D({f:"json"},t.query),{authMode:n=this.authMode===mr.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:r=null,cacheBust:a=!1,method:o="auto",responseType:s="json",signal:l}=t,u={authMode:n,body:r,cacheBust:a,method:o,query:i,responseType:s,timeout:0,signal:l};return $t(this._normalizeSSL(e),u).then(h=>h.data)}static _resultsToTypedArray(e,t,i,n){let r;if(i){const a=$(n)?n.signal:null;r=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(r=r.map(o=>{const s=Object.assign(e?e.fromJSON(o):o,t);return typeof s.load=="function"&&s.load(a),s}))}else r=[];return r}};ee.AUTH_MODE_ANONYMOUS="anonymous",ee.AUTH_MODE_AUTO="auto",ee.AUTH_MODE_IMMEDIATE="immediate",c([d()],ee.prototype,"access",void 0),c([d()],ee.prototype,"allSSL",void 0),c([d()],ee.prototype,"authMode",void 0),c([d()],ee.prototype,"authorizedCrossOriginDomains",void 0),c([te("authorizedCrossOriginDomains")],ee.prototype,"readAuthorizedCrossOriginDomains",null),c([d()],ee.prototype,"basemapGalleryGroupQuery",void 0),c([d()],ee.prototype,"bingKey",void 0),c([d()],ee.prototype,"canListApps",void 0),c([d()],ee.prototype,"canListData",void 0),c([d()],ee.prototype,"canListPreProvisionedItems",void 0),c([d()],ee.prototype,"canProvisionDirectPurchase",void 0),c([d()],ee.prototype,"canSearchPublic",void 0),c([d()],ee.prototype,"canShareBingPublic",void 0),c([d()],ee.prototype,"canSharePublic",void 0),c([d()],ee.prototype,"canSignInArcGIS",void 0),c([d()],ee.prototype,"canSignInIDP",void 0),c([d()],ee.prototype,"colorSetsGroupQuery",void 0),c([d()],ee.prototype,"commentsEnabled",void 0),c([d({type:Date})],ee.prototype,"created",void 0),c([d()],ee.prototype,"credential",void 0),c([d()],ee.prototype,"culture",void 0),c([d()],ee.prototype,"currentVersion",void 0),c([d()],ee.prototype,"customBaseUrl",void 0),c([d()],ee.prototype,"defaultBasemap",void 0),c([te("defaultBasemap")],ee.prototype,"readDefaultBasemap",null),c([d()],ee.prototype,"defaultDevBasemap",void 0),c([te("defaultDevBasemap")],ee.prototype,"readDefaultDevBasemap",null),c([d({type:lt})],ee.prototype,"defaultExtent",void 0),c([d()],ee.prototype,"defaultVectorBasemap",void 0),c([te("defaultVectorBasemap")],ee.prototype,"readDefaultVectorBasemap",null),c([d()],ee.prototype,"description",void 0),c([d()],ee.prototype,"devBasemapGalleryGroupQuery",void 0),c([d()],ee.prototype,"eueiEnabled",void 0),c([d({readOnly:!0})],ee.prototype,"extraQuery",null),c([d()],ee.prototype,"featuredGroups",void 0),c([d()],ee.prototype,"featuredItemsGroupQuery",void 0),c([d()],ee.prototype,"galleryTemplatesGroupQuery",void 0),c([d()],ee.prototype,"livingAtlasGroupQuery",void 0),c([d()],ee.prototype,"hasCategorySchema",void 0),c([d()],ee.prototype,"helpBase",void 0),c([d()],ee.prototype,"helperServices",void 0),c([d()],ee.prototype,"helpMap",void 0),c([d()],ee.prototype,"homePageFeaturedContent",void 0),c([d()],ee.prototype,"homePageFeaturedContentCount",void 0),c([d()],ee.prototype,"httpPort",void 0),c([d()],ee.prototype,"httpsPort",void 0),c([d()],ee.prototype,"id",void 0),c([d()],ee.prototype,"ipCntryCode",void 0),c([d({readOnly:!0})],ee.prototype,"isOrganization",null),c([d()],ee.prototype,"isPortal",void 0),c([d()],ee.prototype,"isReadOnly",void 0),c([d()],ee.prototype,"layerTemplatesGroupQuery",void 0),c([d()],ee.prototype,"maxTokenExpirationMinutes",void 0),c([d({type:Date})],ee.prototype,"modified",void 0),c([d()],ee.prototype,"name",void 0),c([d()],ee.prototype,"portalHostname",void 0),c([d()],ee.prototype,"portalMode",void 0),c([d()],ee.prototype,"portalProperties",void 0),c([d()],ee.prototype,"region",void 0),c([d({readOnly:!0})],ee.prototype,"restUrl",null),c([d()],ee.prototype,"rotatorPanels",void 0),c([d()],ee.prototype,"showHomePageDescription",void 0),c([d()],ee.prototype,"sourceJSON",void 0),c([d()],ee.prototype,"staticImagesUrl",void 0),c([d({readOnly:!0,json:{read:!1}})],ee.prototype,"stylesGroupQuery",null),c([d({json:{name:"2DStylesGroupQuery"}})],ee.prototype,"stylesGroupQuery2d",void 0),c([d({json:{name:"stylesGroupQuery"}})],ee.prototype,"stylesGroupQuery3d",void 0),c([d()],ee.prototype,"supportsHostedServices",void 0),c([d()],ee.prototype,"symbolSetsGroupQuery",void 0),c([d()],ee.prototype,"templatesGroupQuery",void 0),c([d()],ee.prototype,"thumbnail",void 0),c([d({readOnly:!0})],ee.prototype,"thumbnailUrl",null),c([d()],ee.prototype,"units",void 0),c([d()],ee.prototype,"url",void 0),c([d()],ee.prototype,"urlKey",void 0),c([te("urlKey")],ee.prototype,"readUrlKey",null),c([d()],ee.prototype,"user",void 0),c([te("user")],ee.prototype,"readUser",null),c([d()],ee.prototype,"useStandardizedQuery",void 0),c([d()],ee.prototype,"useVectorBasemaps",void 0),c([d()],ee.prototype,"vectorBasemapGalleryGroupQuery",void 0),ee=mr=c([_("esri.portal.Portal")],ee);const rr=ee,Zde=Z.getLogger("esri.assets");function Ze(e){if(!rt.assetsPath)throw Zde.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new P("assets:path-not-set","config.assetsPath is not set");return tu(rt.assetsPath,e)}const Xde=Z.getLogger("esri.portal.PortalItemResource");let Xl=class extends he{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?ne(D({},e),{path:this._normalizePath(e.path,e.portalItem)}):e}set path(e){$(e)&&Ir(e)?Xde.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const i=this.url;if(z(i))throw new P("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(i,{responseType:e,query:{token:this.portalItem.apiKey},signal:E6(t,"signal")})}async update(e,t){return(await import("./resourceUtils.2cd531ea.js")).addOrUpdateResource(this,"update",e,t)}hasPath(){return $(this.path)}_normalizePath(e,t){return z(e)?e:(e=e.replace(/^\/+/,""),$(t)&&Ir(e)&&(e=YT(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};c([d()],Xl.prototype,"portalItem",void 0),c([d({type:String,value:null})],Xl.prototype,"path",null),c([Ye("path")],Xl.prototype,"_castPath",null),c([d({type:String,readOnly:!0})],Xl.prototype,"url",null),c([d({type:String,readOnly:!0})],Xl.prototype,"itemRelativeUrl",null),Xl=c([_("esri.portal.PortalItemResource")],Xl);const Qde=Xl;let k0=class extends he{constructor(e){super(e),this.created=null,this.rating=null}};c([d()],k0.prototype,"created",void 0),c([d()],k0.prototype,"rating",void 0),k0=c([_("esri.portal.PortalRating")],k0);const N2=k0;var ap;let Re=ap=class extends ib(Dl){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return jT(ap,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return e==="Feature Service"||e==="Feature Collection"?i=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":e==="Image Service"?i=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":e==="Scene Service"?i="Scene Layer":e==="Media Service"?i="Media Layer":e==="Scene Package"?i="Scene Layer Package":e==="Stream Service"?i="Feature Layer":e==="Geoprocessing Service"&&this.portal&&this.portal.isPortal?i=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":e==="Geocoding Service"?i="Locator":e==="Geoenrichment Service"?i="GeoEnrichment Service":e==="Microsoft Powerpoint"?i="Microsoft PowerPoint":e==="GeoJson"?i="GeoJSON":e==="Globe Service"?i="Globe Layer":e==="Vector Tile Service"?i="Tile Layer":e==="netCDF"?i="NetCDF":e==="Map Service"?i=t.indexOf("Spatiotemporal")===-1&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&t.indexOf("Relational")===-1?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?i=e.replace(/(add in)/gi,"Add-In"):e==="datastore catalog service"?i="Big Data File Share":e==="Compact Tile Package"?i="Tile Package (tpkx)":e==="OGCFeatureServer"?i="OGC Feature Layer":e==="web mapping application"&&t.indexOf("configurableApp")>-1&&(i="Instant App"),i}readExtent(e){return e&&e.length?new lt(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],i="esri/images/portal/",n="16";let r,a=!1,o=!1,s=!1,l=!1,u=!1,h=!1;return e.indexOf("service")>0||e==="feature collection"||e==="kml"||e==="wms"||e==="wmts"||e==="wfs"?(a=t.indexOf("Hosted Service")>-1,e==="feature service"||e==="feature collection"||e==="kml"||e==="wfs"?(o=t.indexOf("Table")>-1,s=t.indexOf("Route Layer")>-1,l=t.indexOf("Markup")>-1,u=t.indexOf("Spatiotemporal")!==-1,h=t.indexOf("UtilityNetwork")!==-1,r=u&&o?"spatiotemporaltable":o?"table":s?"routelayer":l?"markup":u?"spatiotemporal":a?"featureshosted":h?"utilitynetwork":"features"):r=e==="map service"||e==="wms"||e==="wmts"?a||t.indexOf("Tiled")>-1||e==="wmts"?"maptiles":"mapimages":e==="scene service"?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":e==="image service"?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":e==="stream service"?"streamlayer":e==="media service"?"mediaservice":e==="vector tile service"?"vectortile":e==="datastore catalog service"?"datastorecollection":e==="geocoding service"?"geocodeservice":e==="geoprocessing service"&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r=e==="web map"||e==="cityengine web scene"?"maps":e==="web scene"?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":e==="web mapping application"&&t.indexOf("configurableApp")>-1?"instantapps":e==="web mapping application"||e==="mobile application"||e==="application"||e==="operation view"||e==="desktop application"?"apps":e==="map document"||e==="map package"||e==="published map"||e==="scene document"||e==="globe document"||e==="basemap package"||e==="mobile basemap package"||e==="mobile map package"||e==="project package"||e==="project template"||e==="pro map"||e==="layout"||e==="layer"&&t.indexOf("ArcGIS Pro")>-1||e==="explorer map"&&t.indexOf("Explorer Document")?"mapsgray":e==="service definition"||e==="csv"||e==="shapefile"||e==="cad drawing"||e==="geojson"||e==="360 vr experience"||e==="netcdf"||e==="administrative report"?"datafiles":e==="explorer add in"||e==="desktop add in"||e==="windows viewer add in"||e==="windows viewer configuration"?"appsgray":e==="arcgis pro add in"||e==="arcgis pro configuration"?"addindesktop":e==="rule package"||e==="file geodatabase"||e==="sqlite geodatabase"||e==="csv collection"||e==="kml collection"||e==="windows mobile package"||e==="map template"||e==="desktop application template"||e==="gml"||e==="arcpad package"||e==="code sample"||e==="form"||e==="document link"||e==="earth configuration"||e==="operations dashboard add in"||e==="rules package"||e==="image"||e==="workflow manager package"||e==="explorer map"&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":e==="network analysis service"||e==="geoprocessing service"||e==="geodata service"||e==="geometry service"||e==="geoprocessing package"||e==="locator package"||e==="geoprocessing sample"||e==="workflow manager service"?"toolsgray":e==="layer"||e==="layer package"||e==="explorer layer"?"layersgray":e==="scene package"?"scenepackage":e==="mobile scene package"?"mobilescenepackage":e==="tile package"||e==="compact tile package"?"tilepackage":e==="task file"?"taskfile":e==="report template"?"report-template":e==="statistical data collection"?"statisticaldatacollection":e==="insights workbook"?"workbook":e==="insights model"?"insightsmodel":e==="insights page"?"insightspage":e==="insights theme"?"insightstheme":e==="hub initiative"?"hubinitiative":e==="hubpage"?"hubpage":e==="hub event"?"hubevent":e==="hub site application"?"hubsite":e==="hub project"?"hubproject":e==="relational database connection"?"relationaldatabaseconnection":e==="big data file share"?"datastorecollection":e==="image collection"?"imagecollection":e==="style"?"style":e==="desktop style"?"desktopstyle":e==="dashboard"?"dashboard":e==="raster function template"?"rasterprocessingtemplate":e==="vector tile package"?"vectortilepackage":e==="ortho mapping project"?"orthomappingproject":e==="ortho mapping template"?"orthomappingtemplate":e==="solution"?"solutions":e==="geopackage"?"geopackage":e==="deep learning package"?"deeplearningpackage":e==="real time analytic"?"realtimeanalytics":e==="big data analytic"?"bigdataanalytics":e==="feed"?"feed":e==="excalibur imagery project"?"excaliburimageryproject":e==="notebook"?"notebook":e==="storymap"?"storymap":e==="survey123 add in"?"survey123addin":e==="mission"?"mission":e==="mission report"?"missionreport":e==="quickcapture project"?"quickcaptureproject":e==="pro report"?"proreport":e==="urban model"?"urbanmodel":e==="web experience"?"experiencebuilder":e==="web experience template"?"webexperiencetemplate":e==="experience builder widget"?"experiencebuilderwidget":e==="experience builder widget package"?"experiencebuilderwidgetpackage":e==="workflow"?"workflow":e==="insights script"?"insightsscript":e==="kernel gateway connection"?"kernelgatewayconnection":e==="hub initiative template"?"hubinitiativetemplate":e==="storymap theme"?"storymaptheme":e==="knowledge graph"?"knowledgegraph":e==="native application"?"nativeapp":e==="native application installer"?"nativeappinstaller":e==="link chart"?"linkchart":e==="investigation"?"investigation":e==="ogcfeatureserver"?"features":e==="pro project"?"proproject":e==="insights workbook package"?"insightsworkbookpackage":e==="apache parquet"?"apacheparquet":"maps",r?Ze(i+r+n+".png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=rr.getDefault());const t=this.portal.load(e).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:$(e)?e.signal:null,query:{token:this.apiKey}}):{}).then(i=>{this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof N2&&(e=e.rating),isNaN(e)||typeof e!="number"||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then(()=>new N2({rating:e,created:new Date}))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:N(this.applicationProxies),avgRating:this.avgRating,categories:N(this.categories),created:N(this.created),culture:this.culture,description:this.description,extent:N(this.extent),groupCategories:N(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:N(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:N(this.screenshots),size:this.size,snippet:this.snippet,tags:N(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:N(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new ap({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",ne(D({responseType:e},t),{query:{token:this.apiKey}}))}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",D({query:{token:this.apiKey}},e)).then(t=>t.rating!=null?(t.created=new Date(t.created),new N2(t)):null)}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",D({query:ne(D({},e),{token:this.apiKey})},t),ap)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(e=>(this.sourceJSON=e,this.read(e),this))}update(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e&&e.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,t!=null&&(typeof t=="string"?i.query.text=t:typeof t=="object"&&(i.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new P("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const t=e.thumbnail,i=e.filename,n={method:"post"};if(typeof t=="string")vh(t)?n.query={data:t}:n.query={url:to(t)},$(i)&&(n.query.filename=i);else{const r=new FormData;$(i)?r.append("file",t,i):r.append("file",t),n.body=r}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,n).then(()=>this.reload())}):Promise.reject(new P("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await import("./resourceUtils.2cd531ea.js")).fetchResources(this,e,t)}async addResource(e,t,i){const n=await import("./resourceUtils.2cd531ea.js");return e.portalItem=this,n.addOrUpdateResource(e,"add",t,i)}async removeResource(e,t){const i=await import("./resourceUtils.2cd531ea.js");if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new P("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i.removeResource(this,e,t)}async removeAllResources(e){return(await import("./resourceUtils.2cd531ea.js")).removeAllResources(this,e)}resourceFromPath(e){return new Qde({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return L6(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ap({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)t==="tags"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="typeKeywords"&&e[t]!==null&&(e[t]=e[t].join(", ")),t==="extent"&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};c([d({type:["private","shared","org","public"]})],Re.prototype,"access",void 0),c([d()],Re.prototype,"accessInformation",void 0),c([d({type:String})],Re.prototype,"apiKey",void 0),c([d({json:{read:{source:"appProxies"}}})],Re.prototype,"applicationProxies",void 0),c([d()],Re.prototype,"avgRating",void 0),c([d()],Re.prototype,"categories",void 0),c([d({type:Date})],Re.prototype,"created",void 0),c([d()],Re.prototype,"culture",void 0),c([d()],Re.prototype,"description",void 0),c([d({readOnly:!0})],Re.prototype,"displayName",null),c([d({type:lt})],Re.prototype,"extent",void 0),c([te("extent")],Re.prototype,"readExtent",null),c([d()],Re.prototype,"groupCategories",void 0),c([d({readOnly:!0})],Re.prototype,"iconUrl",null),c([d()],Re.prototype,"id",void 0),c([d({readOnly:!0})],Re.prototype,"isLayer",null),c([d()],Re.prototype,"itemControl",void 0),c([d({readOnly:!0})],Re.prototype,"itemUrl",null),c([d()],Re.prototype,"licenseInfo",void 0),c([d({type:Date})],Re.prototype,"modified",void 0),c([d()],Re.prototype,"name",void 0),c([d()],Re.prototype,"numComments",void 0),c([d()],Re.prototype,"numRatings",void 0),c([d()],Re.prototype,"numViews",void 0),c([d()],Re.prototype,"owner",void 0),c([d()],Re.prototype,"ownerFolder",void 0),c([d({type:rr})],Re.prototype,"portal",void 0),c([d()],Re.prototype,"screenshots",void 0),c([d()],Re.prototype,"size",void 0),c([d()],Re.prototype,"snippet",void 0),c([d()],Re.prototype,"sourceJSON",void 0),c([d()],Re.prototype,"tags",void 0),c([d()],Re.prototype,"thumbnail",void 0),c([d({readOnly:!0})],Re.prototype,"thumbnailUrl",null),c([d()],Re.prototype,"title",void 0),c([d()],Re.prototype,"type",void 0),c([d()],Re.prototype,"typeKeywords",void 0),c([d()],Re.prototype,"url",void 0),c([d({readOnly:!0})],Re.prototype,"userItemUrl",null),Re=ap=c([_("esri.portal.PortalItem")],Re);const yx=Re;var l8=Object.freeze(Object.defineProperty({__proto__:null,default:yx},Symbol.toStringTag,{value:"Module"}));const $P=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ehe={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function CP(e){var t;return(t=ehe[e])!=null&&t}const _0=[],cm=new Map;function TP(e){for(const t of cm.keys())c8(e.pattern,t)&&cm.delete(t)}function the(e){return _0.includes(e)||(TP(e),_0.unshift(e)),{remove(){const t=_0.indexOf(e);t>-1&&(_0.splice(t,1),TP(e))}}}async function rE(e){const t=Mr();cm.has(e)||cm.set(e,nhe(e,t));const i=cm.get(e);return await rhe.add(i),i}function ihe(e){if(!$P.test(e))return null;const[,t,i]=$P.exec(e),n=t+(i?"-"+i.toUpperCase():"");return CP(n)?n:CP(t)?t:null}async function nhe(e,t){const i=[];for(const n of _0)if(c8(n.pattern,e))try{return await n.fetchMessageBundle(e,t)}catch(r){i.push(r)}throw i.length?new P("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i}):new P("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function c8(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}iE(()=>{cm.clear()});const rhe=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Sl())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function ahe(e){if(!e)return;const t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,i=await rE("esri/t9n/basemaps");return i[e]||i[t]}const r5={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return Ze("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return Ze("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Ze("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return Ze("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return Ze("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Ze("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return Ze("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return Ze("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return Ze("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return Ze("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return Ze("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return Ze("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return Ze("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return Ze("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return Ze("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return Ze("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}},ohe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),she=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","route","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function lhe(e){return e.layerContainerType==="basemap"?ohe:e.layerContainerType==="operational-layers"?she:null}function aE(e){return!(e.type!=="feature"||e.url||!e.source||e.source.type!=="memory")}function che(e,t){if(t.restrictedWebMapWriting){const i=lhe(t);return!$(i)||i.has(e.type)&&!aE(e)}return!0}function uhe(e,t){if(aE(e)){const i=Zm("featureCollection.layers",t),n=i&&i[0]&&i[0].layerDefinition;n&&z2(e,n)}else e.type==="stream"?z2(e,t.layerDefinition=t.layerDefinition||{}):e.type!=="group"&&z2(e,t)}function z2(e,t){"maxScale"in e&&(t.maxScale=dx(e.maxScale)),"minScale"in e&&(t.minScale=dx(e.minScale))}function dhe(e,t){if(uhe(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,t.blendMode==="normal"&&delete t.blendMode),t.opacity=dx(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&e.type!=="wmts")if(aE(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function EP(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new P("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(che(e,i)){const n={};return e.write(n,i)?n:null}return $(t)&&dhe(e,t=N(t)),t}var S1;let hhe=0;const j2=Z.getLogger("esri.Basemap");let Xr=S1=class extends ib(Dl){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+hhe++,this.baseLayers=new ge,this.referenceLayers=new ge;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&j2.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=n=>{n.parent=null};this.baseLayers.on("after-add",n=>t(n.item)),this.referenceLayers.on("after-add",n=>t(n.item)),this.baseLayers.on("after-remove",n=>i(n.item)),this.referenceLayers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{j2.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const t=this.baseLayers.removeAll();for(const n of t)n.destroy();const i=this.referenceLayers.removeAll();for(const n of i)n.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),(e=this.portalItem)==null||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=D({},e)).resourceInfo),e}set baseLayers(e){this._set("baseLayers",th(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const n=[];e&&(i=ne(D({},i),{layerContainerType:"basemap"}),this.baseLayers.forEach(r=>{const a=EP(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);$(a)&&n.push(a)}),this.referenceLayers.forEach(r=>{const a=EP(r,i.webmap?i.webmap.getLayerJSONFromResourceInfo(r):null,i);$(a)&&(a.isReference=!0,n.push(a))})),t.baseMapLayers=n}set referenceLayers(e){this._set("referenceLayers",th(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Lz(this,e=>{e(this.baseLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new S1({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t=D({origin:"web-map"},t)),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(i=>{const n=N(i);return n.url&&hs(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&hs(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i}=this;hi(e);const n=[];if(t){const r=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const a=t.data.id;n.push(ahe(a).then(o=>{o&&this.read({title:o},t.context)}))}}else i&&n.push(this._loadFromItem(i,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,i){const n=this.resourceInfo&&this.resourceInfo.context,r=this.portalItem&&this.portalItem.portal||n&&n.portal||null,a=n&&n.origin==="web-scene"?"web-scene":"web-map",{populateOperationalLayers:o}=await import("./layersCreator.eff3aa35.js"),s=[];if(hi(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const l={context:{origin:a,url:t,portal:r,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},u=o(this.baseLayers,e.baseMapLayers.filter(m=>!m.isReference),l);s.push(u);const h=o(this.referenceLayers,e.baseMapLayers.filter(m=>m.isReference),l);s.push(h)}await tr(s)}async _loadFromItem(e,t){const i=await e.load(t),n=await i.fetchData("json",t),r=Bi(e.itemUrl);return this._set("resourceInfo",{data:n.baseMap,context:{origin:"web-map",portal:e.portal||rr.getDefault(),url:r}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||rr.getDefault(),url:r}),this._loadLayersFromJSON(this.resourceInfo.data,r,t)}static fromId(e){const t=r5[e];if(t){if(t.deprecated){let i=null;e==="dark-gray"?i="dark-gray-vector":e==="gray"?i="gray-vector":e==="streets"?i="streets-vector":e==="topo"&&(i="topo-vector"),Ck(j2,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:i,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return S1.fromJSON(t)}return null}};c([d({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,n){this._writeBaseLayers(e,t,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ge}},writer(e,t,i,n){this._writeBaseLayers(e,t,n)}}}}}})],Xr.prototype,"baseLayers",null),c([d({type:String,json:{origins:{"web-scene":{write:!0}}}})],Xr.prototype,"id",void 0),c([d({type:yx})],Xr.prototype,"portalItem",void 0),c([d()],Xr.prototype,"referenceLayers",null),c([d({readOnly:!0})],Xr.prototype,"resourceInfo",void 0),c([d({type:Le})],Xr.prototype,"spatialReference",void 0),c([d()],Xr.prototype,"thumbnailUrl",void 0),c([d({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Xr.prototype,"title",void 0),c([ae("title")],Xr.prototype,"writeTitle",null),Xr=S1=c([_("esri.Basemap")],Xr);const bx=Xr;var phe=Object.freeze(Object.defineProperty({__proto__:null,default:bx},Symbol.toStringTag,{value:"Module"}));const vx={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function u8(e){return vx[e]||vx[e.toLowerCase()]}function oE(e){var t;return(t=vx[e])!=null?t:vx[e.toLowerCase()]}function mhe(e){return[...oE(e)]}function V2(e,t,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function d8(e,t,i,n=1){const r=(e%360+360)%360/360,a=i<=.5?i*(t+1):i+t-i*t,o=2*i-a;return[Math.round(255*V2(o,a,r+1/3)),Math.round(255*V2(o,a,r)),Math.round(255*V2(o,a,r-1/3)),n]}function fhe(e){const t=e.length>5,i=t?8:4,n=(1<<i)-1,r=t?1:17,a=t?e.length===9:e.length===5;let o=Number("0x"+e.substr(1));if(isNaN(o))return null;const s=[0,0,0,1];let l;return a&&(l=o&n,o>>=i,s[3]=r*l/255),l=o&n,o>>=i,s[2]=r*l,l=o&n,o>>=i,s[1]=r*l,l=o&n,o>>=i,s[0]=r*l,s}function bs(){return[0,0,0]}function ghe(e){return[e[0],e[1],e[2]]}function nf(e,t,i){return[e,t,i]}function yhe(e){const t=bs(),i=Math.min(3,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function bhe(e,t){return new Float64Array(e,t,3)}function h8(){return bs()}function p8(){return nf(1,1,1)}function m8(){return nf(1,0,0)}function f8(){return nf(0,1,0)}function g8(){return nf(0,0,1)}const vhe=h8(),y8=p8(),whe=m8(),xhe=f8(),khe=g8();Object.freeze({__proto__:null,create:bs,clone:ghe,fromValues:nf,fromArray:yhe,createView:bhe,zeros:h8,ones:p8,unitX:m8,unitY:f8,unitZ:g8,ZEROS:vhe,ONES:y8,UNIT_X:whe,UNIT_Y:xhe,UNIT_Z:khe});const _e=1e-6,Hc=Math.random,_he=Math.PI/180,She=180/Math.PI;function sE(e){return e*_he}function Dhe(e){return e*She}function $he(e,t){return Math.abs(e-t)<=_e*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze({__proto__:null,EPSILON:_e,RANDOM:Hc,toRadian:sE,toDegree:Dhe,equals:$he});function lE(e){const t=e[0],i=e[1],n=e[2];return Math.sqrt(t*t+i*i+n*n)}function a5(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function b8(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function Che(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function v8(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function w8(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function x8(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function The(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Ehe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Ihe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function Mhe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function Ohe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function k8(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function Ahe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e}function _8(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(i*i+n*n+r*r)}function S8(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return i*i+n*n+r*r}function D8(e){const t=e[0],i=e[1],n=e[2];return t*t+i*i+n*n}function Phe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function Lhe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function o5(e,t){const i=t[0],n=t[1],r=t[2];let a=i*i+n*n+r*r;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}function $8(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Rhe(e,t,i){const n=t[0],r=t[1],a=t[2],o=i[0],s=i[1],l=i[2];return e[0]=r*l-a*s,e[1]=a*o-n*l,e[2]=n*s-r*o,e}function Fhe(e,t,i,n){const r=t[0],a=t[1],o=t[2];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e[2]=o+n*(i[2]-o),e}function Nhe(e,t,i,n,r,a){const o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),h=o*(3-2*a);return e[0]=t[0]*s+i[0]*l+n[0]*u+r[0]*h,e[1]=t[1]*s+i[1]*l+n[1]*u+r[1]*h,e[2]=t[2]*s+i[2]*l+n[2]*u+r[2]*h,e}function zhe(e,t,i,n,r,a){const o=1-a,s=o*o,l=a*a,u=s*o,h=3*a*s,m=3*l*o,f=l*a;return e[0]=t[0]*u+i[0]*h+n[0]*m+r[0]*f,e[1]=t[1]*u+i[1]*h+n[1]*m+r[1]*f,e[2]=t[2]*u+i[2]*h+n[2]*m+r[2]*f,e}function jhe(e,t){t=t||1;const i=2*Hc()*Math.PI,n=2*Hc()-1,r=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(i)*r,e[1]=Math.sin(i)*r,e[2]=n*t,e}function Vhe(e,t,i){const n=t[0],r=t[1],a=t[2];return e[0]=i[0]*n+i[4]*r+i[8]*a+i[12],e[1]=i[1]*n+i[5]*r+i[9]*a+i[13],e[2]=i[2]*n+i[6]*r+i[10]*a+i[14],e}function Hhe(e,t,i){const n=t[0],r=t[1],a=t[2];return e[0]=n*i[0]+r*i[3]+a*i[6],e[1]=n*i[1]+r*i[4]+a*i[7],e[2]=n*i[2]+r*i[5]+a*i[8],e}function qhe(e,t,i){const n=i[0],r=i[1],a=i[2],o=i[3],s=t[0],l=t[1],u=t[2];let h=r*u-a*l,m=a*s-n*u,f=n*l-r*s,g=r*f-a*m,b=a*h-n*f,v=n*m-r*h;const w=2*o;return h*=w,m*=w,f*=w,g*=2,b*=2,v*=2,e[0]=s+h+g,e[1]=l+m+b,e[2]=u+f+v,e}function Uhe(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[0],a[1]=r[1]*Math.cos(n)-r[2]*Math.sin(n),a[2]=r[1]*Math.sin(n)+r[2]*Math.cos(n),e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function Bhe(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[2]*Math.sin(n)+r[0]*Math.cos(n),a[1]=r[1],a[2]=r[2]*Math.cos(n)-r[0]*Math.sin(n),e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function Ghe(e,t,i,n){const r=[],a=[];return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],a[0]=r[0]*Math.cos(n)-r[1]*Math.sin(n),a[1]=r[0]*Math.sin(n)+r[1]*Math.cos(n),a[2]=r[2],e[0]=a[0]+i[0],e[1]=a[1]+i[1],e[2]=a[2]+i[2],e}function Whe(e,t){a5(mv,e),a5(fv,t),o5(mv,mv),o5(fv,fv);const i=$8(mv,fv);return i>1?0:i<-1?Math.PI:Math.acos(i)}const mv=bs(),fv=bs();function Jhe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Yhe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Khe(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(i-a)<=_e*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-o)<=_e*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=_e*Math.max(1,Math.abs(r),Math.abs(s))}function Zhe(e,t,i){const n=i[0]-t[0],r=i[1]-t[1],a=i[2]-t[2];let o=n*n+r*r+a*a;return o>0?(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=a*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Xhe=v8,Qhe=w8,epe=x8,tpe=_8,ipe=S8,npe=lE,rpe=D8;Object.freeze({__proto__:null,length:lE,copy:a5,set:b8,add:Che,subtract:v8,multiply:w8,divide:x8,ceil:The,floor:Ehe,min:Ihe,max:Mhe,round:Ohe,scale:k8,scaleAndAdd:Ahe,distance:_8,squaredDistance:S8,squaredLength:D8,negate:Phe,inverse:Lhe,normalize:o5,dot:$8,cross:Rhe,lerp:Fhe,hermite:Nhe,bezier:zhe,random:jhe,transformMat4:Vhe,transformMat3:Hhe,transformQuat:qhe,rotateX:Uhe,rotateY:Bhe,rotateZ:Ghe,angle:Whe,str:Jhe,exactEquals:Yhe,equals:Khe,direction:Zhe,sub:Xhe,mul:Qhe,div:epe,dist:tpe,sqrDist:ipe,len:npe,sqrLen:rpe});function ape(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function ope(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}function spe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function C8(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function T8(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function E8(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function lpe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function cpe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function upe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e}function dpe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e}function hpe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function ppe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function mpe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e}function I8(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(i*i+n*n+r*r+a*a)}function M8(e,t){const i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2],a=t[3]-e[3];return i*i+n*n+r*r+a*a}function O8(e){const t=e[0],i=e[1],n=e[2],r=e[3];return Math.sqrt(t*t+i*i+n*n+r*r)}function A8(e){const t=e[0],i=e[1],n=e[2],r=e[3];return t*t+i*i+n*n+r*r}function fpe(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function gpe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function ype(e,t){const i=t[0],n=t[1],r=t[2],a=t[3];let o=i*i+n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=i*o,e[1]=n*o,e[2]=r*o,e[3]=a*o),e}function bpe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function vpe(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=t[3];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e[2]=o+n*(i[2]-o),e[3]=s+n*(i[3]-s),e}function wpe(e,t){let i,n,r,a,o,s;t=t||1;do i=2*Hc()-1,n=2*Hc()-1,o=i*i+n*n;while(o>=1);do r=2*Hc()-1,a=2*Hc()-1,s=r*r+a*a;while(s>=1);const l=Math.sqrt((1-o)/s);return e[0]=t*i,e[1]=t*n,e[2]=t*r*l,e[3]=t*a*l,e}function xpe(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3];return e[0]=i[0]*n+i[4]*r+i[8]*a+i[12]*o,e[1]=i[1]*n+i[5]*r+i[9]*a+i[13]*o,e[2]=i[2]*n+i[6]*r+i[10]*a+i[14]*o,e[3]=i[3]*n+i[7]*r+i[11]*a+i[15]*o,e}function kpe(e,t,i){const n=t[0],r=t[1],a=t[2],o=i[0],s=i[1],l=i[2],u=i[3],h=u*n+s*a-l*r,m=u*r+l*n-o*a,f=u*a+o*r-s*n,g=-o*n-s*r-l*a;return e[0]=h*u+g*-o+m*-l-f*-s,e[1]=m*u+g*-s+f*-o-h*-l,e[2]=f*u+g*-l+h*-s-m*-o,e[3]=t[3],e}function _pe(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function Spe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Dpe(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=t[0],s=t[1],l=t[2],u=t[3];return Math.abs(i-o)<=_e*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-s)<=_e*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-l)<=_e*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-u)<=_e*Math.max(1,Math.abs(a),Math.abs(u))}const $pe=C8,Cpe=T8,Tpe=E8,Epe=I8,Ipe=M8,Mpe=O8,Ope=A8;Object.freeze({__proto__:null,copy:ape,set:ope,add:spe,subtract:C8,multiply:T8,divide:E8,ceil:lpe,floor:cpe,min:upe,max:dpe,round:hpe,scale:ppe,scaleAndAdd:mpe,distance:I8,squaredDistance:M8,length:O8,squaredLength:A8,negate:fpe,inverse:gpe,normalize:ype,dot:bpe,lerp:vpe,random:wpe,transformMat4:xpe,transformQuat:kpe,str:_pe,exactEquals:Spe,equals:Dpe,sub:$pe,mul:Cpe,div:Tpe,dist:Epe,sqrDist:Ipe,len:Mpe,sqrLen:Ope});const IP=new Float32Array(1);function sOe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function ga(e,t,i){return Math.min(Math.max(e,t),i)}function lOe(e){return(e&e-1)==0}function cOe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function uOe(e,t,i){return e+(t-e)*i}function Ape(e){return e*Math.PI/180}function P8(e){return 180*e/Math.PI}function dOe(e){return Math.acos(ga(e,-1,1))}function L8(e){return Math.asin(ga(e,-1,1))}function hOe(e){return R8(Math.max(-MP,Math.min(e,MP)))}function R8(e){return IP[0]=e,IP[0]}function pOe(e,t){const i=lE(e),n=L8(e[2]/i),r=Math.atan2(e[1]/i,e[0]/i);return b8(t,i,n,r),t}const MP=R8(34028234663852886e22);function gv(e){return ga(zT(e),0,255)}function yv(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}class li{constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}static blendColors(t,i,n,r=new li){return r.r=Math.round(t.r+(i.r-t.r)*n),r.g=Math.round(t.g+(i.g-t.g)*n),r.b=Math.round(t.b+(i.b-t.b)*n),r.a=t.a+(i.a-t.a)*n,r._sanitize()}static fromRgb(t,i){const n=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){const r=n[2].split(/\s*,\s*/),a=n[1];if(a==="rgb"&&r.length===3||a==="rgba"&&r.length===4){const o=r[0];if(o.charAt(o.length-1)==="%"){const s=r.map(l=>2.56*parseFloat(l));return r.length===4&&(s[3]=parseFloat(r[3])),li.fromArray(s,i)}return li.fromArray(r.map(s=>parseFloat(s)),i)}if(a==="hsl"&&r.length===3||a==="hsla"&&r.length===4)return li.fromArray(d8(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),i)}return null}static fromHex(t,i=new li){if(t.length!==4&&t.length!==7||t[0]!=="#")return null;const n=t.length===4?4:8,r=(1<<n)-1;let a=Number("0x"+t.substr(1));return isNaN(a)?null:(["b","g","r"].forEach(o=>{const s=a&r;a>>=n,i[o]=n===4?17*s:s}),i.a=1,i)}static fromArray(t,i=new li){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const n=u8(t)?oE(t):null;return n&&li.fromArray(n,i)||li.fromRgb(t,i)||li.fromHex(t,i)}static fromJSON(t){return t&&new li([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return $(t)?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return $(t)?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){if(typeof t=="string")li.fromString(t,this);else if(Array.isArray(t))li.fromArray(t,this);else{var i,n,r,a;this._set((i=t.r)!=null?i:0,(n=t.g)!=null?n:0,(r=t.b)!=null?r:0,(a=t.a)!=null?a:1),t instanceof li||this._sanitize()}return this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${i.length<2?"0"+i:i}${n.length<2?"0"+n:n}`}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=li.AlphaMode.ALWAYS){const i=gv(this.r),n=gv(this.g),r=gv(this.b);return t===li.AlphaMode.ALWAYS||this.a!==1?[i,n,r,gv(255*this.a)]:[i,n,r]}clone(){return new li(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return $(t)&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(yv(this.r,0,255)),this.g=Math.round(yv(this.g,0,255)),this.b=Math.round(yv(this.b,0,255)),this.a=yv(this.a,0,1),this}_set(t,i,n,r){this.r=t,this.g=i,this.b=n,this.a=r}}li.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(li||(li={}));const Ie=li;function mOe(e){}function Ppe(e){return()=>e}function ye(e,t={}){var i;const n=e instanceof Te?e:new Te(e,t),r={type:(i=t==null?void 0:t.ignoreUnknown)==null||i?n.apiValues:String,json:{type:n.jsonValues,read:(t==null||!t.readOnly)&&{reader:n.read},write:{writer:n.write}}};return(t==null?void 0:t.readOnly)!==void 0&&(r.readOnly=!!t.readOnly),(t==null?void 0:t.default)!==void 0&&(r.json.default=t.default),(t==null?void 0:t.name)!==void 0&&(r.json.name=t.name),d(r)}var s5;let D1=s5=class extends B{constructor(e){super(e),this.type="none"}clone(){return new s5({type:this.type})}};c([ye({none:"none",stayAbove:"stay-above"})],D1.prototype,"type",void 0),D1=s5=c([_("esri.ground.NavigationConstraint")],D1);function cE(e){const t=zT(100*(1-e));return Math.max(0,Math.min(t,100))}function dy(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}var l5;const OP=Z.getLogger("esri.Ground");let Rs=l5=class extends ib(Dl){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ge;const t=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&OP.error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=n=>{n.parent=null};this.layers.on("after-add",n=>t(n.item)),this.layers.on("after-remove",n=>i(n.item))}initialize(){this.when().catch(e=>{OP.error("#load()","Failed to load ground",e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)t.destroy();this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e=D({},e)).resourceInfo),e}set layers(e){this._set("layers",th(e,this._get("layers")))}writeLayers(e,t,i,n){const r=[];e&&(n=ne(D({},n),{layerContainerType:"ground"}),e.forEach(a=>{if("write"in a){const o={};Ppe(a)().write(o,n)&&r.push(o)}else n&&n.messages&&n.messages.push(new P("layer:unsupported",`Layers (${a.title}, ${a.id}) of type '${a.declaredClass}' cannot be persisted in the ground`,{layer:a}))})),t.layers=r}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return Lz(this,e=>{e(this.layers)})}async queryElevation(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await import("./ElevationQuery.c252bb68.js");hi(t);const n=new i,r=this.layers.filter(AP).toArray();return n.queryAll(r,e,t)}async createElevationSampler(e,t){await this.load({signal:t==null?void 0:t.signal});const{ElevationQuery:i}=await import("./ElevationQuery.c252bb68.js");hi(t);const n=new i,r=this.layers.filter(AP).toArray();return n.createSamplerAll(r,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:N(this.surfaceColor),navigationConstraint:N(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new l5({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve(null)}_loadLayersFromJSON(e,t,i){const n=t&&t.origin||"web-scene",r=t&&t.portal||null,a=t&&t.url||null;return import("./layersCreator.eff3aa35.js").then(({populateOperationalLayers:o})=>{hi(i);const s=[];if(e.layers&&Array.isArray(e.layers)){const l={context:{origin:n,url:a,portal:r,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};s.push(o(this.layers,e.layers,l))}return tr(s)}).then(()=>{})}};function Lpe(e){return e&&"createElevationSampler"in e}function AP(e){return e.type==="elevation"||Lpe(e)}c([d({json:{read:!1}})],Rs.prototype,"layers",null),c([ae("layers")],Rs.prototype,"writeLayers",null),c([d({readOnly:!0})],Rs.prototype,"resourceInfo",void 0),c([d({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:xt,read:{reader:dy,source:"transparency"},write:{writer:(e,t)=>{t.transparency=cE(e)},target:"transparency"}}})],Rs.prototype,"opacity",void 0),c([d({type:Ie,json:{type:[xt],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],Rs.prototype,"surfaceColor",void 0),c([d({type:D1,json:{write:!0}})],Rs.prototype,"navigationConstraint",void 0),Rs=l5=c([_("esri.Ground")],Rs);const wx=Rs;let $1=class extends he{constructor(e){super(e),this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(e,t){if(!this._isHandle(e)&&!Array.isArray(e)&&!ge.isCollection(e))return this;const i=this._getOrCreateGroup(t);return Array.isArray(e)||ge.isCollection(e)?e.forEach(n=>this._isHandle(n)&&i.push(n)):i.push(e),this.notifyChange("size"),this}forEach(e,t){if(typeof e=="function")this._groups.forEach(i=>i.forEach(e));else{const i=this._getGroup(e);i&&t&&i.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if(Array.isArray(e)||ge.isCollection(e))return e.forEach(this.remove,this),this;if(!this.has(e))return this;const t=this._getGroup(e);for(let i=0;i<t.length;i++)t[i].remove();return this._deleteGroup(e),this.notifyChange("size"),this}removeAll(){return this._groups.forEach(e=>{for(let t=0;t<e.length;t++)e[t].remove()}),this._groups.clear(),this.notifyChange("size"),this}_isHandle(e){return e&&!!e.remove}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return this._groups.get(this._ensureGroupKey(e))}_deleteGroup(e){return this._groups.delete(this._ensureGroupKey(e))}_ensureGroupKey(e){return e||"_default_"}};c([d({readOnly:!0})],$1.prototype,"size",null),$1=c([_("esri.core.Handles")],$1);const gn=$1;function bt(e,t,i={}){return uE(e,t,i,F8)}function Wk(e,t,i={}){return uE(e,t,i,N8)}function uE(e,t,i={},n){let r=null;const a=i.once?(o,s)=>{n(o)&&(bh(r),t(o,s))}:(o,s)=>{n(o)&&t(o,s)};if(r=xce(e,a,i.sync,i.equals),i.initial){const o=e();a(o,o)}return r}function c5(e,t,i,n={}){let r=null,a=null,o=null;function s(){r&&a&&(a.remove(),n.onListenerRemove==null||n.onListenerRemove(r),r=null,a=null)}function l(h){n.once&&n.once&&bh(o),i(h)}const u=bt(e,(h,m)=>{s(),Ok(h)&&(r=h,a=Ak(h,t,l),n.onListenerAdd==null||n.onListenerAdd(h))},{sync:n.sync,initial:!0});return o=Xm(()=>{u.remove(),s()}),o}function dE(e,t){return Rpe(e,N8,t)}function Rpe(e,t,i){if(us(i))return Promise.reject(di());const n=e();if(t!=null&&t(n))return Promise.resolve(n);let r=null;function a(){r=bh(r)}return new Promise((o,s)=>{r=Ek([uo(i,()=>{a(),s(di())}),uE(e,l=>{a(),o(l)},{sync:!1,once:!0},t!=null?t:F8)])})}function F8(e){return!0}function N8(e){return!!e}const u5={sync:!0},rs={initial:!0},Fu={sync:!0,initial:!0};let um=class extends he{constructor(){super(...arguments),this.updating=!1,this.handleId=0,this.handles=new gn,this.scheduleHandleId=0,this.pendingPromises=new Set}destroy(){this.removeAll(),this.handles.destroy()}add(e,t,i={}){return this._installWatch(e,t,i,bt)}addWhen(e,t,i={}){return this._installWatch(e,t,i,Wk)}addOnCollectionChange(e,t,{initial:i=!1}={}){const n=++this.handleId;return this.handles.add([c5(e,"after-changes",this._createSyncUpdatingCallback(),u5),c5(e,"change",t,{onListenerAdd:i?r=>t({added:r.toArray(),removed:[]}):void 0})],n),{remove:()=>this.handles.remove(n)}}addPromise(e){if(z(e))return e;const t=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(e)&&(this.pendingPromises.size!==0||this.handles.has(bv)||this._set("updating",!1))}},t),this.pendingPromises.add(e),this._set("updating",!0);const i=()=>this.handles.remove(t);return e.then(i,i),e}removeAll(){this.pendingPromises.clear(),this.handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,i={},n){const r=++this.handleId;i.sync||this._installSyncUpdatingWatch(e,r);const a=n(e,t,i);return this.handles.add(a,r),{remove:()=>this.handles.remove(r)}}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),n=bt(e,i,{sync:!0,equals:()=>!1});return this.handles.add(n,t),n}_createSyncUpdatingCallback(){return()=>{this.handles.remove(bv),++this.scheduleHandleId;const e=this.scheduleHandleId;this._get("updating")||this._set("updating",!0),this.handles.add(eb(()=>{e===this.scheduleHandleId&&(this._set("updating",this.pendingPromises.size>0),this.handles.remove(bv))}),bv)}}};c([d({readOnly:!0})],um.prototype,"updating",void 0),um=c([_("esri.views.support.WatchUpdatingTracking")],um);const bv=-42;var PP;(function(e){e[e.NONE=0]="NONE",e[e.SYNC=1]="SYNC",e[e.INIT=2]="INIT"})(PP||(PP={}));const wh=e=>{let t=class extends e{destroy(){var i,n;this.destroyed||((i=this._get("handles"))==null||i.destroy(),(n=this._get("updatingHandles"))==null||n.destroy())}get handles(){return this._get("handles")||new gn}get updatingHandles(){return this._get("updatingHandles")||new um}};return c([d({readOnly:!0})],t.prototype,"handles",null),c([d({readOnly:!0})],t.prototype,"updatingHandles",null),t=c([_("esri.core.HandleOwner")],t),t};let Mm=class extends wh(he){};Mm=c([_("esri.core.HandleOwner")],Mm);let op=class extends wh(ge){constructor(e){super(e),this.getCollections=null}initialize(){this.handles.add(uz(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const e=$(this.getCollections)?this.getCollections():null;if(z(e))return void this.removeAll();let t=0;for(const i of e)$(i)&&(t=this._processCollection(t,i));this.splice(t,this.length)}_createNewInstance(e){return new ge(e)}_processCollection(e,t){if(!t)return e;const i=this.itemFilterFunction?this.itemFilterFunction:n=>!!n;for(const n of t)if(n){if(i(n)){const r=this.indexOf(n,e);r>=0?r!==e&&this.reorder(n,e):this.add(n,e),++e}if(this.getChildrenFunction){const r=this.getChildrenFunction(n);if(Array.isArray(r))for(const a of r)e=this._processCollection(e,a);else e=this._processCollection(e,r)}}return e}};c([d()],op.prototype,"getCollections",void 0),c([d()],op.prototype,"getChildrenFunction",void 0),c([d()],op.prototype,"itemFilterFunction",void 0),op=c([_("esri.core.CollectionFlattener")],op);const dm=op;function Fpe(e){var t;return!!(e&&e.loaded&&"capabilities"in e&&e!=null&&(t=e.capabilities)!=null&&t.operations&&"supportsEditing"in e.capabilities.operations&&e.capabilities.operations.supportsEditing===!0)&&!("editingEnabled"in e&&!e.editingEnabled)}const LP=Z.getLogger("esri.support.basemapUtils");function Npe(){return{}}function zpe(e){for(const t in e){const i=e[t];(i==null?void 0:i.destroyed)===!1&&i.destroy(),delete e[t]}}function jpe(e,t){var i;let n;if(typeof e=="string"){if(!(e in r5)){const r=Object.entries(r5).filter(([a,o])=>rt.apiKey&&!o.classic||!rt.apiKey&&o.classic&&!o.deprecated).map(([a])=>`"${a}"`).join(", ");return LP.warn(`Unable to find basemap definition for: ${e}. Try one of these: ${r}`),null}t&&(n=t[e]),n||(n=bx.fromId(e),t&&(t[e]=n))}else n=_t(bx,e);return(i=n)!=null&&i.destroyed&&(LP.warn("The provided basemap is already destroyed",{basemap:n}),n=null),n}const Vpe=Z.getLogger("esri.support.groundUtils"),RP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function Hpe(e){let t=null;if(typeof e=="string")if(e in RP){const i=RP[e];t=new wx({resourceInfo:{data:{layers:[i]}}})}else Vpe.warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=_t(wx,e);return t}function Om(e,t,i=!1){let{hasM:n,hasZ:r}=e;Array.isArray(t)?t.length!==4||n||r?t.length===3&&i&&!n?(r=!0,n=!1):t.length===3&&n&&r&&(n=!1,r=!1):(n=!0,r=!0):(r=!r&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!r||t.hasZ)),e.hasZ=r,e.hasM=n}var d5;function FP(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function qpe(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ql=d5=class extends nr{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return null;const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):qpe(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const n=i.points&&i.points[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new lt,i=this.hasZ,n=this.hasM,r=i?3:2,a=e[0],o=FP(Math.min),s=FP(Math.max);let l,u,h,m,[f,g]=a,[b,v]=a;for(let w=0,x=e.length;w<x;w++){const S=e[w],[E,T]=S;if(f=o(f,E),g=o(g,T),b=s(b,E),v=s(v,T),i&&S.length>2){const C=S[2];l=o(l,C),h=s(h,C)}if(n&&S.length>r){const C=S[r];u=o(u,C),m=s(m,C)}}return t.xmin=f,t.ymin=g,t.xmax=b,t.ymax=v,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=h):(t.zmin=null,t.zmax=null),n?(t.mmin=u,t.mmax=m):(t.mmin=null,t.mmax=null),t}writePoints(e,t){t.points=N(this.points)}addPoint(e){return Om(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:N(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new d5(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=t[2],n=3),this.hasM&&(i.m=t[n]),new be(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new be(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Om(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};c([d({readOnly:!0})],Ql.prototype,"cache",null),c([d()],Ql.prototype,"extent",null),c([d({type:[[Number]],json:{write:{isRequired:!0}}})],Ql.prototype,"points",void 0),c([ae("points")],Ql.prototype,"writePoints",null),Ql=d5=c([_("esri.geometry.Multipoint")],Ql),Ql.prototype.toJSON.isDefaultToJSON=!0;const rf=Ql;function Upe(e,t){const i=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const r=e[2]-t[2];return Math.sqrt(i*i+n*n+r*r)}return Math.sqrt(i*i+n*n)}function Bpe(e,t,i){const n=e[0]+i*(t[0]-e[0]),r=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[n,r,e[2]+i*(t[2]-e[2])]:[n,r]}function Gpe(e,t,i,n){const[r,a]=t,[o,s]=i[n],[l,u]=i[n+1],h=l-o,m=u-s,f=h*h+m*m,g=(r-o)*h+(a-s)*m,b=Math.min(1,Math.max(0,g/f));return e[0]=o+h*b,e[1]=s+m*b,e}function Wpe(e,t){return Bpe(e,t,.5)}function hE(e,t,i){const n=e.length;let r=0,a=0,o=0;for(let s=0;s<n;s++){const l=e[s],u=e[(s+1)%n];let h=2;r+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&i&&(a+=l[0]*u[2]-u[0]*l[2],h=3),l.length>h&&u.length>h&&t&&(o+=l[0]*u[h]-u[0]*l[h])}return r<=0&&a<=0&&o<=0}function fOe(e){if("rings"in e){for(const t of e.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(e.rings.length>0&&!hE(e.rings[0],e.hasM,e.hasZ))for(let t=0;t<e.rings.length;++t)e.rings[t]=e.rings[t].reverse()}}function gOe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function Jpe(e){return e?Ype(e.rings,e.hasZ):null}function Ype(e,t){if(!e||!e.length)return null;const i=[],n=[],r=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let a=0,o=e.length;a<o;a++){const s=Kpe(e[a],t,r);s&&n.push(s)}if(n.sort((a,o)=>{let s=a[2]-o[2];return s===0&&t&&(s=a[4]-o[4]),s}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<r[0]||i[0]>r[1]||i[1]<r[2]||i[1]>r[3]||t&&(i[2]<r[4]||i[2]>r[5]))&&(i.length=0)),!i.length){const a=e[0]&&e[0].length?Zpe(e[0],t):null;if(!a)return null;i[0]=a[0],i[1]=a[1],t&&a.length>2&&(i[2]=a[2])}return i}function Kpe(e,t,i){let n=0,r=0,a=0,o=0,s=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,h=e.length&&t?e[0][2]:0;for(let f=0;f<e.length;f++){const g=e[f],b=e[(f+1)%e.length],[v,w,x]=g,S=v-l,E=w-u,T=t?x-h:void 0,[C,M,L]=b,j=C-l,G=M-u,J=t?L-h:void 0,q=S*G-j*E;if(o+=q,n+=(S+j)*q,r+=(E+G)*q,t&&g.length>2&&b.length>2){const ue=S*J-j*T;a+=(T+J)*ue,s+=ue}v<i[0]&&(i[0]=v),v>i[1]&&(i[1]=v),w<i[2]&&(i[2]=w),w>i[3]&&(i[3]=w),t&&(x<i[4]&&(i[4]=x),x>i[5]&&(i[5]=x))}if(o>0&&(o*=-1),s>0&&(s*=-1),!o)return null;o*=.5,s*=.5;const m=[n/(6*o)+l,r/(6*o)+u,o];return t&&(i[4]===i[5]||s===0?(m[3]=(i[4]+i[5])/2,m[4]=0):(m[3]=a/(6*s)+h,m[4]=s)),m}function Zpe(e,t){const i=t?[0,0,0]:[0,0],n=t?[0,0,0]:[0,0];let r=0,a=0,o=0,s=0;for(let l=0,u=e.length;l<u-1;l++){const h=e[l],m=e[l+1];if(h&&m){i[0]=h[0],i[1]=h[1],n[0]=m[0],n[1]=m[1],t&&h.length>2&&m.length>2&&(i[2]=h[2],n[2]=m[2]);const f=Upe(i,n);if(f){r+=f;const g=Wpe(h,m);a+=f*g[0],o+=f*g[1],t&&g.length>2&&(s+=f*g[2])}}}return r>0?t?[a/r,o/r,s/r]:[a/r,o/r]:e.length?e[0]:null}function z8(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function j8(e){return e.points!==void 0}function V8(e){return e.x!==void 0&&e.y!==void 0}function H8(e){return e.paths!==void 0}function q8(e){return e.rings!==void 0}function U8(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}const qc=U8(Math.min),Uc=U8(Math.max);function yOe(e,t){return H8(t)?Am(e,t.paths,!1,!1):q8(t)?Am(e,t.rings,!1,!1):j8(t)?pE(e,t.points,!1,!1,!1,!1):z8(t)?B8(e,t):(V8(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function bOe(e,t){return H8(t)?Am(e,t.paths,!0,!1):q8(t)?Am(e,t.rings,!0,!1):j8(t)?pE(e,t.points,!0,!1,!0,!1):z8(t)?B8(e,t,!0,!1,!0,!1):(V8(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Am(e,t,i,n){const r=i?3:2;if(!t.length||!t[0].length)return null;let a,o,s,l,[u,h]=t[0][0],[m,f]=t[0][0];for(let g=0;g<t.length;g++){const b=t[g];for(let v=0;v<b.length;v++){const w=b[v],[x,S]=w;if(u=qc(u,x),h=qc(h,S),m=Uc(m,x),f=Uc(f,S),i&&w.length>2){const E=w[2];a=qc(a,E),o=Uc(o,E)}if(n&&w.length>r){const E=w[r];s=qc(a,E),l=Uc(o,E)}}}return i?n?(e[0]=u,e[1]=h,e[2]=a,e[3]=s,e[4]=m,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=u,e[1]=h,e[2]=a,e[3]=m,e[4]=f,e[5]=o,e.length=6,e):n?(e[0]=u,e[1]=h,e[2]=s,e[3]=m,e[4]=f,e[5]=l,e.length=6,e):(e[0]=u,e[1]=h,e[2]=m,e[3]=f,e.length=4,e)}function B8(e,t,i,n,r,a){const o=t.xmin,s=t.xmax,l=t.ymin,u=t.ymax;let h=t.zmin,m=t.zmax,f=t.mmin,g=t.mmax;return r?(h=h||0,m=m||0,a?(f=f||0,g=g||0,e[0]=o,e[1]=l,e[2]=h,e[3]=f,e[4]=s,e[5]=u,e[6]=m,e[7]=g,e):(e[0]=o,e[1]=l,e[2]=h,e[3]=s,e[4]=u,e[5]=m,e)):a?(f=f||0,g=g||0,e[0]=o,e[1]=l,e[2]=f,e[3]=s,e[4]=u,e[5]=g,e):(e[0]=o,e[1]=l,e[2]=s,e[3]=u,e)}function pE(e,t,i,n,r,a){const o=i?3:2,s=n&&a,l=i&&r;if(!t.length||!t[0].length)return null;let u,h,m,f,[g,b]=t[0],[v,w]=t[0];for(let x=0;x<t.length;x++){const S=t[x],[E,T]=S;if(g=qc(g,E),b=qc(b,T),v=Uc(v,E),w=Uc(w,T),l&&S.length>2){const C=S[2];u=qc(u,C),h=Uc(h,C)}if(s&&S.length>o){const C=S[o];m=qc(u,C),f=Uc(h,C)}}return r?(u=u||0,h=h||0,a?(m=m||0,f=f||0,e[0]=g,e[1]=b,e[2]=u,e[3]=m,e[4]=v,e[5]=w,e[6]=h,e[7]=f,e):(e[0]=g,e[1]=b,e[2]=u,e[3]=v,e[4]=w,e[5]=h,e)):a?(m=m||0,f=f||0,e[0]=g,e[1]=b,e[2]=m,e[3]=v,e[4]=w,e[5]=f,e):(e[0]=g,e[1]=b,e[2]=v,e[3]=w,e)}function Xpe(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Qpe(e){return e.points!==void 0}function eme(e){return e.x!==void 0&&e.y!==void 0}function tme(e){return e.paths!==void 0}function ime(e){return e.rings!==void 0}const mE=[];function G8(e,t,i,n){return{xmin:e,ymin:t,xmax:i,ymax:n}}function W8(e,t,i,n,r,a){return{xmin:e,ymin:t,zmin:i,xmax:n,ymax:r,zmax:a}}function J8(e,t,i,n,r,a){return{xmin:e,ymin:t,mmin:i,xmax:n,ymax:r,mmax:a}}function Y8(e,t,i,n,r,a,o,s){return{xmin:e,ymin:t,zmin:i,mmin:n,xmax:r,ymax:a,zmax:o,mmax:s}}function fE(e,t=!1,i=!1){return t?i?Y8(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):W8(e[0],e[1],e[2],e[3],e[4],e[5]):i?J8(e[0],e[1],e[2],e[3],e[4],e[5]):G8(e[0],e[1],e[2],e[3])}function vOe(e){return e?Xpe(e)?e:eme(e)?rme(e):ime(e)?K8(e):tme(e)?Z8(e):Qpe(e)?nme(e):null:null}function nme(e){const{hasZ:t,hasM:i,points:n}=e;return fE(pE(mE,n,t,i),t,i)}function rme(e){const{x:t,y:i,z:n,m:r}=e,a=r!=null;return n!=null?a?Y8(t,i,n,r,t,i,n,r):W8(t,i,n,t,i,n):a?J8(t,i,r,t,i,r):G8(t,i,t,i)}function K8(e){const{hasZ:t,hasM:i,rings:n}=e,r=Am(mE,n,t,i);return r?fE(r,t,i):null}function Z8(e){const{hasZ:t,hasM:i,paths:n}=e,r=Am(mE,n,t,i);return r?fE(r,t,i):null}var C1;function NP(e){return!Array.isArray(e[0])}let Eo=C1=class extends nr{constructor(...e){super(...e),this.rings=[],this.type="polygon"}static fromExtent(e){const t=e.clone().normalize(),i=e.spatialReference;let n=!1,r=!1;for(const o of t)o.hasZ&&(n=!0),o.hasM&&(r=!0);const a={rings:t.map(function(o){const s=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let u=0;u<s.length;u++)s[u].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let u=0;u<s.length;u++)s[u].push(l)}return s}),spatialReference:i};return n&&(a.hasZ=!0),r&&(a.hasM=!0),new C1(a)}normalizeCtorArgs(e,t){let i,n,r=null,a=null;return e&&!Array.isArray(e)?(r=e.rings?e.rings:null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||Le.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),a=r[0]&&r[0][0],a&&(i===void 0&&n===void 0?(i=a.length>2,n=a.length>3):i===void 0?i=n?a.length>3:a.length>2:n===void 0&&(n=i?a.length>3:a.length>2)),{rings:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=Jpe(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new be;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=K8(this);if(!t)return null;const i=new lt(t);return i.spatialReference=e,i}get isSelfIntersecting(){return Vde(this.rings)}writeRings(e,t){t.rings=N(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(NP(e)){const n=[];for(let r=0,a=e.length;r<a;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new C1;return e.spatialReference=this.spatialReference,e.rings=N(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(z(e))return!1;const t=this.spatialReference,i=e.spatialReference;if($(t)!==$(i)||$(t)&&$(i)&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const n=([r,a,o,s],[l,u,h,m])=>r===l&&a===u&&(o==null&&h==null||o===h)&&(s==null&&m==null||s===m);for(let r=0;r<this.rings.length;r++){const a=this.rings[r],o=e.rings[r];if(!I6(a,o,n))return!1}return!0}contains(e){if(!e)return!1;const t=Bk(e,this.spatialReference);return i8(this,$(t)?t:e)}isClockwise(e){let t;return t=NP(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e,hE(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new be(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new be(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new be(i[0],i[1],i[2],i[3],this.spatialReference):new be(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Om(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new be(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new be(r,i));return this.notifyChange("rings"),n}setPoint(e,t,i){return this._validateInputs(e,t)?(Om(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const n=this.rings[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],Eo.prototype,"cache",null),c([d({readOnly:!0})],Eo.prototype,"centroid",null),c([d({readOnly:!0})],Eo.prototype,"extent",null),c([d({readOnly:!0})],Eo.prototype,"isSelfIntersecting",null),c([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],Eo.prototype,"rings",void 0),c([ae("rings")],Eo.prototype,"writeRings",null),Eo=C1=c([_("esri.geometry.Polygon")],Eo),Eo.prototype.toJSON.isDefaultToJSON=!0;const ho=Eo;var h5;function ame(e){return!Array.isArray(e[0])}let ec=h5=class extends nr{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let i,n,r=null,a=null;return e&&!Array.isArray(e)?(r=e.paths?e.paths:null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),i=e.hasZ,n=e.hasM):r=e,r=r||[],t=t||Le.WGS84,r.length&&r[0]&&r[0][0]!=null&&typeof r[0][0]=="number"&&(r=[r]),a=r[0]&&r[0][0],a&&(i===void 0&&n===void 0?(i=a.length>2,n=!1):i===void 0?i=!n&&a.length>3:n===void 0&&(n=!i&&a.length>3)),{paths:r,spatialReference:t,hasZ:i,hasM:n}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Z8(this);if(!t)return null;const i=new lt(t);return i.spatialReference=e,i}writePaths(e,t){t.paths=N(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(ame(e)){const n=[];for(let r=0,a=e.length;r<a;r++)n[r]=e[r].toArray();t[i]=n}else t[i]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new h5;return e.spatialReference=this.spatialReference,e.paths=N(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],n=this.hasZ,r=this.hasM;return n&&!r?new be(i[0],i[1],i[2],void 0,this.spatialReference):r&&!n?new be(i[0],i[1],void 0,i[2],this.spatialReference):n&&r?new be(i[0],i[1],i[2],i[3],this.spatialReference):new be(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Om(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,n=t.map(r=>new be(r,i));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new be(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Om(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const n=this.paths[e];if(i&&(t<0||t>n.length)||!i&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}};c([d({readOnly:!0})],ec.prototype,"cache",null),c([d({readOnly:!0})],ec.prototype,"extent",null),c([d({type:[[[Number]]],json:{write:{isRequired:!0}}})],ec.prototype,"paths",void 0),c([ae("paths")],ec.prototype,"writePaths",null),ec=h5=c([_("esri.geometry.Polyline")],ec),ec.prototype.toJSON.isDefaultToJSON=!0;const On=ec,ome=rn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),zP=rn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function X8(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function gE(e){return e.points!==void 0}function yE(e){return e.x!==void 0&&e.y!==void 0}function bE(e){return e.paths!==void 0}function Bd(e){return e.rings!==void 0}function Fn(e){return z(e)?null:e instanceof nr?e:yE(e)?be.fromJSON(e):bE(e)?On.fromJSON(e):Bd(e)?ho.fromJSON(e):gE(e)?rf.fromJSON(e):X8(e)?lt.fromJSON(e):null}function ya(e){return e?yE(e)?"esriGeometryPoint":bE(e)?"esriGeometryPolyline":Bd(e)?"esriGeometryPolygon":X8(e)?"esriGeometryEnvelope":gE(e)?"esriGeometryMultipoint":null:null}const sme={esriGeometryPoint:be,esriGeometryPolyline:On,esriGeometryPolygon:ho,esriGeometryEnvelope:lt,esriGeometryMultipoint:rf};function Q8(e){return e&&sme[e]||null}const xh={base:nr,key:"type",typeMap:{extent:lt,multipoint:rf,point:be,polyline:On,polygon:ho}};ds(xh);let lme=0;const vE=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+lme++})}};return t=c([_("esri.core.Identifiable")],t),t};let jP=class extends vE(class{}){};jP=c([_("esri.core.Identifiable")],jP);let cme=0;const VP=Z.getLogger("esri.layers.Layer");let $i=class extends ys.EventedMixin(vE(Dl)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new lt(-180,-90,180,90,Le.WGS84),this.id=Date.now().toString(16)+"-layer-"+cme++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Le.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t=typeof e=="string"?{url:e}:e,i=await import("./arcgisLayers.27c160cf.js");try{return await i.fromUrl(t)}catch(n){throw VP.error("#fromArcGISServerUrl({ url: '"+t.url+"'})","Failed to create layer from arcgis server url",n),n}}static async fromPortalItem(e){const t="portalItem"in e?e:{portalItem:e},i=await import("./portalLayers.8e88e117.js");try{return await i.fromItem(t)}catch(n){const r=t&&t.portalItem,a=r&&r.id||"unset",o=r&&r.portal&&r.portal.url||rt.portalUrl;throw VP.error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+a+"')",n),n}}initialize(){this.when().catch(e=>{var t,i;va(e)||Z.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${(t=this.title)!=null?t:"no title"}', id: '${(i=this.id)!=null?i:"no id"}')`,{error:e})})}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){const e=this.url;return e?Bi(e):null}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await $t(e,{query:{f:"json"},responseType:"json"})).data;throw new P("layer:no-attribution-data","Layer does not have attribution data")}};c([d({type:String})],$i.prototype,"attributionDataUrl",void 0),c([d({type:lt})],$i.prototype,"fullExtent",void 0),c([d({readOnly:!0})],$i.prototype,"hasAttributionData",null),c([d({type:String,clonable:!1})],$i.prototype,"id",void 0),c([d({type:Boolean,nonNullable:!0})],$i.prototype,"legendEnabled",void 0),c([d({type:["show","hide","hide-children"]})],$i.prototype,"listMode",void 0),c([d({type:Number,range:{min:0,max:1},nonNullable:!0})],$i.prototype,"opacity",void 0),c([d({clonable:!1})],$i.prototype,"parent",void 0),c([d({readOnly:!0})],$i.prototype,"parsedUrl",null),c([d({type:Boolean})],$i.prototype,"popupEnabled",void 0),c([d({type:Boolean})],$i.prototype,"attributionVisible",void 0),c([d({type:Le})],$i.prototype,"spatialReference",void 0),c([d({type:String})],$i.prototype,"title",void 0),c([d({type:String,readOnly:!0,json:{read:!1}})],$i.prototype,"type",void 0),c([d()],$i.prototype,"url",void 0),c([d({type:Boolean,nonNullable:!0})],$i.prototype,"visible",void 0),$i=c([_("esri.layers.Layer")],$i);const wE=$i;function ume(e){return e&&e.type==="group"}function p5(e,t,i){let n,r;if(e)for(let a=0,o=e.length;a<o;a++){if(n=e.getItemAt(a),n[t]===i)return n;if(ume(n)&&(r=p5(n.layers,t,i),r))return r}}const HP=Z.getLogger("esri.support.LayersMixin"),dme=e=>{let t=class extends e{constructor(...i){super(...i),this.layers=new ge;const n=o=>{o.parent&&"remove"in o.parent&&o.parent.remove(o)},r=o=>{o.parent=this,this.layerAdded(o),o.type!=="elevation"&&o.type!=="base-elevation"||HP.error(`Layer 'title:${o.title}, id:${o.id}' of type '${o.type}' is not supported as an operational layer and will therefore be ignored.`)},a=o=>{o.parent=null,this.layerRemoved(o)};this.layers.on("before-add",o=>n(o.item)),this.layers.on("after-add",o=>r(o.item)),this.layers.on("after-remove",o=>a(o.item))}destroy(){const i=this.layers.removeAll();for(const n of i)this.layerRemoved(n),n.destroy();this.layers.destroy()}set layers(i){this._set("layers",th(i,this._get("layers")))}add(i,n){const r=this.layers;if(n=r.getNextIndex(n),i instanceof wE){const a=i;a.parent===this?this.reorder(a,n):r.add(a,n)}else Il(i)?i.then(a=>{this.destroyed||this.add(a,n)}):HP.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,n){const r=this.layers;n=r.getNextIndex(n),i.slice().forEach(a=>{a.parent!==this?(r.add(a,n),n+=1):this.reorder(a,n)})}findLayerById(i){return p5(this.layers,"id",i)}findLayerByUid(i){return p5(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,n){return this.layers.reorder(i,n)}layerAdded(i){}layerRemoved(i){}};return c([d()],t.prototype,"layers",null),t=c([_("esri.support.LayersMixin")],t),t},ej="esri.support.TablesMixin",hme=Z.getLogger(ej);function pme(e){return e&&e.type==="group"}function m5(e,t,i){if(e)for(let n=0,r=e.length;n<r;n++){const a=e.getItemAt(n);if(a[t]===i)return a;if(pme(a)){const o=m5(a.tables,t,i);if(o)return o}}}const mme=e=>{let t=class extends e{constructor(...i){super(...i),this.tables=new ge,this.tables.on("after-add",n=>{const r=n.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,r.type!=="feature"&&hme.error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})}destroy(){const i=this.tables.removeAll();for(const n of i)n.destroy();this.tables.destroy()}set tables(i){this._set("tables",th(i,this._get("tables")))}findTableById(i){return m5(this.tables,"id",i)}findTableByUid(i){return m5(this.tables,"uid",i)}};return c([d()],t.prototype,"tables",null),t=c([_(ej)],t),t};let Io=class extends mme(dme(ys.EventedMixin(he))){constructor(e){super(e),this.allLayers=new dm({getCollections:()=>{var t,i,n;return[(t=this.basemap)==null?void 0:t.baseLayers,(i=this.ground)==null?void 0:i.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=new dm({getCollections:()=>[this.tables,this.layers],getChildrenFunction:t=>{const i=[];return"tables"in t&&i.push(t.tables),"layers"in t&&i.push(t.layers),i},itemFilterFunction:t=>{const i=t.parent;return i&&"tables"in i&&i.tables.includes(t)}}),this.basemap=null,this.editableLayers=new dm({getCollections:()=>[this.allLayers],itemFilterFunction:Fpe}),this.ground=new wx,this._basemapCache=Npe()}destroy(){var e,t;this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),(e=this.ground)==null||e.destroy(),(t=this.basemap)==null||t.destroy(),zpe(this._basemapCache),this._basemapCache=null}castBasemap(e){return jpe(e,this._basemapCache)}castGround(e){const t=Hpe(e);return z(t)?this._get("ground"):t}findLayerById(e){return this.allLayers.find(t=>t.id===e)}findTableById(e){return this.allTables.find(t=>t.id===e)}};c([d({readOnly:!0,dependsOn:[]})],Io.prototype,"allLayers",void 0),c([d({readOnly:!0})],Io.prototype,"allTables",void 0),c([d({type:bx})],Io.prototype,"basemap",void 0),c([Ye("basemap")],Io.prototype,"castBasemap",null),c([d({readOnly:!0})],Io.prototype,"editableLayers",void 0),c([d({type:wx,nonNullable:!0})],Io.prototype,"ground",void 0),c([Ye("ground")],Io.prototype,"castGround",null),Io=c([_("esri.Map")],Io);const tj=Io;var Pm;function fme(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<i||+t>n)return Pm.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(e.codedValues==null||e.codedValues.every(i=>i==null||i.code!==t))return Pm.INVALID_CODED_VALUE}return null}(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Pm||(Pm={}));let H2;function $l(){return H2||(H2=(async()=>{const e=await import("./arcadeUtils.04cb5ff9.js").then(function(t){return t.q});return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),H2}const wOe=(e,t,i)=>nb.create(e,t,i,null,["$feature"]),xOe=(e,t,i)=>nb.create(e,t,i,null,["$feature","$view"]),gme=(e,t,i,n)=>nb.create(e,t,i,n,["$feature","$view"]);class nb{constructor(t,i,n,r,a,o,s,l){this.script=t,this.evaluate=a;const u=Array.isArray(s)?s:s.fields;this.fields=u,this._syntaxTree=r,this._arcade=i,this._arcadeDictionary=n,this._arcadeFeature=o,this._spatialReference=l,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,i,n,r,a,o){const{arcade:s,Feature:l,Dictionary:u}=await $l(),h=Le.fromJSON(i),m=s.parseScript(t,o),f=a.reduce((C,M)=>ne(D({},C),{[M]:null}),{});let g=null;$(r)&&(g=new u(r),g.immutable=!0,f.$config=null);const b=s.scriptUsesGeometryEngine(m)&&s.enableGeometrySupport(),v=s.scriptUsesFeatureSet(m)&&s.enableFeatureSetSupport(),w=s.scriptIsAsync(m)&&s.enableAsyncSupport(),x={vars:f,spatialReference:h,useAsync:!!w},S=new u;S.immutable=!1,S.setField("scale",0);const E=s.compileScript(m,x),T=C=>("$view"in C&&C.$view&&(S.setField("scale",C.$view.scale),C.$view=S),g&&(C.$config=g),E({vars:C,spatialReference:h}));return await Promise.all([b,v,w]),new nb(t,s,u,m,T,new l,n,h)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(t){return this._arcade.referencesMember(this._syntaxTree,t)}referencesFunction(t){return this._arcade.referencesFunction(this._syntaxTree,t)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}const yme=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],bme=["field","normalizationField"];function qP(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(UP(yme,i,t),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)UP(bme,n,t)}}function UP(e,t,i){if(e)for(const n of e){const r=Zm(n,t),a=r&&typeof r!="function"&&i.get(r);a&&Pr(n,a.name,t)}}function ij(e,t){if(e!=null&&t!=null&&t.fields.length)if("startField"in e){const i=t.get(e.startField),n=t.get(e.endField);e.startField=i&&i.name||null,e.endField=n&&n.name||null}else{const i=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=n&&n.name||null}}const q2=new Set;function nj(e,t){return e&&t?(q2.clear(),hy(q2,e,t),Array.from(q2).sort()):[]}function hy(e,t,i){var n;if(i)if(t!=null&&(n=t.fields)!=null&&n.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)pa(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)e.add(r)}}function pa(e,t,i){if(typeof i=="string")if(t){const n=t.get(i);n&&e.add(n.name)}else e.add(i)}function kOe(e,t){return z(t)||z(e)?[]:t.includes("*")?e.fields.map(i=>i.name):t}async function Lr(e,t,i){var n;if(!i)return;const{arcadeUtils:r}=await $l(),a=r.extractFieldNames(i,t==null||(n=t.fields)==null?void 0:n.map(o=>o.name));for(const o of a)pa(e,t,o)}async function rj(e,t,i){if(i&&i!=="1=1"){const n=(await import("./WhereClause.1b066865.js")).WhereClause.create(i,t);if(!n.isStandardized)throw new P("fieldUtils:collectFilterFields","Where clause is not standardized");hy(e,t,n.fieldNames)}}function vme({displayField:e,fields:t}){return e||(t&&t.length?U2(t,"name-or-title")||U2(t,"unique-identifier")||U2(t,"type-or-category")||wme(t):null)}function wme(e){for(const t of e){if(!t||!t.name)continue;const i=t.name.toLowerCase();if(i.indexOf("name")>-1||i.indexOf("title")>-1)return t.name}return null}function U2(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}async function _Oe(e,t){if(!t)return;const i=Zm("elevationInfo.featureExpressionInfo",t);return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}async function xme(e,t,i){i.outStatistic.onStatisticValueExpression?Lr(e,t,i.outStatistic.onStatisticValueExpression):e.add(i.outStatistic.onStatisticField)}async function SOe(e,t,i){var n,r;if(!t||!i||i.type!=="cluster")return;const a=[];if((n=i.popupTemplate)!=null&&n.expressionInfos&&a.push(...i.popupTemplate.expressionInfos.map(o=>Lr(e,t.fieldsIndex,o.expression))),Array.isArray((r=i.popupTemplate)==null?void 0:r.content)){const o=i.popupTemplate.content;for(const s of o)s.type==="expression"&&s.expressionInfo&&a.push(Lr(e,t.fieldsIndex,s.expressionInfo.expression))}i.fields&&a.push(...i.fields.map(o=>xme(e,t.fieldsIndex,o))),await Promise.all(a)}async function DOe(e,t,i){t&&(t.timeInfo&&$(i)&&i.timeExtent&&hy(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&hy(e,t.fieldsIndex,[t.floorInfo.floorField]),$(i)&&$(i.where)&&await rj(e,t.fieldsIndex,i.where))}async function $Oe(e,t,i){t&&i&&await Promise.all(i.map(n=>kme(e,t,n)))}async function kme(e,t,i){t&&i&&(i.valueExpression?await Lr(e,t.fieldsIndex,i.valueExpression):i.field&&pa(e,t.fieldsIndex,i.field))}function COe(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;return t?nj(e.fieldsIndex,[t&&t.creatorField,t&&t.creationDateField,t&&t.editorField,t&&t.editDateField]):[]}async function TOe(e,t){const{labelingInfo:i,fieldsIndex:n}=t;i&&i.length&&await Promise.all(i.map(r=>_me(e,n,r)))}async function _me(e,t,i){if(!i)return;const n=i.getLabelExpression(),r=i.where;if(n.type==="arcade")await Lr(e,t,n.expression);else{const a=n.expression.match(/{[^}]*}/g);a&&a.forEach(o=>{pa(e,t,o.slice(1,-1))})}await rj(e,t,r)}function Sme(e){const t=e.defaultValue;return t!==void 0&&sj(e,t)?t:e.nullable?null:void 0}function aj(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Dme(e){return e===null||aj(e)}const xE="isInteger"in Number?Number.isInteger:e=>typeof e=="number"&&isFinite(e)&&Math.floor(e)===e;function $me(e){return e===null||xE(e)}function oj(e){return e!=null&&typeof e=="string"}function Cme(e){return e===null||oj(e)}function Tme(){return!0}function sj(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?$me:xE;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Dme:aj;break;case"string":case"esriFieldTypeString":i=e.nullable?Cme:oj;break;default:i=Tme}return arguments.length===1?i:i(t)}const Eme=["integer","small-integer","single","double"],Ime=new Set([...Eme,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function kE(e){return e!=null&&Ime.has(e.type)}function EOe(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}var xx,kx;function IOe(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function MOe(e,t){return e.nullable&&t===null?null:kE(e)&&!Mme(e.type,Number(t))?xx.OUT_OF_RANGE:sj(e,t)?e.domain?fme(e.domain,t):null:kx.INVALID_TYPE}function Mme(e,t){const i=typeof e=="string"?lj(e):e;return!!i&&(i.isInteger?xE(t)&&t>=i.min&&t<=i.max:t>=i.min&&t<=i.max)}function lj(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Ome;case"esriFieldTypeInteger":case"integer":return Ame;case"esriFieldTypeSingle":case"single":return Pme;case"esriFieldTypeDouble":case"double":return Lme}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(xx||(xx={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(kx||(kx={}));const Ome={min:-32768,max:32767,isInteger:!0},Ame={min:-2147483648,max:2147483647,isInteger:!0},Pme={min:-34e37,max:12e37,isInteger:!1},Lme={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function OOe(e,t,i){switch(e){case Pm.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Pm.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case kx.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case xx.OUT_OF_RANGE:{const{min:n,max:r}=lj(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${n} to ${r}`}}}function Rme(e,t){return!Fme(e,t,null)}function Fme(e,t,i){if(!t||!t.attributes||!e){if($(i))for(const a of e)i.add(a);return!0}const n=t.attributes;let r=!1;for(const a of e)if(!(a in n)){if(r=!0,!$(i))break;i.add(a)}return r}let T1=class extends B{constructor(e){super(e),this.type=null}};c([d({type:["attachments","custom","fields","media","text","expression"],readOnly:!0,json:{read:!1,write:!0}})],T1.prototype,"type",void 0),T1=c([_("esri.popup.content.Content")],T1);const kh=T1;var f5;let Nu=f5=class extends kh{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new f5({description:this.description,displayType:this.displayType,title:this.title})}};c([d({type:String,json:{write:!0}})],Nu.prototype,"description",void 0),c([d({type:["auto","preview","list"],json:{write:!0}})],Nu.prototype,"displayType",void 0),c([d({type:String,json:{write:!0}})],Nu.prototype,"title",void 0),c([d({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Nu.prototype,"type",void 0),Nu=f5=c([_("esri.popup.content.AttachmentsContent")],Nu);const py=Nu;var g5;let zu=g5=class extends kh{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new g5({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?N(this.outFields):null})}};c([d()],zu.prototype,"creator",void 0),c([d()],zu.prototype,"destroyer",void 0),c([d()],zu.prototype,"outFields",void 0),c([d({type:["custom"],readOnly:!0})],zu.prototype,"type",void 0),zu=g5=c([_("esri.popup.content.CustomContent")],zu);const Nme=zu;var y5;let sp=y5=class extends B{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new y5({title:this.title,expression:this.expression})}};c([d({type:String,json:{write:!0}})],sp.prototype,"title",void 0),c([d({type:String,json:{write:!0}})],sp.prototype,"expression",void 0),c([d({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],sp.prototype,"returnType",void 0),sp=y5=c([_("esri.popup.ElementExpressionInfo")],sp);const cj=sp;var b5;let S0=b5=class extends kh{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){var e;return new b5({expressionInfo:(e=this.expressionInfo)==null?void 0:e.clone()})}};c([d({type:cj,json:{write:!0}})],S0.prototype,"expressionInfo",void 0),c([d({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],S0.prototype,"type",void 0),S0=b5=c([_("esri.popup.content.ExpressionContent")],S0);const _E=S0,my=rn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});my.toJSON.bind(my);my.fromJSON.bind(my);const Do={year:"numeric",month:"numeric",day:"numeric"},Wf={year:"numeric",month:"long",day:"numeric"},Jf={year:"numeric",month:"short",day:"numeric"},Yf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Qr={hour:"numeric",minute:"numeric"},Ta=ne(D({},Qr),{second:"numeric"}),SE={"short-date":Do,"short-date-short-time":D(D({},Do),Qr),"short-date-short-time-24":ne(D(D({},Do),Qr),{hour12:!1}),"short-date-long-time":D(D({},Do),Ta),"short-date-long-time-24":ne(D(D({},Do),Ta),{hour12:!1}),"short-date-le":Do,"short-date-le-short-time":D(D({},Do),Qr),"short-date-le-short-time-24":ne(D(D({},Do),Qr),{hour12:!1}),"short-date-le-long-time":D(D({},Do),Ta),"short-date-le-long-time-24":ne(D(D({},Do),Ta),{hour12:!1}),"long-month-day-year":Wf,"long-month-day-year-short-time":D(D({},Wf),Qr),"long-month-day-year-short-time-24":ne(D(D({},Wf),Qr),{hour12:!1}),"long-month-day-year-long-time":D(D({},Wf),Ta),"long-month-day-year-long-time-24":ne(D(D({},Wf),Ta),{hour12:!1}),"day-short-month-year":Jf,"day-short-month-year-short-time":D(D({},Jf),Qr),"day-short-month-year-short-time-24":ne(D(D({},Jf),Qr),{hour12:!1}),"day-short-month-year-long-time":D(D({},Jf),Ta),"day-short-month-year-long-time-24":ne(D(D({},Jf),Ta),{hour12:!1}),"long-date":Yf,"long-date-short-time":D(D({},Yf),Qr),"long-date-short-time-24":ne(D(D({},Yf),Qr),{hour12:!1}),"long-date-long-time":D(D({},Yf),Ta),"long-date-long-time-24":ne(D(D({},Yf),Ta),{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Qr,"long-time":Ta},fy=rn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});fy.apiValues;fy.toJSON.bind(fy);fy.fromJSON.bind(fy);const zme={ar:"ar-u-nu-latn-ca-gregory"};let E1=new WeakMap,uj=SE["short-date-short-time"];function jme(e){const t=e||uj;if(!E1.has(t)){const i=Mr(),n=zme[Mr()]||i;E1.set(t,new Intl.DateTimeFormat(n,t))}return E1.get(t)}function dj(e){return SE[e]||null}function nu(e,t){return jme(t).format(e)}iE(()=>{E1=new WeakMap,uj=SE["short-date-short-time"]});const Vme={ar:"ar-u-nu-latn"};let I1=new WeakMap,hj={};function Hme(e){const t=e||hj;if(!I1.has(t)){const i=Mr(),n=Vme[Mr()]||i;I1.set(t,new Intl.NumberFormat(n,e))}return I1.get(t)}function pj(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function lh(e,t){return Hme(t).format(e)}iE(()=>{I1=new WeakMap,hj={}});var v5;let ju=v5=class extends B{constructor(e){super(e),this.dateFormat=null,this.dateTimeFormatOptions=null,this.digitSeparator=!1,this.places=null}clone(){return new v5({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})}format(e){return this.dateFormat?nu(e,D(D({},dj(this.dateFormat)),this.dateTimeFormatOptions)):lh(e,pj(this))}};c([ye(my)],ju.prototype,"dateFormat",void 0),c([d({type:Object,json:{read:!1}})],ju.prototype,"dateTimeFormatOptions",void 0),c([d({type:Boolean,json:{write:!0}})],ju.prototype,"digitSeparator",void 0),c([d({type:xt,json:{write:!0}})],ju.prototype,"places",void 0),ju=v5=c([_("esri.popup.support.FieldInfoFormat")],ju);const Og=ju;var w5;let Pa=w5=class extends B{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!1,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new w5({fieldName:this.fieldName,format:this.format?N(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};c([d({type:String,json:{write:!0}})],Pa.prototype,"fieldName",void 0),c([d({type:Og,json:{write:!0}})],Pa.prototype,"format",void 0),c([d({type:Boolean,json:{write:!0,default:!1}})],Pa.prototype,"isEditable",void 0),c([d({type:String,json:{write:!0}})],Pa.prototype,"label",void 0),c([ye(new Te({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Pa.prototype,"stringFieldOption",void 0),c([d({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Pa.prototype,"statisticType",void 0),c([d({type:String,json:{write:!0}})],Pa.prototype,"tooltip",void 0),c([d({type:Boolean,json:{write:!0}})],Pa.prototype,"visible",void 0),Pa=w5=c([_("esri.popup.FieldInfo")],Pa);const rb=Pa;var x5;let Fs=x5=class extends kh{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new x5(N({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};c([d({type:Object,json:{write:!0}})],Fs.prototype,"attributes",void 0),c([d({type:String,json:{write:!0}})],Fs.prototype,"description",void 0),c([d({type:[rb]})],Fs.prototype,"fieldInfos",void 0),c([ae("fieldInfos")],Fs.prototype,"writeFieldInfos",null),c([d({type:String,json:{write:!0}})],Fs.prototype,"title",void 0),c([d({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Fs.prototype,"type",void 0),Fs=x5=c([_("esri.popup.content.FieldsContent")],Fs);const Lm=Fs;let Vu=class extends B{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};c([d({type:String,json:{write:!0}})],Vu.prototype,"altText",void 0),c([d({type:String,json:{write:!0}})],Vu.prototype,"caption",void 0),c([d({type:String,json:{write:!0}})],Vu.prototype,"title",void 0),c([d({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Vu.prototype,"type",void 0),Vu=c([_("esri.popup.content.mixins.MediaInfo")],Vu);const DE=Vu;var k5;let D0=k5=class extends he{constructor(e){super(e),this.tooltip=null,this.value=null}clone(){return new k5({tooltip:this.tooltip,value:this.value})}};c([d()],D0.prototype,"tooltip",void 0),c([d()],D0.prototype,"value",void 0),D0=k5=c([_("esri.popup.content.support.ChartMediaInfoValueSeries")],D0);const mj=D0;var _5;let Hu=_5=class extends B{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new _5({fields:N(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};c([d({type:[String],json:{write:!0}})],Hu.prototype,"fields",void 0),c([d({type:String,json:{write:!0}})],Hu.prototype,"normalizeField",void 0),c([d({type:[mj],json:{read:!1}})],Hu.prototype,"series",void 0),c([d({type:String,json:{write:!0}})],Hu.prototype,"tooltipField",void 0),Hu=_5=c([_("esri.popup.content.support.ChartMediaInfoValue")],Hu);const qme=Hu;let $0=class extends DE{constructor(e){super(e),this.type=null,this.value=null}};c([d({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],$0.prototype,"type",void 0),c([d({type:qme,json:{write:!0}})],$0.prototype,"value",void 0),$0=c([_("esri.popup.content.mixins.ChartMediaInfo")],$0);const Jk=$0,Yk=rn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var S5;let M1=S5=class extends Jk{constructor(e){super(e),this.type="bar-chart"}clone(){return new S5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Yk.write}})],M1.prototype,"type",void 0),M1=S5=c([_("esri.popup.content.BarChartMediaInfo")],M1);const fj=M1;var D5;let O1=D5=class extends Jk{constructor(e){super(e),this.type="column-chart"}clone(){return new D5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Yk.write}})],O1.prototype,"type",void 0),O1=D5=c([_("esri.popup.content.ColumnChartMediaInfo")],O1);const gj=O1;var $5;let C0=$5=class extends B{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new $5({linkURL:this.linkURL,sourceURL:this.sourceURL})}};c([d({type:String,json:{write:!0}})],C0.prototype,"linkURL",void 0),c([d({type:String,json:{write:!0}})],C0.prototype,"sourceURL",void 0),C0=$5=c([_("esri.popup.content.support.ImageMediaInfoValue")],C0);const Ume=C0;var C5;let lp=C5=class extends DE{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new C5({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};c([d({type:Number,json:{write:!0}})],lp.prototype,"refreshInterval",void 0),c([d({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],lp.prototype,"type",void 0),c([d({type:Ume,json:{write:!0}})],lp.prototype,"value",void 0),lp=C5=c([_("esri.popup.content.ImageMediaInfo")],lp);const yj=lp;var T5;let A1=T5=class extends Jk{constructor(e){super(e),this.type="line-chart"}clone(){return new T5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Yk.write}})],A1.prototype,"type",void 0),A1=T5=c([_("esri.popup.content.LineChartMediaInfo")],A1);const bj=A1;var E5;let P1=E5=class extends Jk{constructor(e){super(e),this.type="pie-chart"}clone(){return new E5({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};c([d({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Yk.write}})],P1.prototype,"type",void 0),P1=E5=c([_("esri.popup.content.PieChartMediaInfo")],P1);const vj=P1,wj={base:DE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":fj,"column-chart":gj,"line-chart":bj,"pie-chart":vj,image:yj}};var I5;let La=I5=class extends kh{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?yj.fromJSON(t):t.type==="barchart"?fj.fromJSON(t):t.type==="columnchart"?gj.fromJSON(t):t.type==="linechart"?bj.fromJSON(t):t.type==="piechart"?vj.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new I5(N({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};c([d()],La.prototype,"activeMediaInfoIndex",void 0),c([d({type:Object,json:{write:!0}})],La.prototype,"attributes",void 0),c([d({type:String,json:{write:!0}})],La.prototype,"description",void 0),c([d({types:[wj]})],La.prototype,"mediaInfos",void 0),c([te("mediaInfos")],La.prototype,"readMediaInfos",null),c([ae("mediaInfos")],La.prototype,"writeMediaInfos",null),c([d({type:String,json:{write:!0}})],La.prototype,"title",void 0),c([d({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],La.prototype,"type",void 0),La=I5=c([_("esri.popup.content.MediaContent")],La);const gy=La;var M5;let T0=M5=class extends kh{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new M5({text:this.text})}};c([d({type:String,json:{write:!0}})],T0.prototype,"text",void 0),c([d({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],T0.prototype,"type",void 0),T0=M5=c([_("esri.popup.content.TextContent")],T0);const Rm=T0,Bme={base:null,key:"type",typeMap:{attachment:py,media:gy,text:Rm,expression:_E,field:Lm}};var O5;let qu=O5=class extends B{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new O5({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([d({type:String,json:{write:!0}})],qu.prototype,"name",void 0),c([d({type:String,json:{write:!0}})],qu.prototype,"title",void 0),c([d({type:String,json:{write:!0}})],qu.prototype,"expression",void 0),c([d({type:["string","number"],json:{write:!0}})],qu.prototype,"returnType",void 0),qu=O5=c([_("esri.popup.ExpressionInfo")],qu);const xj=qu;var A5;let E0=A5=class extends B{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new A5({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};c([d({type:Boolean,json:{write:!0}})],E0.prototype,"returnTopmostRaster",void 0),c([d({type:Boolean,json:{write:!0}})],E0.prototype,"showNoDataRecords",void 0),E0=A5=c([_("esri.popup.LayerOptions")],E0);const Gme=E0;var P5;let I0=P5=class extends B{constructor(e){super(e),this.field=null,this.order=null}clone(){return new P5({field:this.field,order:this.order})}};c([d({type:String,json:{write:!0}})],I0.prototype,"field",void 0),c([d({type:["asc","desc"],json:{write:!0}})],I0.prototype,"order",void 0),I0=P5=c([_("esri.popup.support.RelatedRecordsInfoFieldOrder")],I0);const kj=I0;var L5;let M0=L5=class extends B{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new L5({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?N(this.orderByFields):null})}};c([d({type:Boolean,json:{write:!0}})],M0.prototype,"showRelatedRecords",void 0),c([d({type:[kj],json:{write:!0}})],M0.prototype,"orderByFields",void 0),M0=L5=c([_("esri.popup.RelatedRecordsInfo")],M0);const Wme=M0;var R5;let Ra=R5=class extends vE(he){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new R5({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};c([d()],Ra.prototype,"active",void 0),c([d()],Ra.prototype,"className",void 0),c([d()],Ra.prototype,"disabled",void 0),c([d()],Ra.prototype,"id",void 0),c([d()],Ra.prototype,"indicator",void 0),c([d()],Ra.prototype,"title",void 0),c([d()],Ra.prototype,"type",void 0),c([d()],Ra.prototype,"visible",void 0),Ra=R5=c([_("esri.support.actions.ActionBase")],Ra);const Kk=Ra;var F5;let L1=F5=class extends Kk{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new F5({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};c([d()],L1.prototype,"image",void 0),L1=F5=c([_("esri.support.Action.ActionButton")],L1);const af=L1;var N5;let O0=N5=class extends Kk{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new N5({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};c([d()],O0.prototype,"image",void 0),c([d()],O0.prototype,"value",void 0),O0=N5=c([_("esri.support.Action.ActionToggle")],O0);const _j=O0;var z5;const Jme=ge.ofType({key:"type",defaultKeyValue:"button",base:Kk,typeMap:{button:af,toggle:_j}}),Yme={base:kh,key:"type",typeMap:{media:gy,custom:Nme,text:Rm,attachments:py,fields:Lm,expression:_E}},Sj="esri.PopupTemplate",Kme=Z.getLogger(Sj),Zme=["attachments","fields","media","text","expression"];let fi=z5=class extends B{constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title="",this.relatedRecordsInfo=null}castContent(e){return Array.isArray(e)?e.map(t=>ds(Yme,t)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Il(e)?e:(Kme.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:i}=t;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(t):this._readPopupInfo(t)}writeContent(e,t,i,n){typeof e!="string"?Array.isArray(e)&&(t.popupElements=e.filter(r=>Zme.indexOf(r.type)!==-1).map(r=>r&&r.toJSON(n)),t.popupElements.forEach(r=>{r.type==="attachments"?this._writeAttachmentContent(t):r.type==="media"?this._writeMediaContent(r,t):r.type==="text"&&this._writeTextContent(r,t)})):t.description=e}writeFieldInfos(e,t,i,n){const{content:r}=this,a=Array.isArray(r)?r:null;if(e){const o=a?a.filter(l=>l.type==="fields"):[],s=o.length&&o.every(l=>{var u;return(u=l.fieldInfos)==null?void 0:u.length});t.fieldInfos=e.filter(Boolean).map(l=>{const u=l.toJSON(n);return s&&(u.visible=!1),u})}if(a)for(const o of a)o.type==="fields"&&this._writeFieldsContent(o,t)}writeLayerOptions(e,t,i,n){t[i]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,t){t.title=e||""}clone(){const{actions:e}=this,t=e?N(e.toArray()):[];return new z5({actions:t,content:Array.isArray(this.content)?N(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?N(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?N(this.fieldInfos):null,layerOptions:this.layerOptions?N(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?N(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?N(this.relatedRecordsInfo):null})}async collectRequiredFields(e,t){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...i,...this._getContentExpressionInfos(this.content,i)]),hy(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=N(e.fieldInfos);Array.isArray(t.fieldInfos)?i.forEach(n=>{const r=t.fieldInfos.find(a=>a.fieldName.toLowerCase()===n.fieldName.toLowerCase());r?r.visible=!0:t.fieldInfos.push(n)}):t.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=N(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...i]:t.mediaInfos=i}_readPopupInfoElements({description:e,mediaInfos:t,popupElements:i}){const n={description:!1,mediaInfos:!1};return i.map(r=>r.type==="media"?(r.mediaInfos||!t||n.mediaInfos||(r.mediaInfos=t,n.mediaInfos=!0),gy.fromJSON(r)):r.type==="text"?(r.text||!e||n.description||(r.text=e,n.description=!0),Rm.fromJSON(r)):r.type==="attachments"?py.fromJSON(r):r.type==="fields"?Lm.fromJSON(r):r.type==="expression"?_E.fromJSON(r):void 0).filter(Boolean)}_readPopupInfo({description:e,mediaInfos:t,showAttachments:i}){const n=[];return e?n.push(new Rm({text:e})):n.push(new Lm),Array.isArray(t)&&t.length&&n.push(gy.fromJSON({mediaInfos:t})),i&&n.push(py.fromJSON({displayType:"auto"})),n.length?n:e}_getContentElementFields(e){const t=e==null?void 0:e.type;if(t==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(t==="custom")return e.outFields||[];if(t==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos||this.fieldInfos)];if(t==="media"){const i=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...i.reduce((n,r)=>[...n,...this._getMediaInfoFields(r)],[])]}return t==="text"?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:i,value:n}=e,r=n||{},{fields:a=[],normalizeField:o,tooltipField:s,sourceURL:l,linkURL:u}=r,h=[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(u),...a];return o&&h.push(o),s&&h.push(s),h}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce((i,n)=>[...i,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],t):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((t,i)=>[...t,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(e,t,i){i&&await Promise.all(i.map(n=>Lr(e,t,n.expression)))}_getFieldInfoFields(e){return e?e.filter(t=>t.visible===void 0||!!t.visible).map(t=>t.fieldName).filter(t=>t.indexOf("relationships/")===-1&&t.indexOf("expression/")===-1):[]}_getActionsFields(e){return e?e.toArray().reduce((t,i)=>[...t,...this._getActionFields(i)],[]):[]}_getActionFields(e){const{className:t,title:i,type:n}=e,r=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(r)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||typeof e!="string")return[];const t=/{[^}]*}/g,i=e.match(t);if(!i)return[];const n=/\{(\w+):.+\}/,r=i.filter(a=>!(a.indexOf("{relationships/")===0||a.indexOf("{expression/")===0)).map(a=>a.replace(n,"{$1}"));return r?r.map(a=>a.slice(1,-1)):[]}};c([d({type:Jme})],fi.prototype,"actions",void 0),c([d()],fi.prototype,"content",void 0),c([Ye("content")],fi.prototype,"castContent",null),c([te("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],fi.prototype,"readContent",null),c([ae("content",{popupElements:{type:ge.ofType(Bme)},showAttachments:{type:Boolean},mediaInfos:{type:ge.ofType(wj)},description:{type:String}})],fi.prototype,"writeContent",null),c([d({type:[xj],json:{write:!0}})],fi.prototype,"expressionInfos",void 0),c([d({type:[rb]})],fi.prototype,"fieldInfos",void 0),c([ae("fieldInfos")],fi.prototype,"writeFieldInfos",null),c([d({type:Gme})],fi.prototype,"layerOptions",void 0),c([ae("layerOptions")],fi.prototype,"writeLayerOptions",null),c([d({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],fi.prototype,"lastEditInfoEnabled",void 0),c([d()],fi.prototype,"outFields",void 0),c([d()],fi.prototype,"overwriteActions",void 0),c([d()],fi.prototype,"returnGeometry",void 0),c([d({json:{type:String}})],fi.prototype,"title",void 0),c([ae("title")],fi.prototype,"writeTitle",null),c([d({type:Wme,json:{write:!0}})],fi.prototype,"relatedRecordsInfo",void 0),fi=z5=c([_(Sj)],fi);const ab=fi,BP=new Te({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Xme=0,cp=class extends B{constructor(e){super(e),this.id="sym"+Xme++,this.type=null,this.color=new Ie([0,0,0,1])}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};c([d({type:BP.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:BP.write}}})],cp.prototype,"type",void 0),c([d({type:Ie,json:{write:{allowNull:!0}}})],cp.prototype,"color",void 0),c([te("color")],cp.prototype,"readColor",null),cp=c([_("esri.symbols.Symbol")],cp);const ur=cp;var j5;let tc=j5=class extends ur{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){if(e)for(const i in e)t[i]=e[i]}async collectRequiredFields(e,t){if(this.data.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const n=i.map(r=>{const a=r.valueExpressionInfo;return Lr(e,t,a.expression)});await Promise.all(n)}}}clone(){return new j5({data:N(this.data)})}hash(){return PT(JSON.stringify(this.data)).toString()}};c([d({json:{write:!1}})],tc.prototype,"color",void 0),c([d({json:{write:!0}})],tc.prototype,"data",void 0),c([te("data",["symbol"])],tc.prototype,"readData",null),c([ae("data",{})],tc.prototype,"writeData",null),c([ye({CIMSymbolReference:"cim"},{readOnly:!0})],tc.prototype,"type",void 0),tc=j5=c([_("esri.symbols.CIMSymbol")],tc);const ob=tc;let up=class extends B{constructor(e){super(e),this.enabled=!0,this.type=null}writeEnabled(e,t,i){e||(t[i]=e)}};c([d({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],up.prototype,"enabled",void 0),c([ae("enabled")],up.prototype,"writeEnabled",null),c([d({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],up.prototype,"type",void 0),up=c([_("esri.symbols.Symbol3DLayer")],up);const vs=up,Qme=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,efe="screenUtils.toPt: input not recognized!",Dj=96;function AOe(e){return e?e/72*Dj:0}function ru(e){return e?72*e/Dj:0}function at(e){if(typeof e=="string"){const t=e.match(Qme);if(t){const i=Number(t[1]),n=t[3]&&t[3].toLowerCase(),r=e.charAt(0)==="-",a=n==="px"?ru(i):i;return r?-a:a}return console.warn(efe),null}return e}function Kn(e=0,t=0){return{x:e,y:t}}function POe(e=0,t=0){return[e,t]}function tfe(e,t){const i=t.transparency!=null?dy(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new Ie([n[0]||0,n[1]||0,n[2]||0,i]):null}function ife(e,t){t.color=e.toJSON().slice(0,3);const i=cE(e.a);i!==0&&(t.transparency=i)}const du={type:Ie,json:{type:[xt],default:null,read:{source:["color","transparency"],reader:tfe},write:{target:{color:{type:[xt]},transparency:{type:xt}},writer:ife}}},ps={type:Number,cast:at,json:{write:!0}};let Uu=class extends B{constructor(e){super(e),this.color=new Ie([0,0,0,1]),this.extensionLength=0,this.size=ru(1)}clone(){}cloneProperties(){return{color:N(this.color),size:this.size,extensionLength:this.extensionLength}}};c([d({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Uu.prototype,"type",void 0),c([d(du)],Uu.prototype,"color",void 0),c([d(ne(D({},ps),{json:{write:{overridePolicy:e=>({enabled:!!e})}}}))],Uu.prototype,"extensionLength",void 0),c([d(ps)],Uu.prototype,"size",void 0),Uu=c([_("esri.symbols.edges.Edges3D")],Uu);const $E=Uu;var V5;let R1=V5=class extends $E{constructor(e){super(e),this.type="sketch"}clone(){return new V5(this.cloneProperties())}};c([ye({sketch:"sketch"},{readOnly:!0})],R1.prototype,"type",void 0),R1=V5=c([_("esri.symbols.edges.SketchEdges3D")],R1);const nfe=R1;var H5;let F1=H5=class extends $E{constructor(e){super(e),this.type="solid"}clone(){return new H5(this.cloneProperties())}};c([ye({solid:"solid"},{readOnly:!0})],F1.prototype,"type",void 0),F1=H5=c([_("esri.symbols.support.SolidEdges3D")],F1);const rfe=F1,$j={types:{key:"type",base:$E,typeMap:{solid:rfe,sketch:nfe}},json:{write:!0}};var q5;let Or=q5=class extends B{constructor(e){super(e),this.color=null}clone(){const e={color:$(this.color)?this.color.clone():null};return new q5(e)}};c([d(du)],Or.prototype,"color",void 0),Or=q5=c([_("esri.symbols.support.Symbol3DMaterial")],Or);var U5;let ic=U5=class extends vs{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new U5({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};c([ye({Extrude:"extrude"},{readOnly:!0})],ic.prototype,"type",void 0),c([d({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ic.prototype,"size",void 0),c([d({type:Or,json:{write:!0}})],ic.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ic.prototype,"castShadows",void 0),c([d($j)],ic.prototype,"edges",void 0),ic=U5=c([_("esri.symbols.ExtrudeSymbol3DLayer")],ic);const CE=ic;let A0=class extends ur{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};c([ye({esriSLS:"simple-line"},{readOnly:!0})],A0.prototype,"type",void 0),c([d({type:Number,cast:at,json:{write:!0}})],A0.prototype,"width",void 0),A0=c([_("esri.symbols.LineSymbol")],A0);const afe=A0,ofe=["begin","end","begin-end"],Cj=["arrow","circle","square","diamond","cross","x"];var B5;let Mo=B5=class extends B{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,n){(n==null?void 0:n.origin)==="web-map"?t[i]="arrow":t[i]=e}set color(e){this._set("color",e)}readColor(e){return e&&e[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,n){(n==null?void 0:n.origin)==="web-map"||(t[i]=e)}clone(){return new B5({color:N(this.color),placement:this.placement,style:this.style})}hash(){var e;return`${this.placement}.${(e=this.color)==null?void 0:e.hash()}.${this.style}`}};c([d({type:["begin","end","begin-end"],json:{write:!0}})],Mo.prototype,"placement",void 0),c([ye({"line-marker":"line-marker"},{readOnly:!0}),d({json:{origins:{"web-map":{write:!1}}}})],Mo.prototype,"type",void 0),c([d({type:Cj})],Mo.prototype,"style",void 0),c([ae("style")],Mo.prototype,"writeStyle",null),c([d({type:Ie,value:null,json:{write:{allowNull:!0}}})],Mo.prototype,"color",null),c([te("color")],Mo.prototype,"readColor",null),c([ae("color")],Mo.prototype,"writeColor",null),Mo=B5=c([_("esri.symbols.LineSymbolMarker")],Mo);const sfe=Mo;var G5;const B2=new Te({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Ns=G5=class extends afe{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,n,r,a){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=at(i)),n!=null&&(o.cap=n),r!=null&&(o.join=r),a!=null&&(o.miterLimit=at(a)),o}clone(){var e;return new G5({color:N(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(e=this.marker)==null?void 0:e.clone()})}hash(){var e,t;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(t=this.marker)==null?void 0:t.hash()}`}};c([ye({esriSLS:"simple-line"},{readOnly:!0})],Ns.prototype,"type",void 0),c([d({type:B2.apiValues,json:{read:B2.read,write:B2.write}})],Ns.prototype,"style",void 0),c([d({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],Ns.prototype,"cap",void 0),c([d({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&(i==null||i.origin==null)})}}})],Ns.prototype,"join",void 0),c([d({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":sfe}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ns.prototype,"marker",void 0),c([d({type:Number,json:{read:!1,write:!1}})],Ns.prototype,"miterLimit",void 0),Ns=G5=c([_("esri.symbols.SimpleLineSymbol")],Ns);const bo=Ns;let P0=class extends ur{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};c([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":bo}},json:{default:null,write:!0}})],P0.prototype,"outline",void 0),c([d({type:["simple-fill","picture-fill"],readOnly:!0})],P0.prototype,"type",void 0),P0=c([_("esri.symbols.FillSymbol")],P0);const Tj=P0;let N1=class extends B{constructor(e){super(e)}clone(){}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],N1.prototype,"type",void 0),N1=c([_("esri.symbols.patterns.LinePattern3D")],N1);const Ej=N1,lfe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var W5;const cfe=rn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let L0=W5=class extends Ej{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new W5(e)}};c([d({type:["style"]})],L0.prototype,"type",void 0),c([ye(cfe),d({type:lfe})],L0.prototype,"style",void 0),L0=W5=c([_("esri.symbols.patterns.LineStylePattern3D")],L0);const TE=L0;let z1=class extends B{constructor(e){super(e)}clone(){}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],z1.prototype,"type",void 0),z1=c([_("esri.symbols.patterns.Pattern3D")],z1);const Ij=z1,ufe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var J5;let R0=J5=class extends Ij{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new J5(e)}};c([d({type:["style"]})],R0.prototype,"type",void 0),c([d({type:ufe,json:{read:!0,write:!0}})],R0.prototype,"style",void 0),R0=J5=c([_("esri.symbols.patterns.StylePattern3D")],R0);const Mj=R0,dfe={types:{key:"type",base:Ij,typeMap:{style:Mj}},json:{write:!0}},Oj={types:{key:"type",base:Ej,typeMap:{style:TE}},json:{write:!0}},Ag=new Ie("white");new Ie("black");const hfe=new Ie([255,255,255,0]);function pfe(e){return e.r===0&&e.g===0&&e.b===0}var Y5;let Pg=Y5=class extends Or{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:$(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new Y5(e)}};c([ye({multiply:"multiply",replace:"replace",tint:"tint"})],Pg.prototype,"colorMixMode",void 0),Pg=Y5=c([_("esri.symbols.support.Symbol3DFillMaterial")],Pg);function ch(e=yfe){return[e[0],e[1],e[2],e[3]]}function LOe(e){return[e[0],e[1],e[2],e[3]]}function ROe(e,t,i,n,r=ch()){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function FOe(e,t=ch()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function NOe(e,t){return new lt({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function zOe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function mfe(e){return z(e)||e[0]>=e[2]?0:e[2]-e[0]}function ffe(e){return e[1]>=e[3]?0:e[3]-e[1]}function jOe(e){return mfe(e)*ffe(e)}function VOe(e,t,i){return t[0]>=e[0]-i&&t[1]>=e[1]-i&&t[0]<=e[2]+i&&t[1]<=e[3]+i}function HOe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function gfe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const qOe=[1/0,1/0,-1/0,-1/0],yfe=[0,0,0,0];function EE(e=kfe){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function IE(e,t,i,n,r,a,o=EE()){return o[0]=e,o[1]=t,o[2]=i,o[3]=n,o[4]=r,o[5]=a,o}function UOe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function BOe(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function bfe(e){return e[0]>=e[3]?0:e[3]-e[0]}function vfe(e){return e[1]>=e[4]?0:e[4]-e[1]}function wfe(e){return e[2]>=e[5]?0:e[5]-e[2]}function GOe(e,t=[0,0,0]){return t[0]=bfe(e),t[1]=vfe(e),t[2]=wfe(e),t}function WOe(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function JOe(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function xfe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function YOe(e){return e?xfe(e,WP):EE(WP)}function KOe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function GP(e){return e.length===6}function ZOe(e,t,i){if(z(e)||z(t))return e===t;if(!GP(e)||!GP(t))return!1;if(i){for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const WP=[1/0,1/0,1/0,-1/0,-1/0,-1/0],kfe=[0,0,0,0,0,0];EE();function XOe(e,{isPrimitive:t,width:i,depth:n,height:r}){const a=t?10:1;if(i==null&&r==null&&n==null)return[a*e[0],a*e[1],a*e[2]];const o=nf(i,n,r);let s;for(let l=0;l<3;l++){const u=o[l];if(u!=null){s=u/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*s);return o}const _fe=IE(-.5,-.5,-.5,.5,.5,.5),Sfe=IE(-.5,-.5,0,.5,.5,1),Dfe=IE(-.5,-.5,0,.5,.5,.5);function QOe(e){switch(e){case"sphere":case"cube":case"diamond":return _fe;case"cylinder":case"cone":case"inverted-cone":return Sfe;case"tetrahedron":return Dfe;default:return}}const ME=["butt","square","round"],$fe=[...ME,"none"],Aj=["miter","bevel","round"];var K5;let Bu=K5=class extends B{constructor(e){super(e),this.color=new Ie([0,0,0,1]),this.size=ru(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:$(this.color)?this.color.clone():null,size:this.size,pattern:$(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new K5(e)}};c([d(du)],Bu.prototype,"color",void 0),c([d(ps)],Bu.prototype,"size",void 0),c([d(Oj)],Bu.prototype,"pattern",void 0),c([d({type:ME,json:{default:"butt",write:{overridePolicy(){return{enabled:$(this.pattern)}}}}})],Bu.prototype,"patternCap",void 0),Bu=K5=c([_("esri.symbols.support.Symbol3DOutline")],Bu);var j1;let zs=j1=class extends vs{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:$(this.edges)?this.edges.clone():null,enabled:this.enabled,material:$(this.material)?this.material.clone():null,pattern:$(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:$(this.outline)?this.outline.clone():null};return new j1(e)}static fromSimpleFillSymbol(e){var t,i,n,r,a,o;const s=e.outline&&e.outline.style&&e.outline.style!=="inside-frame"&&e.outline.style!=="solid"?new TE({style:e.outline.style}):null,l={size:(t=(i=e.outline)==null?void 0:i.width)!=null?t:0,color:((n=(r=e.outline)==null?void 0:r.color)!=null?n:Ag).clone(),pattern:s};return s&&(a=e.outline)!=null&&a.cap&&(l.patternCap=e.outline.cap),new j1({material:new Pg({color:((o=e.color)!=null?o:hfe).clone()}),pattern:e.style&&e.style!=="solid"?new Mj({style:e.style}):null,outline:l})}};c([ye({Fill:"fill"},{readOnly:!0})],zs.prototype,"type",void 0),c([d({type:Pg,json:{write:!0}})],zs.prototype,"material",void 0),c([d(dfe)],zs.prototype,"pattern",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],zs.prototype,"castShadows",void 0),c([d({type:Bu,json:{write:!0}})],zs.prototype,"outline",void 0),c([d($j)],zs.prototype,"edges",void 0),zs=j1=c([_("esri.symbols.FillSymbol3DLayer")],zs);const sb=zs,Cfe=["none","underline","line-through"],Tfe=["normal","italic","oblique"],Efe=["normal","lighter","bold","bolder"],Pj={type:Number,cast:e=>{const t=la(e);return t===0?1:ga(t,.1,4)},nonNullable:!0},Ife=["left","right","center","justify"],Mfe=["left","right","center"],Ofe=["baseline","top","middle","bottom"],Afe={type:Ife,nonNullable:!0},Pfe={type:Mfe,nonNullable:!0},Lj={type:Ofe,nonNullable:!0};var Z5;let js=Z5=class extends B{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return at(e)}clone(){return new Z5({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};c([d({type:Cfe,json:{default:"none",write:!0}})],js.prototype,"decoration",void 0),c([d({type:String,json:{write:!0}})],js.prototype,"family",void 0),c([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],js.prototype,"size",void 0),c([Ye("size")],js.prototype,"castSize",null),c([d({type:Tfe,json:{default:"normal",write:!0}})],js.prototype,"style",void 0),c([d({type:Efe,json:{default:"normal",write:!0}})],js.prototype,"weight",void 0),js=Z5=c([_("esri.symbols.Font")],js);const Zk=js;function of(e,t){const i=t&&t.url&&t.url.path;if(e&&i&&(e=to(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=YT(e,t.portalItem.itemUrl);Rfe.test(n)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return X5(e,t&&t.portal)}function lb(e,t,i=yy.YES){if(!e)return e;!Ir(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let n=to(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const a=X5(r,t.portal);n=YT(X5(n,t.portal),a,a),n!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=Nfe(n,t&&t.portal),Ir(n)&&(n=ao(n)),t!=null&&t.resources&&t!=null&&t.portalItem&&!Ir(n)&&!vh(n)&&i===yy.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n)}),n}function OE(e,t,i){return of(e,i)}function uh(e,t,i,n){const r=lb(e,n);r!==void 0&&(t[i]=r)}const Lfe=/\/items\/([^\/]+)\/resources\//,Rfe=/^\.\/resources\//;function Ffe(e){const t=$(e)?e.match(Lfe):null;return $(t)?t[1]:null}function Nfe(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?J3(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function X5(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,n=Nz();return px(n,`${n.scheme}://${i}`)?J3(e,t.portalHostname,i):J3(e,i,t.portalHostname)}var yy;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(yy||(yy={}));const eAe=Object.freeze({__proto__:null,fromJSON:of,toJSON:lb,read:OE,write:uh,itemIdFromResourceUrl:Ffe,get MarkKeep(){return yy}});var Q5;const zfe=rn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Gu=Q5=class extends B{constructor(e){super(e)}readHref(e,t,i){return e?of(e,i):t.dataURI}writeHref(e,t,i,n){e&&(vh(e)?t.dataURI=e:(t.href=lb(e,n),Ir(t.href)&&(t.href=ao(t.href))))}clone(){return new Q5({href:this.href,primitive:this.primitive})}};c([d({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Gu.prototype,"href",void 0),c([te("href")],Gu.prototype,"readHref",null),c([ae("href",{href:{type:String},dataURI:{type:String}})],Gu.prototype,"writeHref",null),c([ye(zfe)],Gu.prototype,"primitive",void 0),Gu=Q5=c([_("esri.symbols.support.IconSymbol3DLayerResource")],Gu);var eD;let qp=eD=class extends he{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new eD({x:this.x,y:this.y})}};c([d({type:Number})],qp.prototype,"x",void 0),c([d({type:Number})],qp.prototype,"y",void 0),qp=eD=c([_("esri.symbols.support.Symbol3DAnchorPosition2D")],qp);var tD;let F0=tD=class extends B{constructor(e){super(e),this.color=new Ie([0,0,0,1]),this.size=ru(1)}clone(){const e={color:$(this.color)?this.color.clone():null,size:this.size};return new tD(e)}};c([d(du)],F0.prototype,"color",void 0),c([d(ps)],F0.prototype,"size",void 0),F0=tD=c([_("esri.symbols.support.Symbol3DIconOutline")],F0);var dp;const jfe=Z.getLogger("esri.symbols.IconSymbol3DLayer");let Oo=dp=class extends vs{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=void 0,this.outline=void 0}clone(){return new dp({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:$(this.material)?this.material.clone():null,outline:$(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Ag,i=JP(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ag).clone()}:null;return new dp({size:e.size,resource:{primitive:Hfe(e.style)},material:{color:t},outline:n,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||pfe(e.color)?Ag:e.color,i=JP(e);return new dp({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new dp({resource:{href:Uz({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function JP(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,n=YP(e.xoffset),r=YP(e.yoffset);return(n||r)&&t&&i?{x:-n/t,y:r/i}:null}function YP(e){return isFinite(e)?e:0}c([d({type:Or,json:{write:!0}})],Oo.prototype,"material",void 0),c([d({type:Gu,json:{write:!0}})],Oo.prototype,"resource",void 0),c([ye({Icon:"icon"},{readOnly:!0})],Oo.prototype,"type",void 0),c([d(ps)],Oo.prototype,"size",void 0),c([ye({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d({json:{default:"center"}})],Oo.prototype,"anchor",void 0),c([d({type:qp,json:{type:[Number],read:{reader:e=>new qp({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Oo.prototype,"anchorPosition",void 0),c([d({type:F0,json:{write:!0}})],Oo.prototype,"outline",void 0),Oo=dp=c([_("esri.symbols.IconSymbol3DLayer")],Oo);const Vfe={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Hfe(e){return Vfe[e]||(jfe.warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Bc=Oo;Z.getLogger("esri.core.Clonable");const ws=e=>{let t=class extends e{clone(){const i=gle(Ln(this),"unable to clone instance of non-accessor class"),n=i.metadatas,r=i.store,a={},o=new Map;for(const u in n){const h=n[u],m=r==null?void 0:r.originOf(u),f=h.clonable;if(h.readOnly||f===!1||m!==Ve.USER&&m!==Ve.DEFAULTS&&m!==Ve.WEB_MAP&&m!==Ve.WEB_SCENE)continue;const g=this[u];let b=null;b=typeof f=="function"?f(g):f==="reference"?g:M3(g),g!=null&&b==null||(m===Ve.DEFAULTS?o.set(u,b):a[u]=b)}const s=new(Object.getPrototypeOf(this)).constructor(a);if(o.size){var l;const u=(l=Ln(s))==null?void 0:l.store;if(u)for(const[h,m]of o)u.set(h,m,Ve.DEFAULTS)}return s}};return t=c([_("esri.core.Clonable")],t),t};let KP=class extends ws(he){};KP=c([_("esri.core.Clonable")],KP);let Wu=class extends ws(B){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return $(e)&&e.placement===this.placement&&e.style===this.style&&(z(this.color)&&z(e.color)||$(this.color)&&$(e.color)&&this.color.toJSON()===e.color.toJSON())}};c([d({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wu.prototype,"type",void 0),c([d({type:ofe,json:{default:"begin-end",write:!0}})],Wu.prototype,"placement",void 0),c([d({type:Cj,json:{default:"arrow",write:!0}})],Wu.prototype,"style",void 0),c([d({type:Ie,json:{type:[xt],default:null,write:!0}})],Wu.prototype,"color",void 0),Wu=c([_("esri.symbols.LineStyleMarker3D")],Wu);const iD=Wu;var V1;let Ao=V1=class extends vs{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ru(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:$(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:$(this.pattern)?this.pattern.clone():null,marker:$(this.marker)?this.marker.clone():null};return new V1(e)}static fromSimpleLineSymbol(e){var t,i,n;const r={enabled:!0,size:(t=e.width)!=null?t:ru(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&e.style!=="inside-frame"?new TE({style:e.style}):null,material:new Or({color:(e.color||Ag).clone()}),marker:e.marker?new iD({placement:e.marker.placement,style:e.marker.style,color:(i=(n=e.marker.color)==null?void 0:n.clone())!=null?i:null}):null};return new V1(r)}};c([d({type:Or,json:{write:!0}})],Ao.prototype,"material",void 0),c([ye({Line:"line"},{readOnly:!0})],Ao.prototype,"type",void 0),c([d({type:Aj,json:{write:!0,default:"miter"}})],Ao.prototype,"join",void 0),c([d({type:ME,json:{write:!0,default:"butt"}})],Ao.prototype,"cap",void 0),c([d(ps)],Ao.prototype,"size",void 0),c([d(Oj)],Ao.prototype,"pattern",void 0),c([d({types:{key:"type",base:iD,typeMap:{style:iD}},json:{write:!0}})],Ao.prototype,"marker",void 0),Ao=V1=c([_("esri.symbols.LineSymbol3DLayer")],Ao);const sf=Ao;var nD;const qfe=rn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let N0=nD=class extends B{clone(){return new nD({href:this.href,primitive:this.primitive})}};c([d({type:String,json:{read:OE,write:uh}})],N0.prototype,"href",void 0),c([ye(qfe)],N0.prototype,"primitive",void 0),N0=nD=c([_("esri.symbols.support.ObjectSymbol3DLayerResource")],N0);var rD;let wd=rD=class extends he{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new rD({x:this.x,y:this.y,z:this.z})}};c([d({type:Number})],wd.prototype,"x",void 0),c([d({type:Number})],wd.prototype,"y",void 0),c([d({type:Number})],wd.prototype,"z",void 0),wd=rD=c([_("esri.symbols.support.Symbol3DAnchorPosition3D")],wd);var aD;let ln=aD=class extends vs{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new aD({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};c([d({type:Or,json:{write:!0}})],ln.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ln.prototype,"castShadows",void 0),c([d({type:N0,json:{write:!0}})],ln.prototype,"resource",void 0),c([ye({Object:"object"},{readOnly:!0})],ln.prototype,"type",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"width",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"height",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"depth",void 0),c([ye({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),d({json:{default:"origin"}})],ln.prototype,"anchor",void 0),c([d({type:wd,json:{type:[Number],read:{reader:e=>new wd({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ln.prototype,"anchorPosition",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"heading",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"tilt",void 0),c([d({type:Number,json:{write:!0}})],ln.prototype,"roll",void 0),c([d({readOnly:!0})],ln.prototype,"isPrimitive",null),ln=aD=c([_("esri.symbols.ObjectSymbol3DLayer")],ln);const Xk=ln;var oD;let kn=oD=class extends vs{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e!=null?e:t.height==null&&t.size!=null?t.size:void 0}readHeight(e,t){return e!=null?e:t.width==null&&t.size!=null?t.size:void 0}clone(){return new oD({enabled:this.enabled,material:$(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};c([d({type:Or,json:{write:!0}})],kn.prototype,"material",void 0),c([d({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],kn.prototype,"castShadows",void 0),c([ye({Path:"path"},{readOnly:!0})],kn.prototype,"type",void 0),c([d({type:["circle","quad"],json:{write:!0,default:"circle"}})],kn.prototype,"profile",void 0),c([d({type:Aj,json:{write:!0,default:"miter"}})],kn.prototype,"join",void 0),c([d({type:$fe,json:{write:!0,default:"butt"}})],kn.prototype,"cap",void 0),c([d({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],kn.prototype,"width",void 0),c([te("width",["width","size","height"])],kn.prototype,"readWidth",null),c([d({type:Number,json:{write:!0}})],kn.prototype,"height",void 0),c([te("height",["height","size","width"])],kn.prototype,"readHeight",null),c([d({type:["center","bottom","top"],json:{write:!0,default:"center"}})],kn.prototype,"anchor",void 0),c([d({type:["heading","all"],json:{write:!0,default:"all"}})],kn.prototype,"profileRotation",void 0),kn=oD=c([_("esri.symbols.PathSymbol3DLayer")],kn);const AE=kn;var sD;let Up=sD=class extends B{constructor(){super(...arguments),this.color=new Ie([0,0,0,1]),this.size=0}clone(){const e={color:N(this.color),size:this.size};return new sD(e)}};c([d(du)],Up.prototype,"color",void 0),c([d(ps)],Up.prototype,"size",void 0),Up=sD=c([_("esri.symbols.support.Symbol3DHalo")],Up);let Lg=class extends ws(B){constructor(e){super(e),this.color=null}};c([d(du)],Lg.prototype,"color",void 0),Lg=c([_("esri.symbols.support.Symbol3DTextBackground")],Lg);var H1;let jn=H1=class extends vs{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){$(e)&&$(this._userSize)&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,n){const r=ne(D({},n),{textSymbol3D:!0});t.font=e.write({},r),delete t.font.size}get size(){return $(this._userSize)?this._userSize:$(this.font)&&this.font.size!=null?this.font.size:9}set size(e){this._userSize=e,$(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new H1({enabled:this.enabled,font:this.font&&N(this.font),halo:this.halo&&N(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:$(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:N(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new H1({font:$(e.font)?e.font.clone():new Zk,halo:Ufe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new Or({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Lg({color:e.backgroundColor.clone()}):null})}};function Ufe(e,t){return e&&t>0?new Up({color:N(e),size:t}):null}c([d({type:Zk,json:{write:!0}})],jn.prototype,"font",null),c([ae("font")],jn.prototype,"writeFont",null),c([d({type:Up,json:{write:!0}})],jn.prototype,"halo",void 0),c([d(ne(D({},Pfe),{json:{default:"center",write:!0}}))],jn.prototype,"horizontalAlignment",void 0),c([d(ne(D({},Pj),{json:{default:1,write:!0}}))],jn.prototype,"lineHeight",void 0),c([d({type:Or,json:{write:!0}})],jn.prototype,"material",void 0),c([d({type:Lg,json:{write:!0}})],jn.prototype,"background",void 0),c([d(ps)],jn.prototype,"size",null),c([d({type:String,json:{write:!0}})],jn.prototype,"text",void 0),c([ye({Text:"text"},{readOnly:!0})],jn.prototype,"type",void 0),c([d(ne(D({},Lj),{json:{default:"baseline",write:!0}}))],jn.prototype,"verticalAlignment",void 0),jn=H1=c([_("esri.symbols.TextSymbol3DLayer")],jn);const lf=jn;var lD;let nc=lD=class extends vs{constructor(e){super(e),this.color=cD.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new lD({color:N(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};c([d({type:Ie,nonNullable:!0,json:{type:[xt],write:(e,t,i)=>t[i]=e.toArray(Ie.AlphaMode.UNLESS_OPAQUE),default:()=>cD.clone(),defaultEquals:e=>e.toCss(!0)===cD.toCss(!0)}})],nc.prototype,"color",void 0),c([ye({Water:"water"},{readOnly:!0})],nc.prototype,"type",void 0),c([d({type:["small","medium","large"],json:{write:!0,default:"medium"}})],nc.prototype,"waterbodySize",void 0),c([d({type:Number,json:{write:!0,default:null}})],nc.prototype,"waveDirection",void 0),c([d({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],nc.prototype,"waveStrength",void 0),nc=lD=c([_("esri.symbols.WaterSymbol3DLayer")],nc);const cD=new Ie([0,119,190]),PE=nc;var uD;let Ju=uD=class extends he{constructor(){super(...arguments),this.portal=null}clone(){return new uD({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};c([d({type:String})],Ju.prototype,"name",void 0),c([d({type:String})],Ju.prototype,"styleUrl",void 0),c([d({type:String})],Ju.prototype,"styleName",void 0),c([d({type:rr})],Ju.prototype,"portal",void 0),Ju=uD=c([_("esri.symbols.support.StyleOrigin")],Ju);const dD=Ju;var hD;let Rg=hD=class extends he{clone(){return new hD({url:this.url})}};c([d({type:String})],Rg.prototype,"url",void 0),Rg=hD=c([_("esri.symbols.support.Thumbnail")],Rg);const Rj={icon:Bc,object:Xk,line:sf,path:AE,fill:sb,extrude:CE,text:lf,water:PE},Bfe=ge.ofType({base:vs,key:"type",typeMap:Rj,errorContext:"symbol-layer"}),Gfe=Z.getLogger("esri.symbols.Symbol3D");let Po=class extends ur{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,i=t&&t.type||ge;this._set("symbolLayers",new i)}get color(){return null}set color(e){this.initialized&&Gfe.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){th(e,this._get("symbolLayers"))}readStyleOrigin(e,t,i){if(e.styleUrl&&e.name){const n=of(e.styleUrl,i);return new dD({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new dD({portal:i&&i.portal||rr.getDefault(),styleName:e.styleName,name:e.name});i&&i.messages&&i.messages.push(new Rn("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,t,i,n){if(e.styleUrl&&e.name){let r=lb(e.styleUrl,n);Ir(r)&&(r=ao(r)),t.styleOrigin={styleUrl:r,name:e.name}}else e.styleName&&e.name&&(e.portal&&n&&n.portal&&!Vz(e.portal.restUrl,n.portal.restUrl)?n&&n.messages&&n.messages.push(new Rn("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof vs||e&&Rj[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};c([d({json:{read:!1,write:!1}})],Po.prototype,"color",null),c([d({type:Bfe,nonNullable:!0,json:{write:!0}}),Ye(Tz)],Po.prototype,"symbolLayers",null),c([d({type:dD})],Po.prototype,"styleOrigin",void 0),c([te("styleOrigin")],Po.prototype,"readStyleOrigin",null),c([ae("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Po.prototype,"writeStyleOrigin",null),c([d({type:Rg,json:{read:!1}})],Po.prototype,"thumbnail",void 0),c([d({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Po.prototype,"type",void 0),Po=c([_("esri.symbols.Symbol3D")],Po);const cf=Po;let z0=class extends B{constructor(e){super(e),this.visible=!0}clone(){}};c([d({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],z0.prototype,"type",void 0),c([d({readOnly:!0})],z0.prototype,"visible",void 0),z0=c([_("esri.symbols.callouts.Callout3D")],z0);const Fj=z0;var pD;let Fg=pD=class extends B{constructor(){super(...arguments),this.color=new Ie("white")}clone(){return new pD({color:N(this.color)})}};c([d(du)],Fg.prototype,"color",void 0),Fg=pD=c([_("esri.symbols.callouts.LineCallout3DBorder")],Fg);const Nj=Fg;Object.freeze({__proto__:null,get LineCallout3DBorder(){return Fg},default:Nj});var mD;let rc=mD=class extends Fj{constructor(e){super(e),this.type="line",this.color=new Ie([0,0,0,1]),this.size=ru(1),this.border=null}get visible(){return this.size>0&&$(this.color)&&this.color.a>0}clone(){return new mD({color:N(this.color),size:this.size,border:N(this.border)})}};c([ye({line:"line"},{readOnly:!0})],rc.prototype,"type",void 0),c([d(du)],rc.prototype,"color",void 0),c([d(ps)],rc.prototype,"size",void 0),c([d({type:Nj,json:{write:!0}})],rc.prototype,"border",void 0),c([d({readOnly:!0})],rc.prototype,"visible",null),rc=mD=c([_("esri.symbols.callouts.LineCallout3D")],rc);const Wfe=rc;function LE(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength<=0)}function zj(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!LE(e)}const jj={types:{key:"type",base:Fj,typeMap:{line:Wfe}},json:{write:!0}};var fD;let xd=fD=class extends B{constructor(){super(...arguments),this.screenLength=0,this.minWorldLength=0}clone(){return new fD({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};c([d(ps)],xd.prototype,"screenLength",void 0),c([d({type:Number,json:{write:!0,default:0}})],xd.prototype,"minWorldLength",void 0),c([d({type:Number,json:{write:!0}})],xd.prototype,"maxWorldLength",void 0),xd=fD=c([_("esri.symbols.support.Symbol3DVerticalOffset")],xd);var q1;const Vj=ge.ofType({base:null,key:"type",typeMap:{text:lf}});let ac=q1=class extends cf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Vj,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return zj(this)}hasVisibleVerticalOffset(){return LE(this)}clone(){return new q1({styleOrigin:N(this.styleOrigin),symbolLayers:N(this.symbolLayers),thumbnail:N(this.thumbnail),callout:N(this.callout),verticalOffset:N(this.verticalOffset)})}static fromTextSymbol(e){return new q1({symbolLayers:[lf.fromTextSymbol(e)]})}};c([d({type:xd,json:{write:!0}})],ac.prototype,"verticalOffset",void 0),c([d(jj)],ac.prototype,"callout",void 0),c([d({json:{read:!1,write:!1}})],ac.prototype,"styleOrigin",void 0),c([d({type:Vj})],ac.prototype,"symbolLayers",void 0),c([ye({LabelSymbol3D:"label-3d"},{readOnly:!0})],ac.prototype,"type",void 0),ac=q1=c([_("esri.symbols.LabelSymbol3D")],ac);const Qk=ac;var U1;const Hj=ge.ofType({base:null,key:"type",typeMap:{line:sf,path:AE}}),Jfe=ge.ofType({base:null,key:"type",typeMap:{line:sf,path:AE}});let j0=U1=class extends cf{constructor(e){super(e),this.symbolLayers=new Hj,this.type="line-3d"}clone(){return new U1({styleOrigin:N(this.styleOrigin),symbolLayers:N(this.symbolLayers),thumbnail:N(this.thumbnail)})}static fromSimpleLineSymbol(e){return new U1({symbolLayers:[sf.fromSimpleLineSymbol(e)]})}};c([d({type:Hj,json:{type:Jfe}})],j0.prototype,"symbolLayers",void 0),c([ye({LineSymbol3D:"line-3d"},{readOnly:!0})],j0.prototype,"type",void 0),j0=U1=c([_("esri.symbols.LineSymbol3D")],j0);const e_=j0;let oc=class extends ur{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};c([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],oc.prototype,"angle",void 0),c([d({type:["simple-marker","picture-marker"],readOnly:!0})],oc.prototype,"type",void 0),c([d({type:Number,cast:at,json:{write:!0}})],oc.prototype,"xoffset",void 0),c([d({type:Number,cast:at,json:{write:!0}})],oc.prototype,"yoffset",void 0),c([d({type:Number,cast:e=>e==="auto"?e:at(e),json:{write:!0}})],oc.prototype,"size",void 0),oc=c([_("esri.symbols.MarkerSymbol")],oc);const qj=oc;var gD;const Uj=ge.ofType({base:null,key:"type",typeMap:{fill:sb}});let V0=gD=class extends cf{constructor(e){super(e),this.symbolLayers=new Uj,this.type="mesh-3d"}clone(){return new gD({styleOrigin:N(this.styleOrigin),symbolLayers:N(this.symbolLayers),thumbnail:N(this.thumbnail)})}};c([d({type:Uj})],V0.prototype,"symbolLayers",void 0),c([ye({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],V0.prototype,"type",void 0),V0=gD=c([_("esri.symbols.MeshSymbol3D")],V0);const RE=V0;function Yfe(e,t,i){return t.imageData?Uz({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):Bj(t.url,i)}function Bj(e,t){return Zfe(t)&&!Ir(e)&&t.layer.parsedUrl?tu(t.layer.parsedUrl.path,"images",e):of(e,t)}function Kfe(e,t,i,n){if(vh(e)){const r=qz(e);t.contentType=r.mediaType,t.imageData=r.data,i&&i.imageData===t.imageData&&i.url&&uh(i.url,t,"url",n)}else uh(e,t,"url",n)}const Gj={json:{read:{source:["imageData","url"],reader:Yfe},write:{writer(e,t,i,n){Kfe(e,t,this.source,n)}}}},Wj={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const n={};return t.imageData&&(n.imageData=t.imageData),t.contentType&&(n.contentType=t.contentType),t.url&&(n.url=Bj(t.url,i)),n}}}};function Zfe(e){return e&&(e.origin==="service"||e.origin==="portal-item")&&e.layer&&(e.layer.type==="feature"||e.layer.type==="stream")}var yD;let ea=yD=class extends Tj{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t&&(r.outline=t),i!=null&&(r.width=at(i)),n!=null&&(r.height=at(n)),r}clone(){const e=new yD({color:N(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",N(this.source)),e}hash(){var e;return`${super.hash()}.${(e=this.color)==null?void 0:e.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};c([ye({esriPFS:"picture-fill"},{readOnly:!0})],ea.prototype,"type",void 0),c([d(Gj)],ea.prototype,"url",void 0),c([d({type:Number,json:{write:!0}})],ea.prototype,"xscale",void 0),c([d({type:Number,json:{write:!0}})],ea.prototype,"yscale",void 0),c([d({type:Number,cast:at,json:{write:!0}})],ea.prototype,"width",void 0),c([d({type:Number,cast:at,json:{write:!0}})],ea.prototype,"height",void 0),c([d({type:Number,cast:at,json:{write:!0}})],ea.prototype,"xoffset",void 0),c([d({type:Number,cast:at,json:{write:!0}})],ea.prototype,"yoffset",void 0),c([d(Wj)],ea.prototype,"source",void 0),ea=yD=c([_("esri.symbols.PictureFillSymbol")],ea);const Jj=ea;var bD;let Fa=bD=class extends qj{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t!=null&&(n.width=at(t)),i!=null&&(n.height=at(i)),n}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new bD({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",N(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};c([d({json:{write:!1}})],Fa.prototype,"color",void 0),c([ye({esriPMS:"picture-marker"},{readOnly:!0})],Fa.prototype,"type",void 0),c([d(Gj)],Fa.prototype,"url",void 0),c([d(Wj)],Fa.prototype,"source",void 0),c([d({type:Number,cast:at,json:{write:!0}})],Fa.prototype,"height",void 0),c([te("height",["height","size"])],Fa.prototype,"readHeight",null),c([d({type:Number,cast:at,json:{write:!0}})],Fa.prototype,"width",void 0),c([d({json:{write:!1}})],Fa.prototype,"size",void 0),Fa=bD=c([_("esri.symbols.PictureMarkerSymbol")],Fa);const cb=Fa;var sc;const Yj=ge.ofType({base:null,key:"type",typeMap:{icon:Bc,object:Xk,text:lf}});let Yu=sc=class extends cf{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Yj,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return zj(this)}hasVisibleVerticalOffset(){return LE(this)}clone(){return new sc({verticalOffset:N(this.verticalOffset),callout:N(this.callout),styleOrigin:N(this.styleOrigin),symbolLayers:N(this.symbolLayers),thumbnail:N(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new sc({symbolLayers:[Bc.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new sc({symbolLayers:[Bc.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){var t,i;return((t=e.data)==null||(i=t.symbol)==null?void 0:i.type)!=="CIMPointSymbol"?null:e.data.symbol.callout?new sc({symbolLayers:[Bc.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}):new sc({symbolLayers:[Bc.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new sc({symbolLayers:[lf.fromTextSymbol(e)]})}};c([d({type:xd,json:{write:!0}})],Yu.prototype,"verticalOffset",void 0),c([d(jj)],Yu.prototype,"callout",void 0),c([d({type:Yj,json:{origins:{"web-scene":{write:!0}}}})],Yu.prototype,"symbolLayers",void 0),c([ye({PointSymbol3D:"point-3d"},{readOnly:!0})],Yu.prototype,"type",void 0),Yu=sc=c([_("esri.symbols.PointSymbol3D")],Yu);const Td=Yu;var H0;const Kj=ge.ofType({base:null,key:"type",typeMap:{extrude:CE,fill:sb,icon:Bc,line:sf,object:Xk,text:lf,water:PE}}),Xfe=ge.ofType({base:null,key:"type",typeMap:{extrude:CE,fill:sb,icon:Bc,line:sf,object:Xk,water:PE}});let hp=H0=class extends cf{constructor(e){super(e),this.symbolLayers=new Kj,this.type="polygon-3d"}writeSymbolLayers(e,t,i,n){const r=e.filter(a=>a.type!=="text");if(n&&n.messages&&r.length<e.length){const a=e.find(o=>o.type==="text");n.messages.push(new P("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a}))}t[i]=r.map(a=>a.write({},n)).toArray()}clone(){return new H0({styleOrigin:N(this.styleOrigin),symbolLayers:N(this.symbolLayers),thumbnail:N(this.thumbnail)})}static fromJSON(e){const t=new H0;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.getItemAt(0).type==="fill"&&t.symbolLayers.getItemAt(1).type==="line"){const i=t.symbolLayers.getItemAt(0),n=t.symbolLayers.getItemAt(1);!n.enabled||e.symbolLayers&&e.symbolLayers[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:n.size,color:$(n.material)?n.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new H0({symbolLayers:[sb.fromSimpleFillSymbol(e)]})}};c([d({type:Kj,json:{type:Xfe}})],hp.prototype,"symbolLayers",void 0),c([ae("web-scene","symbolLayers")],hp.prototype,"writeSymbolLayers",null),c([ye({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],hp.prototype,"type",void 0),hp=H0=c([_("esri.symbols.PolygonSymbol3D")],hp);const ub=hp;var vD;const G2=new Te({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let Ku=vD=class extends Tj{constructor(...e){super(...e),this.color=new Ie([0,0,0,.25]),this.outline=new bo,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t&&(n.outline=t),i&&(n.color=i),n}clone(){return new vD({color:N(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};c([d()],Ku.prototype,"color",void 0),c([d()],Ku.prototype,"outline",void 0),c([ye({esriSFS:"simple-fill"},{readOnly:!0})],Ku.prototype,"type",void 0),c([d({type:G2.apiValues,json:{read:G2.read,write:G2.write}})],Ku.prototype,"style",void 0),Ku=vD=c([_("esri.symbols.SimpleFillSymbol")],Ku);const _h=Ku;var wD;const W2=new Te({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Lo=wD=class extends qj{constructor(...e){super(...e),this.color=new Ie([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new bo}normalizeCtorArgs(e,t,i,n){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t!=null&&(r.size=at(t)),i&&(r.outline=i),n&&(r.color=n),r}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new wD({angle:this.angle,color:N(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var e;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(e=this.outline)==null?void 0:e.hash()}`}};c([d()],Lo.prototype,"color",void 0),c([ae("color")],Lo.prototype,"writeColor",null),c([ye({esriSMS:"simple-marker"},{readOnly:!0})],Lo.prototype,"type",void 0),c([d()],Lo.prototype,"size",void 0),c([d({type:W2.apiValues,json:{read:W2.read,write:W2.write}})],Lo.prototype,"style",void 0),c([d({type:String,json:{write:!0}})],Lo.prototype,"path",null),c([d({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":bo}},json:{default:null,write:!0}})],Lo.prototype,"outline",void 0),Lo=wD=c([_("esri.symbols.SimpleMarkerSymbol")],Lo);const uf=Lo;var xD;let Et=xD=class extends ur{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Zk,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.text=e),t&&(n.font=t),i&&(n.color=i),n}writeLineWidth(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}castLineWidth(e){return at(e)}writeLineHeight(e,t,i,n){n&&typeof n!="string"?n.origin:t[i]=e}clone(){return new xD({angle:this.angle,backgroundColor:N(this.backgroundColor),borderLineColor:N(this.borderLineColor),borderLineSize:this.borderLineSize,color:N(this.color),font:this.font&&this.font.clone(),haloColor:N(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};c([d({type:Ie,json:{write:!0}})],Et.prototype,"backgroundColor",void 0),c([d({type:Ie,json:{write:!0}})],Et.prototype,"borderLineColor",void 0),c([d({type:Number,json:{write:!0}})],Et.prototype,"borderLineSize",void 0),c([d({type:Zk,json:{write:!0}})],Et.prototype,"font",void 0),c([d(ne(D({},Afe),{json:{write:!0}}))],Et.prototype,"horizontalAlignment",void 0),c([d({type:Boolean,json:{write:!0}})],Et.prototype,"kerning",void 0),c([d({type:Ie,json:{write:!0}})],Et.prototype,"haloColor",void 0),c([d({type:Number,cast:at,json:{write:!0}})],Et.prototype,"haloSize",void 0),c([d({type:Boolean,json:{write:!0}})],Et.prototype,"rightToLeft",void 0),c([d({type:Boolean,json:{write:!0}})],Et.prototype,"rotated",void 0),c([d({type:String,json:{write:!0}})],Et.prototype,"text",void 0),c([ye({esriTS:"text"},{readOnly:!0})],Et.prototype,"type",void 0),c([d(ne(D({},Lj),{json:{write:!0}}))],Et.prototype,"verticalAlignment",void 0),c([d({type:Number,cast:at,json:{write:!0}})],Et.prototype,"xoffset",void 0),c([d({type:Number,cast:at,json:{write:!0}})],Et.prototype,"yoffset",void 0),c([d({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Et.prototype,"angle",void 0),c([d({type:Number,json:{write:!0}})],Et.prototype,"width",void 0),c([d({type:Number})],Et.prototype,"lineWidth",void 0),c([ae("lineWidth")],Et.prototype,"writeLineWidth",null),c([Ye("lineWidth")],Et.prototype,"castLineWidth",null),c([d(Pj)],Et.prototype,"lineHeight",void 0),c([ae("lineHeight")],Et.prototype,"writeLineHeight",null),Et=xD=c([_("esri.symbols.TextSymbol")],Et);const df=Et;var kD;const Qfe=Z.getLogger("esri.symbols.WebStyleSymbol");let Ro=kD=class extends ur{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}read(e,t){this.portal=t?t.portal:void 0,super.read(e,t)}clone(){return new kD({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const i=await e0e();hi(t);const n=i.resolveWebStyleSymbol(this,{portal:this.portal},e,t);return n.catch(r=>{Qfe.error("#fetchSymbol()","Failed to create symbol from style",r)}),n}};function e0e(){return import("./webStyleSymbolUtils.c0dd82c4.js")}c([d({json:{write:!1}})],Ro.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],Ro.prototype,"styleName",void 0),c([d({type:rr,json:{write:!1}})],Ro.prototype,"portal",void 0),c([d({type:String,json:{read:OE,write:uh}})],Ro.prototype,"styleUrl",void 0),c([d({type:Rg,json:{read:!1}})],Ro.prototype,"thumbnail",void 0),c([d({type:String,json:{write:!0}})],Ro.prototype,"name",void 0),c([ye({styleSymbolReference:"web-style"},{readOnly:!0})],Ro.prototype,"type",void 0),Ro=kD=c([_("esri.symbols.WebStyleSymbol")],Ro);const Sh=Ro;function FE(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function by(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Gd={base:ur,key:"type",typeMap:{"simple-fill":_h,"picture-fill":Jj,"picture-marker":cb,"simple-line":bo,"simple-marker":uf,text:df,"label-3d":Qk,"line-3d":e_,"mesh-3d":RE,"point-3d":Td,"polygon-3d":ub,"web-style":Sh,cim:ob},errorContext:"symbol"},t0e={base:ur,key:"type",typeMap:{"picture-marker":cb,"simple-marker":uf,text:df,"web-style":Sh,cim:ob},errorContext:"symbol"},i0e=Qm({types:Gd}),Zj={base:ur,key:"type",typeMap:{"simple-fill":_h,"picture-fill":Jj,"picture-marker":cb,"simple-line":bo,"simple-marker":uf,text:df,"line-3d":e_,"mesh-3d":RE,"point-3d":Td,"polygon-3d":ub,"web-style":Sh,cim:ob},errorContext:"symbol"},n0e={base:ur,key:"type",typeMap:{text:df,"label-3d":Qk},errorContext:"symbol"},ZP={base:ur,key:"type",typeMap:{"line-3d":e_,"mesh-3d":RE,"point-3d":Td,"polygon-3d":ub,"web-style":Sh,cim:ob},errorContext:"symbol"},r0e={base:ur,key:"type",typeMap:{"label-3d":Qk},errorContext:"symbol"},Xj=ds(Gd);function a0e(e){if(!e)return null;const t={};for(const i in e){const n=Fn(e[i]);n&&(t[i]=n)}return Object.keys(t).length!==0?t:null}function o0e(e){if(!$(e))return null;const t={};for(const i in e){const n=e[i];n&&(t[i]=n.toJSON())}return Object.keys(t).length!==0?t:null}let Vn=class extends ws(B){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:Cg(),configurable:!0})}normalizeCtorArgs(e,t,i,n){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:i,popupTemplate:n}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&$(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:o0e(this.aggregateGeometries),geometry:$(this.geometry)?this.geometry.toJSON():null,symbol:$(this.symbol)?this.symbol.toJSON():null,attributes:D({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(){$(this.geometry)&&this.geometry.type==="mesh"&&this._notifyLayer("transform",this.geometry.transform,this.geometry.transform)}_notifyLayer(e,t,i,n){if(!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:i};e==="attributes"&&(r.attributeName=n),this.layer.graphicChanged(r)}};c([d({value:null,json:{read:a0e}})],Vn.prototype,"aggregateGeometries",null),c([d({value:null})],Vn.prototype,"attributes",null),c([d({value:null,types:xh,json:{read:Fn}})],Vn.prototype,"geometry",null),c([d({type:Boolean})],Vn.prototype,"isAggregate",void 0),c([d({clonable:"reference"})],Vn.prototype,"layer",void 0),c([d({type:ab})],Vn.prototype,"popupTemplate",void 0),c([d({clonable:"reference"})],Vn.prototype,"sourceLayer",void 0),c([d({value:null,types:Gd})],Vn.prototype,"symbol",null),c([d({type:Boolean,value:!0})],Vn.prototype,"visible",null),Vn=c([_("esri.Graphic")],Vn),function(e){e.generateUID=Cg}(Vn||(Vn={}));const Nn=Vn;class NE{constructor(t,i){this.min=t,this.max=i,this.range=i-t}ndiff(t,i=0){return Math.ceil((t-i)/this.range)*this.range+i}_normalize(t,i,n,r=0,a=!1){return(n-=r)<t?n+=this.ndiff(t-n):n>i&&(n-=this.ndiff(n-i)),a&&n===i&&(n=t),n+r}normalize(t,i=0,n=!1){return this._normalize(this.min,this.max,t,i,n)}clamp(t,i=0){return ga(t-i,this.min,this.max)+i}monotonic(t,i,n){return t<i?i:i+this.ndiff(t-i,n)}minimalMonotonic(t,i,n){return this._normalize(t,t+this.range,i,n)}center(t,i,n){return i=this.monotonic(t,i,n),this.normalize((t+i)/2,n)}diff(t,i,n){return this.monotonic(t,i,n)-t}shortestSignedDiff(t,i){t=this.normalize(t);const n=(i=this.normalize(i))-t,r=i<t?this.minimalMonotonic(t,i)-t:i-this.minimalMonotonic(i,t);return Math.abs(n)<Math.abs(r)?n:r}contains(t,i,n){return i=this.minimalMonotonic(t,i),(n=this.minimalMonotonic(t,n))>t&&n<i}}function zE(e){for(const t in e){const i=e[t];i instanceof Function&&(e[t]=i.bind(e))}return e}zE(new NE(0,2*Math.PI));zE(new NE(-Math.PI,Math.PI));const s0e=zE(new NE(0,360));let Vs=class extends ws(B){constructor(...e){super(...e),this.position=new be([0,0,0]),this.heading=0,this.tilt=0,this.fov=55}normalizeCtorArgs(e,t,i,n){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const r={position:e};return t!=null&&(r.heading=t),i!=null&&(r.tilt=i),n!=null&&(r.fov=n),r}return e}writePosition(e,t,i,n){const r=e.clone();r.x=la(e.x||0),r.y=la(e.y||0),r.z=e.hasZ?la(e.z||0):e.z,t[i]=r.write({},n)}readPosition(e,t){const i=new be;return i.read(e,t),i.x=la(i.x||0),i.y=la(i.y||0),i.z=i.hasZ?la(i.z||0):i.z,i}equals(e){return!!e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)}};c([d({type:be,json:{write:{isRequired:!0}}})],Vs.prototype,"position",void 0),c([ae("position")],Vs.prototype,"writePosition",null),c([te("position")],Vs.prototype,"readPosition",null),c([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ye(e=>s0e.normalize(la(e)))],Vs.prototype,"heading",void 0),c([d({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ye(e=>ga(la(e),-180,180))],Vs.prototype,"tilt",void 0),c([d({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Vs.prototype,"fov",void 0),Vs=c([_("esri.Camera")],Vs);const l0e=Vs;var _D;let lc=_D=class extends B{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new _D({rotation:this.rotation,scale:this.scale,targetGeometry:$(this.targetGeometry)?this.targetGeometry.clone():null,camera:$(this.camera)?this.camera.clone():null})}};function J2(){return{enabled:!this.camera}}c([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J2}}}}})],lc.prototype,"rotation",void 0),c([Ye("rotation")],lc.prototype,"castRotation",null),c([d({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:J2}}}}})],lc.prototype,"scale",void 0),c([d({types:xh,json:{read:Fn,write:!0,origins:{"web-scene":{read:Fn,write:{overridePolicy:J2}}}}})],lc.prototype,"targetGeometry",void 0),c([d({type:l0e,json:{write:!0}})],lc.prototype,"camera",void 0),lc=_D=c([_("esri.Viewpoint")],lc);const so=lc;function tAe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function iAe(e,t){for(const i of e)if(i!=null&&t(i))return i}function XP(e){return e!=null&&typeof e[Symbol.iterator]=="function"}var Pn;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"})(Pn||(Pn={}));let c0e=0;function Qj(){return c0e++}function u0e(e){return e&&typeof e=="object"&&("result"in e||"transferList"in e)}function _x(e){return e?typeof e=="string"?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function e7(e,t,i,n){if(t.type===Pn.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==Pn.INVOKE&&t.type!==Pn.RESPONSE)return void e.postMessage(t);let r;u0e(i)?(r=QP(i.transferList),t.data=i.result):(r=QP(n),t.data=i),r?e.postMessage(t,r):e.postMessage(t)}function vy(e){if(!e)return null;const t=e.data;return t?typeof t=="string"?JSON.parse(t):t:null}function QP(e){if(!e||!e.length)return null;if(V("esri-workers-arraybuffer-transfer"))return e;const t=e.filter(i=>!d0e(i));return t.length?t:null}function d0e(e){return e instanceof ArrayBuffer||e&&e.constructor&&e.constructor.name==="ArrayBuffer"}const h0e={statsWorker:()=>import("./statsWorker.3777fb26.js"),geometryEngineWorker:()=>import("./geometryEngineWorker.49a69fdc.js"),CSVSourceWorker:()=>import("./CSVSourceWorker.919533f8.js"),EdgeProcessingWorker:()=>import("./EdgeProcessingWorker.8e5e48ea.js"),ElevationSamplerWorker:()=>import("./ElevationSamplerWorker.fb21295f.js"),FeatureServiceSnappingSourceWorker:()=>import("./FeatureServiceSnappingSourceWorker.189cb313.js"),GeoJSONSourceWorker:()=>import("./GeoJSONSourceWorker.72dd7f01.js"),LercWorker:()=>import("./LercWorker.42be874c.js"),MemorySourceWorker:()=>import("./MemorySourceWorker.d396c9a0.js"),PBFDecoderWorker:()=>import("./PBFDecoderWorker.19667cad.js"),Pipeline:()=>import("./Pipeline.4a525994.js"),PointCloudWorker:()=>import("./PointCloudWorker.b0b0058b.js"),RasterWorker:()=>import("./RasterWorker.d0e1df31.js"),SceneLayerWorker:()=>import("./SceneLayerWorker.e4a0e837.js"),WFSSourceWorker:()=>import("./WFSSourceWorker.0d7eab99.js"),WorkerTileHandler:()=>import("./WorkerTileHandler.24206e40.js")},{CLOSE:eL,ABORT:tL,INVOKE:iL,RESPONSE:Kf,OPEN_PORT:nL,ON:p0e}=Pn;class m0e{constructor(t){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=t,this._timer=null,this._process=this._process.bind(this)}push(t){t.type===Pn.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const t of this._invokeMessages)this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class Yn{constructor(t,i){this._port=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new m0e(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}static connect(t){const i=new MessageChannel;let n;n=typeof t=="function"?new t:"default"in t&&typeof t.default=="function"?new t.default:t;const r=new Yn(i.port1,{channel:i,client:n});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=r),Yn.clients.set(r,n),i.port2}static loadWorker(t){const i=h0e[t];return i?i():Promise.resolve(null)}close(){this._post({type:eL}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,i,n){const r=n&&n.signal,a=n&&n.transferList;if(!this._port)return Promise.reject(new P("worker:port-closed",`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:i}));const o=Qj();return new Promise((s,l)=>{const u=Lk(r,()=>{var m;const f=this._outJobs.get(o);f&&(this._outJobs.delete(o),(m=f.abortHandle)==null||m.remove(),this._post({type:tL,jobId:o}),l(di()))}),h={resolve:s,reject:l,abortHandle:u,debugInfo:t};this._outJobs.set(o,h),this._post({type:iL,jobId:o,methodName:t,abortable:r!=null},i,a)})}on(t,i){const n=new MessageChannel;function r(a){i(a.data)}return this._port.postMessage({type:Pn.ON,eventType:t,port:n.port2},[n.port2]),n.port1.addEventListener("message",r),n.port1.start(),{remove(){n.port1.postMessage({type:Pn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",r)}}}openPort(){const t=new MessageChannel;return this._post({type:nL,port:t.port2}),t.port1}_close(){this._channel&&(this._channel=null),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{var i;(i=t.abortHandle)==null||i.remove(),t.reject(di(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=this._client=this._schedule=null}_onMessage(t){$(this._schedule)?this._schedule(()=>this._processMessage(t)):this._processMessage(t)}_processMessage(t){const i=vy(t);if(i)switch(i.type){case Kf:this._onResponseMessage(i);break;case iL:this._invokeQueue.push(i);break;case tL:this._onAbortMessage(i);break;case eL:this._onCloseMessage();break;case nL:this._onOpenPortMessage(i);break;case p0e:this._onOnMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);this._invokeQueue.push(t),r&&(r.controller&&r.controller.abort(),i.delete(n))}_onCloseMessage(){const t=this._client;this._close(),t&&"destroy"in t&&Yn.clients.get(this)===t&&t.destroy(),Yn.clients.delete(this),t&&t.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:a}=t,o=a?new AbortController:null,s=this._inJobs;let l,u=this._client,h=u[i];try{if(!h&&i&&i.indexOf(".")!==-1){const m=i.split(".");for(let f=0;f<m.length-1;f++)u=u[m[f]],h=u[m[f+1]]}if(typeof h!="function")throw new TypeError(`${i} is not a function`);l=h.call(u,r,{client:this,signal:o?o.signal:null})}catch(m){return void this._post({type:Kf,jobId:n,error:_x(m)})}Il(l)?(s.set(n,{controller:o,promise:l}),l.then(m=>{s.has(n)&&(s.delete(n),this._post({type:Kf,jobId:n},m))},m=>{s.has(n)&&(s.delete(n),va(m)||this._post({type:Kf,jobId:n,error:_x(m||{message:`Error encountered at method ${i}`})}))})):this._post({type:Kf,jobId:n},l)}_onOpenPortMessage(t){new Yn(t.port,{client:this._client})}_onOnMessage(t){const{port:i}=t,n=this._client.on(t.eventType,a=>{i.postMessage(a)}),r=Ak(t.port,"message",a=>{vy(a).type===Pn.CLOSE&&(r.remove(),n.remove(),i.close())})}_onResponseMessage(t){var i;const{jobId:n,error:r,data:a}=t,o=this._outJobs;if(!o.has(n))return;const s=o.get(n);o.delete(n),(i=s.abortHandle)==null||i.remove(),r?s.reject(P.fromJSON(JSON.parse(r))):s.resolve(a)}_post(t,i,n){return e7(this._port,t,i,n)}}Yn.kernelInfo={revision:Zz,version:Xz,buildDate:Kz},Yn.clients=new Map;const f0e=Z.getLogger("esri.core.workers.Connection");class g0e{constructor(){this._clients=new Array,this._clientPromises=new Array,this._clientIdx=0}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(t,i){return new Promise((n,r)=>{let a=!0;const o=s=>{hi(i.signal),a&&(a=!1,s())};this._clients.length=t.length,this._clientPromises.length=t.length;for(let s=0;s<t.length;++s){const l=t[s];Il(l)?this._clientPromises[s]=l.then(u=>(this._clients[s]=new Yn(u,i),o(n),this._clients[s]),()=>(o(r),null)):(this._clients[s]=new Yn(l,i),this._clientPromises[s]=Promise.resolve(this._clients[s]),o(n))}})}broadcast(t,i,n){const r=new Array(this._clientPromises.length);for(let a=0;a<this._clientPromises.length;++a){const o=this._clientPromises[a];r[a]=o.then(s=>s.invoke(t,i,n))}return r}close(){for(const t of this._clientPromises)t.then(i=>i.close());this._clients.length=0,this._clientPromises.length=0}getAvailableClient(){let t;for(let i=0;i<this._clients.length;++i){const n=this._clients[i];if(n){if(!n.isBusy())return Promise.resolve(n)}else t=t||[],t.push(this._clientPromises[i])}return t?Promise.race(t):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))}invoke(t,i,n){let r=null;return Array.isArray(n)?(f0e.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),r={transferList:n}):r=n,this.closed?Promise.reject(new Error("Connection closed")):this.getAvailableClient().then(a=>a.invoke(t,i,r))}on(t,i){return Promise.all(this._clientPromises).then(()=>Ek(this._clients.map(n=>n.on(t,i))))}openPorts(){return new Promise(t=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then(a=>{i[r]=a.openPort(),--n==0&&t(i)})})}get test(){return{numClients:this._clients.length}}}const t7=Z.getLogger("esri.intl");function Hs(e,t,i={}){const{format:n={}}=i;return cs(e,r=>y0e(r,t,n))}function y0e(e,t,i){let n,r;const a=e.indexOf(":");if(a===-1?n=e.trim():(n=e.slice(0,a).trim(),r=e.slice(a+1).trim()),!n)return"";const o=Zm(n,t);if(o==null)return"";const s=i[r]||i[n];return s?b0e(o,s):r?v0e(o,r):jE(o)}function b0e(e,t){switch(t.type){case"date":return nu(e,t.intlOptions);case"number":return lh(e,t.intlOptions);default:return t7.warn("missing format descriptor for key {key}"),jE(e)}}function v0e(e,t){switch(t.toLowerCase()){case"dateformat":return nu(e);case"numberformat":return lh(e);default:return t7.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?nu(e):/^numberformat/i.test(t)?lh(e):jE(e)}}function jE(e){switch(typeof e){case"string":return e;case"number":return lh(e);case"boolean":return""+e;default:return e instanceof Date?nu(e):""}}async function w0e(e,t,i,n){const r=t.exec(i);if(!r)throw new P("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const a=r[1]?`${r[1]}/`:"",o=r[2],s=ihe(n),l=`${a}${o}.json`,u=s?`${a}${o}_${s}.json`:l;let h;try{h=await rL(e(u))}catch(m){if(u===l)throw new P("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:m});try{h=await rL(e(l))}catch(f){throw new P("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f})}}return h}async function rL(e){if($(aL.fetchBundleAsset))return aL.fetchBundleAsset(e);const t=await $t(e,{responseType:"text"});return JSON.parse(t.data)}class x0e{constructor({base:t="",pattern:i,location:n=new URL(window.location.href)}){let r;r=typeof n=="string"?a=>new URL(a,new URL(n,window.location.href)).href:n instanceof URL?a=>new URL(a,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,i){return w0e(this.getAssetUrl,this.matcher,t,i)}}function k0e(e){return new x0e(e)}const aL={};the(k0e({pattern:"esri/",location:Ze}));const oL={};function _0e(e,t){for(const i of e)if(i.name===t.name)return;e.push(t)}function S0e(e){var t;const i={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:D({},e.has),map:D({},e.map),packages:e.packages&&e.packages.concat()||[],paths:D({},e.paths)};return e.hasOwnProperty("async")||(i.async=!0),e.hasOwnProperty("isDebug")||(i.isDebug=!1),e.baseUrl||(i.baseUrl=oL.baseUrl),(t=oL.packages)==null||t.forEach(n=>{_0e(i.packages,n)}),i}class D0e{constructor(){const t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...n)=>t[i](...n)})}}class B1{constructor(){this._dispatcher=new D0e,this._workerPostMessage({type:Pn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){ix(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,i,n){this._dispatcher.addEventListener(t,i,n)}removeEventListener(t,i,n){this._dispatcher.removeEventListener(t,i,n)}_workerPostMessage(t){ix(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){const i=vy(t);if(i&&i.type===Pn.OPEN){const{modulePath:n,jobId:r}=i;let a=await Yn.loadWorker(n);a||(a=await import(n));const o=Yn.connect(a);this._workerPostMessage({type:Pn.OPENED,jobId:r,data:o})}}}const SD=Z.getLogger("esri.core.workers"),{HANDSHAKE:$0e}=Pn,C0e='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,buildDate:r,version:t}=configuration.kernelInfo,{revision:n,buildDate:i,version:s}=e.kernelInfo;o!==n&&console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let e;function t(o){const t=e.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"==typeof define&&define.amd?require([workerPath],(r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((r=>(e=r.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((r=>{e=r.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),e=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e=outgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let vv,wv;const sL="Failed to create Worker. Fallback to execute module in main thread";async function T0e(){if(!V("esri-workers")||(V("mozilla"),0))return lL(new B1);if(!vv&&!wv)try{const t=C0e.replace('"{CONFIGURATION}"',`'${E0e()}'`);vv=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){wv=t||{}}let e;if(vv)try{e=new Worker(vv,{name:"esri-worker-"+I0e++})}catch{SD.warn(sL,wv),e=new B1}else SD.warn(sL,wv),e=new B1;return lL(e)}async function lL(e){return new Promise(t=>{function i(r){const a=vy(r);a&&a.type===$0e&&(e.removeEventListener("message",i),e.removeEventListener("error",n),t(e))}function n(r){r.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",n),SD.warn("Failed to create Worker. Fallback to execute module in main thread",r),(e=new B1).addEventListener("message",i),e.addEventListener("error",n)}e.addEventListener("message",i),e.addEventListener("error",n)})}function E0e(){let e;if(rt.default!=null){const r=D({},rt);delete r.default,e=JSON.parse(JSON.stringify(r))}else e=JSON.parse(JSON.stringify(rt));e.assetsPath=to(e.assetsPath),e.request.interceptors=[],e.log.interceptors=[],e.locale=Mr(),e.has={"esri-csp-restrictions":V("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":V("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":V("esri-2d-query-centroid-enabled"),"featurelayer-pbf":V("featurelayer-pbf"),"featurelayer-simplify-thresholds":V("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":V("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":V("featurelayer-simplify-mobile-factor"),"esri-atomics":V("esri-atomics"),"esri-shared-array-buffer":V("esri-shared-array-buffer"),"esri-tiles-debug":V("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":V("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":V("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=to(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=to(e.workers.workerPath):e.workers.workerPath=to(Ze("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=rt.workers.loaderConfig,i=S0e({baseUrl:t==null?void 0:t.baseUrl,locale:Mr(),has:D({"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1},t==null?void 0:t.has),map:D({},t==null?void 0:t.map),paths:D({},t==null?void 0:t.paths),packages:(t==null?void 0:t.packages)||[]}),n={version:Xz,buildDate:Kz,revision:Zz};return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:n})}let I0e=0;const M0e=Z.getLogger("esri.core.workers"),{ABORT:cL,INVOKE:O0e,OPEN:A0e,OPENED:P0e,RESPONSE:Zf}=Pn;class VE{constructor(t,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=i,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",n=>{n.preventDefault(),M0e.error(n)})}static async create(t){const i=await T0e();return new VE(i,t)}terminate(){this.worker.terminate()}async open(t,i={}){const{signal:n}=i,r=Qj();return new Promise((a,o)=>{const s={resolve:a,reject:o,abortHandle:Lk(n,()=>{this._outJobs.delete(r),this._post({type:cL,jobId:r})})};this._outJobs.set(r,s),this._post({type:A0e,jobId:r,modulePath:t})})}_onMessage(t){const i=vy(t);if(i)switch(i.type){case P0e:this._onOpenedMessage(i);break;case Zf:this._onResponseMessage(i);break;case cL:this._onAbortMessage(i);break;case O0e:this._onInvokeMessage(i)}}_onAbortMessage(t){const i=this._inJobs,n=t.jobId,r=i.get(n);r&&(r.controller&&r.controller.abort(),i.delete(n))}_onInvokeMessage(t){const{methodName:i,jobId:n,data:r,abortable:a}=t,o=a?new AbortController:null,s=this._inJobs,l=sde[i];let u;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);u=l.call(null,r,{signal:o?o.signal:null})}catch(h){return void this._post({type:Zf,jobId:n,error:_x(h)})}Il(u)?(s.set(n,{controller:o,promise:u}),u.then(h=>{s.has(n)&&(s.delete(n),this._post({type:Zf,jobId:n},h))},h=>{s.has(n)&&(s.delete(n),h||(h={message:"Error encountered at method"+i}),va(h)||this._post({type:Zf,jobId:n,error:_x(h||{message:`Error encountered at method ${i}`})}))})):this._post({type:Zf,jobId:n},u)}_onOpenedMessage(t){var i;const{jobId:n,data:r}=t,a=this._outJobs.get(n);a&&(this._outJobs.delete(n),(i=a.abortHandle)==null||i.remove(),a.resolve(r))}_onResponseMessage(t){var i;const{jobId:n,error:r,data:a}=t,o=this._outJobs.get(n);o&&(this._outJobs.delete(n),(i=o.abortHandle)==null||i.remove(),r?o.reject(P.fromJSON(JSON.parse(r))):o.resolve(a))}_post(t,i,n){return e7(this.worker,t,i,n)}}let Ed=V("esri-workers-debug")?1:V("host-browser")?navigator.hardwareConcurrency-1:0;Ed||(Ed=V("safari")&&V("mac")||V("trident")?7:2);let uL=0;const G1=[];function L0e(){i7()}async function xv(e,t){const i=new g0e;return await i.open(e,t),i}async function R0e(e,t={}){if(typeof e!="string")throw new P("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if(V("host-webworker")&&!V("esri-workers")&&(i="local"),i==="local"){let n=await Yn.loadWorker(e);n||(n=await import(e)),hi(t.signal);const r=t.client||n;return xv([Yn.connect(n)],ne(D({},t),{client:r}))}if(await i7(),hi(t.signal),i==="dedicated"){const n=uL++%Ed;return xv([await G1[n].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const n=Math.min(t.maxNumWorkers,Ed);if(n<Ed){const r=new Array(n);for(let a=0;a<n;++a){const o=uL++%Ed;r[a]=G1[o].open(e,t)}return xv(r,t)}}return xv(G1.map(n=>n.open(e,t)),t)}let kv=null;async function i7(){if(kv)return kv;new AbortController;const e=[];for(let t=0;t<Ed;t++){const i=VE.create(t).then(n=>(G1[t]=n,n));e.push(i)}return kv=Promise.all(e),kv}function HE(e){return new Le({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const n7=HE(Ct),Sx=HE(bl),Dx=HE(iu),F0e=new Le({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ct.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});function nAe(e){return e&&(qk(e)||e===Sx)?Sx:e&&(Uk(e)||e===Dx)?Dx:n7}function N0e(e){return e&&(qk(e)||e===Sx)?bl:e&&(Uk(e)||e===Dx)?iu:Ct}function rAe(e){return XT(e)?bl:QT(e)?iu:Ct}const aAe=39.37,z0e=Ct.radius*Math.PI/200,r7=/UNIT\[([^\]]+)\]\]$/i,Wd=k,a7=/UNIT\[([^\]]+)\]/i,j0e=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),V0e=rn()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),$o=e=>e*e,Hl=e=>e*e*e,wy={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:$o(.001)},"square-centimeters":{inBaseUnits:$o(.01)},"square-decimeters":{inBaseUnits:$o(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:$o(1e3)},"square-inches":{inBaseUnits:$o(.0254)},"square-feet":{inBaseUnits:$o(.3048)},"square-yards":{inBaseUnits:$o(.9144)},"square-miles":{inBaseUnits:$o(1609.344)},"square-us-feet":{inBaseUnits:$o(1200/3937)},acres:{inBaseUnits:.0015625*$o(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Hl(.001)},"cubic-centimeters":{inBaseUnits:1e3*Hl(.01)},"cubic-decimeters":{inBaseUnits:1e3*Hl(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Hl(1e3)},"cubic-inches":{inBaseUnits:1e3*Hl(.0254)},"cubic-feet":{inBaseUnits:1e3*Hl(.3048)},"cubic-yards":{inBaseUnits:1e3*Hl(.9144)},"cubic-miles":{inBaseUnits:1e3*Hl(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},H0e=function(){const e={};for(const t in wy)for(const i in wy[t].units)e[i]=t;return e}();function q0e(e,t,i){return e*wy[i].units[t].inBaseUnits}function U0e(e,t,i){return e/wy[i].units[t].inBaseUnits}function DD(e){const t=H0e[e];if(t)return t;throw new Error("unknown type")}function dL(e,t=null){return t=t||DD(e),wy[t].baseUnit===e}function ta(e,t,i){if(t===i)return e;const n=DD(t);if(n!==DD(i))throw new Error("incompatible units");const r=dL(t,n)?e:q0e(e,t,n);return dL(i,n)?r:U0e(r,i,n)}function B0e(e,t,i){return ta(e,t,"meters")/(i*Math.PI/180)}function o7(e){return V0e.fromJSON(e.toLowerCase())||null}function Fm(e){if(e&&typeof e=="object"&&!tde(e))return 1;const t=db(e);return t>1e5?1:t}function G0e(e){return db(e)>=(e instanceof Le?N0e(e).metersPerDegree:1e5)?"meters":J0e(e)}function db(e,t=Ct.metersPerDegree){return W0e(e,!0)||t}function W0e(e,t=!1){let i,n,r=null;if(e!=null&&(typeof e=="object"?(i=e.wkid,n=e.wkt):typeof e=="number"?i=e:typeof e=="string"&&(n=e)),i){if(XT(i))return bl.metersPerDegree;if(QT(i))return iu.metersPerDegree;r=Wd.values[Wd[i]],!r&&t&&j0e.has(i)&&(r=z0e)}else n&&(c7(n)?r=hL(r7.exec(n),r):l7(n)&&(r=hL(a7.exec(n),r)));return r}function hL(e,t){return e&&e[1]?s7(e[1]):t}function s7(e){return parseFloat(e.split(",")[1])}function J0e(e){let t,i,n=null;if(e!=null&&(typeof e=="object"?(t=e.wkid,i=e.wkt):typeof e=="number"?t=e:typeof e=="string"&&(i=e)),t)n=Wd.units[Wd[t]];else if(i){const r=c7(i)?r7:l7(i)?a7:null;if(r){const a=r.exec(i);a&&a[1]&&(n=K0e(a[1]))}}return $(n)?o7(n):null}function l7(e){return/^GEOCCS/i.test(e)}function c7(e){return/^PROJCS/i.test(e)}const Y0e=1e-7;function K0e(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let i=t&&t[1];if(!i||Wd.units.indexOf(i)===-1){const n=s7(e);i=null;const r=Wd.values;for(let a=0;a<r.length;++a)if(Math.abs(n-r[a])<Y0e){i=Wd.units[a];break}}return i}const u7={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},d7={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Z0e=rn()(u7),X0e=rn()(d7);rn()(D(D({},u7),d7));function Q0e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function hu(e,t,i,n,r,a,o,s,l,u,h,m,f,g,b,v,w){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e[9]=h,e[10]=m,e[11]=f,e[12]=g,e[13]=b,e[14]=v,e[15]=w,e}function qE(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ml(e,t){if(e===t){const i=t[1],n=t[2],r=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=r,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function ege(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15],S=i*s-n*o,E=i*l-r*o,T=i*u-a*o,C=n*l-r*s,M=n*u-a*s,L=r*u-a*l,j=h*v-m*b,G=h*w-f*b,J=h*x-g*b,q=m*w-f*v,ue=m*x-g*v,re=f*x-g*w;let de=S*re-E*ue+T*q+C*J-M*G+L*j;return de?(de=1/de,e[0]=(s*re-l*ue+u*q)*de,e[1]=(r*ue-n*re-a*q)*de,e[2]=(v*L-w*M+x*C)*de,e[3]=(f*M-m*L-g*C)*de,e[4]=(l*J-o*re-u*G)*de,e[5]=(i*re-r*J+a*G)*de,e[6]=(w*T-b*L-x*E)*de,e[7]=(h*L-f*T+g*E)*de,e[8]=(o*ue-s*J+u*j)*de,e[9]=(n*J-i*ue-a*j)*de,e[10]=(b*M-v*T+x*S)*de,e[11]=(m*T-h*M-g*S)*de,e[12]=(s*G-o*q-l*j)*de,e[13]=(i*q-n*G+r*j)*de,e[14]=(v*E-b*C-w*S)*de,e[15]=(h*C-m*E+f*S)*de,e):null}function tge(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15];return e[0]=s*(f*x-g*w)-m*(l*x-u*w)+v*(l*g-u*f),e[1]=-(n*(f*x-g*w)-m*(r*x-a*w)+v*(r*g-a*f)),e[2]=n*(l*x-u*w)-s*(r*x-a*w)+v*(r*u-a*l),e[3]=-(n*(l*g-u*f)-s*(r*g-a*f)+m*(r*u-a*l)),e[4]=-(o*(f*x-g*w)-h*(l*x-u*w)+b*(l*g-u*f)),e[5]=i*(f*x-g*w)-h*(r*x-a*w)+b*(r*g-a*f),e[6]=-(i*(l*x-u*w)-o*(r*x-a*w)+b*(r*u-a*l)),e[7]=i*(l*g-u*f)-o*(r*g-a*f)+h*(r*u-a*l),e[8]=o*(m*x-g*v)-h*(s*x-u*v)+b*(s*g-u*m),e[9]=-(i*(m*x-g*v)-h*(n*x-a*v)+b*(n*g-a*m)),e[10]=i*(s*x-u*v)-o*(n*x-a*v)+b*(n*u-a*s),e[11]=-(i*(s*g-u*m)-o*(n*g-a*m)+h*(n*u-a*s)),e[12]=-(o*(m*w-f*v)-h*(s*w-l*v)+b*(s*f-l*m)),e[13]=i*(m*w-f*v)-h*(n*w-r*v)+b*(n*f-r*m),e[14]=-(i*(s*w-l*v)-o*(n*w-r*v)+b*(n*l-r*s)),e[15]=i*(s*f-l*m)-o*(n*f-r*m)+h*(n*l-r*s),e}function ige(e){const t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],h=e[9],m=e[10],f=e[11],g=e[12],b=e[13],v=e[14],w=e[15];return(t*o-i*a)*(m*w-f*v)-(t*s-n*a)*(h*w-f*b)+(t*l-r*a)*(h*v-m*b)+(i*s-n*o)*(u*w-f*g)-(i*l-r*o)*(u*v-m*g)+(n*l-r*s)*(u*b-h*g)}function h7(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=t[9],g=t[10],b=t[11],v=t[12],w=t[13],x=t[14],S=t[15];let E=i[0],T=i[1],C=i[2],M=i[3];return e[0]=E*n+T*s+C*m+M*v,e[1]=E*r+T*l+C*f+M*w,e[2]=E*a+T*u+C*g+M*x,e[3]=E*o+T*h+C*b+M*S,E=i[4],T=i[5],C=i[6],M=i[7],e[4]=E*n+T*s+C*m+M*v,e[5]=E*r+T*l+C*f+M*w,e[6]=E*a+T*u+C*g+M*x,e[7]=E*o+T*h+C*b+M*S,E=i[8],T=i[9],C=i[10],M=i[11],e[8]=E*n+T*s+C*m+M*v,e[9]=E*r+T*l+C*f+M*w,e[10]=E*a+T*u+C*g+M*x,e[11]=E*o+T*h+C*b+M*S,E=i[12],T=i[13],C=i[14],M=i[15],e[12]=E*n+T*s+C*m+M*v,e[13]=E*r+T*l+C*f+M*w,e[14]=E*a+T*u+C*g+M*x,e[15]=E*o+T*h+C*b+M*S,e}function nge(e,t,i){const n=i[0],r=i[1],a=i[2];let o,s,l,u,h,m,f,g,b,v,w,x;return t===e?(e[12]=t[0]*n+t[4]*r+t[8]*a+t[12],e[13]=t[1]*n+t[5]*r+t[9]*a+t[13],e[14]=t[2]*n+t[6]*r+t[10]*a+t[14],e[15]=t[3]*n+t[7]*r+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],h=t[4],m=t[5],f=t[6],g=t[7],b=t[8],v=t[9],w=t[10],x=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=h,e[5]=m,e[6]=f,e[7]=g,e[8]=b,e[9]=v,e[10]=w,e[11]=x,e[12]=o*n+h*r+b*a+t[12],e[13]=s*n+m*r+v*a+t[13],e[14]=l*n+f*r+w*a+t[14],e[15]=u*n+g*r+x*a+t[15]),e}function rge(e,t,i){const n=i[0],r=i[1],a=i[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function age(e,t,i,n){let r,a,o,s,l,u,h,m,f,g,b,v,w,x,S,E,T,C,M,L,j,G,J,q,ue=n[0],re=n[1],de=n[2],it=Math.sqrt(ue*ue+re*re+de*de);return it<_e?null:(it=1/it,ue*=it,re*=it,de*=it,r=Math.sin(i),a=Math.cos(i),o=1-a,s=t[0],l=t[1],u=t[2],h=t[3],m=t[4],f=t[5],g=t[6],b=t[7],v=t[8],w=t[9],x=t[10],S=t[11],E=ue*ue*o+a,T=re*ue*o+de*r,C=de*ue*o-re*r,M=ue*re*o-de*r,L=re*re*o+a,j=de*re*o+ue*r,G=ue*de*o+re*r,J=re*de*o-ue*r,q=de*de*o+a,e[0]=s*E+m*T+v*C,e[1]=l*E+f*T+w*C,e[2]=u*E+g*T+x*C,e[3]=h*E+b*T+S*C,e[4]=s*M+m*L+v*j,e[5]=l*M+f*L+w*j,e[6]=u*M+g*L+x*j,e[7]=h*M+b*L+S*j,e[8]=s*G+m*J+v*q,e[9]=l*G+f*J+w*q,e[10]=u*G+g*J+x*q,e[11]=h*G+b*J+S*q,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function oge(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],h=t[9],m=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+u*n,e[5]=o*r+h*n,e[6]=s*r+m*n,e[7]=l*r+f*n,e[8]=u*r-a*n,e[9]=h*r-o*n,e[10]=m*r-s*n,e[11]=f*r-l*n,e}function sge(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],h=t[9],m=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r-u*n,e[1]=o*r-h*n,e[2]=s*r-m*n,e[3]=l*r-f*n,e[8]=a*n+u*r,e[9]=o*n+h*r,e[10]=s*n+m*r,e[11]=l*n+f*r,e}function lge(e,t,i){const n=Math.sin(i),r=Math.cos(i),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],h=t[5],m=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+u*n,e[1]=o*r+h*n,e[2]=s*r+m*n,e[3]=l*r+f*n,e[4]=u*r-a*n,e[5]=h*r-o*n,e[6]=m*r-s*n,e[7]=f*r-l*n,e}function p7(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function cge(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function uge(e,t,i){let n,r,a,o=i[0],s=i[1],l=i[2],u=Math.sqrt(o*o+s*s+l*l);return u<_e?null:(u=1/u,o*=u,s*=u,l*=u,n=Math.sin(t),r=Math.cos(t),a=1-r,e[0]=o*o*a+r,e[1]=s*o*a+l*n,e[2]=l*o*a-s*n,e[3]=0,e[4]=o*s*a-l*n,e[5]=s*s*a+r,e[6]=l*s*a+o*n,e[7]=0,e[8]=o*l*a+s*n,e[9]=s*l*a-o*n,e[10]=l*l*a+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function dge(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function hge(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function pge(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m7(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=n+n,l=r+r,u=a+a,h=n*s,m=n*l,f=n*u,g=r*l,b=r*u,v=a*u,w=o*s,x=o*l,S=o*u;return e[0]=1-(g+v),e[1]=m+S,e[2]=f-x,e[3]=0,e[4]=m-S,e[5]=1-(h+v),e[6]=b+w,e[7]=0,e[8]=f+x,e[9]=b-w,e[10]=1-(h+g),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function mge(e,t){const i=fge,n=-t[0],r=-t[1],a=-t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=n*n+r*r+a*a+o*o;return m>0?(i[0]=2*(s*o+h*n+l*a-u*r)/m,i[1]=2*(l*o+h*r+u*n-s*a)/m,i[2]=2*(u*o+h*a+s*r-l*n)/m):(i[0]=2*(s*o+h*n+l*a-u*r),i[1]=2*(l*o+h*r+u*n-s*a),i[2]=2*(u*o+h*a+s*r-l*n)),m7(e,t,i),e}const fge=bs();function gge(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function yge(e,t){const i=t[0],n=t[1],r=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],h=t[10];return e[0]=Math.sqrt(i*i+n*n+r*r),e[1]=Math.sqrt(a*a+o*o+s*s),e[2]=Math.sqrt(l*l+u*u+h*h),e}function bge(e,t){const i=t[0]+t[5]+t[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),e[3]=.25*n,e[0]=(t[6]-t[9])/n,e[1]=(t[8]-t[2])/n,e[2]=(t[1]-t[4])/n):t[0]>t[5]&&t[0]>t[10]?(n=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/n,e[0]=.25*n,e[1]=(t[1]+t[4])/n,e[2]=(t[8]+t[2])/n):t[5]>t[10]?(n=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/n,e[0]=(t[1]+t[4])/n,e[1]=.25*n,e[2]=(t[6]+t[9])/n):(n=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/n,e[0]=(t[8]+t[2])/n,e[1]=(t[6]+t[9])/n,e[2]=.25*n),e}function vge(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=t[3],l=r+r,u=a+a,h=o+o,m=r*l,f=r*u,g=r*h,b=a*u,v=a*h,w=o*h,x=s*l,S=s*u,E=s*h,T=n[0],C=n[1],M=n[2];return e[0]=(1-(b+w))*T,e[1]=(f+E)*T,e[2]=(g-S)*T,e[3]=0,e[4]=(f-E)*C,e[5]=(1-(m+w))*C,e[6]=(v+x)*C,e[7]=0,e[8]=(g+S)*M,e[9]=(v-x)*M,e[10]=(1-(m+b))*M,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function wge(e,t,i,n,r){const a=t[0],o=t[1],s=t[2],l=t[3],u=a+a,h=o+o,m=s+s,f=a*u,g=a*h,b=a*m,v=o*h,w=o*m,x=s*m,S=l*u,E=l*h,T=l*m,C=n[0],M=n[1],L=n[2],j=r[0],G=r[1],J=r[2],q=(1-(v+x))*C,ue=(g+T)*C,re=(b-E)*C,de=(g-T)*M,it=(1-(f+x))*M,Ke=(w+S)*M,He=(b+E)*L,At=(w-S)*L,ai=(1-(f+v))*L;return e[0]=q,e[1]=ue,e[2]=re,e[3]=0,e[4]=de,e[5]=it,e[6]=Ke,e[7]=0,e[8]=He,e[9]=At,e[10]=ai,e[11]=0,e[12]=i[0]+j-(q*j+de*G+He*J),e[13]=i[1]+G-(ue*j+it*G+At*J),e[14]=i[2]+J-(re*j+Ke*G+ai*J),e[15]=1,e}function xge(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=i+i,s=n+n,l=r+r,u=i*o,h=n*o,m=n*s,f=r*o,g=r*s,b=r*l,v=a*o,w=a*s,x=a*l;return e[0]=1-m-b,e[1]=h+x,e[2]=f-w,e[3]=0,e[4]=h-x,e[5]=1-u-b,e[6]=g+v,e[7]=0,e[8]=f+w,e[9]=g-v,e[10]=1-u-m,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kge(e,t,i,n,r,a,o){const s=1/(i-t),l=1/(r-n),u=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*l,e[6]=0,e[7]=0,e[8]=(i+t)*s,e[9]=(r+n)*l,e[10]=(o+a)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*u,e[15]=0,e}function _ge(e,t,i,n,r){const a=1/Math.tan(t/2);let o;return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(o=1/(n-r),e[10]=(r+n)*o,e[14]=2*r*n*o):(e[10]=-1,e[14]=-2*n),e}function Sge(e,t,i,n){const r=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(r+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-s)*l*.5,e[9]=(r-a)*u*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function Dge(e,t,i,n,r,a,o){const s=1/(t-i),l=1/(n-r),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+i)*s,e[13]=(r+n)*l,e[14]=(o+a)*u,e[15]=1,e}function $ge(e,t,i,n){let r,a,o,s,l,u,h,m,f,g;const b=t[0],v=t[1],w=t[2],x=n[0],S=n[1],E=n[2],T=i[0],C=i[1],M=i[2];return Math.abs(b-T)<_e&&Math.abs(v-C)<_e&&Math.abs(w-M)<_e?qE(e):(h=b-T,m=v-C,f=w-M,g=1/Math.sqrt(h*h+m*m+f*f),h*=g,m*=g,f*=g,r=S*f-E*m,a=E*h-x*f,o=x*m-S*h,g=Math.sqrt(r*r+a*a+o*o),g?(g=1/g,r*=g,a*=g,o*=g):(r=0,a=0,o=0),s=m*o-f*a,l=f*r-h*o,u=h*a-m*r,g=Math.sqrt(s*s+l*l+u*u),g?(g=1/g,s*=g,l*=g,u*=g):(s=0,l=0,u=0),e[0]=r,e[1]=s,e[2]=h,e[3]=0,e[4]=a,e[5]=l,e[6]=m,e[7]=0,e[8]=o,e[9]=u,e[10]=f,e[11]=0,e[12]=-(r*b+a*v+o*w),e[13]=-(s*b+l*v+u*w),e[14]=-(h*b+m*v+f*w),e[15]=1,e)}function Cge(e,t,i,n){const r=t[0],a=t[1],o=t[2],s=n[0],l=n[1],u=n[2];let h=r-i[0],m=a-i[1],f=o-i[2],g=h*h+m*m+f*f;g>0&&(g=1/Math.sqrt(g),h*=g,m*=g,f*=g);let b=l*f-u*m,v=u*h-s*f,w=s*m-l*h;return g=b*b+v*v+w*w,g>0&&(g=1/Math.sqrt(g),b*=g,v*=g,w*=g),e[0]=b,e[1]=v,e[2]=w,e[3]=0,e[4]=m*w-f*v,e[5]=f*b-h*w,e[6]=h*v-m*b,e[7]=0,e[8]=h,e[9]=m,e[10]=f,e[11]=0,e[12]=r,e[13]=a,e[14]=o,e[15]=1,e}function Tge(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ege(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function Ige(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function f7(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Mge(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Oge(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e[9]=t[9]+i[9]*n,e[10]=t[10]+i[10]*n,e[11]=t[11]+i[11]*n,e[12]=t[12]+i[12]*n,e[13]=t[13]+i[13]*n,e[14]=t[14]+i[14]*n,e[15]=t[15]+i[15]*n,e}function Age(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Pge(e,t){if(e===t)return!0;const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],m=e[9],f=e[10],g=e[11],b=e[12],v=e[13],w=e[14],x=e[15],S=t[0],E=t[1],T=t[2],C=t[3],M=t[4],L=t[5],j=t[6],G=t[7],J=t[8],q=t[9],ue=t[10],re=t[11],de=t[12],it=t[13],Ke=t[14],He=t[15];return Math.abs(i-S)<=_e*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(n-E)<=_e*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(r-T)<=_e*Math.max(1,Math.abs(r),Math.abs(T))&&Math.abs(a-C)<=_e*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(o-M)<=_e*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-L)<=_e*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(l-j)<=_e*Math.max(1,Math.abs(l),Math.abs(j))&&Math.abs(u-G)<=_e*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(h-J)<=_e*Math.max(1,Math.abs(h),Math.abs(J))&&Math.abs(m-q)<=_e*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(f-ue)<=_e*Math.max(1,Math.abs(f),Math.abs(ue))&&Math.abs(g-re)<=_e*Math.max(1,Math.abs(g),Math.abs(re))&&Math.abs(b-de)<=_e*Math.max(1,Math.abs(b),Math.abs(de))&&Math.abs(v-it)<=_e*Math.max(1,Math.abs(v),Math.abs(it))&&Math.abs(w-Ke)<=_e*Math.max(1,Math.abs(w),Math.abs(Ke))&&Math.abs(x-He)<=_e*Math.max(1,Math.abs(x),Math.abs(He))}function Lge(e){const t=_e,i=e[0],n=e[1],r=e[2],a=e[4],o=e[5],s=e[6],l=e[8],u=e[9],h=e[10];return Math.abs(1-(i*i+a*a+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(r*r+s*s+h*h))<=t}const Rge=h7,Fge=f7;Object.freeze({__proto__:null,copy:Q0e,set:hu,identity:qE,transpose:Ml,invert:ege,adjoint:tge,determinant:ige,multiply:h7,translate:nge,scale:rge,rotate:age,rotateX:oge,rotateY:sge,rotateZ:lge,fromTranslation:p7,fromScaling:cge,fromRotation:uge,fromXRotation:dge,fromYRotation:hge,fromZRotation:pge,fromRotationTranslation:m7,fromQuat2:mge,getTranslation:gge,getScaling:yge,getRotation:bge,fromRotationTranslationScale:vge,fromRotationTranslationScaleOrigin:wge,fromQuat:xge,frustum:kge,perspective:_ge,perspectiveFromFieldOfView:Sge,ortho:Dge,lookAt:$ge,targetTo:Cge,str:Tge,frob:Ege,add:Ige,subtract:f7,multiplyScalar:Mge,multiplyScalarAndAdd:Oge,exactEquals:Age,equals:Pge,isOrthoNormal:Lge,mul:Rge,sub:Fge});let Y2,A=null;function g7(){return!!A}function Nge(){return!!V("esri-wasm")}function y7(){return Y2||(Y2=import("./pe-wasm.1d1b20e7.js").then(e=>e.p).then(({default:e})=>e({locateFile:t=>Ze(`esri/geometry/support/${t}`)})).then(e=>{v7(e)}),Y2)}var $D,Mt,CD;(function(e){function t(a,o,s){A.ensureCache.prepare();const l=kd(s),u=s===l,h=A.ensureFloat64(l),m=A._pe_geog_to_proj(A.getPointer(a),o,h);return m&&Nc(s,o,h,u),m}function i(a,o,s,l){switch(l){case Mt.PE_TRANSFORM_P_TO_G:return n(a,o,s);case Mt.PE_TRANSFORM_G_TO_P:return t(a,o,s)}return 0}function n(a,o,s){return r(a,o,s,0)}function r(a,o,s,l){A.ensureCache.prepare();const u=kd(s),h=s===u,m=A.ensureFloat64(u),f=A._pe_proj_to_geog_center(A.getPointer(a),o,m,l);return f&&Nc(s,o,m,h),f}e.geogToProj=t,e.projGeog=i,e.projToGeog=n,e.projToGeogCenter=r})($D||($D={})),function(e){function t(){e.PE_BUFFER_MAX=A.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=A.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=A.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=A.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=A.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=A.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=A.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=A.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=A.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=A.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=A.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=A.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=A.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=A.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=A.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=A.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=A.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=A.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=A.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=A.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=A.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=A.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=A.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=A.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=A.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=A.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=A.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=A.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=A.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=A.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Mt||(Mt={})),function(e){const t={},i={},n=g=>{if(g){const b=g.getType();switch(b){case Mt.PE_TYPE_GEOGCS:g=A.castObject(g,A.PeGeogcs);break;case Mt.PE_TYPE_PROJCS:g=A.castObject(g,A.PeProjcs);break;case Mt.PE_TYPE_GEOGTRAN:g=A.castObject(g,A.PeGeogtran);break;default:b&Mt.PE_TYPE_UNIT&&(g=A.castObject(g,A.PeUnit))}}return g};function r(){A.PeFactory.prototype.initialize(null)}function a(g){return o(Mt.PE_TYPE_COORDSYS,g)}function o(g,b){let v=null,w=t[g];if(w||(w={},t[g]=w),w.hasOwnProperty(String(b)))v=w[b];else{const x=A.PeFactory.prototype.factoryByType(g,b);A.compare(x,A.NULL)||(v=x,w[b]=v)}return v=n(v),v}function s(g,b){let v=null,w=i[g];if(w||(w={},i[g]=w),w.hasOwnProperty(b))v=w[b];else{const x=A.PeFactory.prototype.fromString(g,b);A.compare(x,A.NULL)||(v=x,w[b]=v)}return v=n(v),v}function l(g){return o(Mt.PE_TYPE_GEOGCS,g)}function u(g){return o(Mt.PE_TYPE_GEOGTRAN,g)}function h(g){return A.PeFactory.prototype.getCode(g)}function m(g){return o(Mt.PE_TYPE_PROJCS,g)}function f(g){return o(Mt.PE_TYPE_UNIT,g)}e.initialize=r,e.coordsys=a,e.factoryByType=o,e.fromString=s,e.geogcs=l,e.geogtran=u,e.getCode=h,e.projcs=m,e.unit=f}(CD||(CD={}));let b7=null;var $x,TD,ED,ID,Cx,MD,Tx,Ex,OD;function v7(e){function t(a,o,s){a[o]=s(a[o])}A=e,Mt.init(),$x.init(),Cx.init(),Tx.init(),Ex.init(),b7=class extends A.PeGCSExtent{destroy(){A.destroy(this)}};const i=[A.PeDatum,A.PeGeogcs,A.PeGeogtran,A.PeObject,A.PeParameter,A.PePrimem,A.PeProjcs,A.PeSpheroid,A.PeUnit];for(const a of i)t(a.prototype,"getName",o=>function(){return o.call(this,new Array(Mt.PE_NAME_MAX))});for(const a of[A.PeGeogtran,A.PeProjcs])t(a.prototype,"getParameters",o=>function(){const s=new Array(Mt.PE_PARM_MAX);let l=o.call(this);for(let u=0;u<s.length;u++){const h=A.getValue(l,"*");s[u]=h?A.wrapPointer(h,A.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return s});t(A.PeHorizon.prototype,"getCoord",a=>function(){const o=this.getSize();if(!o)return null;const s=[];return Nc(s,o,a.call(this)),s}),t(A.PeGTlistExtendedEntry.prototype,"getEntries",a=>{const o=A._pe_getPeGTlistExtendedGTsSize();return function(){let s=null;const l=a.call(this);if(!A.compare(l,A.NULL)){s=[l];const u=this.getSteps();if(u>1){const h=A.getPointer(l);for(let m=1;m<u;m++)s.push(A.wrapPointer(h+o*m,A.PeGTlistExtendedGTs))}}return s}});const n=A._pe_getPeHorizonSize(),r=a=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(a))return o.get(a);let s=null;const l=a.call(this);if(!A.compare(l,A.NULL)){s=[l];const u=l.getNump();if(u>1){const h=A.getPointer(l);for(let m=1;m<u;m++)s.push(A.wrapPointer(h+n*m,A.PeHorizon))}}return o.set(a,s),s};t(A.PeProjcs.prototype,"horizonGcsGenerate",r),t(A.PeProjcs.prototype,"horizonPcsGenerate",r),A.PeObject.prototype.toString=function(a=Mt.PE_STR_OPTS_NONE){A.ensureCache.prepare();const o=A.getPointer(this),s=A.ensureInt8(new Array(Mt.PE_BUFFER_MAX));return A.UTF8ToString(A._pe_object_to_string_ext(o,a,s))}}function Es(e){if(!e)return;const t=A.getClass(e);if(!t)return;const i=A.getCache(t);if(!i)return;const n=A.getPointer(e);n&&delete i[n]}function _v(e,t){const i=[],n=new Array(t);for(let r=0;r<e;r++)i.push(A.ensureInt8(n));return i}function kd(e){let t;return Array.isArray(e[0])?(t=[],e.forEach(i=>{t.push(i[0],i[1])})):t=e,t}function Nc(e,t,i,n=!1){if(n)for(let r=0;r<2*t;r++)e[r]=A.getValue(i+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=e.length===0;for(let a=0;a<t;a++)r&&(e[a]=new Array(2)),e[a][0]=A.getValue(i,"double"),e[a][1]=A.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=A.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=A._pe_getPeGTlistExtendedEntrySize()}function n(r,a,o,s,l,u){let h=null;const m=new A.PeInteger(u);try{const f=A.PeGTlistExtended.prototype.getGTlist(r,a,o,s,l,m);if((u=m.val)&&(h=[f],u>1)){const g=A.getPointer(f);for(let b=1;b<u;b++)h.push(A.wrapPointer(g+t*b,A.PeGTlistExtendedEntry))}}finally{A.destroy(m)}return h}e.init=i,e.getGTlist=n})($x||($x={})),function(e){function t(i){if(i&&i.length){for(const n of i)Es(n),n.getEntries().forEach(r=>{Es(r);const a=r.getGeogtran();Es(a),a.getParameters().forEach(Es),[a.getGeogcs1(),a.getGeogcs2()].forEach(o=>{Es(o);const s=o.getDatum();Es(s),Es(s.getSpheroid()),Es(o.getPrimem()),Es(o.getUnit())})});A.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(TD||(TD={})),function(e){function t(i,n,r,a,o){A.ensureCache.prepare();const s=kd(r),l=r===s,u=A.ensureFloat64(s);let h=0;a&&(h=A.ensureFloat64(a));const m=A._pe_geog_to_geog(A.getPointer(i),n,u,h,o);return m&&Nc(r,n,u,l),m}e.geogToGeog=t}(ED||(ED={})),function(e){const t=(u,h,m,f,g,b)=>{let v,w;switch(A.ensureCache.prepare(),u){case"dd":v=A._pe_geog_to_dd,w=Mt.PE_DD_MAX;break;case"ddm":v=A._pe_geog_to_ddm,w=Mt.PE_DDM_MAX;break;case"dms":v=A._pe_geog_to_dms,w=Mt.PE_DMS_MAX}let x=0;h&&(x=A.getPointer(h));const S=kd(f),E=A.ensureFloat64(S),T=_v(m,w),C=v(x,m,E,g,A.ensureInt32(T));if(C)for(let M=0;M<m;M++)b[M]=A.UTF8ToString(T[M]);return C},i=(u,h,m,f,g)=>{let b;switch(A.ensureCache.prepare(),u){case"dd":b=A._pe_dd_to_geog;break;case"ddm":b=A._pe_ddm_to_geog;break;case"dms":b=A._pe_dms_to_geog}let v=0;h&&(v=A.getPointer(h));const w=f.map(T=>A.ensureString(T)),x=A.ensureInt32(w),S=A.ensureFloat64(new Array(2*m)),E=b(v,m,x,S);return E&&Nc(g,m,S),E};function n(u,h,m,f,g){return t("dms",u,h,m,f,g)}function r(u,h,m,f){return i("dms",u,h,m,f)}function a(u,h,m,f,g){return t("ddm",u,h,m,f,g)}function o(u,h,m,f){return i("ddm",u,h,m,f)}function s(u,h,m,f,g){return t("dd",u,h,m,f,g)}function l(u,h,m,f){return i("dd",u,h,m,f)}e.geogToDms=n,e.dmsToGeog=r,e.geogToDdm=a,e.ddmToGeog=o,e.geogToDd=s,e.ddToGeog=l}(ID||(ID={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=A.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=A.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=A.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=A.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=A.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(r,a,o,s,l,u,h){A.ensureCache.prepare();let m=0;r&&(m=A.getPointer(r));const f=kd(o),g=A.ensureFloat64(f),b=_v(a,Mt.PE_MGRS_MAX),v=A.ensureInt32(b),w=A._pe_geog_to_mgrs_extended(m,a,g,s,l,u,v);if(w)for(let x=0;x<a;x++)h[x]=A.UTF8ToString(b[x]);return w}function n(r,a,o,s,l){A.ensureCache.prepare();let u=0;r&&(u=A.getPointer(r));const h=o.map(b=>A.ensureString(b)),m=A.ensureInt32(h),f=A.ensureFloat64(new Array(2*a)),g=A._pe_mgrs_to_geog_extended(u,a,m,s,f);return g&&Nc(l,a,f),g}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=n}(Cx||(Cx={})),function(e){function t(n,r,a,o,s,l,u){A.ensureCache.prepare();let h=0;n&&(h=A.getPointer(n));const m=kd(a),f=A.ensureFloat64(m),g=_v(r,Mt.PE_MGRS_MAX),b=A.ensureInt32(g),v=A._pe_geog_to_usng(h,r,f,o,s,l,b);if(v)for(let w=0;w<r;w++)u[w]=A.UTF8ToString(g[w]);return v}function i(n,r,a,o){A.ensureCache.prepare();let s=0;n&&(s=A.getPointer(n));const l=a.map(f=>A.ensureString(f)),u=A.ensureInt32(l),h=A.ensureFloat64(new Array(2*r)),m=A._pe_usng_to_geog(s,r,u,h);return m&&Nc(o,r,h),m}e.geogToUsng=t,e.usngToGeog=i}(MD||(MD={})),function(e){function t(){e.PE_UTM_OPTS_NONE=A.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=A.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=A.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(r,a,o,s,l){A.ensureCache.prepare();let u=0;r&&(u=A.getPointer(r));const h=kd(o),m=A.ensureFloat64(h),f=_v(a,Mt.PE_UTM_MAX),g=A.ensureInt32(f),b=A._pe_geog_to_utm(u,a,m,s,g);if(b)for(let v=0;v<a;v++)l[v]=A.UTF8ToString(f[v]);return b}function n(r,a,o,s,l){A.ensureCache.prepare();let u=0;r&&(u=A.getPointer(r));const h=o.map(b=>A.ensureString(b)),m=A.ensureInt32(h),f=A.ensureFloat64(new Array(2*a)),g=A._pe_utm_to_geog(u,a,m,s,f);return g&&Nc(l,a,f),g}e.init=t,e.geogToUtm=i,e.utmToGeog=n}(Tx||(Tx={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=A.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=A.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=A.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=A.PePCSInfo.prototype.PE_POLE_POINT}function n(r,a=e.PE_PCSINFO_OPTION_DOMAIN){let o,s;return t.has(r)&&(s=t.get(r),s[a]&&(o=s[a])),o||(o=A.PePCSInfo.prototype.generate(r,a),s||(s=[],t.set(r,s)),s[a]=o),o}e.init=i,e.generate=n}(Ex||(Ex={})),function(e){function t(){return A.PeVersion.prototype.version_string()}e.versionString=t}(OD||(OD={}));const zge=Object.freeze({__proto__:null,get _pe(){return A},isLoaded:g7,isSupported:Nge,load:y7,get PeCSTransformations(){return $D},get PeDefs(){return Mt},get PeFactory(){return CD},get PeGCSExtent(){return b7},get PeGTlistExtended(){return $x},get PeGTlistExtendedEntry(){return TD},get PeGTTransformations(){return ED},get PeNotationDms(){return ID},get PeNotationMgrs(){return Cx},get PeNotationUsng(){return MD},get PeNotationUtm(){return Tx},get PePCSInfo(){return Ex},get PeVersion(){return OD},_init:v7}),ql=Ct.radius,Ea=Ct.eccentricitySquared,jge={a1:ql*Ea,a2:ql*Ea*ql*Ea,a3:ql*Ea*Ea/2,a4:ql*Ea*ql*Ea*2.5,a5:ql*Ea+ql*Ea*Ea/2,a6:1-Ea};1/294.9786982,1/298.257222101,Ct.radius,Ct.flattening,iu.radius,iu.flattening,1/192.0430107526882,bl.radius,bl.flattening,1/10.2079945799458,1/43.61604095563141,bl.radius;let Sv=0;class hm{constructor(t=null){this.uid=Sv++,t?(this._wkt=t.wkt!==void 0?t.wkt:null,this._wkid=t.wkid!==void 0?t.wkid:-1,this._isInverse=t.isInverse!==void 0&&t.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const i=new hm;return i._wkt=t.wkt,i._wkid=t.wkid,i._isInverse=t.isInverse,i}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=Sv++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=Sv++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=Sv++}getInverse(){const t=new hm;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class Gc{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const i of t.steps)i instanceof hm?this.steps.push(i):this.steps.push(new hm({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}static cacheKey(t,i){return[t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():"",i.wkid!==void 0&&i.wkid!==null?i.wkid.toString():"-1",i.wkt!==void 0&&i.wkt!==null?i.wkt.toString():""].join(",")}static fromGE(t){const i=new Gc;let n="";for(const r of t.steps){const a=hm.fromGE(r);i.steps.push(a),n+=a.uid.toString()+","}return i._cached_projection={},i._gtlistentry=null,i._chain=n,i}getInverse(){const t=new Gc;t.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];t.steps.push(n.getInverse())}return t}getGTListEntry(){let t="";for(const i of this.steps)t+=i.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,n){this._cached_projection[Gc.cacheKey(t,i)]=n}getCachedGeTransformation(t,i){let n="";for(const a of this.steps)n+=a.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n);const r=this._cached_projection[Gc.cacheKey(t,i)];return r===void 0?null:r}}function w7(e,t,i){if(z(t)||z(i)||i.vcsWkid||cr(t,i))return null;const n=Fm(t)/Fm(i);if(n===1)return null;switch(e){case"point":case"esriGeometryPoint":return r=>Vge(r,n);case"polyline":case"esriGeometryPolyline":return r=>qge(r,n);case"polygon":case"esriGeometryPolygon":return r=>Hge(r,n);case"multipoint":case"esriGeometryMultipoint":return r=>Uge(r,n);case"extent":case"esriGeometryExtent":return r=>Bge(r,n);default:return null}}function Vge(e,t){e&&e.z!=null&&(e.z*=t)}function Hge(e,t){if(e)for(const i of e.rings)for(const n of i)n.length>2&&(n[2]*=t)}function qge(e,t){if(e)for(const i of e.paths)for(const n of i)n.length>2&&(n[2]*=t)}function Uge(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}function Bge(e,t){e&&e.zmin!=null&&e.zmax!=null&&(e.zmin*=t,e.zmax*=t)}let dh=null,Ix=null,K2=null,Z2={};function Nm(){return!!dh&&g7()}function zm(e){return z(K2)&&(K2=Promise.all([y7(),import("./geometryEngineBase.40db0853.js").then(t=>t.g),import("./hydrated.f93c49f8.js")])),K2.then(([,t,{hydratedAdapter:i}])=>{hi(e),Ix=i,dh=t.default,dh._enableProjection(zge)})}function hb(e,t,i=null){return Array.isArray(e)?e.length===0?[]:pL(Ix,e,e[0].spatialReference,t,i):pL(Ix,[e],e.spatialReference,t,i)[0]}function pL(e,t,i,n,r=null){if(z(i)||z(n))return t;if(hh(i,n,r))return t.map(a=>Wge(a,i,n));if(z(r)){const a=Gc.cacheKey(i,n);Z2[a]!==void 0?r=Z2[a]:(r=Gge(i,n,null),z(r)&&(r=new Gc),Z2[a]=r)}if(z(dh))throw new x7;return dh._project(e,t,i,n,r)}function Gge(e,t,i=null){if(z(dh))throw new x7;if(z(e)||z(t))return null;const n=dh._getTransformation(Ix,e,t,i,i==null?void 0:i.spatialReference);return n!==null?Gc.fromGE(n):null}class x7 extends P{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var O;function hh(e,t,i){return!i&&(!!cr(e,t)||ir(e)&&ir(t)&&!!D7(e,t,$7))}async function oAe(e,t,i,n){if(!Nm()){if(Array.isArray(e)){for(const{source:r,dest:a,geographicTransformation:o}of e)if(!hh(r,a,o))return zm(n)}else if(!hh(e,t,i))return zm(n)}}function Wge(e,t,i){return e?"x"in e?Jge(e,t,new be,i,0):"xmin"in e?Zge(e,t,new lt,i,0):"rings"in e?k7(e,t,new ho,i,0):"paths"in e?Kge(e,t,new On,i,0):"points"in e?Yge(e,t,new rf,i,0):null:null}function Jge(e,t,i,n,r){wi[0]=e.x,wi[1]=e.y;const a=e.z;return wi[2]=a!==void 0?a:r,pb(wi,t,0,wi,n,0,1)?(i.x=wi[0],i.y=wi[1],i.spatialReference=n,a===void 0?(i.z=void 0,i.hasZ=!1):(i.z=wi[2],i.hasZ=!0),e.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function Yge(e,t,i,n,r){const{points:a,hasZ:o,hasM:s}=e,l=[],u=a.length,h=[];for(const m of a)h.push(m[0],m[1],o?m[2]:r);if(!pb(h,t,0,h,n,0,u))return null;for(let m=0;m<u;++m){const f=3*m,g=h[f],b=h[f+1];o&&s?l.push([g,b,h[f+2],a[m][3]]):o?l.push([g,b,h[f+2]]):s?l.push([g,b,a[m][2]]):l.push([g,b])}return i.points=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i}function Kge(e,t,i,n,r){const{paths:a,hasZ:o,hasM:s}=e,l=[];return _7(a,o,s,t,l,n,r)?(i.paths=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i):null}function sAe(e,t,i=t.spatialReference,n=0){return $(i)&&$(k7(e,e.spatialReference,t,i,n))}function k7(e,t,i,n,r){const{rings:a,hasZ:o,hasM:s}=e,l=[];return _7(a,o,s,t,l,n,r)?(i.rings=l,i.spatialReference=n,i.hasZ=o,i.hasM=s,i):null}function Zge(e,t,i,n,r){const{xmin:a,ymin:o,xmax:s,ymax:l,hasZ:u,hasM:h}=e;return mL(a,o,u?e.zmin:r,t,wi,n)?(i.xmin=wi[0],i.ymin=wi[1],u&&(i.zmin=wi[2]),mL(s,l,u?e.zmax:r,t,wi,n)?(i.xmax=wi[0],i.ymax=wi[1],u&&(i.zmax=wi[2]),h&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=n,i):null):null}function lAe(e,t,i,n=0){wi[0]=e.x,wi[1]=e.y;const r=e.z;return wi[2]=r!==void 0?r:n,pb(wi,e.spatialReference,0,t,i,0,1)}function mL(e,t,i,n,r,a){return Dv[0]=e,Dv[1]=t,Dv[2]=i,pb(Dv,n,0,r,a,0,1)}function pb(e,t,i,n,r,a,o=1){const s=D7(t,r,$7);if(z(s))return!1;if(s===ft){if(e===n&&i===a)return!0;const u=i+3*o;for(let h=i,m=a;h<u;h++,m++)n[m]=e[h];return!0}const l=i+3*o;for(let u=i,h=a;u<l;u+=3,h+=3)s(e,u,n,h);return!0}function _7(e,t,i,n,r,a,o=0){const s=new Array;for(const u of e)for(const h of u)s.push(h[0],h[1],t?h[2]:o);if(!pb(s,n,0,s,a,0,s.length/3))return!1;let l=0;r.length=0;for(const u of e){const h=new Array;for(const m of u)t&&i?h.push([s[l++],s[l++],s[l++],m[3]]):t?h.push([s[l++],s[l++],s[l++]]):i?(h.push([s[l++],s[l++],m[2]]),l++):(h.push([s[l++],s[l++]]),l++);r.push(h)}return!0}function cAe(e,t,i,n){if(z(e)||z(n))return!1;const r=Mx(e,mye),a=Mx(n,fye);if(r===a&&!fL(a)&&(r!==O.UNKNOWN||cr(e,n)))return p7(i,t),!0;if(fL(a)){const o=q0[r][O.LON_LAT],s=q0[O.LON_LAT][a];return!z(o)&&!z(s)&&(o(t,0,Ul,0),s(Ul,0,Bl,0),S7(Qo*Ul[0],Qo*Ul[1],i),i[12]=Bl[0],i[13]=Bl[1],i[14]=Bl[2],!0)}if((a===O.WEB_MERCATOR||a===O.PLATE_CARREE)&&(r===O.WGS84||r===O.CGCS2000&&a===O.PLATE_CARREE||r===O.SPHERICAL_ECEF||r===O.WEB_MERCATOR)){const o=q0[r][O.LON_LAT],s=q0[O.LON_LAT][a];return!z(o)&&!z(s)&&(o(t,0,Ul,0),s(Ul,0,Bl,0),r===O.SPHERICAL_ECEF?Xge(Qo*Ul[0],Qo*Ul[1],i):qE(i),i[12]=Bl[0],i[13]=Bl[1],i[14]=Bl[2],!0)}return!1}function fL(e){return e===O.SPHERICAL_ECEF||e===O.SPHERICAL_MARS_PCPF||e===O.SPHERICAL_MOON_PCPF}function S7(e,t,i){const n=Math.sin(e),r=Math.cos(e),a=Math.sin(t),o=Math.cos(t),s=i;return s[0]=-n,s[4]=-a*r,s[8]=o*r,s[12]=0,s[1]=r,s[5]=-a*n,s[9]=o*n,s[13]=0,s[2]=0,s[6]=o,s[10]=a,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function Xge(e,t,i){return S7(e,t,i),Ml(i,i),i}function Mx(e,t){return t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=db(e,1)),e.wkt===n7.wkt?t.spatialReferenceId=O.SPHERICAL_ECEF:uy(e)?t.spatialReferenceId=O.WGS84:nh(e)?t.spatialReferenceId=O.WEB_MERCATOR:ide(e)?t.spatialReferenceId=O.PLATE_CARREE:e.wkt===F0e.wkt?t.spatialReferenceId=O.WGS84_ECEF:e.wkid===ih.CGCS2000?t.spatialReferenceId=O.CGCS2000:e.wkt===Sx.wkt?t.spatialReferenceId=O.SPHERICAL_MARS_PCPF:e.wkt===Dx.wkt?t.spatialReferenceId=O.SPHERICAL_MOON_PCPF:qk(e)?t.spatialReferenceId=O.GCSMARS2000:Uk(e)?t.spatialReferenceId=O.GCSMOON2000:t.spatialReferenceId=O.UNKNOWN)}function ft(e,t,i,n){e!==i&&(i[n++]=e[t++],i[n++]=e[t++],i[n]=e[t])}function pm(e,t,i,n){i[n++]=jm*(e[t++]/Ct.radius),i[n++]=jm*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/Ct.radius))),i[n]=e[t]}function Qge(e,t,i,n){pm(e,t,i,n),Od(i,n,i,n)}function eye(e,t,i,n){pm(e,t,i,n),Pd(i,n,i,n)}function tye(e,t,i,n,r){const a=.4999999*Math.PI,o=ga(Qo*e[t+1],-a,a),s=Math.sin(o);i[n++]=Qo*e[t]*r.radius,i[n++]=r.halfSemiMajorAxis*Math.log((1+s)/(1-s)),i[n]=e[t+2]}function xy(e,t,i,n){tye(e,t,i,n,Ct)}(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"})(O||(O={}));const gL=Ct.radius*Math.PI/180,yL=180/(Ct.radius*Math.PI);function Id(e,t,i,n){i[n]=e[t]*gL,i[n+1]=e[t+1]*gL,i[n+2]=e[t+2]}function Md(e,t,i,n){i[n]=e[t]*yL,i[n+1]=e[t+1]*yL,i[n+2]=e[t+2]}function iye(e,t,i,n){pm(e,t,i,n),Id(i,n,i,n)}function nye(e,t,i,n){Ld(e,t,i,n),Id(i,n,i,n)}function rye(e,t,i,n){Ad(e,t,i,n),Id(i,n,i,n)}function aye(e,t,i,n){Md(e,t,i,n),Od(i,n,i,n)}function oye(e,t,i,n){Md(e,t,i,n),xy(i,n,i,n)}function sye(e,t,i,n){Md(e,t,i,n),Pd(i,n,i,n)}function UE(e,t,i,n,r){const a=r+e[t+2],o=Qo*e[t+1],s=Qo*e[t],l=Math.cos(o);i[n++]=Math.cos(s)*l*a,i[n++]=Math.sin(s)*l*a,i[n]=Math.sin(o)*a}function bL(e,t,i,n){UE(e,t,i,n,iu.radius)}function vL(e,t,i,n){UE(e,t,i,n,bl.radius)}function Od(e,t,i,n){UE(e,t,i,n,Ct.radius)}function BE(e,t,i,n,r){const a=e[t],o=e[t+1],s=e[t+2],l=Math.sqrt(a*a+o*o+s*s),u=L8(s/(l===0?1:l)),h=Math.atan2(o,a);i[n++]=jm*h,i[n++]=jm*u,i[n]=l-r}function wL(e,t,i,n){BE(e,t,i,n,iu.radius)}function xL(e,t,i,n){BE(e,t,i,n,bl.radius)}function Ad(e,t,i,n){BE(e,t,i,n,Ct.radius)}function lye(e,t,i,n){Ad(e,t,i,n),xy(i,n,i,n)}function cye(e,t,i,n){Ad(e,t,i,n),Pd(i,n,i,n)}function uye(e,t,i,n,r){const a=Qo*e[t],o=Qo*e[t+1],s=e[t+2],l=Math.sin(o),u=Math.cos(o),h=r.radius/Math.sqrt(1-r.eccentricitySquared*l*l);i[n++]=(h+s)*u*Math.cos(a),i[n++]=(h+s)*u*Math.sin(a),i[n++]=(h*(1-r.eccentricitySquared)+s)*l}function Pd(e,t,i,n){uye(e,t,i,n,Ct)}function Ld(e,t,i,n){const r=jge,a=e[t],o=e[t+1],s=e[t+2];let l,u,h,m,f,g,b,v,w,x,S,E,T,C,M,L,j,G,J,q,ue;l=Math.abs(s),u=a*a+o*o,h=Math.sqrt(u),m=u+s*s,f=Math.sqrt(m),q=Math.atan2(o,a),g=s*s/m,b=u/m,C=r.a2/f,M=r.a3-r.a4/f,b>.3?(v=l/f*(1+b*(r.a1+C+g*M)/f),J=Math.asin(v),x=v*v,w=Math.sqrt(1-x)):(w=h/f*(1-g*(r.a5-C-b*M)/f),J=Math.acos(w),x=1-w*w,v=Math.sqrt(x)),S=1-Ct.eccentricitySquared*x,E=Ct.radius/Math.sqrt(S),T=r.a6*E,C=h-E*w,M=l-T*v,j=w*C+v*M,L=w*M-v*C,G=L/(T/S+j),J+=G,ue=j+L*G/2,s<0&&(J=-J),i[n++]=jm*q,i[n++]=jm*J,i[n]=ue}function dye(e,t,i,n){Ld(e,t,i,n),Od(i,n,i,n)}function hye(e,t,i,n){Ld(e,t,i,n),xy(i,n,i,n)}const q0={[O.WGS84]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:ft,[O.SPHERICAL_ECEF]:Od,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:xy,[O.PLATE_CARREE]:Id,[O.WGS84]:ft,[O.WGS84_ECEF]:Pd},[O.CGCS2000]:{[O.CGCS2000]:ft,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:ft,[O.SPHERICAL_ECEF]:Od,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:Id,[O.WGS84]:null,[O.WGS84_ECEF]:Pd},[O.GCSMARS2000]:{[O.CGCS2000]:null,[O.GCSMARS2000]:ft,[O.GCSMOON2000]:null,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:vL,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.GCSMOON2000]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:ft,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:bL,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.WEB_MERCATOR]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:pm,[O.WGS84_COMPARABLE_LON_LAT]:pm,[O.SPHERICAL_ECEF]:Qge,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:ft,[O.PLATE_CARREE]:iye,[O.WGS84]:pm,[O.WGS84_ECEF]:eye},[O.WGS84_ECEF]:{[O.CGCS2000]:Ld,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Ld,[O.WGS84_COMPARABLE_LON_LAT]:Ld,[O.SPHERICAL_ECEF]:dye,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:hye,[O.PLATE_CARREE]:nye,[O.WGS84]:Ld,[O.WGS84_ECEF]:ft},[O.SPHERICAL_ECEF]:{[O.CGCS2000]:Ad,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Ad,[O.WGS84_COMPARABLE_LON_LAT]:Ad,[O.SPHERICAL_ECEF]:ft,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:lye,[O.PLATE_CARREE]:rye,[O.WGS84]:Ad,[O.WGS84_ECEF]:cye},[O.SPHERICAL_MARS_PCPF]:{[O.CGCS2000]:null,[O.GCSMARS2000]:xL,[O.GCSMOON2000]:null,[O.LON_LAT]:xL,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:ft,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.SPHERICAL_MOON_PCPF]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:wL,[O.LON_LAT]:wL,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:ft,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.UNKNOWN]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:null,[O.WGS84_COMPARABLE_LON_LAT]:null,[O.SPHERICAL_ECEF]:null,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:ft,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:null,[O.WGS84]:null,[O.WGS84_ECEF]:null},[O.LON_LAT]:{[O.CGCS2000]:ft,[O.GCSMARS2000]:ft,[O.GCSMOON2000]:ft,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:ft,[O.SPHERICAL_ECEF]:Od,[O.SPHERICAL_MARS_PCPF]:vL,[O.SPHERICAL_MOON_PCPF]:bL,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:xy,[O.PLATE_CARREE]:Id,[O.WGS84]:ft,[O.WGS84_ECEF]:Pd},[O.WGS84_COMPARABLE_LON_LAT]:{[O.CGCS2000]:null,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:ft,[O.WGS84_COMPARABLE_LON_LAT]:ft,[O.SPHERICAL_ECEF]:Od,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:null,[O.PLATE_CARREE]:Id,[O.WGS84]:ft,[O.WGS84_ECEF]:Pd},[O.PLATE_CARREE]:{[O.CGCS2000]:Md,[O.GCSMARS2000]:null,[O.GCSMOON2000]:null,[O.LON_LAT]:Md,[O.WGS84_COMPARABLE_LON_LAT]:Md,[O.SPHERICAL_ECEF]:aye,[O.SPHERICAL_MARS_PCPF]:null,[O.SPHERICAL_MOON_PCPF]:null,[O.UNKNOWN]:null,[O.WEB_MERCATOR]:oye,[O.PLATE_CARREE]:ft,[O.WGS84]:Md,[O.WGS84_ECEF]:sye}};function D7(e,t,i=GE()){return z(e)||z(t)?null:pye(e,t,i).projector}function pye(e,t,i){if(z(e)||z(t)||i.source.spatialReference===e&&i.dest.spatialReference===t)return i;const n=Mx(e,i.source),r=Mx(t,i.dest);return n===O.UNKNOWN&&r===O.UNKNOWN?cr(e,t)?i.projector=ft:i.projector=null:i.projector=q0[n][r],i}function GE(){return{source:{spatialReference:null,spatialReferenceId:O.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:O.UNKNOWN,metersPerUnit:1},projector:ft}}const mye={spatialReference:null,spatialReferenceId:O.UNKNOWN},fye={spatialReference:null,spatialReferenceId:O.UNKNOWN},$7=GE();GE();const Qo=Ape(1),jm=P8(1),Dv=bs(),Ul=bs(),Bl=bs(),wi=bs();var AD;let Fo=AD=class extends B{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new AD({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Fo.prototype,"cols",void 0),c([d({type:xt,json:{write:!0}})],Fo.prototype,"level",void 0),c([d({type:String,json:{write:!0}})],Fo.prototype,"levelValue",void 0),c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Fo.prototype,"origin",void 0),c([d({type:Number,json:{write:!0}})],Fo.prototype,"resolution",void 0),c([d({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Fo.prototype,"rows",void 0),c([d({type:Number,json:{write:!0}})],Fo.prototype,"scale",void 0),Fo=AD=c([_("esri.layers.support.LOD")],Fo);const WE=Fo;var cc;const kL=new Te({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let Ci=cc=class extends B{constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.minScale=0,this.maxScale=0,this.size=null,this.spatialReference=null}static create(e={}){const{resolutionFactor:t=1,scales:i,size:n=256,spatialReference:r=Le.WebMercator,numLODs:a=24}=e;if(!ir(r)){const m=[];if(i)for(let f=0;f<i.length;f++){const g=i[f];m.push({level:f,scale:g,resolution:g})}else{let f=5e-4;for(let g=a-1;g>=0;g--)m.unshift({level:g,scale:f,resolution:f}),f*=2}return new cc({dpi:96,lods:m,origin:new be(0,0,r),size:[n,n],spatialReference:r})}const o=oo(r),s=e.origin?new be({x:e.origin.x,y:e.origin.y,spatialReference:r}):new be(o?{x:o.origin[0],y:o.origin[1],spatialReference:r}:{x:0,y:0,spatialReference:r}),l=96,u=1/(db(r)*39.37*l),h=[];if(i)for(let m=0;m<i.length;m++){const f=i[m],g=f*u;h.push({level:m,scale:f,resolution:g})}else{let m=Yz(r)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const f=Math.ceil(a/t);h.push({level:0,scale:m,resolution:m*u});for(let g=1;g<f;g++){const b=m/2**t,v=b*u;h.push({level:g,scale:b,resolution:v}),m=b}}return new cc({dpi:l,lods:h,origin:s,size:[n,n],spatialReference:r})}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=oo(e);return e.isWrappable&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return be.fromJSON(D({spatialReference:t.spatialReference},e))}set lods(e){let t=0,i=0;const n=[];this._levelToLOD={},e&&(t=-1/0,i=1/0,e.forEach(r=>{n.push(r.scale),t=r.scale>t?r.scale:t,i=r.scale<i?r.scale:i,this._levelToLOD[r.level]=r})),this._set("scales",n),this._set("minScale",t),this._set("maxScale",i),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];{const i=Math.floor(e),n=i+1;return t[i]/(t[i]/t[n])**(e-i)}}scaleToZoom(e){const t=this.scales,i=t.length-1;let n=0;for(;n<i;n++){const r=t[n],a=t[n+1];if(r<=e)return n;if(a===e)return n+1;if(r>e&&a<e)return n+Math.log(r/e)/Math.log(r/a)}return n}snapScale(e,t=.95){const i=this.scaleToZoom(e);return i%Math.floor(i)>=t?this.zoomToScale(Math.ceil(i)):this.zoomToScale(Math.floor(i))}tileAt(e,t,i,n){const r=this.lodAt(e);if(!r)return null;let a,o;if(typeof t=="number")a=t,o=i;else if(cr(t.spatialReference,this.spatialReference))a=t.x,o=t.y,n=i;else{const u=Bk(t,this.spatialReference);if(z(u))return null;a=u.x,o=u.y,n=i}const s=r.resolution*this.size[0],l=r.resolution*this.size[1];return n||(n={id:null,level:0,row:0,col:0,extent:ch()}),n.level=e,n.row=Math.floor((this.origin.y-o)/l+.001),n.col=Math.floor((a-this.origin.x)/s+.001),this.updateTileInfo(n),n}updateTileInfo(e,t=cc.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===cc.ExtrapolateOptions.POWER_OF_TWO){const o=this.lods[this.lods.length-1];o.level<e.level&&(i=o)}if(!i)return;const n=e.level-i.level,r=i.resolution*this.size[0]/2**n,a=i.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=ch()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*a,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+a}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||t.parentLevel===-1)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const{resolution:i}=this.lodAt(t.level),n=i*this.size[0],r=i*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*r,e[2]=e[0]+n,e[3]=e[1]+r,e}lodAt(e){return this._levelToLOD&&this._levelToLOD[e]||null}clone(){return cc.fromJSON(this.write({}))}getOrCreateCompatible(e,t){if(this.size[0]===256&&this.size[1]===256)return e===256?this:null;const i=[],n=this.lods.length;for(let r=0;r<n;r++){const a=this.lods[r],o=a.resolution*t;i.push(new WE({level:a.level,scale:a.scale,resolution:o}))}return new cc({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const n=e[i];this._upsampleLevels[n.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/n.resolution:0},t=n}}};c([d({type:Number,json:{write:!0}})],Ci.prototype,"compressionQuality",void 0),c([d({type:Number,json:{write:!0}})],Ci.prototype,"dpi",void 0),c([d({type:String,json:{read:kL.read,write:kL.write,origins:{"web-scene":{read:!1,write:!1}}}})],Ci.prototype,"format",void 0),c([d({readOnly:!0})],Ci.prototype,"isWrappable",null),c([d({type:be,json:{write:!0}})],Ci.prototype,"origin",void 0),c([te("origin")],Ci.prototype,"readOrigin",null),c([d({type:[WE],value:null,json:{write:!0}})],Ci.prototype,"lods",null),c([d({readOnly:!0})],Ci.prototype,"minScale",void 0),c([d({readOnly:!0})],Ci.prototype,"maxScale",void 0),c([d({readOnly:!0})],Ci.prototype,"scales",void 0),c([d({cast:e=>Array.isArray(e)?e:typeof e=="number"?[e,e]:[256,256]})],Ci.prototype,"size",void 0),c([te("size",["rows","cols"])],Ci.prototype,"readSize",null),c([ae("size",{cols:{type:xt},rows:{type:xt}})],Ci.prototype,"writeSize",null),c([d({type:Le,json:{write:!0}})],Ci.prototype,"spatialReference",void 0),Ci=cc=c([_("esri.layers.support.TileInfo")],Ci),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(Ci||(Ci={}));const gye=Ci,W1={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,n=this.values;return t<=i.xsmall?n.xsmall:t<=i.small?n.small:t<=i.medium?n.medium:t<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],n=t[1],r=this.values;return n>=i?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},X2={xsmall:544,small:768,medium:992,large:1200};function yye(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}function Q2(e,t){return t?W1[e].valueToClassName[t].split(" "):[]}const bye=e=>{let t=class extends e{constructor(...i){super(...i),this._breakpointsHandles=new gn,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=X2}initialize(){this._breakpointsHandles.add(bt(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),rs))}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=Ko(this._breakpointsHandles))}set breakpoints(i){if(i===this._get("breakpoints"))return;const n=yye(i);if(!n){const r=JSON.stringify(X2,null,2);console.warn("provided breakpoints are not valid, using defaults:"+r)}i=n?i:X2,this._set("breakpoints",D({},i))}_updateClassNames(){if(!this.container)return;const i=In.acquire(),n=In.acquire();let r,a=!1;for(r in W1){const o=this[r],s=W1[r].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==s&&(a=!0,this[r]=s,Q2(r,o).forEach(l=>n.push(l)),Q2(r,s).forEach(l=>i.push(l)))}a&&(this._applyClassNameChanges(i,n),In.release(i),In.release(n))}_applyClassNameChanges(i,n){const r=this.container;r&&(n.forEach(a=>r.classList.remove(a)),i.forEach(a=>r.classList.add(a)))}_removeActiveClassNames(){const i=this.container;if(!i)return;let n;for(n in W1)Q2(n,this[n]).forEach(r=>i.classList.remove(r))}};return c([d()],t.prototype,"breakpoints",null),c([d()],t.prototype,"orientation",void 0),c([d()],t.prototype,"widthBreakpoint",void 0),c([d()],t.prototype,"heightBreakpoint",void 0),t=c([_("esri.views.BreakpointsOwner")],t),t};function JE(e){return typeof e=="string"?document.getElementById(e):e}function C7(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function _L(e,t){const i=t.parentNode;i&&i.insertBefore(e,t)}function SL(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}/*!
 * @esri/arcgis-html-sanitizer - v2.9.0 - Mon Dec 13 2021 15:07:01 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2021 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var vye="[object Object]";function wye(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function xye(e,t){return function(i){return e(t(i))}}var kye=Function.prototype,T7=Object.prototype,E7=kye.toString,_ye=T7.hasOwnProperty,Sye=E7.call(Object),Dye=T7.toString,$ye=xye(Object.getPrototypeOf,Object);function Cye(e){return!!e&&typeof e=="object"}function Tye(e){if(!Cye(e)||Dye.call(e)!=vye||wye(e))return!1;var t=$ye(e);if(t===null)return!0;var i=_ye.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&E7.call(i)==Sye}var Eye=Tye,Bp={exports:{}},Wt={},ky={exports:{}},Dh={};function I7(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Iye(e,t,i){}function Mye(e,t,i){}var Oye=/javascript\s*\:/img;function Aye(e,t){return Oye.test(t)?"":t}Dh.whiteList=I7();Dh.getDefaultWhiteList=I7;Dh.onAttr=Iye;Dh.onIgnoreAttr=Mye;Dh.safeAttrValue=Aye;var Pye={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},Xf=Pye;function Lye(e,t){e=Xf.trimRight(e),e[e.length-1]!==";"&&(e+=";");var i=e.length,n=!1,r=0,a=0,o="";function s(){if(!n){var h=Xf.trim(e.slice(r,a)),m=h.indexOf(":");if(m!==-1){var f=Xf.trim(h.slice(0,m)),g=Xf.trim(h.slice(m+1));if(f){var b=t(r,o.length,f,g,h);b&&(o+=b+"; ")}}}r=a+1}for(;a<i;a++){var l=e[a];if(l==="/"&&e[a+1]==="*"){var u=e.indexOf("*/",a+2);if(u===-1)break;a=u+1,r=a+1,n=!1}else l==="("?n=!0:l===")"?n=!1:l===";"?n||s():l===`
`&&s()}return Xf.trim(o)}var Rye=Lye,$v=Dh,Fye=Rye;function DL(e){return e==null}function Nye(e){var t={};for(var i in e)t[i]=e[i];return t}function M7(e){e=Nye(e||{}),e.whiteList=e.whiteList||$v.whiteList,e.onAttr=e.onAttr||$v.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||$v.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||$v.safeAttrValue,this.options=e}M7.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onAttr,a=i.onIgnoreAttr,o=i.safeAttrValue,s=Fye(e,function(l,u,h,m,f){var g=n[h],b=!1;if(g===!0?b=g:typeof g=="function"?b=g(m):g instanceof RegExp&&(b=g.test(m)),b!==!0&&(b=!1),m=o(h,m),!!m){var v={position:u,sourcePosition:l,source:f,isWhite:b};if(b){var w=r(h,m,v);return DL(w)?h+":"+m:w}else{var w=a(h,m,v);if(!DL(w))return w}}});return s};var zye=M7;(function(e,t){var i=Dh,n=zye;function r(o,s){var l=new n(s);return l.process(o)}t=e.exports=r,t.FilterCSS=n;for(var a in i)t[a]=i[a]})(ky,ky.exports);var YE={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,i=t.exec(e);return i?i.index:-1}},jye=ky.exports.FilterCSS,Vye=ky.exports.getDefaultWhiteList,Ox=YE;function O7(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var A7=new jye;function Hye(e,t,i){}function qye(e,t,i){}function Uye(e,t,i){}function Bye(e,t,i){}function P7(e){return e.replace(Wye,"&lt;").replace(Jye,"&gt;")}function Gye(e,t,i,n){if(i=j7(i),t==="href"||t==="src"){if(i=Ox.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(t==="background"){if(Cv.lastIndex=0,Cv.test(i))return""}else if(t==="style"){if($L.lastIndex=0,$L.test(i)||(CL.lastIndex=0,CL.test(i)&&(Cv.lastIndex=0,Cv.test(i))))return"";n!==!1&&(n=n||A7,i=n.process(i))}return i=V7(i),i}var Wye=/</g,Jye=/>/g,Yye=/"/g,Kye=/&quot;/g,Zye=/&#([a-zA-Z0-9]*);?/gim,Xye=/&colon;?/gim,Qye=/&newline;?/gim,Cv=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,$L=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,CL=/u\s*r\s*l\s*\(.*/gi;function L7(e){return e.replace(Yye,"&quot;")}function R7(e){return e.replace(Kye,'"')}function F7(e){return e.replace(Zye,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function N7(e){return e.replace(Xye,":").replace(Qye," ")}function z7(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return Ox.trim(t)}function j7(e){return e=R7(e),e=F7(e),e=N7(e),e=z7(e),e}function V7(e){return e=L7(e),e=P7(e),e}function ebe(){return""}function tbe(e,t){typeof t!="function"&&(t=function(){});var i=!Array.isArray(e);function n(o){return i?!0:Ox.indexOf(e,o)!==-1}var r=[],a=!1;return{onIgnoreTag:function(o,s,l){if(n(o))if(l.isClosing){var u="[/removed]",h=l.position+u.length;return r.push([a!==!1?a:l.position,h]),a=!1,u}else return a||(a=l.position),"[removed]";else return t(o,s,l)},remove:function(o){var s="",l=0;return Ox.forEach(r,function(u){s+=o.slice(l,u[0]),l=u[1]}),s+=o.slice(l),s}}}function ibe(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("<!--",i);if(n===-1){t+=e.slice(i);break}t+=e.slice(i,n);var r=e.indexOf("-->",n);if(r===-1)break;i=r+3}return t}function nbe(e){var t=e.split("");return t=t.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),t.join("")}Wt.whiteList=O7();Wt.getDefaultWhiteList=O7;Wt.onTag=Hye;Wt.onIgnoreTag=qye;Wt.onTagAttr=Uye;Wt.onIgnoreTagAttr=Bye;Wt.safeAttrValue=Gye;Wt.escapeHtml=P7;Wt.escapeQuote=L7;Wt.unescapeQuote=R7;Wt.escapeHtmlEntities=F7;Wt.escapeDangerHtml5Entities=N7;Wt.clearNonPrintableCharacter=z7;Wt.friendlyAttrValue=j7;Wt.escapeAttrValue=V7;Wt.onIgnoreTagStripAll=ebe;Wt.StripTagBody=tbe;Wt.stripCommentTag=ibe;Wt.stripBlankChar=nbe;Wt.cssFilter=A7;Wt.getDefaultCSSWhiteList=Vye;var t_={},Ic=YE;function rbe(e){var t=Ic.spaceIndex(e);if(t===-1)var i=e.slice(1,-1);else var i=e.slice(1,t+1);return i=Ic.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function abe(e){return e.slice(0,2)==="</"}function obe(e,t,i){var n="",r=0,a=!1,o=!1,s=0,l=e.length,u="",h="";e:for(s=0;s<l;s++){var m=e.charAt(s);if(a===!1){if(m==="<"){a=s;continue}}else if(o===!1){if(m==="<"){n+=i(e.slice(r,s)),a=s,r=s;continue}if(m===">"){n+=i(e.slice(r,a)),h=e.slice(a,s+1),u=rbe(h),n+=t(a,n.length,u,h,abe(h)),r=s+1,a=!1;continue}if(m==='"'||m==="'")for(var f=1,g=e.charAt(s-f);g.trim()===""||g==="=";){if(g==="="){o=m;continue e}g=e.charAt(s-++f)}}else if(m===o){o=!1;continue}}return r<e.length&&(n+=i(e.substr(r))),n}var sbe=/[^a-zA-Z0-9_:\.\-]/gim;function lbe(e,t){var i=0,n=[],r=!1,a=e.length;function o(m,f){if(m=Ic.trim(m),m=m.replace(sbe,"").toLowerCase(),!(m.length<1)){var g=t(m,f||"");g&&n.push(g)}}for(var s=0;s<a;s++){var l=e.charAt(s),u,h;if(r===!1&&l==="="){r=e.slice(i,s),i=s+1;continue}if(r!==!1&&s===i&&(l==='"'||l==="'")&&e.charAt(s-1)==="="){if(h=e.indexOf(l,s+1),h===-1)break;u=Ic.trim(e.slice(i+1,h)),o(r,u),r=!1,s=h,i=s+1;continue}if(/\s|\n|\t/.test(l))if(e=e.replace(/\s|\n|\t/g," "),r===!1)if(h=cbe(e,s),h===-1){u=Ic.trim(e.slice(i,s)),o(u),r=!1,i=s+1;continue}else{s=h-1;continue}else if(h=ube(e,s-1),h===-1){u=Ic.trim(e.slice(i,s)),u=TL(u),o(r,u),r=!1,i=s+1;continue}else continue}return i<e.length&&(r===!1?o(e.slice(i)):o(r,TL(Ic.trim(e.slice(i))))),Ic.trim(n.join(" "))}function cbe(e,t){for(;t<e.length;t++){var i=e[t];if(i!==" ")return i==="="?t:-1}}function ube(e,t){for(;t>0;t--){var i=e[t];if(i!==" ")return i==="="?t:-1}}function dbe(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function TL(e){return dbe(e)?e.substr(1,e.length-2):e}t_.parseTag=obe;t_.parseAttr=lbe;var hbe=ky.exports.FilterCSS,Ja=Wt,H7=t_,pbe=H7.parseTag,mbe=H7.parseAttr,J1=YE;function Tv(e){return e==null}function fbe(e){var t=J1.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=J1.trim(e.slice(t+1,-1));var i=e[e.length-1]==="/";return i&&(e=J1.trim(e.slice(0,-1))),{html:e,closing:i}}function gbe(e){var t={};for(var i in e)t[i]=e[i];return t}function q7(e){e=gbe(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ja.onIgnoreTagStripAll),e.whiteList=e.whiteList||Ja.whiteList,e.onTag=e.onTag||Ja.onTag,e.onTagAttr=e.onTagAttr||Ja.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ja.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ja.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ja.safeAttrValue,e.escapeHtml=e.escapeHtml||Ja.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new hbe(e.css))}q7.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,i=t.options,n=i.whiteList,r=i.onTag,a=i.onIgnoreTag,o=i.onTagAttr,s=i.onIgnoreTagAttr,l=i.safeAttrValue,u=i.escapeHtml,h=t.cssFilter;i.stripBlankChar&&(e=Ja.stripBlankChar(e)),i.allowCommentTag||(e=Ja.stripCommentTag(e));var m=!1;if(i.stripIgnoreTagBody){var m=Ja.StripTagBody(i.stripIgnoreTagBody,a);a=m.onIgnoreTag}var f=pbe(e,function(g,b,v,w,x){var S={sourcePosition:g,position:b,isClosing:x,isWhite:n.hasOwnProperty(v)},E=r(v,w,S);if(!Tv(E))return E;if(S.isWhite){if(S.isClosing)return"</"+v+">";var T=fbe(w),C=n[v],M=mbe(T.html,function(j,G){var J=J1.indexOf(C,j)!==-1,q=o(v,j,G,J);if(!Tv(q))return q;if(J)return G=l(v,j,G,h),G?j+'="'+G+'"':j;var q=s(v,j,G,J);return Tv(q)?void 0:q}),w="<"+v;return M&&(w+=" "+M),T.closing&&(w+=" /"),w+=">",w}else{var E=a(v,w,S);return Tv(E)?u(w):E}},u);return m&&(f=m.remove(f)),f};var ybe=q7;(function(e,t){var i=Wt,n=t_,r=ybe;function a(l,u){var h=new r(u);return h.process(l)}t=e.exports=a,t.filterXSS=a,t.FilterXSS=r;for(var o in i)t[o]=i[o];for(var o in n)t[o]=n[o];function s(){return typeof self!="undefined"&&typeof DedicatedWorkerGlobalScope!="undefined"&&self instanceof DedicatedWorkerGlobalScope}s()&&(self.filterXSS=e.exports)})(Bp,Bp.exports);var bbe=function(){function e(t,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(a,o,s,l){return a==="a"&&o==="href"||(a==="img"||a==="source")&&o==="src"?n.sanitizeUrl(s):Bp.exports.safeAttrValue(a,o,s,l)}};var r;t&&!i?r=t:t&&i?(r=Object.create(this.arcgisFilterOptions),Object.keys(t).forEach(function(a){a==="whiteList"?r.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,t.whiteList||{}]):r[a]=t[a]})):(r=Object.create(this.arcgisFilterOptions),r.whiteList=this.arcgisWhiteList),this.xssFilterOptions=r,this._xssFilter=new Bp.exports.FilterXSS(r)}return e.prototype.sanitize=function(t,i){switch(i===void 0&&(i={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,i);default:return i.allowUndefined&&typeof t=="undefined"?void 0:null}},e.prototype.sanitizeUrl=function(t){var i=this._trim(t.substring(0,t.indexOf(":")));return t==="/"||t==="#"||t[0]==="#"||this.allowedProtocols.indexOf(i.toLowerCase())>-1?Bp.exports.escapeAttrValue(t):""},e.prototype.sanitizeHTMLAttribute=function(t,i,n,r){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,i,n,r):Bp.exports.safeAttrValue(t,i,n,r)},e.prototype.validate=function(t,i){i===void 0&&(i={});var n=this.sanitize(t,i);return{isValid:t===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(t){var i={};return t.forEach(function(n){Object.keys(n).forEach(function(r){Array.isArray(n[r])&&Array.isArray(i[r])?i[r]=i[r].concat(n[r]):i[r]=n[r]})}),i},e.prototype._iterateOverObject=function(t,i){var n=this;i===void 0&&(i={});try{var r=!1,a=void 0;if(Array.isArray(t))a=t.reduce(function(s,l){var u=n.validate(l,i);return u.isValid?s.concat([l]):(r=!0,s.concat([u.sanitized]))},[]);else if(Eye(t)){var o=Object.keys(t);a=o.reduce(function(s,l){var u=t[l],h=n.validate(u,i);return h.isValid?s[l]=u:(r=!0,s[l]=h.sanitized),s},{})}else return i.allowUndefined&&typeof t=="undefined"?void 0:null;return r?a:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const i_=new Map;function U7(){i_.clear()}function vbe(e){return i_.get(e)}function wbe(e,t){i_.set(e,t)}function eS(e){i_.delete(e)}var ph,Vm,xbe=function(e){if("WebkitTransition"in e.style)ph="webkitTransitionEnd",Vm="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");ph="transitionend",Vm="animationend"}},B7=function(e){ph||xbe(e)},kbe=function(e,t){return t===void 0&&(t=e+"-active"),function(i){B7(i);var n=!1,r=function(a){n||(n=!0,i.removeEventListener(ph,r),i.removeEventListener(Vm,r),i.classList.remove(e),i.classList.remove(t))};i.classList.add(e),i.addEventListener(ph,r),i.addEventListener(Vm,r),requestAnimationFrame(function(){i.classList.add(t)})}},_be=function(e,t){return t===void 0&&(t=e+"-active"),function(i,n){B7(i);var r=!1,a=function(o){r||(r=!0,i.removeEventListener(ph,a),i.removeEventListener(Vm,a),n())};i.classList.add(e),i.addEventListener(ph,a),i.addEventListener(Vm,a),requestAnimationFrame(function(){i.classList.add(t)})}};const Sbe=Z.getLogger("esri.widgets.support.widgetUtils");function G7(e){const t=In.acquire();for(let n=0;n<arguments.length;n++){const r=arguments[n],a=typeof r;if(a==="string")t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if(a==="object")for(const o in r)r[o]&&t.push(o)}const i=t.join(" ");return In.release(t),i}(()=>{const e=new Map,t=new ResizeObserver(i=>{U7();for(const n of i)e.get(n.target)(n)});return(i,n,r)=>(e.has(i)&&Sbe.error("Already observing element",i),e.set(i,n),t.observe(i,r),Xm(()=>{t.unobserve(i),e.delete(i)}))})();function Wc(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function EL(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function PD(e){const t="data-node-ref";this[e.getAttribute(t)]=e}function Dbe(e,t){return(e==="enter"?kbe:_be)(t)}const $be=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Cbe=$be.reduce((e,t)=>(e[t]=[],e),{}),Tbe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],W7=new bbe({whiteList:Cbe,onTagAttr:(e,t,i)=>{const n=`${t}="${i}"`;if(Tbe.includes(t))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Ebe(e){return e==="Enter"||e===" "}const J7="http://www.w3.org/",n_=`${J7}2000/svg`,Y7=`${J7}1999/xlink`;let Ax,IL=[],KE=(e,t)=>{let i={};return Object.keys(e).forEach(n=>{i[n]=e[n]}),t&&Object.keys(t).forEach(n=>{i[n]=t[n]}),i},ZE=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),K7=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},Ibe=(e,t,i)=>{if(t.vnodeSelector!==""){for(let n=i;n<e.length;n++)if(ZE(e[n],t))return n}return-1},tS=(e,t,i,n)=>{let r=e[t];if(r.vnodeSelector==="")return;let a=r.properties;if(!(a&&(a.key===void 0?a.bind:a.key))){for(let o=0;o<e.length;o++)if(o!==t){let s=e[o];if(ZE(s,r))throw new Error(`${i.vnodeSelector} had a ${r.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Mbe=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},LD=[],RD=!1,Z7=e=>{(e.children||[]).forEach(Z7),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},ML=()=>{RD=!1,LD.forEach(Z7),LD.length=0},OL=e=>{LD.push(e),RD||(RD=!0,typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(ML,{timeout:16}):setTimeout(ML,16))},AL=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i)return t.style.pointerEvents="none",void i(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),OL(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),OL(e))},Obe=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,r=Object.keys(t),a=r.length;for(let o=0;o<a;o++){let s=r[o],l=t[s];if(s==="className")throw new Error('Property "className" is not supported, use "class".');if(s==="class")FD(e,l,!0);else if(s==="classes"){let u=Object.keys(l),h=u.length;for(let m=0;m<h;m++){let f=u[m];l[f]&&e.classList.add(f)}}else if(s==="styles"){let u=Object.keys(l),h=u.length;for(let m=0;m<h;m++){let f=u[m],g=l[f];g&&(K7(g),i.styleApplyer(e,f,g))}}else if(s!=="key"&&l!=null){let u=typeof l;u==="function"?(s.lastIndexOf("on",0)===0&&(n&&(l=n(s,l,e,t)),s==="oninput"&&function(){let h=l;l=function(m){h.apply(this,[m]),m.target["oninput-value"]=m.target.value}}()),e[s]=l):i.namespace===n_?s==="href"?e.setAttributeNS(Y7,s,l):e.setAttribute(s,l):u==="string"&&s!=="value"?s==="innerHTML"?e[s]=W7.sanitize(l):e.setAttribute(s,l):e[s]=l}}},Abe=(e,t,i)=>{if(t)for(let n of t)Gp(n,e,void 0,i)},X7=(e,t,i)=>{Abe(e,t.children,i),t.text&&(e.textContent=t.text),Obe(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},Gp=(e,t,i,n)=>{let r,a=0,o=e.vnodeSelector,s=t.ownerDocument;if(o==="")r=e.domNode=s.createTextNode(e.text),i!==void 0?t.insertBefore(r,i):t.appendChild(r);else{for(let l=0;l<=o.length;++l){let u=o.charAt(l);if(l===o.length||u==="."||u==="#"){let h=o.charAt(a-1),m=o.slice(a,l);h==="."?r.classList.add(m):h==="#"?r.id=m:(m==="svg"&&(n=KE(n,{namespace:n_})),n.namespace!==void 0?r=e.domNode=s.createElementNS(n.namespace,m):(r=e.domNode=e.domNode||s.createElement(m),m==="input"&&e.properties&&e.properties.type!==void 0&&r.setAttribute("type",e.properties.type)),i!==void 0?t.insertBefore(r,i):r.parentNode!==t&&t.appendChild(r)),a=l+1}}X7(r,e,n)}},FD=(e,t,i)=>{t&&t.split(" ").forEach(n=>{n&&e.classList.toggle(n,i)})},Pbe=(e,t,i,n)=>{if(!i)return;let r=!1,a=Object.keys(i),o=a.length;for(let s=0;s<o;s++){let l=a[s],u=i[l],h=t[l];if(l==="class")h!==u&&(FD(e,h,!1),FD(e,u,!0));else if(l==="classes"){let m=e.classList,f=Object.keys(u),g=f.length;for(let b=0;b<g;b++){let v=f[b],w=!!u[v];w!==!!h[v]&&(r=!0,w?m.add(v):m.remove(v))}}else if(l==="styles"){let m=Object.keys(u),f=m.length;for(let g=0;g<f;g++){let b=m[g],v=u[b];v!==h[b]&&(r=!0,v?(K7(v),n.styleApplyer(e,b,v)):n.styleApplyer(e,b,""))}}else if(u||typeof h!="string"||(u=""),l==="value"){let m=e[l];m!==u&&(e["oninput-value"]?m===e["oninput-value"]:u!==h)&&(e[l]=u,e["oninput-value"]=void 0),u!==h&&(r=!0)}else if(u!==h){let m=typeof u;m==="function"&&n.eventHandlerInterceptor||(n.namespace===n_?l==="href"?e.setAttributeNS(Y7,l,u):e.setAttribute(l,u):m==="string"?l==="innerHTML"?e[l]=W7.sanitize(u):l==="role"&&u===""?e.removeAttribute(l):e.setAttribute(l,u):e[l]!==u&&(e[l]=u),r=!0)}}return r},Lbe=(e,t,i,n,r)=>{if(i===n)return!1;n=n||IL;let a,o=(i=i||IL).length,s=n.length,l=0,u=0,h=!1;for(;u<s;){let m=l<o?i[l]:void 0,f=n[u];if(m!==void 0&&ZE(m,f))h=Ax(m,f,r)||h,l++;else{let g=Ibe(i,f,l+1);if(g>=0){for(a=l;a<g;a++)AL(i[a]),tS(i,a,e,"removed");h=Ax(i[g],f,r)||h,l=g+1}else Gp(f,t,l<o?i[l].domNode:void 0,r),Mbe(f),tS(n,u,e,"added")}u++}if(o>l)for(a=l;a<o;a++)AL(i[a]),tS(i,a,e,"removed");return h};Ax=(e,t,i)=>{let n=e.domNode,r=!1;if(e===t)return!1;let a=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let o=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(o,n),t.domNode=o,r=!0,r}t.domNode=n}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(i=KE(i,{namespace:n_})),e.text!==t.text&&(a=!0,t.text===void 0?n.removeChild(n.firstChild):n.textContent=t.text),t.domNode=n,a=Lbe(t,n,e.children,t.children,i)||a,a=Pbe(n,e.properties,t.properties,i)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,i,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),r};let Qf=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=e;e=i,Ax(n,i,t)},domNode:e.domNode});const Rbe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{t.charAt(0)==="-"?e.style.setProperty(t,i):e.style[t]=i}};let pp=e=>KE(Rbe,e),Jc={create:(e,t)=>(t=pp(t),Gp(e,document.createElement("div"),void 0,t),Qf(e,t)),append:(e,t,i)=>(i=pp(i),Gp(t,e,void 0,i),Qf(t,i)),insertBefore:(e,t,i)=>(i=pp(i),Gp(t,e.parentNode,e,i),Qf(t,i)),merge:(e,t,i)=>(i=pp(i),t.domNode=e,X7(e,t,i),Qf(t,i)),replace:(e,t,i)=>(i=pp(i),Gp(t,e.parentNode,e,i),e.parentNode.removeChild(e),Qf(t,i))},Q7,Fbe=(e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i};Q7=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Nbe=(e,t)=>{let i=e;return t.forEach(n=>{i=i&&i.children?Q7(i.children,r=>r.domNode===n):void 0}),i},zbe=(e,t,i)=>{let n=function(r){i("domEvent",r);let a=t(),o=Fbe(r.currentTarget,a.domNode);o.reverse();let s,l=Nbe(a.getLastRender(),o);return e.scheduleRender(),l&&(s=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),s};return(r,a,o,s)=>n},PL=e=>{let t,i,n=pp(e),r=n.performanceLogger,a=!0,o=!1,s=[],l=[],u=(m,f,g)=>{let b,v=()=>b;n.eventHandlerInterceptor=zbe(t,v,r),b=m(f,g(),n),s.push(b),l.push(g)},h=()=>{if(i=void 0,a){a=!1,r("renderStart",void 0);for(let m=0;m<s.length;m++){let f=l[m]();r("rendered",void 0),s[m].update(f),r("patched",void 0)}r("renderDone",void 0),a=!0}};return t={renderNow:h,scheduleRender:()=>{i||o||(i=requestAnimationFrame(h))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,a=!0,t.scheduleRender()},append:(m,f)=>{u(Jc.append,m,f)},insertBefore:(m,f)=>{u(Jc.insertBefore,m,f)},merge:(m,f)=>{u(Jc.merge,m,f)},replace:(m,f)=>{u(Jc.replace,m,f)},detach:m=>{for(let f=0;f<l.length;f++)if(l[f]===m)return l.splice(f,1),s.splice(f,1)[0];throw new Error("renderFunction was not found")}},t},uc=class extends he{constructor(){super(...arguments),this.items=new ge,this._watchUpdatingTracking=new um,this._callbacks=new Map,this._projector=PL(),this._hiddenProjector=PL()}get needsRender(){return this.items.length>0}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(const i of t.added){const n=()=>i.render();this._callbacks.set(i,n),this._projector.append(this.surface,n)}for(const i of t.removed){const n=this._projector.detach(this._callbacks.get(i));this.surface.removeChild(n.domNode),this._callbacks.delete(i)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,i=this._hiddenProjector;let n=null;const r=()=>(n=e.render(),n);i.append(t,r),i.renderNow();const a={left:0,top:0,right:0,bottom:0};if(n&&n.domNode){const o=n.domNode.getBoundingClientRect();a.left=o.left,a.top=o.top,a.right=o.right,a.bottom=o.bottom}for(i.detach(r);t.firstChild;)t.removeChild(t.firstChild);return a}overlaps(e,t){const i=this.computeBoundingRect(e),n=this.computeBoundingRect(t);return Math.max(i.left,n.left)<=Math.min(i.right,n.right)&&Math.max(i.top,n.top)<=Math.min(i.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}renderCanvas(e){if(!this.items.some(i=>i.visible))return;const t=e.getContext("2d");t.save(),t.font=`10px ${getComputedStyle(this.surface).fontFamily}`,this.items.forEach(i=>{t.save(),i.renderCanvas(t),t.restore()}),t.restore()}};c([d({readOnly:!0})],uc.prototype,"surface",void 0),c([d({readOnly:!0})],uc.prototype,"items",void 0),c([d({readOnly:!0})],uc.prototype,"needsRender",null),c([d({readOnly:!0})],uc.prototype,"_watchUpdatingTracking",void 0),c([d({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],uc.prototype,"updating",void 0),uc=c([_("esri.views.overlay.ViewOverlay")],uc);const LL=uc;function XE(e,t,i,n){let r=null,a=1e3;typeof t=="number"?(a=t,n=i):(r=t!=null?t:null,a=i);let o,s=0;const l=()=>{s=0,e.apply(n,o)},u=(...h)=>{r&&r.apply(n,h),o=h,a?s||(s=setTimeout(l,a)):l()};return u.remove=()=>{s&&(clearTimeout(s),s=0)},u.forceUpdate=()=>{s&&(clearTimeout(s),l())},u.hasPendingUpdates=()=>!!s,u}const jbe=/\?(\.|$)/g;function Gt(e,t,i,n){const r=Array.isArray(t)?t:t.indexOf(",")>-1?t.split(","):[t],a=yt(e,t,i,n);for(const o of r){const s=o.trim().replace(jbe,"$1"),l=e.get(s);i.call(e,l,l,s,e)}return a}function yt(e,t,i,n){return e.watch(t,i,n)}function eV(e,t,i,n){return mb(e,t,Bbe,i,n)}function Vbe(e,t,i,n){return mb(e,t,tV,i,n)}function uAe(e,t,i,n){return Ube(e,t,tV,i,n)}function Hbe(e,t,i,n){return mb(e,t,Gbe,i,n)}function ND(e,t,i,n){return mb(e,t,Wbe,i,n)}function qbe(e,t,i,n){let r=!1;const a=e.watch(t,(o,s,l,u)=>{r||i.call(e,o,s,l,u)},n);return{remove(){a.remove()},pause(){r=!0},resume(){r=!1}}}function r_(e,t,i,n,r,a,o){const s={};function l(h){const m=s[h];m&&(a&&a(m.target,h,e,i),m.handle.remove(),delete s[h])}const u=Gt(e,t,(h,m,f)=>{l(f),Ok(h)&&(s[f]={handle:Ak(h,i,n),target:h},r&&r(h,f,e,i))},o);return{remove(){u.remove();for(const h in s)l(h)}}}function mb(e,t,i,n,r){const a=e.watch(t,(o,s,l,u)=>{i&&!i(o)||n==null||n.call(e,o,s,l,u)},r);if(Array.isArray(t))for(const o of t){const s=e.get(o);i&&i(s)&&(n==null||n.call(e,s,s,t,e))}else{const o=e.get(t);i&&i(o)&&(n==null||n.call(e,o,o,t,e))}return a}function Ube(e,t,i,n,r){const a=typeof n=="function"?n:null,o=typeof n=="object"?n:null;typeof n=="boolean"&&(r=n);let s,l=!1;function u(){s&&(s.remove(),s=null)}const h=Sl();uo(o,()=>{u(),h.reject(di())});const m={then:h.promise.then.bind(h.promise),catch:h.promise.catch.bind(h.promise),remove:u};return Object.freeze(m),s=mb(e,t,i,(f,g,b,v)=>{l=!0,u(),a&&a.call(e,f,g,b,v),h.resolve({value:f,oldValue:g,propertyName:b,target:v})},r),l&&u(),m}function Bbe(e){return!!e}function tV(e){return!e}function Gbe(e){return e===!0}function Wbe(e){return e===!1}function ce(e,t){const i=t?ne(D({},t),{source:e}):e;return d({aliasOf:i})}function Jbe(){const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=i=>e[i].toString(16);return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}const Ybe={handleInterceptedEvent:(e,t,i,n)=>(e.scheduleRender(),t.properties[`on${n.type}`].apply(t.properties.bind||i,[n]))},Kbe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{e.style[t]=i}},Zbe=e=>D(D({},Kbe),e),Xbe=(e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i},Qbe=(e,t)=>e.find(t),RL=(e,t,i=!1)=>{let n=e;return t.forEach((r,a)=>{var o;const s=(o=n)!=null&&o.children?Qbe(n.children,l=>l.domNode===r):void 0;i&&!s&&a!==t.length-1||(n=s)}),n},eve=e=>{let t;const i=D(D({},Ybe),e),n=Zbe(i),r=n.performanceLogger;let a,o=!0,s=!1;const l=[],u=[],h=(f,g,b)=>{let v;n.eventHandlerInterceptor=(x,S,E,T)=>function(C){let M;r("domEvent",C);const L=Xbe(C.currentTarget,v.domNode),j=L.some(J=>{var q;return customElements.get(J==null||(q=J.tagName)==null?void 0:q.toLowerCase())});if(C.eventPhase===Event.CAPTURING_PHASE||!j)L.reverse(),M=RL(v.getLastRender(),L);else{const J=C.composedPath(),q=J.slice(J.indexOf(C.currentTarget),J.indexOf(v.domNode)).filter(ue=>ue.getRootNode()===ue.ownerDocument).reverse();M=RL(v.getLastRender(),q,!0)}let G;return M&&(G=i.handleInterceptedEvent(t,M,this,C)),r("domEventProcessed",C),G},i.postProcessProjectionOptions==null||i.postProcessProjectionOptions(n);const w=b();v=f(g,w,n),l.push(v),u.push(b),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(v,w)};let m=()=>{if(a=void 0,o){o=!1,r("renderStart",void 0);for(let f=0;f<l.length;f++){const g=u[f]();r("rendered",void 0),l[f].update(g),r("patched",void 0)}r("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(m=i.modifyDoRenderImplementation(m,l,u)),t={renderNow:m,scheduleRender:()=>{a||s||(a=requestAnimationFrame(m))},stop:()=>{a&&(cancelAnimationFrame(a),a=void 0),s=!0},resume:()=>{s=!1,o=!0,t.scheduleRender()},append:(f,g)=>{h(Jc.append,f,g)},insertBefore:(f,g)=>{h(Jc.insertBefore,f,g)},merge:(f,g)=>{h(Jc.merge,f,g)},replace:(f,g)=>{h(Jc.replace,f,g)},detach:f=>{for(let g=0;g<u.length;g++)if(u[g]===f)return u.splice(g,1),l.splice(g,1)[0];throw new Error("renderFunction was not found")}},t},wt={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let mp,iV,a_,nV=!1,Px=!1,QE=!1,Sr=!1,FL=null,zD=!1;const hf=typeof window!="undefined"?window:{};wt.cssVarShim&&hf.CSS;const lo=hf.document||{head:{}},dAe=hf.HTMLElement||class{},tn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},Lx=wt.shadowDomShim&&wt.shadowDom?(()=>(lo.head.attachShadow+"").indexOf("[native")>-1)():!0,tve=(()=>{let e=!1;try{lo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),ive=e=>Promise.resolve(e),nve=wt.constructableCSS?(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replace=="function"}catch{}return!1})():!1,rV=(e,t,i,n)=>{i&&i.map(([r,a,o])=>{const s=ave(e,r),l=rve(t,o),u=ove(r);tn.ael(s,a,l,u),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>tn.rel(s,a,l,u))})},rve=(e,t)=>i=>{try{wt.lazyLoad||e.$hostElement$[t](i)}catch(n){fb(n)}},ave=(e,t)=>t&4?lo:t&8?hf:t&16?lo.body:e,ove=e=>tve?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,NL="http://www.w3.org/1999/xlink",mh=(e,t="")=>()=>{},zL=new WeakMap,sve=(e,t,i)=>{let n=Nx.get(e);nve&&i?(n=n||new CSSStyleSheet,n.replace(t)):n=t,Nx.set(e,n)},lve=(e,t,i,n)=>{let r=aV(t,i),a=Nx.get(r);if(e=e.nodeType===11?e:lo,a)if(typeof a=="string"){e=e.head||e;let o=zL.get(e),s;o||zL.set(e,o=new Set),o.has(r)||(s=lo.createElement("style"),s.innerHTML=a,e.insertBefore(s,e.querySelector("link")),o&&o.add(r))}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return r},cve=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=mh("attachStyles",t.$tagName$),a=lve(Lx&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);n&10&&(i["s-sc"]=a,i.classList.add(a+"-h"),n&2&&i.classList.add(a+"-s")),r()},aV=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),uve=e=>jve.map(t=>t(e)).find(t=>!!t),jL={},dve="http://www.w3.org/2000/svg",hve="http://www.w3.org/1999/xhtml",pve=e=>e!=null,eI=e=>(e=typeof e,e==="object"||e==="function"),oV=(e,t,...i)=>{let n=null,r=null,a=null,o=!1,s=!1,l=[];const u=m=>{for(let f=0;f<m.length;f++)n=m[f],Array.isArray(n)?u(n):n!=null&&typeof n!="boolean"&&((o=typeof e!="function"&&!eI(n))&&(n=String(n)),o&&s?l[l.length-1].$text$+=n:l.push(o?Rx(null,n):n),s=o)};if(u(i),t&&(wt.isDev&&e==="input"&&yve(t),wt.vdomKey&&t.key&&(r=t.key),wt.slotRelocation&&t.name&&(a=t.name),wt.vdomClass)){const m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(f=>m[f]).join(" "))}if(wt.isDev&&l.some(sV)&&zve(`The <Host> must be the single root component. Make sure:
- You are NOT using hostData() and <Host> in the same component.
- <Host> is used once, and it's the single root component of the render() function.`),wt.vdomFunctional&&typeof e=="function")return e(t===null?{}:t,l,fve);const h=Rx(e,null);return h.$attrs$=t,l.length>0&&(h.$children$=l),wt.vdomKey&&(h.$key$=r),wt.slotRelocation&&(h.$name$=a),h},Rx=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return wt.vdomAttribute&&(i.$attrs$=null),wt.vdomKey&&(i.$key$=null),wt.slotRelocation&&(i.$name$=null),i},mve={},sV=e=>e&&e.$tag$===mve,fve={forEach:(e,t)=>e.map(VL).forEach(t),map:(e,t)=>e.map(VL).map(t).map(gve)},VL=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),gve=e=>{if(typeof e.vtag=="function"){const i=Object.assign({},e.vattrs);return e.vkey&&(i.key=e.vkey),e.vname&&(i.name=e.vname),oV(e.vtag,i,...e.vchildren||[])}const t=Rx(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},yve=e=>{const t=Object.keys(e),i=t.indexOf("value");if(i===-1)return;const n=t.indexOf("type"),r=t.indexOf("min"),a=t.indexOf("max"),o=t.indexOf("step");(i<n||i<r||i<a||i<o)&&yV('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},HL=(e,t,i,n,r,a)=>{if(i!==n){let o=GL(e,t),s=t.toLowerCase();if(t==="class"){const l=e.classList,u=qL(i),h=qL(n);l.remove(...u.filter(m=>m&&!h.includes(m))),l.add(...h.filter(m=>m&&!u.includes(m)))}else if(t==="style"){for(const l in i)(!n||n[l]==null)&&(l.includes("-")?e.style.removeProperty(l):e.style[l]="");for(const l in n)(!i||n[l]!==i[l])&&(l.includes("-")?e.style.setProperty(l,n[l]):e.style[l]=n[l])}else if(t!=="key")if(t==="ref")n&&n(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):GL(hf,s)?t=s.slice(2):t=s[2]+t.slice(3),i&&tn.rel(e,t,i,!1),n&&tn.ael(e,t,n,!1);else{const l=eI(n);if((o||l&&n!==null)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let h=n==null?"":n;t==="list"?o=!1:(i==null||e[t]!=h)&&(e[t]=h)}}catch{}let u=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,u=!0),n==null||n===!1?(n!==!1||e.getAttribute(t)==="")&&(u?e.removeAttributeNS(NL,t):e.removeAttribute(t)):(!o||a&4||r)&&!l&&(n=n===!0?"":n,u?e.setAttributeNS(NL,t,n):e.setAttribute(t,n))}}},bve=/\s/,qL=e=>e?e.split(bve):[],lV=(e,t,i,n)=>{const r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||jL,o=t.$attrs$||jL;for(n in a)n in o||HL(r,n,a[n],void 0,i,t.$flags$);for(n in o)HL(r,n,a[n],o[n],i,t.$flags$)},Fx=(e,t,i,n)=>{let r=t.$children$[i],a=0,o,s,l;if(nV||(QE=!0,r.$tag$==="slot"&&(mp&&n.classList.add(mp+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=lo.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=lo.createTextNode("");else{if(Sr||(Sr=r.$tag$==="svg"),o=r.$elm$=lo.createElementNS(Sr?dve:hve,r.$flags$&2?"slot-fb":r.$tag$),Sr&&r.$tag$==="foreignObject"&&(Sr=!1),lV(null,r,Sr),pve(mp)&&o["s-si"]!==mp&&o.classList.add(o["s-si"]=mp),r.$children$)for(a=0;a<r.$children$.length;++a)s=Fx(e,r,a,o),s&&o.appendChild(s);r.$tag$==="svg"?Sr=!1:o.tagName==="foreignObject"&&(Sr=!0)}return o["s-hn"]=a_,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=iV,o["s-sn"]=r.$name$||"",l=e&&e.$children$&&e.$children$[i],l&&l.$tag$===r.$tag$&&e.$elm$&&_y(e.$elm$,!1)),o},_y=(e,t)=>{tn.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const r=i[n];r["s-hn"]!==a_&&r["s-ol"]&&(dV(r).insertBefore(r,tI(r)),r["s-ol"].remove(),r["s-ol"]=void 0,QE=!0),t&&_y(r,t)}tn.$flags$&=-2},cV=(e,t,i,n,r,a)=>{let o=e["s-cr"]&&e["s-cr"].parentNode||e,s;for(o.shadowRoot&&o.tagName===a_&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=Fx(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,tI(t))))},uV=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,mV(n),Px=!0,r["s-ol"]?r["s-ol"].remove():_y(r,!0),r.remove())},vve=(e,t,i,n)=>{let r=0,a=0,o=0,s=0,l=t.length-1,u=t[0],h=t[l],m=n.length-1,f=n[0],g=n[m],b,v;for(;r<=l&&a<=m;)if(u==null)u=t[++r];else if(h==null)h=t[--l];else if(f==null)f=n[++a];else if(g==null)g=n[--m];else if(Ev(u,f))fp(u,f),u=t[++r],f=n[++a];else if(Ev(h,g))fp(h,g),h=t[--l],g=n[--m];else if(Ev(u,g))(u.$tag$==="slot"||g.$tag$==="slot")&&_y(u.$elm$.parentNode,!1),fp(u,g),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++r],g=n[--m];else if(Ev(h,f))(u.$tag$==="slot"||g.$tag$==="slot")&&_y(h.$elm$.parentNode,!1),fp(h,f),e.insertBefore(h.$elm$,u.$elm$),h=t[--l],f=n[++a];else{for(o=-1,s=r;s<=l;++s)if(t[s]&&t[s].$key$!==null&&t[s].$key$===f.$key$){o=s;break}o>=0?(v=t[o],v.$tag$!==f.$tag$?b=Fx(t&&t[a],i,o,e):(fp(v,f),t[o]=void 0,b=v.$elm$),f=n[++a]):(b=Fx(t&&t[a],i,a,e),f=n[++a]),b&&dV(u.$elm$).insertBefore(b,tI(u.$elm$))}r>l?cV(e,n[m+1]==null?null:n[m+1].$elm$,i,n,a,m):a>m&&uV(t,r,l)},Ev=(e,t)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:e.$key$===t.$key$:!1,tI=e=>e&&e["s-ol"]||e,dV=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,fp=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,o=t.$text$;let s;o===null?(Sr=a==="svg"?!0:a==="foreignObject"?!1:Sr,a==="slot"||lV(e,t,Sr),n!==null&&r!==null?vve(i,n,t,r):r!==null?(e.$text$!==null&&(i.textContent=""),cV(i,null,t,r,0,r.length-1)):n!==null&&uV(n,0,n.length-1),Sr&&a==="svg"&&(Sr=!1)):(s=i["s-cr"])?s.parentNode.textContent=o:e.$text$!==o&&(i.data=o)},hV=e=>{let t=e.childNodes,i,n,r,a,o,s;for(n=0,r=t.length;n<r;n++)if(i=t[n],i.nodeType===1){if(i["s-sr"]){for(o=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(s=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||o!==""){if(s===1&&o===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(s===1||s===3&&t[a].textContent.trim()!==""){i.hidden=!0;break}}hV(i)}},Qa=[],pV=e=>{let t,i,n,r,a,o,s=0,l=e.childNodes,u=l.length;for(;s<u;s++){if(t=l[s],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],o=n.length-1;o>=0;o--)i=n[o],!i["s-cn"]&&!i["s-nr"]&&i["s-hn"]!==t["s-hn"]&&(UL(i,r)?(a=Qa.find(h=>h.$nodeToRelocate$===i),Px=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:Qa.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&Qa.map(h=>{UL(h.$nodeToRelocate$,i["s-sn"])&&(a=Qa.find(m=>m.$nodeToRelocate$===i),a&&!h.$slotRefNode$&&(h.$slotRefNode$=a.$slotRefNode$))})):Qa.some(h=>h.$nodeToRelocate$===i)||Qa.push({$nodeToRelocate$:i}));t.nodeType===1&&pV(t)}},UL=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",mV=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(mV)},wve=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||Rx(null,null),a=sV(t)?t:oV(null,null,t);a_=i.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map(([o,s])=>a.$attrs$[s]=i[o])),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=r.$elm$=i.shadowRoot||i,mp=i["s-sc"],iV=i["s-cr"],nV=Lx&&(n.$flags$&1)!==0,Px=!1,fp(r,a);{if(tn.$flags$|=1,QE){pV(a.$elm$);let o,s,l,u,h,m,f=0;for(;f<Qa.length;f++)o=Qa[f],s=o.$nodeToRelocate$,s["s-ol"]||(l=lo.createTextNode(""),l["s-nr"]=s,s.parentNode.insertBefore(s["s-ol"]=l,s));for(f=0;f<Qa.length;f++)if(o=Qa[f],s=o.$nodeToRelocate$,o.$slotRefNode$){for(u=o.$slotRefNode$.parentNode,h=o.$slotRefNode$.nextSibling,l=s["s-ol"];l=l.previousSibling;)if(m=l["s-nr"],m&&m["s-sn"]===s["s-sn"]&&u===m.parentNode&&(m=m.nextSibling,!m||!m["s-nr"])){h=m;break}(!h&&u!==s.parentNode||s.nextSibling!==h)&&s!==h&&(!s["s-hn"]&&s["s-ol"]&&(s["s-hn"]=s["s-ol"].parentNode.nodeName),u.insertBefore(s,h))}else s.nodeType===1&&(s.hidden=!0)}Px&&hV(a.$elm$),tn.$flags$&=-2,Qa.length=0}},xve=e=>wt.lazyLoad?pf(e).$hostElement$:e,hAe=(e,t,i)=>{const n=xve(e);return{emit:r=>(wt.isDev&&!n.isConnected&&yV(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),kve(n,t,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:r}))}},kve=(e,t,i)=>{const n=tn.ce(t,i);return e.dispatchEvent(n),n},_ve=(e,t)=>{},iI=(e,t)=>(e.$flags$|=16,_ve(e,e.$ancestorComponent$),qve(()=>Sve(e,t))),Sve=(e,t)=>{const i=e.$hostElement$,n=mh("scheduleUpdate",e.$cmpMeta$.$tagName$),r=i;let a;return t?a=mm(r,"componentWillLoad"):a=mm(r,"componentWillUpdate"),a=BL(a,()=>mm(r,"componentWillRender")),n(),BL(a,()=>Dve(e,r,t))},Dve=async(e,t,i)=>{const n=e.$hostElement$,r=mh("update",e.$cmpMeta$.$tagName$);n["s-rc"],i&&cve(e);const a=mh("render",e.$cmpMeta$.$tagName$);$ve(e,t,n),a(),r(),Cve(e)},$ve=(e,t,i)=>{try{FL=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(wt.hasRenderFn||wt.reflect)&&(wt.vdomRender||wt.reflect)&&(wt.hydrateServerSide||wve(e,t))}catch(s){fb(s,e.$hostElement$)}return FL=null,null},Cve=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=mh("postUpdate",t),r=i;e.$ancestorComponent$,mm(r,"componentDidRender"),e.$flags$&64?(mm(r,"componentDidUpdate"),n()):(e.$flags$|=64,mm(r,"componentDidLoad"),n())},pAe=e=>{if(wt.updatable){const t=pf(e),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&iI(t,!1),i}return!1},mm=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(n){fb(n)}},BL=(e,t)=>e&&e.then?e.then(t):t(),Tve=(e,t)=>e!=null&&!eI(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,Eve=(e,t)=>pf(e).$instanceValues$.get(t),Ive=(e,t,i,n)=>{const r=pf(e),a=e,o=r.$instanceValues$.get(t),s=r.$flags$,l=a;if(i=Tve(i,n.$members$[t][0]),i!==o){r.$instanceValues$.set(t,i);{if(n.$watchers$&&s&128){const u=n.$watchers$[t];u&&u.map(h=>{try{l[h](i,o,t)}catch(m){fb(m,a)}})}if((s&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(i,o,t)===!1)return;iI(r,!1)}}}},Mve=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;n.map(([a,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,a,{get(){return Eve(this,a)},set(s){Ive(this,a,s,t)},configurable:!0,enumerable:!0})});{const a=new Map;r.attributeChangedCallback=function(o,s,l){tn.jmp(()=>{const u=a.get(o);if(this.hasOwnProperty(u))l=this[u],delete this[u];else if(r.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==l)return;this[u]=l===null&&typeof this[u]=="boolean"?!1:l})},e.observedAttributes=n.filter(([o,s])=>s[0]&15).map(([o,s])=>{const l=s[1]||o;return a.set(l,o),s[0]&512&&t.$attrsToReflect$.push([o,l]),l})}}return e},Ove=async(e,t,i,n,r)=>{if((t.$flags$&32)===0&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then(()=>t.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[t.$modeName$=uve(e)]);const s=aV(i,t.$modeName$);if(!Nx.has(s)){const l=mh("registerStyles",i.$tagName$);sve(s,o,!!(i.$flags$&1)),l()}}t.$ancestorComponent$,(()=>iI(t,!0))()},Ave=e=>{},Pve=e=>{if((tn.$flags$&1)===0){const t=pf(e),i=t.$cmpMeta$,n=mh("connectedCallback",i.$tagName$);t.$flags$&1?(rV(e,t,i.$listeners$),Ave(t.$lazyInstance$)):(t.$flags$|=1,i.$flags$&12&&Lve(e),i.$members$&&Object.entries(i.$members$).map(([r,[a]])=>{if(a&31&&e.hasOwnProperty(r)){const o=e[r];delete e[r],e[r]=o}}),Ove(e,t,i)),n()}},Lve=e=>{const t=e["s-cr"]=lo.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Rve=e=>{if((tn.$flags$&1)===0){const t=pf(e);t.$rmListeners$&&(t.$rmListeners$.map(i=>i()),t.$rmListeners$=void 0)}},mAe=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[],!Lx&&i.$flags$&1&&(i.$flags$|=8);const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){Nve(this,i)},connectedCallback(){Pve(this),n&&n.call(this)},disconnectedCallback(){Rve(this),r&&r.call(this)},__attachShadow(){Lx?this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)}):this.shadowRoot=this}}),e.is=i.$tagName$,Mve(e,i)},fAe=e=>{const t=new URL(e,tn.$resourcesUrl$);return t.origin!==hf.location.origin?t.href:t.pathname},Fve=e=>tn.$resourcesUrl$=e,fV=new WeakMap,pf=e=>fV.get(e),Nve=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return rV(e,i,t.$listeners$),fV.set(e,i)},GL=(e,t)=>t in e,fb=(e,t)=>(0,console.error)(e,t),gV=wt.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],zve=(...e)=>console.error(...gV,...e),yV=(...e)=>console.warn(...gV,...e),Nx=new Map,jve=[],WL=[],bV=[],Vve=(e,t)=>i=>{e.push(i),zD||(zD=!0,t&&tn.$flags$&4?Hve(jD):tn.raf(jD))},JL=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(i){fb(i)}e.length=0},jD=()=>{JL(WL),JL(bV),(zD=WL.length>0)&&tn.raf(jD)},Hve=e=>ive().then(e),qve=Vve(bV,!0),gAe={isDev:!!wt.isDev,isBrowser:!0,isServer:!1,isTesting:!!wt.isTesting};let vV;function Uve(){Fve(to(Ze(vV)))}vV="components/assets";const wV=Symbol("widget"),Bve=[],Gve={},zx=new WeakMap;function xV(e,t){let i=t.children;if(i&&i.length)for(let r=0;r<i.length;++r)i[r]=xV(e,i[r]);else i=Bve;const n=t.vnodeSelector;if(nI(n)){const r=t.properties||Gve,a=r.key||n;return{vnodeSelector:"div",properties:{key:a,afterCreate:Wve,afterUpdate:Jve,afterRemoved:kV,parentWidget:e,widgetConstructor:n,widgetProperties:ne(D({},r),{key:a,children:i})},children:void 0,text:void 0,domNode:null}}return t}function Wve(e,t,i,{parentWidget:n,widgetConstructor:r,widgetProperties:a}){const o=new r(a);o.container=e,zx.set(e,o),o.afterCreate==null||o.afterCreate(o,e),n._internalHandles.add(Xm(()=>kV(e)))}function Jve(e,t,i,{widgetProperties:n}){const r=zx.get(e);r&&(r.set(n),r.afterUpdate==null||r.afterUpdate(r,e))}function kV(e){const t=zx.get(e);t&&(t.destroy(),zx.delete(e))}function nI(e){return typeof e=="function"&&e[wV]}function _V(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function SV(){return _V().startsWith("dark")}function Yve(){return"calcite-theme-"+(SV()?"dark":"light")}const DV="esri.widgets.Widget",YL=Z.getLogger(DV);let Kve=0;const Zve={widgetIcon:"esri-icon-checkbox-unchecked"};function $V(e,t){for(const i in t)e[i]!=null&&(typeof e[i]=="object"&&typeof t[i]=="object"?$V(e[i],t[i]):e[i]=t[i]);return e}const Xve=eve({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(n,r,a,o)=>{const s=t(n,r,a,o),l=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in a)||l){const u=n[2].toLowerCase()+n.slice(3),h=g=>s.call(a,g);a.addEventListener(u,h,l);const m=()=>a.removeEventListener(u,h,l),f=o.afterRemoved;o.afterRemoved=g=>{f==null||f(g),m()}}return s}},handleInterceptedEvent(e,t,i,n){const{eventPhase:r,type:a}=n,o=r===Event.CAPTURING_PHASE;let s=`on${a}${o?"capture":""}`;const l=t.properties;(s in l||(s=`on${a[0].toUpperCase()}${a.slice(1)}${o?"Capture":""}`,s in l))&&(U7(),e.scheduleRender(),l[s].call(l.bind||i,n))}});let iS=!1,gi=class extends zk(ys.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._internalHandles=new gn,this._projector=Xve,this._readyForTrueRender=!1,this.domNode=null,this.iconClass=Zve.widgetIcon,this.label=this.declaredClass.split(".").pop(),this.visible=!0,this.key=this,this._loadLocale=nz(async()=>{if(this._messageBundleProps&&this._messageBundleProps.length){const s=await tr(this._messageBundleProps.map(async({bundlePath:l,propertyName:u})=>{let h=await rE(l);this.uiStrings&&Object.keys(this.uiStrings)&&(h=$V(N(h),this.uiStrings)),this[u]=h}));for(const l of s)l.error&&YL.error("widget-intl:locale-error",this.declaredClass,l.error)}await this.loadLocale()}),Uve();const i=["light","dark"],n=_V()||"light";i.includes(n)||Ck(YL,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const r="esri-widget-uid-"+Jbe(),a=this.render.bind(this);this._trackingTarget=new Rk(()=>this.scheduleRender());const o=()=>{var s;if(!this._readyForTrueRender||this.destroyed)return null;if(!this.visible)return{vnodeSelector:"div",properties:{key:r,class:"",styles:{display:"none"}},domNode:void 0,children:void 0,text:void 0};const l=a();let{properties:u}=l;u||(l.properties=u={});let{key:h,styles:m}=u;h||(u.key=r),m||(u.styles=m={}),m.display||(m.display="");let f=0;return(s=l.children)==null||s.forEach(g=>{if(nI(g.vnodeSelector))return;let{properties:b}=g;b||(g.properties=b={}),b.key||(b.key=`${this.id}--${f++}`)}),xV(this,l)};this.render=()=>{if(iS)return o();let s=vbe(this);if(s)return s;this._trackingTarget.clear(),iS=!0;try{s=_l(this._trackingTarget,o)}finally{iS=!1}return wbe(this,s),s},this.addResolvingPromise(this._resourcesFetch=this.beforeFirstRender().then(()=>{this._readyForTrueRender=!0,this._postInitialize()}))}normalizeCtorArgs(e,t){const i=D({},e);return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){return Promise.all([this.loadDependencies(),this._loadLocale()]).then(()=>{}).catch(P3)}async loadDependencies(){}async loadLocale(){}destroy(){this.destroyed||(this._trackingTarget=Ko(this._trackingTarget),this.viewModel=Ko(this.viewModel),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),this._emitter.clear(),this.render=()=>null,this._projector=null,eS(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return JE(e)}get id(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+Kve++}set id(e){e&&this._set("id",e)}get renderable(){return this._resourcesFetch}get test(){return{projector:this._projector,handles:this._internalHandles}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(eS(this),this._projector.scheduleRender())}classes(...e){return G7.apply(this,e)}own(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments)),this._internalHandles.add(e)}renderNow(){eS(this),this._projector.renderNow()}_postInitialize(){var e;if(this.destroyed)return;this.scheduleRender(),(e=this._delegatedEventNames)!=null&&e.length&&this._internalHandles.add(bt(()=>this.viewModel,(i,n)=>{n&&this._internalHandles.remove("delegated-events"),i&&this._internalHandles.add(this._delegatedEventNames.map(r=>i.on(r,a=>{this.emit(r,a)})),"delegated-events")},rs)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(P3),this.scheduleRender()};this._internalHandles.add([s8(t),bt(()=>this.uiStrings,t),Wk(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){e&&this._attached&&(this._projector.detach(this.render),e.parentNode&&e.parentNode.removeChild(e),this._attached=!1)}};gi[wV]=!0,c([d()],gi.prototype,"_readyForTrueRender",void 0),c([d({value:null})],gi.prototype,"container",null),c([Ye("container")],gi.prototype,"castContainer",null),c([d({aliasOf:"container"})],gi.prototype,"domNode",void 0),c([d()],gi.prototype,"iconClass",void 0),c([d()],gi.prototype,"id",null),c([d()],gi.prototype,"label",void 0),c([d()],gi.prototype,"renderable",null),c([d()],gi.prototype,"uiStrings",void 0),c([d()],gi.prototype,"viewModel",void 0),c([d()],gi.prototype,"visible",void 0),c([d()],gi.prototype,"key",void 0),c([d()],gi.prototype,"children",void 0),c([d()],gi.prototype,"afterCreate",void 0),c([d()],gi.prototype,"afterUpdate",void 0),c([d()],gi.prototype,"afterRemoved",void 0),gi=c([_(DV)],gi);const an=gi;function Qve(e){return 32+e.length}function e1e(){return 16}function yAe(e){if(!e)return 0;let t=32;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];switch(typeof n){case"string":t+=Qve(n);break;case"number":t+=e1e();break;case"boolean":t+=4}}return t}function bAe(e,t){return 32+e.length*t}var jx;(function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"})(jx||(jx={}));const KL=["B","kB","MB","GB","TB"];function t1e(e,t){let i=t===0?0:Math.floor(Math.log(t)/Math.log(jx.KILOBYTES));i=ga(i,0,KL.length-1);const n=lh(t/jx.KILOBYTES**i,{maximumFractionDigits:2});return cs(e.units.bytes[KL[i]],{fileSize:n})}function i1e(e){const{exifInfo:t,exifName:i,tagName:n}=e;if(!t||!i||!n)return null;const r=t.find(a=>a.name===i);return r?n1e({tagName:n,tags:r.tags}):null}function n1e(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const n=i.find(r=>r.name===t);return n&&n.value||null}var VD;const r1e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let Hn=VD=class extends B{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=i1e({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return r1e[t]||null}clone(){return new VD({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};c([d({type:String})],Hn.prototype,"contentType",void 0),c([d()],Hn.prototype,"exifInfo",void 0),c([d({readOnly:!0})],Hn.prototype,"orientationInfo",null),c([d({type:xt})],Hn.prototype,"id",void 0),c([d({type:String})],Hn.prototype,"globalId",void 0),c([d({type:String})],Hn.prototype,"keywords",void 0),c([d({type:String})],Hn.prototype,"name",void 0),c([d({json:{read:!1}})],Hn.prototype,"parentGlobalId",void 0),c([d({json:{read:!1}})],Hn.prototype,"parentObjectId",void 0),c([d({type:xt})],Hn.prototype,"size",void 0),c([d({json:{read:!1}})],Hn.prototype,"url",void 0),Hn=VD=c([_("esri.layers.support.AttachmentInfo")],Hn);const CV=Hn;var HD;let Yi=HD=class extends B{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new HD(N({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};c([d({type:[String],json:{write:!0}})],Yi.prototype,"attachmentTypes",void 0),c([d({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Yi.prototype,"attachmentsWhere",void 0),c([d({type:[String],json:{write:!0}})],Yi.prototype,"keywords",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"globalIds",void 0),c([d({json:{write:!0}})],Yi.prototype,"name",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Yi.prototype,"num",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"objectIds",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],Yi.prototype,"returnMetadata",void 0),c([d({type:[Number],json:{write:!0}})],Yi.prototype,"size",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Yi.prototype,"start",void 0),c([ae("start"),ae("num")],Yi.prototype,"writeStart",null),c([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Yi.prototype,"where",void 0),Yi=HD=c([_("esri.rest.support.AttachmentQuery")],Yi),Yi.from=_t(Yi);const Vx=Yi,a1e="esri.widgets.Feature.support.featureUtils",ZL=Z.getLogger(a1e),o1e=/href=(""|'')/gi,s1e=/(\{([^\{\r\n]+)\})/g,l1e=/\'/g,TV=/^\s*expression\//i,c1e=/(\n)/gi,u1e=/[\u00A0-\u9999<>\&]/gim,d1e=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,h1e=/^(?:mailto:|tel:)/,EV="relationships/",qD=dj("short-date-short-time");function IV(e){if(!z(e))return e.get("sourceLayer")||e.get("layer")}async function Hx(e,t){return typeof e=="function"?e.call(null,t):e}function MV(e=""){if(e)return!h1e.test(e.trim().toLowerCase())}function OV(e){return!!e&&TV.test(e)}function p1e(e,t){if(!OV(t)||!e)return null;const i=t.replace(TV,"").toLowerCase();let n;return e.some(r=>r.name.toLowerCase()===i&&(n=r,!0)),n}function AV(e,t){const i=p1e(t,e==null?void 0:e.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function m1e(e,t){const i=t.get(e.toLowerCase());return`{${i&&i.fieldName||e}}`}function f1e(e){return e.replace(o1e,"")}function qx(e,t){const i=rI(t,e);return i?i.name:e}function g1e(e,t){return e&&e.map(i=>qx(i,t))}function rI(e,t){return e&&typeof e.getField=="function"?e.getField(t):null}function PV(e){return`${e}`.trim()}function Rd({attributes:e,globalAttributes:t,layer:i,text:n,expressionAttributes:r,fieldInfoMap:a}){return n?UD({formattedAttributes:t,template:w1e(n,D(D(D({},t),r),e),i),fieldInfoMap:a}):""}function UD({formattedAttributes:e,template:t,fieldInfoMap:i}){return PV(f1e(cs(cs(t,n=>m1e(n,i)),e)))}function y1e(e,t,i=!1){const n=t[e];if(typeof n=="string"){const r="%27",a=(i?encodeURIComponent(n):n).replace(l1e,r);t[e]=a}}function b1e(e,t=!1){const i=D({},e);return Object.keys(i).forEach(n=>y1e(n,i,t)),i}function v1e(e,t,i){const n=(t=PV(t))&&t[0]!=="{";return cs(e,b1e(i,n))}function BD(e,t){return e.replace(s1e,(i,n,r)=>{const a=rI(t,r);return a?`{${a.name}}`:n})}function w1e(e,t,i){const n=BD(e,i);return n&&n.replace(d1e,(r,a,o)=>v1e(r,a||o,t))}function x1e(e,t){if(typeof e=="string"&&t&&t.dateFormat==null&&(t.places!=null||t.digitSeparator!=null)){const i=Number(e);if(!isNaN(i))return i}return e}function k1e(e){return(e==null?void 0:e.type)==="feature"}function _1e(e){return(e==null?void 0:e.type)==="map-image"}function S1e(e){return!(e==null||!e.layer)}function LV(e,t){const i=t.fieldInfos,n=t.fieldName,r=RV(i,n),a=r==null?void 0:r.clone(),o=t.preventPlacesFormatting,s=t.layer,l=rI(s,n);if(a&&(l==null?void 0:l.type)==="date"){const h=a.format||new Og;h.dateFormat=h.dateFormat||"short-date-short-time",h.dateTimeFormatOptions=k1e(s)&&s.datesInUnknownTimezone||S1e(s)&&_1e(s.layer)&&s.layer.datesInUnknownTimezone?{timeZone:"UTC"}:null,a.format=h}const u=a&&a.format;return typeof(e=x1e(e,u))=="string"||e==null||u==null?gb(e):o?lh(e,ne(D({},pj(u)),{minimumFractionDigits:0,maximumFractionDigits:20})):u.format(e)}function RV(e,t){if(!e||!e.length||!t)return;const i=t.toLowerCase();let n;return e.some(r=>!(!r.fieldName||r.fieldName.toLowerCase()!==i)&&(n=r,!0)),n}function D1e({fieldName:e,graphic:t,layer:i}){if(fl(e)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:n}=i;if(!n||e!==n)return null;const r=i.getFeatureType(t);return r?r.name:null}function $1e({fieldName:e,value:t,graphic:i,layer:n}){if(fl(e)||!n||typeof n.getFieldDomain!="function")return null;const r=n.getFieldDomain(e,{feature:i});return r&&r.type==="coded-value"?r.getName(t):null}function C1e(e,t){const{creatorField:i,creationDateField:n,editorField:r,editDateField:a}=e;if(!t)return;const o=t[a];if(typeof o=="number"){const l=t[r];return{type:"edit",date:nu(o,qD),user:l}}const s=t[n];if(typeof s=="number"){const l=t[i];return{type:"create",date:nu(s,qD),user:l}}return null}function T1e(e,t){const i=new Map;return e&&e.forEach(n=>{const r=qx(n.fieldName,t);n.fieldName=r,i.set(r.toLowerCase(),n)}),i}function XL(e){const t=[];if(!e)return t;const{fieldInfos:i,content:n}=e;return i&&t.push(...i),n&&Array.isArray(n)&&n.forEach(r=>{if(r.type==="fields"){const a=r&&r.fieldInfos;a&&t.push(...a)}}),t}function aI(e){return e.replace(u1e,t=>`&#${t.charCodeAt(0)};`)}function gb(e){return typeof e=="string"?e.replace(c1e,'<br class="esri-text-new-line" />'):e}function E1e(e){const{value:t,fieldName:i,fieldInfos:n,fieldInfoMap:r,layer:a,graphic:o}=e;if(t==null)return"";const s=$1e({fieldName:i,value:t,graphic:o,layer:a});if(s)return s;const l=D1e({fieldName:i,graphic:o,layer:a});if(l)return l;if(r.get(i.toLowerCase()))return LV(t,{fieldInfos:n,fieldName:i,layer:a});const u=a&&a.fieldsIndex;return u&&u.isDateField(i)?nu(t,qD):gb(t)}function nS({fieldInfos:e,attributes:t,layer:i,graphic:n,fieldInfoMap:r,relatedInfos:a}){const o={};return a==null||a.forEach(s=>P1e(o,s)),Object.keys(t).forEach(s=>{const l=t[s];o[s]=E1e({fieldName:s,fieldInfos:e,fieldInfoMap:r,layer:i,value:l,graphic:n})}),o}async function I1e(e,t){var i,n;const{layer:r,graphic:a,outFields:o,objectIds:s,returnGeometry:l,spatialReference:u}=e,h=s[0];if(typeof h!="number"&&typeof h!="string"){const f="Could not query required fields for the specified feature. The feature's ID is invalid.",g={layer:r,graphic:a,objectId:h,requiredFields:o};return ZL.warn(f,g),null}if((i=r.capabilities)==null||(n=i.operations)==null||!n.supportsQuery){const f="The specified layer cannot be queried. The following fields will not be available.",g={layer:r,graphic:a,requiredFields:o,returnGeometry:l};return ZL.warn(f,g),null}const m=r.createQuery();return m.objectIds=s,m.outFields=o!=null&&o.length?o:[r.objectIdField],m.returnGeometry=!!l,m.returnZ=!!l,m.returnM=!!l,m.outSpatialReference=u,(await r.queryFeatures(m,t)).features[0]}async function M1e(e){var t;if((t=e.expressionInfos)==null||!t.length)return!1;const i=await $l(),{arcadeUtils:{hasGeometryFunctions:n}}=i;return n(e)}async function O1e({graphic:e,popupTemplate:t,layer:i,spatialReference:n},r){if(!i||!t||(typeof i.load=="function"&&await i.load(r),!e.attributes))return;const a=e.attributes[i.objectIdField];if(a==null)return;const o=[a],s=await t.getRequiredFields(i.fieldsIndex),l=Rme(s,e),u=l?[]:s,h=t.returnGeometry||await M1e(t);if(l&&!h)return;const m=await I1e({layer:i,graphic:e,outFields:u,objectIds:o,returnGeometry:h,spatialReference:n},r);m&&(m.geometry&&(e.geometry=m.geometry),m.attributes&&(e.attributes=D(D({},e.attributes),m.attributes)))}function fl(e=""){return!!e&&e.indexOf(EV)!==-1}function A1e(e){return e?`${EV}${e.layerId}/${e.fieldName}`:""}function QL({attributes:e,graphic:t,relatedInfo:i}){e&&t&&i&&Object.keys(t.attributes).forEach(n=>{const r=A1e({layerId:i.relation.id.toString(),fieldName:n});e[r]=t.attributes[n]})}function P1e(e,t){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach(i=>QL({attributes:e,graphic:i,relatedInfo:t})),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach(i=>QL({attributes:e,graphic:i,relatedInfo:t})))}const eR=e=>{if(!e)return!1;const t=e.toUpperCase();return t.indexOf("CURRENT_TIMESTAMP")>-1||t.indexOf("CURRENT_DATE")>-1||t.indexOf("CURRENT_TIME")>-1},FV=({layer:e,method:t,query:i,definitionExpression:n})=>{var r,a;if((r=e.capabilities)==null||(a=r.query)==null||!a.supportsCacheHint||t==="attachments")return;const o=$(i.where)&&i.where,s=$(i.geometry)&&i.geometry;eR(n)||eR(o)||(s==null?void 0:s.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},L1e=({query:e,layer:t,method:i})=>{FV({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},R1e=({queryPayload:e,layer:t,method:i})=>{FV({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},tR={editing:!1,operations:{add:!0,update:!0,delete:!0}},NV=ge.ofType(CV),F1e="graphic.layer.capabilities.operations.supportsResizeAttachments";let Na=class extends Mm{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.abilities=D({},tR),this.activeAttachmentInfo=null,this.attachmentInfos=new NV,this.graphic=null,this.mode="view",this.handles.add([Gt(this,"graphic",()=>this._graphicChanged())])}destroy(){this._attachmentLayer=null,this.graphic=null}castAbilities(e){return D(D({},tR),e)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){return this.get(F1e)||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t}=this;if(!e||typeof e.queryAttachments!="function")throw new P("invalid-layer","getAttachments(): A valid layer is required.");const i=this._getFeatureId(),n=new Vx({objectIds:[i],returnMetadata:!0}),r=[],a=e.queryAttachments(n).then(s=>s[i]||r).catch(()=>r);this._getAttachmentsPromise=a,this.notifyChange("state");const o=await a;return t.removeAll(),o.length&&t.addMany(o),this._getAttachmentsPromise=null,this.notifyChange("state"),o}async addAttachment(e){const{_attachmentLayer:t,attachmentInfos:i,graphic:n,abilities:r}=this;if(!e)throw new P("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!r.operations.add)throw new P("invalid-abilities","addAttachment(): add abilities are required.");if(!t||typeof t.addAttachment!="function")throw new P("invalid-layer","addAttachment(): A valid layer is required.");const a=t.addAttachment(n,e).then(s=>this._queryAttachment(s.objectId)),o=await a;return i.add(o),o}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:i,graphic:n,abilities:r}=this;if(!e)throw new P("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!r.operations.delete)throw new P("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!t||typeof t.deleteAttachments!="function")throw new P("invalid-layer","deleteAttachment(): A valid layer is required.");const a=t.deleteAttachments(n,[e.id]).then(()=>e),o=await a;return i.remove(o),o}async updateAttachment(e,t=this.activeAttachmentInfo){const{_attachmentLayer:i,attachmentInfos:n,graphic:r,abilities:a}=this;if(!e)throw new P("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new P("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!a.operations.update)throw new P("invalid-abilities","updateAttachment(): Update abilities are required.");const o=n.findIndex(u=>u===t);if(!i||typeof i.updateAttachment!="function")throw new P("invalid-layer","updateAttachment(): A valid layer is required.");const s=i.updateAttachment(r,t.id,e).then(u=>this._queryAttachment(u.objectId)),l=await s;return n.splice(o,1,l),l}async _queryAttachment(e){if(!e)throw new P("invalid-attachment-id","Could not query attachment.");const{_attachmentLayer:t}=this,i=this._getFeatureId(),n=new Vx({objectIds:[i],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return t.queryAttachments(n).then(r=>r[i][0])}_getFeatureId(){const{_attachmentLayer:e,graphic:t}=this;if(!e||!t)return null;const{objectIdField:i}=e,{attributes:n}=t;return n&&n[i]}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))}_setAttachmentLayer(){const{graphic:e}=this,t=IV(e);this._attachmentLayer=t?t.type==="scene"&&$(t.associatedLayer)?t.associatedLayer:t:null}};c([d()],Na.prototype,"abilities",void 0),c([Ye("abilities")],Na.prototype,"castAbilities",null),c([d()],Na.prototype,"activeAttachmentInfo",void 0),c([d({readOnly:!0,type:NV})],Na.prototype,"attachmentInfos",void 0),c([d({type:Nn})],Na.prototype,"graphic",void 0),c([d()],Na.prototype,"mode",void 0),c([d({readOnly:!0})],Na.prototype,"state",null),c([d({readOnly:!0})],Na.prototype,"supportsResizeAttachments",null),Na=c([_("esri.widgets.Attachments.AttachmentsViewModel")],Na);const oI=Na;function N1e(e){const t=e.toLowerCase();return t==="image/bmp"||t==="image/emf"||t==="image/exif"||t==="image/gif"||t==="image/x-icon"||t==="image/jpeg"||t==="image/png"||t==="image/tiff"||t==="image/x-wmf"}function z1e(e){const t=Ze("esri/themes/base/images/files/");return e?e==="text/plain"?`${t}text-32.svg`:e==="application/pdf"?`${t}pdf-32.svg`:e==="text/csv"?`${t}csv-32.svg`:e==="application/gpx+xml"?`${t}gpx-32.svg`:e==="application/x-dwf"?`${t}cad-32.svg`:e==="application/postscript"||e==="application/json"||e==="text/xml"||e==="model/vrml"?`${t}code-32.svg`:e==="application/x-zip-compressed"||e==="application/x-7z-compressed"||e==="application/x-gzip"||e==="application/x-tar"||e==="application/x-gtar"||e==="application/x-bzip2"||e==="application/gzip"||e==="application/x-compress"||e==="application/x-apple-diskimage"||e==="application/x-rar-compressed"||e==="application/zip"?`${t}zip-32.svg`:e.indexOf("image/")!==-1?`${t}image-32.svg`:e.indexOf("audio/")!==-1?`${t}sound-32.svg`:e.indexOf("video/")!==-1?`${t}video-32.svg`:e.indexOf("msexcel")!==-1||e.indexOf("ms-excel")!==-1||e.indexOf("spreadsheetml")!==-1?`${t}excel-32.svg`:e.indexOf("msword")!==-1||e.indexOf("ms-word")!==-1||e.indexOf("wordprocessingml")!==-1?`${t}word-32.svg`:e.indexOf("powerpoint")!==-1||e.indexOf("presentationml")!==-1?`${t}report-32.svg`:`${t}generic-32.svg`:`${t}generic-32.svg`}function Ui(e){return function(t,i){t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}var j1e=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},zV=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i];Array.isArray(r)?zV(r,t):r!=null&&r!==!1&&(r.hasOwnProperty("vnodeSelector")||(r=j1e(r)),t.push(r))}},V1e=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var r=[];return zV(i,r),{vnodeSelector:e,properties:t||void 0,children:r,text:void 0,domNode:null}};function R(e,t,...i){return typeof e!="function"||nI(e)?V1e(e,t,...i):e(t,...i)}const iR={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},se={base:"esri-attachments",loaderContainer:"esri-attachments__loader-container",loader:"esri-attachments__loader",fadeIn:"esri-attachments--fade-in",container:"esri-attachments__container",containerList:"esri-attachments__container--list",containerPreview:"esri-attachments__container--preview",actions:"esri-attachments__actions",deleteButton:"esri-attachments__delete-button",addAttachmentButton:"esri-attachments__add-attachment-button",errorMessage:"esri-attachments__error-message",items:"esri-attachments__items",item:"esri-attachments__item",itemButton:"esri-attachments__item-button",itemMask:"esri-attachments__item-mask",itemMaskIcon:"esri-attachments__item-mask--icon",itemImage:"esri-attachments__image",itemImageResizable:"esri-attachments__image--resizable",itemLabel:"esri-attachments__label",itemFilename:"esri-attachments__filename",itemChevronIcon:"esri-attachments__item-chevron-icon",itemLink:"esri-attachments__item-link",itemLinkOverlay:"esri-attachments__item-link-overlay",itemLinkOverlayIcon:"esri-attachments__item-link-overlay-icon",itemEditIcon:"esri-attachments__item-edit-icon",itemAddIcon:"esri-attachments__item-add-icon",itemAddButton:"esri-attachments__item-add-button",formNode:"esri-attachments__form-node",fileFieldset:"esri-attachments__file-fieldset",fileLabel:"esri-attachments__file-label",fileName:"esri-attachments__file-name",fileInput:"esri-attachments__file-input",metadata:"esri-attachments__metadata",metadataFieldset:"esri-attachments__metadata-fieldset",progressBar:"esri-attachments__progress-bar",esriWidget:"esri-widget",esriButton:"esri-button",buttonDisabled:"esri-button--disabled",esriButtonSecondary:"esri-button--secondary",esriButtonTertiary:"esri-button--tertiary",esriButtonThird:"esri-button--third",esriButtonSmall:"esri-button--small",esriButtonHalf:"esri-button--half",empty:"esri-widget__content--empty",iconExternalLink:"esri-icon-link-external",iconEdit:"esri-icon-edit",iconRight:"esri-icon-right",iconLeft:"esri-icon-left",iconPlus:"esri-icon-plus"},rS=window.CSS;let cn=class extends an{constructor(e,t){super(e,t),this.abilities=null,this.displayType="auto",this.graphic=null,this.label=void 0,this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=new oI,this.visibleElements=D({},iR),this._supportsImageOrientation=rS&&rS.supports&&rS.supports("image-orientation","from-image"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.own(r_(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),Gt(this,"viewModel.mode",()=>this._modeChanged()))}get effectiveDisplayType(){const{displayType:e}=this;return e&&e!=="auto"?e:this.viewModel.supportsResizeAttachments?"preview":"list"}castVisibleElements(e){return D(D({},iR),e)}addAttachment(){const{_addAttachmentForm:e,viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.addAttachment(e).then(i=>(this._set("submitting",!1),this._set("error",null),t.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new P("attachments:add-attachment",this.messages.addErrorMessage,i)),i})}deleteAttachment(e){const{viewModel:t}=this;return this._set("submitting",!0),this._set("error",null),t.deleteAttachment(e).then(i=>(this._set("submitting",!1),this._set("error",null),t.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new P("attachments:delete-attachment",this.messages.deleteErrorMessage,i)),i})}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:t}=this;return this._set("submitting",!0),this._set("error",null),e.updateAttachment(t).then(i=>(this._set("submitting",!1),this._set("error",null),e.mode="view",i)).catch(i=>{throw this._set("submitting",!1),this._set("error",new P("attachments:update-attachment",this.messages.updateErrorMessage,i)),i})}render(){const{submitting:e,viewModel:t}=this,{state:i}=t;return R("div",{class:this.classes(se.base,se.esriWidget)},e?this.renderProgressBar():null,i==="loading"?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?R("div",{key:"error-message",class:se.errorMessage},e.message):null}renderAttachments(){const{mode:e,activeAttachmentInfo:t}=this.viewModel;return e==="add"?this.renderAddForm():e==="edit"?this.renderDetailsForm(t):this.renderAttachmentContainer()}renderLoading(){return R("div",{class:se.loaderContainer,key:"loader"},R("div",{class:se.loader}))}renderProgressBar(){return this.visibleElements.progressBar?R("div",{class:se.progressBar,key:"progress-bar"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,i=e||!t,n=this.visibleElements.cancelAddButton?R("button",{type:"button",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(se.esriButton,se.esriButtonTertiary,se.esriButtonSmall,se.esriButtonHalf,e&&se.buttonDisabled)},this.messages.cancel):null,r=this.visibleElements.addSubmitButton?R("button",{type:"submit",disabled:i,class:this.classes(se.esriButton,se.esriButtonSecondary,se.esriButtonSmall,se.esriButtonHalf,{[se.buttonDisabled]:i})},this.messages.add):null,a=t?R("span",{key:"file-name",class:se.fileName},t.name):null,o=R("form",{bind:this,afterCreate:PD,afterRemoved:EL,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},R("fieldset",{class:se.fileFieldset},a,R("label",{class:this.classes(se.fileLabel,se.esriButton,se.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,R("input",{class:se.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),r,n);return R("div",{key:"add-form-container",class:se.formNode},o)}renderDetailsForm(e){const{visibleElements:t,viewModel:i,selectedFile:n,submitting:r}=this,{contentType:a,size:o,url:s}=e,{abilities:l}=i,u=r||!n,h=l.editing&&l.operations.delete&&t.deleteButton?R("button",{key:"delete-button",type:"button",disabled:r,bind:this,onclick:S=>this._submitDeleteAttachment(S,e),class:this.classes(se.esriButton,se.esriButtonSmall,se.esriButtonTertiary,se.deleteButton,{[se.buttonDisabled]:r})},this.messages.delete):null,m=l.editing&&l.operations.update&&t.updateButton?R("button",{disabled:u,key:"update-button",type:"submit",class:this.classes(se.esriButton,se.esriButtonSmall,se.esriButtonThird,{[se.buttonDisabled]:u})},this.messages.update):null,f=this.visibleElements.cancelUpdateButton?R("button",{disabled:r,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes(se.esriButton,se.esriButtonSmall,se.esriButtonTertiary,se.esriButtonThird,{[se.buttonDisabled]:r})},this.messages.cancel):null,g=n?R("span",{key:"file-name",class:se.fileName},n.name):null,b=l.editing&&l.operations.update?R("fieldset",{key:"file",class:se.fileFieldset},g,R("label",{class:this.classes(se.fileLabel,se.esriButton,se.esriButtonSecondary)},this.messages.changeFile,R("input",{class:se.fileInput,type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))):null,v=R("fieldset",{key:"size",class:se.metadataFieldset},R("label",null,t1e(this.messagesUnits,o))),w=R("fieldset",{key:"content-type",class:se.metadataFieldset},R("label",null,a)),x=R("form",{bind:this,afterCreate:PD,afterRemoved:EL,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},R("div",{class:se.metadata},v,w),b,R("div",{class:se.actions},h,f,m));return R("div",{key:"edit-form-container",class:se.formNode},R("a",{class:se.itemLink,href:s,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:e,size:400}),R("div",{class:se.itemLinkOverlay},R("span",{class:se.itemLinkOverlayIcon},R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},R("path",{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),R("path",{fill:"none",d:"M0 0h32v32H0z"}))))),x)}renderImageMask({attachmentInfo:e,size:t}){const{supportsResizeAttachments:i}=this.viewModel,{contentType:n,name:r,url:a}=e,o=i&&N1e(n),s=this._getCSSTransform(e,o),l=s?{transform:s,"image-orientation":"none"}:{},u=a.indexOf("?")===-1?"?":"&",h=o?`${a}${u}w=${t}`:z1e(n),m={[se.itemMaskIcon]:!o},f={[se.itemImageResizable]:i};return R("div",{class:this.classes(m,se.itemMask)},R("img",{styles:l,alt:r,src:h,class:this.classes(f,se.itemImage)}))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:i}=this,{abilities:n}=i,{name:r,url:a}=e,o=this.renderImageMask({attachmentInfo:e,size:t==="list"?48:400}),s=n.editing?R("span",{"aria-hidden":"true",class:this.classes(se.itemChevronIcon,Wc(this.container)?se.iconLeft:se.iconRight)}):null,l=[o,R("label",{class:se.itemLabel},R("span",{class:se.itemFilename},r||this.messages.noTitle),s)],u=n.editing?R("button",{key:"details-button",bind:this,class:se.itemButton,title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":e.id,onclick:()=>this._startEditAttachment(e),type:"button"},l):R("a",{key:"details-link",class:se.itemButton,href:a,target:"_blank"},l);return R("li",{class:se.item,key:e},u)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:i}=this,{attachmentInfos:n,abilities:r}=t,a=n&&n.length,o={[se.containerList]:e!=="preview",[se.containerPreview]:e==="preview"},s=r.editing&&r.operations.add&&i.addButton?R("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(se.esriButton,se.esriButtonTertiary,se.addAttachmentButton),type:"button"},R("span",{"aria-hidden":"true",class:this.classes(se.itemAddIcon,se.iconPlus)}),this.messages.add):null,l=a?R("ul",{class:se.items},n.toArray().map(u=>this.renderAttachmentInfo({attachmentInfo:u,displayType:e}))):R("div",{class:se.empty},this.messages.noAttachments);return R("div",{key:"attachments-container",class:this.classes(se.container,o)},l,s)}_modeChanged(){this._set("error",null),this._set("selectedFile",null)}_handleFileInputChange(e){const t=e.target,i=t&&t.files&&t.files.item(0);this._set("selectedFile",i)}_submitDeleteAttachment(e,t){e.preventDefault(),this.deleteAttachment(t)}_submitAddAttachment(e){e.preventDefault(),this.addAttachment()}_submitUpdateAttachment(e){e.preventDefault(),this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeAttachmentInfo=e,t.mode="edit"}_startAddAttachment(){this.viewModel.mode="add"}_cancelForm(e){e.preventDefault(),this.viewModel.mode="view"}_getCSSTransform(e,t){const{orientationInfo:i}=e;return!this._supportsImageOrientation&&t&&i?[i.rotation?`rotate(${i.rotation}deg)`:"",i.mirrored?"scaleX(-1)":""].join(" "):""}};c([ce("viewModel.abilities")],cn.prototype,"abilities",void 0),c([d()],cn.prototype,"displayType",void 0),c([d({readOnly:!0})],cn.prototype,"effectiveDisplayType",null),c([ce("viewModel.graphic")],cn.prototype,"graphic",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],cn.prototype,"label",void 0),c([d(),Ui("esri/widgets/Attachments/t9n/Attachments")],cn.prototype,"messages",void 0),c([d(),Ui("esri/core/t9n/Units")],cn.prototype,"messagesUnits",void 0),c([d({readOnly:!0})],cn.prototype,"selectedFile",void 0),c([d({readOnly:!0})],cn.prototype,"submitting",void 0),c([d({readOnly:!0})],cn.prototype,"error",void 0),c([d({type:oI})],cn.prototype,"viewModel",void 0),c([d()],cn.prototype,"visibleElements",void 0),c([Ye("visibleElements")],cn.prototype,"castVisibleElements",null),cn=c([_("esri.widgets.Attachments")],cn);const H1e=cn;let U0=class extends oI{constructor(e){super(e),this.description=null,this.title=null}};c([d()],U0.prototype,"description",void 0),c([d()],U0.prototype,"title",void 0),U0=c([_("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],U0);const sI=U0,q1e={heading:"esri-widget__heading"};function lI(e,t){const i=U1e(e.level),n=`h${i}`;return delete e.level,R(n,ne(D({},e),{class:G7(q1e.heading,e.class),role:"heading","aria-level":String(i)}),t)}function U1e(e){return ga(Math.ceil(e),1,6)}const aS={base:"esri-feature-element-info",title:"esri-feature-element-info__title",description:"esri-feature-element-info__description"};let gp=class extends an{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return R("div",{class:aS.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?R(lI,{level:this.headingLevel,class:aS.title},e):null}renderDescription(){const{description:e}=this;return e?R("div",{key:"description",class:aS.description},e):null}};c([d()],gp.prototype,"description",void 0),c([d()],gp.prototype,"headingLevel",void 0),c([d()],gp.prototype,"title",void 0),gp=c([_("esri.widgets.Feature.support.FeatureElementInfo")],gp);const cI=gp,B1e={base:"esri-feature-attachments"};let No=class extends an{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new H1e,this.description=null,this.displayType=null,this.graphic=null,this.headingLevel=2,this.title=null,this.viewModel=new sI}initialize(){this._featureElementInfo=new cI,Gt(this,["viewModel.description","viewModel.title","headingLevel"],()=>this._setupFeatureElementInfo()),Gt(this,"viewModel.graphic",e=>this.attachmentsWidget.graphic=e)}destroy(){this.attachmentsWidget.destroy(),this._featureElementInfo.destroy()}render(){var e;const{attachmentsWidget:t}=this;return R("div",{class:B1e.base},(e=this._featureElementInfo)==null?void 0:e.render(),t==null?void 0:t.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:i}=this;this._featureElementInfo.set({description:e,title:t,headingLevel:i})}};c([d({readOnly:!0})],No.prototype,"attachmentsWidget",void 0),c([ce("viewModel.description")],No.prototype,"description",void 0),c([ce("attachmentsWidget.displayType")],No.prototype,"displayType",void 0),c([ce("viewModel.graphic")],No.prototype,"graphic",void 0),c([d()],No.prototype,"headingLevel",void 0),c([ce("viewModel.title")],No.prototype,"title",void 0),c([d({type:sI})],No.prototype,"viewModel",void 0),No=c([_("esri.widgets.Feature.FeatureAttachments")],No);const G1e=No;let dc=class extends wh(he){constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(Gt(this,"creator",t=>{this._destroyContent(),this._createContent(t)}))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:i}=this;e&&(Hx(i,{graphic:t}).catch(()=>null),this._set("created",null))}async _createContent(e){const{graphic:t}=this,i=Hx(e,{graphic:t}).catch(()=>null);this._loadingPromise=i,this.notifyChange("state");const n=await i;i===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",n))}};c([d({readOnly:!0})],dc.prototype,"created",void 0),c([d()],dc.prototype,"creator",void 0),c([d()],dc.prototype,"destroyer",void 0),c([d({type:Nn})],dc.prototype,"graphic",void 0),c([d({readOnly:!0})],dc.prototype,"state",null),dc=c([_("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],dc);const Ux=dc;function Gn(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${t}'`);return{value:J1e(e[t])}}}function W1e(e){const{type:t}=e;return e instanceof KeyboardEvent||t==="keyup"||t==="keydown"||t==="keypress"}function J1e(e){return function(t,...i){W1e(t)?Ebe(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click()):e.call(this,t,...i)}}function Y1e(e){return e.split(",").map(t=>t.trim())}function uI(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const i=t._delegatedEventNames,n=Array.isArray(e)?e:Y1e(e);i.push(...n)}}function jV(e){return e&&typeof e.render=="function"}function K1e(e){return e&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}const oS={base:"esri-feature-content",loaderContainer:"esri-feature-content__loader-container",loader:"esri-feature-content__loader"};let yp=class extends an{constructor(e,t){super(e,t),this.creator=null,this.graphic=null,this.viewModel=null,this._addTargetToAnchors=i=>{Array.from(i.querySelectorAll("a")).forEach(n=>{MV(n.href)&&!n.hasAttribute("target")&&n.setAttribute("target","_blank")})}}renderLoading(){return R("div",{class:oS.loaderContainer,key:"loader"},R("div",{class:oS.loader}))}renderCreated(){var e;const t=(e=this.viewModel)==null?void 0:e.created;return t?t instanceof HTMLElement?R("div",{key:t,bind:t,afterCreate:this._attachToNode}):jV(t)?R("div",{key:t},!t.destroyed&&t.render()):R("div",{key:t,innerHTML:t,afterCreate:this._addTargetToAnchors}):null}render(){var e;const t=(e=this.viewModel)==null?void 0:e.state;return R("div",{class:oS.base},t==="loading"?this.renderLoading():this.renderCreated())}_attachToNode(e){const t=this;e.appendChild(t)}};c([ce("viewModel.creator")],yp.prototype,"creator",void 0),c([ce("viewModel.graphic")],yp.prototype,"graphic",void 0),c([d({type:Ux})],yp.prototype,"viewModel",void 0),yp=c([_("esri.widgets.Feature.FeatureContent")],yp);const Y1=yp;let qs=class extends he{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,i=[];return t==null||t.forEach(n=>{if(!(!n.hasOwnProperty("visible")||n.visible))return;const r=n.clone();r.label=AV(r,e),i.push(r)}),i}};c([d()],qs.prototype,"attributes",void 0),c([d({type:[xj]})],qs.prototype,"expressionInfos",void 0),c([d()],qs.prototype,"description",void 0),c([d({type:[rb]})],qs.prototype,"fieldInfos",void 0),c([d({readOnly:!0})],qs.prototype,"formattedFieldInfos",null),c([d()],qs.prototype,"title",void 0),qs=c([_("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],qs);const o_=qs,Z1e=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function X1e(e){let t=null;return Z1e.some(i=>(i.pattern.test(e)&&(t=i),!!t)),t}function Q1e(e,t){if(typeof t!="string"||!t)return t;const i=X1e(t);if(!i)return t;const n=t.match(i.pattern),r=n&&n[2],a=cs(cs(i.label,{messages:e,hierPart:r}),{appName:i.appName}),o=i.target?` target="${i.target}"`:"",s=i.target==="_blank"?' rel="noreferrer"':"";return t.replace(i.pattern,`<a${o} href="$1"${s}>${a}</a>`)}const e0={base:"esri-feature-fields",fieldHeader:"esri-feature-fields__field-header",fieldData:"esri-feature-fields__field-data",fieldDataDate:"esri-feature-fields__field-data--date",esriTable:"esri-widget__table"};let za=class extends an{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attributes=null,this.description=null,this.expressionInfos=null,this.fieldInfos=null,this.title=null,this.viewModel=new o_,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new cI,Gt(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())}destroy(){this._featureElementInfo.destroy()}renderFieldInfo(e,t){const{attributes:i}=this.viewModel,n=e.fieldName,r=e.label||n,a=i?i[n]==null?"":i[n]:"",o=!(!e.format||!e.format.dateFormat),s=typeof a=="number"&&!o?this._forceLTR(a):Q1e(this.messagesURIUtils,a),l={[e0.fieldDataDate]:o};return R("tr",{key:`fields-element-info-row-${n}-${t}`},R("th",{key:`fields-element-info-row-header-${n}-${t}`,class:e0.fieldHeader,innerHTML:r}),R("td",{key:`fields-element-info-row-data-${n}-${t}`,class:this.classes(e0.fieldData,l),innerHTML:s}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e!=null&&e.length?R("table",{class:e0.esriTable,summary:this.messages.fieldsSummary},R("tbody",null,e.map((t,i)=>this.renderFieldInfo(t,i)))):null}render(){var e;return R("div",{class:e0.base},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};c([ce("viewModel.attributes")],za.prototype,"attributes",void 0),c([ce("viewModel.description")],za.prototype,"description",void 0),c([ce("viewModel.expressionInfos")],za.prototype,"expressionInfos",void 0),c([ce("viewModel.fieldInfos")],za.prototype,"fieldInfos",void 0),c([ce("viewModel.title")],za.prototype,"title",void 0),c([d({type:o_})],za.prototype,"viewModel",void 0),c([d(),Ui("esri/widgets/Feature/t9n/Feature")],za.prototype,"messages",void 0),c([d(),Ui("esri/widgets/support/t9n/uriUtils")],za.prototype,"messagesURIUtils",void 0),za=c([_("esri.widgets.Feature.FeatureFields")],za);const VV=za,nR={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},ewe={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function twe(e,t){const i=new Date(e,t+1,1);return i.setDate(0),i.getDate()}function Jd(e,t,i){const n=new Date(e.getTime());if(t&&i){const r=ewe[i],{getter:a,setter:o,multiplier:s}=r;if(i==="months"){const l=twe(n.getFullYear(),n.getMonth()+t);n.getDate()>l&&n.setDate(l)}n[o](n[a]()+t*s)}return n}function rR(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function iwe(e,t,i){return e===0?0:e*nR[t]/nR[i]}var ja;let kr=ja=class extends B{constructor(e){super(e),this.end=null,this.start=null}static get allTime(){return aR}static get empty(){return nwe}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(ja.allTime)}get isEmpty(){return this.equals(ja.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new ja({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=$(this.start)?this.start.getTime():this.start,i=$(this.end)?this.end.getTime():this.end,n=$(e.start)?e.start.getTime():e.start,r=$(e.end)?e.end.getTime():e.end;return t===n&&i===r}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=Fc(this.start,n=>rR(n,e)),i=Fc(this.end,n=>Jd(rR(n,e),1,e));return new ja({start:t,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return ja.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=b0(this.start,-1/0,s=>s.getTime()),i=b0(this.end,1/0,s=>s.getTime()),n=b0(e.start,-1/0,s=>s.getTime()),r=b0(e.end,1/0,s=>s.getTime());let a,o;if(n>=t&&n<=i?a=n:t>=n&&t<=r&&(a=t),i>=n&&i<=r?o=i:r>=t&&r<=i&&(o=r),!isNaN(a)&&!isNaN(o)){const s=new ja;return s.start=a===-1/0?null:new Date(a),s.end=o===1/0?null:new Date(o),s}return ja.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const i=new ja,{start:n,end:r}=this;return $(n)&&(i.start=Jd(n,e,t)),$(r)&&(i.end=Jd(r,e,t)),i}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return aR.clone();const t=$(this.start)&&$(e.start)?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=$(this.end)&&$(e.end)?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new ja({start:t,end:i})}};c([d({type:Date,json:{write:{allowNull:!0}}})],kr.prototype,"end",void 0),c([te("end")],kr.prototype,"readEnd",null),c([ae("end")],kr.prototype,"writeEnd",null),c([d({readOnly:!0,json:{read:!1}})],kr.prototype,"isAllTime",null),c([d({readOnly:!0,json:{read:!1}})],kr.prototype,"isEmpty",null),c([d({type:Date,json:{write:{allowNull:!0}}})],kr.prototype,"start",void 0),c([te("start")],kr.prototype,"readStart",null),c([ae("start")],kr.prototype,"writeStart",null),kr=ja=c([_("esri.TimeExtent")],kr);const aR=new kr,nwe=new kr({start:void 0,end:void 0}),xs=kr;var GD;let B0=GD=class extends B{constructor(e){super(e),this.name=null,this.code=null}clone(){return new GD({name:this.name,code:this.code})}};c([d({type:String,json:{write:!0}})],B0.prototype,"name",void 0),c([d({type:[String,Number],json:{write:!0}})],B0.prototype,"code",void 0),B0=GD=c([_("esri.layers.support.CodedValue")],B0);const rwe=B0,awe=new Te({inherited:"inherited",codedValue:"coded-value",range:"range"});let G0=class extends B{constructor(e){super(e),this.name=null,this.type=null}};c([d({type:String,json:{write:!0}})],G0.prototype,"name",void 0),c([ye(awe)],G0.prototype,"type",void 0),G0=c([_("esri.layers.support.Domain")],G0);const s_=G0;var WD;let W0=WD=class extends s_{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some(n=>(String(n.code)===i&&(t=n.name),!!t))}return t}clone(){return new WD({codedValues:N(this.codedValues),name:this.name})}};c([d({type:[rwe],json:{write:!0}})],W0.prototype,"codedValues",void 0),c([ye({codedValue:"coded-value"})],W0.prototype,"type",void 0),W0=WD=c([_("esri.layers.support.CodedValueDomain")],W0);const HV=W0;var JD;let K1=JD=class extends s_{constructor(e){super(e),this.type="inherited"}clone(){return new JD}};c([ye({inherited:"inherited"})],K1.prototype,"type",void 0),K1=JD=c([_("esri.layers.support.InheritedDomain")],K1);const qV=K1;var YD;let bp=YD=class extends s_{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new YD({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};c([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]}}}})],bp.prototype,"maxValue",void 0),c([d({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]}}}})],bp.prototype,"minValue",void 0),c([ye({range:"range"})],bp.prototype,"type",void 0),bp=YD=c([_("esri.layers.support.RangeDomain")],bp);const UV=bp,BV={key:"type",base:s_,typeMap:{range:UV,"coded-value":HV,inherited:qV}};function dI(e){if(!e||!e.type)return null;switch(e.type){case"range":return UV.fromJSON(e);case"codedValue":return HV.fromJSON(e);case"inherited":return qV.fromJSON(e)}return null}const owe=new Te({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});var KD;const swe=new Te({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let _n=KD=class extends B{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let i;try{i=JSON.parse(t)}catch{}return i?i.value:null}readValueType(e,{description:t}){let i;try{i=JSON.parse(t)}catch{}return i?swe.fromJSON(i.fieldValueType):null}clone(){return new KD({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};c([d({type:String,json:{write:!0}})],_n.prototype,"alias",void 0),c([d({type:[String,Number],json:{write:{allowNull:!0}}})],_n.prototype,"defaultValue",void 0),c([d()],_n.prototype,"description",void 0),c([te("description")],_n.prototype,"readDescription",null),c([d({types:BV,json:{read:{reader:dI},write:!0}})],_n.prototype,"domain",void 0),c([d({type:Boolean,json:{write:!0}})],_n.prototype,"editable",void 0),c([d({type:xt,json:{write:!0}})],_n.prototype,"length",void 0),c([d({type:String,json:{write:!0}})],_n.prototype,"name",void 0),c([d({type:Boolean,json:{write:!0}})],_n.prototype,"nullable",void 0),c([ye(owe)],_n.prototype,"type",void 0),c([d()],_n.prototype,"valueType",void 0),c([te("valueType",["description"])],_n.prototype,"readValueType",null),_n=KD=c([_("esri.layers.support.Field")],_n);const l_=_n;var ZD;let vp=ZD=class extends B{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new ZD({mapLayerId:e,gdbVersion:t})}};c([ye({mapLayer:"map-layer"})],vp.prototype,"type",void 0),c([d({type:xt,json:{write:!0}})],vp.prototype,"mapLayerId",void 0),c([d({type:String,json:{write:!0}})],vp.prototype,"gdbVersion",void 0),vp=ZD=c([_("esri.layers.support.source.MapLayerSource")],vp);var XD;let Us=XD=class extends B{constructor(e){super(e),this.type="query-table"}clone(){var e;const{workspaceId:t,query:i,oidFields:n,spatialReference:r,geometryType:a}=this,o={workspaceId:t,query:i,oidFields:n,spatialReference:(e=r==null?void 0:r.clone())!=null?e:void 0,geometryType:a};return new XD(o)}};c([ye({queryTable:"query-table"})],Us.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Us.prototype,"workspaceId",void 0),c([d({type:String,json:{write:!0}})],Us.prototype,"query",void 0),c([d({type:String,json:{write:!0}})],Us.prototype,"oidFields",void 0),c([d({type:Le,json:{write:!0}})],Us.prototype,"spatialReference",void 0),c([ye(ome)],Us.prototype,"geometryType",void 0),Us=XD=c([_("esri.layers.support.source.QueryTableDataSource")],Us);var QD;let wp=QD=class extends B{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new QD({workspaceId:e,dataSourceName:t})}};c([ye({raster:"raster"})],wp.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],wp.prototype,"dataSourceName",void 0),c([d({type:String,json:{write:!0}})],wp.prototype,"workspaceId",void 0),wp=QD=c([_("esri.layers.support.source.RasterDataSource")],wp);var e$;let Zu=e$=class extends B{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new e$({workspaceId:e,gdbVersion:t,dataSourceName:i})}};c([ye({table:"table"})],Zu.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Zu.prototype,"workspaceId",void 0),c([d({type:String,json:{write:!0}})],Zu.prototype,"gdbVersion",void 0),c([d({type:String,json:{write:!0}})],Zu.prototype,"dataSourceName",void 0),Zu=e$=c([_("esri.layers.support.source.TableDataSource")],Zu);var t$,i$;const lwe=rn()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let fr=t$=class extends B{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return oR()(e,t,i)}castLeftTableSource(e){return ds(n$(),e)}readRightTableSource(e,t,i){return oR()(e,t,i)}castRightTableSource(e){return ds(n$(),e)}clone(){var e,t;const{leftTableKey:i,rightTableKey:n,leftTableSource:r,rightTableSource:a,joinType:o}=this,s={leftTableKey:i,rightTableKey:n,leftTableSource:(e=r==null?void 0:r.clone())!=null?e:void 0,rightTableSource:(t=a==null?void 0:a.clone())!=null?t:void 0,joinType:o};return new t$(s)}};c([ye({joinTable:"join-table"})],fr.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],fr.prototype,"leftTableKey",void 0),c([d({type:String,json:{write:!0}})],fr.prototype,"rightTableKey",void 0),c([d({json:{write:!0}})],fr.prototype,"leftTableSource",void 0),c([te("leftTableSource")],fr.prototype,"readLeftTableSource",null),c([Ye("leftTableSource")],fr.prototype,"castLeftTableSource",null),c([d({json:{write:!0}})],fr.prototype,"rightTableSource",void 0),c([te("rightTableSource")],fr.prototype,"readRightTableSource",null),c([Ye("rightTableSource")],fr.prototype,"castRightTableSource",null),c([ye(lwe)],fr.prototype,"joinType",void 0),fr=t$=c([_("esri.layers.support.source.JoinTableDataSource")],fr);let sS=null;function oR(){return sS||(sS=Qm({types:n$()})),sS}let lS=null;function n$(){return lS||(lS={key:"type",base:null,typeMap:{"data-layer":Dr,"map-layer":vp}}),lS}const cwe={key:"type",base:null,typeMap:{"join-table":fr,"query-table":Us,raster:wp,table:Zu}};let Dr=i$=class extends B{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new i$({fields:e,dataSource:t})}};c([ye({dataLayer:"data-layer"})],Dr.prototype,"type",void 0),c([d({type:[l_],json:{write:!0}})],Dr.prototype,"fields",void 0),c([d({types:cwe,json:{write:!0}})],Dr.prototype,"dataSource",void 0),Dr=i$=c([_("esri.layers.support.source.DataLayerSource")],Dr),Dr.from=_t(Dr);var r$;const sR=new Te({upperLeft:"upper-left",lowerLeft:"lower-left"});let Xu=r$=class extends B{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new r$(N({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};c([d({type:lt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xu.prototype,"extent",void 0),c([d({type:["view","edit"],json:{write:!0}})],Xu.prototype,"mode",void 0),c([d({type:String,json:{read:sR.read,write:sR.write}})],Xu.prototype,"originPosition",void 0),c([d({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],Xu.prototype,"tolerance",void 0),Xu=r$=c([_("esri.rest.support.QuantizationParameters")],Xu);const GV=Xu;var a$;const lR=new Te({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Va=a$=class extends B{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(t.statisticParameters=N(e))}clone(){return new a$({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:N(this.statisticParameters)})}};c([d({type:Number,json:{write:!0}})],Va.prototype,"maxPointCount",void 0),c([d({type:Number,json:{write:!0}})],Va.prototype,"maxRecordCount",void 0),c([d({type:Number,json:{write:!0}})],Va.prototype,"maxVertexCount",void 0),c([d({type:String,json:{write:!0}})],Va.prototype,"onStatisticField",void 0),c([d({type:String,json:{write:!0}})],Va.prototype,"outStatisticFieldName",void 0),c([d({type:String,json:{read:{source:"statisticType",reader:lR.read},write:{target:"statisticType",writer:lR.write}}})],Va.prototype,"statisticType",void 0),c([d({type:Object})],Va.prototype,"statisticParameters",void 0),c([ae("statisticParameters")],Va.prototype,"writeStatisticParameters",null),Va=a$=c([_("esri.rest.support.StatisticDefinition")],Va);const WV=Va;var fm;const uwe=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),dwe=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let we=fm=class extends B{constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}static from(e){return jT(fm,e)}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const n in e){const r=e[n];Array.isArray(r)?i[n]=r.map(a=>a instanceof Date?a.getTime():a):r instanceof Date?i[n]=r.getTime():i[n]=r}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new fm(N({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:$(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};we.MAX_MAX_RECORD_COUNT_FACTOR=5,c([d({json:{write:!0}})],we.prototype,"aggregateIds",void 0),c([d({type:Boolean,json:{write:!0}})],we.prototype,"cacheHint",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"compactGeometryEnabled",void 0),c([d({json:{write:!0}})],we.prototype,"datumTransformation",void 0),c([Ye("datumTransformation")],we.prototype,"castDatumTransformation",null),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"defaultSpatialReferenceEnabled",void 0),c([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],we.prototype,"distance",void 0),c([d({type:Dr,json:{write:!0}})],we.prototype,"dynamicDataSource",void 0),c([d({type:String,json:{write:!0}})],we.prototype,"formatOf3DObjects",void 0),c([d({type:String,json:{write:!0}})],we.prototype,"gdbVersion",void 0),c([d({types:xh,json:{read:Fn,write:!0}})],we.prototype,"geometry",void 0),c([d({type:Number,json:{write:!0}})],we.prototype,"geometryPrecision",void 0),c([d({type:[String],json:{write:!0}})],we.prototype,"groupByFieldsForStatistics",void 0),c([d({type:String,json:{write:!0}})],we.prototype,"having",void 0),c([d({type:Date})],we.prototype,"historicMoment",void 0),c([ae("historicMoment")],we.prototype,"writeHistoricMoment",null),c([d({type:Number,json:{write:!0}})],we.prototype,"maxAllowableOffset",void 0),c([d({type:Number,cast:e=>e<1?1:e>fm.MAX_MAX_RECORD_COUNT_FACTOR?fm.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],we.prototype,"maxRecordCountFactor",void 0),c([d({type:["xyFootprint"],json:{write:!0}})],we.prototype,"multipatchOption",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],we.prototype,"num",void 0),c([d({json:{write:!0}})],we.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],we.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],we.prototype,"outFields",void 0),c([d({type:Le,json:{name:"outSR",write:!0}})],we.prototype,"outSpatialReference",void 0),c([d({type:[WV],json:{write:{enabled:!0,overridePolicy(){return{enabled:$(this.outStatistics)&&this.outStatistics.length>0}}}}})],we.prototype,"outStatistics",void 0),c([d({json:{write:!0}})],we.prototype,"parameterValues",void 0),c([ae("parameterValues")],we.prototype,"writeParameterValues",null),c([d({type:be,json:{write:!0}})],we.prototype,"pixelSize",void 0),c([d({type:GV,json:{write:!0}})],we.prototype,"quantizationParameters",void 0),c([d({type:[Object],json:{write:!0}})],we.prototype,"rangeValues",void 0),c([d({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],we.prototype,"relationParameter",void 0),c([d({type:String,json:{write:!0}})],we.prototype,"resultType",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"returnCentroid",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"returnDistinctValues",void 0),c([d({type:Boolean,json:{default:!0,write:!0}})],we.prototype,"returnExceededLimitFeatures",void 0),c([d({type:Boolean,json:{write:!0}})],we.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"returnQueryGeometry",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],we.prototype,"returnZ",void 0),c([d({type:Le,json:{write:!0}})],we.prototype,"sourceSpatialReference",void 0),c([ye(uwe,{ignoreUnknown:!1,name:"spatialRel"})],we.prototype,"spatialRelationship",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],we.prototype,"start",void 0),c([ae("start"),ae("num")],we.prototype,"writeStart",null),c([d({type:String,json:{write:!0}})],we.prototype,"sqlFormat",void 0),c([d({type:String,json:{write:!0}})],we.prototype,"text",void 0),c([d({type:xs,json:{write:!0}})],we.prototype,"timeExtent",void 0),c([d({type:Boolean,json:{default:!1,write:!0}})],we.prototype,"timeReferenceUnknownClient",void 0),c([ye(dwe,{ignoreUnknown:!1}),d({json:{write:{overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],we.prototype,"units",void 0),c([d({type:String,json:{write:{overridePolicy(e){return{enabled:e!=null||this.start>0}}}}})],we.prototype,"where",void 0),c([ae("where")],we.prototype,"writeWhere",null),we=fm=c([_("esri.rest.support.Query")],we);const Mn=we;var o$;let Vt=o$=class extends B{constructor(e){super(e),this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(t.definitionExpression="1=1")}clone(){return new o$(N({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};c([d({type:Dr,json:{write:!0}})],Vt.prototype,"dynamicDataSource",void 0),c([d({type:String,json:{write:!0}})],Vt.prototype,"gdbVersion",void 0),c([d({type:Number,json:{write:!0}})],Vt.prototype,"geometryPrecision",void 0),c([d({type:Date})],Vt.prototype,"historicMoment",void 0),c([ae("historicMoment")],Vt.prototype,"_writeHistoricMoment",null),c([d({type:Number,json:{write:!0}})],Vt.prototype,"maxAllowableOffset",void 0),c([d({type:[Number],json:{write:!0}})],Vt.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],Vt.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],Vt.prototype,"outFields",void 0),c([d({type:Le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Vt.prototype,"outSpatialReference",void 0),c([d({json:{write:!0}})],Vt.prototype,"relationshipId",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Vt.prototype,"start",void 0),c([ae("start"),ae("num")],Vt.prototype,"writeStart",null),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Vt.prototype,"num",void 0),c([d({json:{write:!0}})],Vt.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vt.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Vt.prototype,"returnZ",void 0),c([d({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Vt.prototype,"where",void 0),Vt=o$=c([_("esri.rest.support.RelationshipQuery")],Vt),Vt.from=_t(Vt);const fh=Vt;function hwe(e,t){return t?ne(D({},t),{query:D(D({},e),t.query)}):{query:e}}function zr(e){return typeof e=="string"?Bi(e):e}function pwe(e,t,i){const n={};for(const r in e){if(r==="declaredClass")continue;const a=e[r];if(a!=null&&typeof a!="function")if(Array.isArray(a)){n[r]=[];for(let o=0;o<a.length;o++)n[r][o]=pwe(a[o])}else if(typeof a=="object")if(a.toJSON){const o=a.toJSON(i&&i[r]);n[r]=t?o:JSON.stringify(o)}else n[r]=t?a:JSON.stringify(a);else n[r]=a}return n}function yb(e){const t={};for(const i in e){if(i==="declaredClass")continue;const n=e[i];if(n!=null&&typeof n!="function")if(Array.isArray(n)){t[i]=[];for(let r=0;r<n.length;r++)t[i][r]=yb(n[r])}else typeof n=="object"?n.toJSON&&(t[i]=JSON.stringify(n)):t[i]=n}return t}function mwe(e){const t=e.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t}function fwe(e,t){const i={};for(const n of e){const{parentObjectId:r,parentGlobalId:a,attachmentInfos:o}=n;for(const s of o){const{id:l}=s,u=Lue(lde(`${t}/${r}/attachments/${l}`)),h=CV.fromJSON(s);h.set({url:u,parentObjectId:r,parentGlobalId:a}),i[r]?i[r].push(h):i[r]=[h]}}return i}function gwe(e,t,i){let n={query:yb(D(ne(D({},e.query),{f:"json"}),mwe(t)))};return i&&(n=ne(D(D({},i),n),{query:D(D({},i.query),n.query)})),$t(e.path+"/queryAttachments",n)}async function ywe(e,t,i){const n=zr(e);return gwe(n,Vx.from(t),D({},i)).then(r=>fwe(r.data.attachmentGroups,n.path))}const Wp={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new On({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Le.WebMercator}),minus180Line:new On({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Le.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new On({paths:[[[180,-180],[180,180]]],spatialReference:Le.WGS84}),minus180Line:new On({paths:[[[-180,-180],[-180,180]]],spatialReference:Le.WGS84})}};function Fd(e,t){return Math.ceil((e-t)/(2*t))}function JV(e,t){const i=Ng(e);for(const n of i)for(const r of n)r[0]+=t;return e}function Ng(e){return Bd(e)?e.rings:e.paths}function vAe(e){const t=e!=null&&e.isWebMercator?102100:4326;return[Wp[t].minX,Wp[t].maxX]}async function bwe(e,t,i,n){const r=typeof e=="string"?Bi(e):e,a=t[0].spatialReference,o=ne(D({},n),{query:ne(D({},r.query),{f:"json",sr:JSON.stringify(a),target:JSON.stringify({geometryType:ya(t[0]),geometries:t}),cutter:JSON.stringify(i)})}),s=await $t(r.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=s.data;return{cutIndexes:l,geometries:u.map(h=>{const m=Fn(h);return m.spatialReference=a,m})}}async function vwe(e,t,i){const n=typeof e=="string"?Bi(e):e,r=t[0].spatialReference,a=ya(t[0]),o=ne(D({},i),{query:ne(D({},n.query),{f:"json",sr:r.wkid?r.wkid:JSON.stringify(r),geometries:JSON.stringify(wwe(t))})});return xwe((await $t(n.path+"/simplify",o)).data,a,r)}function wwe(e){return{geometryType:ya(e[0]),geometries:e.map(t=>t.toJSON())}}function xwe(e,t,i){const n=Q8(t);return e.map(r=>{const a=n.fromJSON(r);return a.spatialReference=i,a})}const kwe=Z.getLogger("esri.geometry.support.normalizeUtils");function _we(e){return e.type==="polygon"}function Swe(e){return e[0].type==="polygon"}function Dwe(e){return e[0].type==="polyline"}function $we(e,t){if(!(e instanceof On||e instanceof ho)){const r="straightLineDensify: the input geometry is neither polyline nor polygon";throw kwe.error(r),new P(r)}const i=Ng(e),n=[];for(const r of i){const a=[];n.push(a),a.push([r[0][0],r[0][1]]);for(let o=0;o<r.length-1;o++){const s=r[o][0],l=r[o][1],u=r[o+1][0],h=r[o+1][1],m=Math.sqrt((u-s)*(u-s)+(h-l)*(h-l)),f=(h-l)/m,g=(u-s)/m,b=m/t;if(b>1){for(let S=1;S<=b-1;S++){const E=S*t,T=g*E+s,C=f*E+l;a.push([T,C])}const v=(m+Math.floor(b-1)*t)/2,w=g*v+s,x=f*v+l;a.push([w,x])}a.push([u,h])}}return _we(e)?new ho({rings:n,spatialReference:e.spatialReference}):new On({paths:n,spatialReference:e.spatialReference})}function cR(e,t,i){if(t){const n=$we(e,1e6);e=x0(n,!0)}return i&&(e=JV(e,i)),e}function uR(e,t,i){if(Array.isArray(e)){const n=e[0];if(n>t){const r=Fd(n,t);e[0]=n+r*(-2*t)}else if(n<i){const r=Fd(n,i);e[0]=n+r*(-2*i)}}else{const n=e.x;if(n>t){const r=Fd(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<i){const r=Fd(n,i);e=e.clone().offset(r*(-2*i),0)}}return e}function Cwe(e,t){let i=-1;for(let n=0;n<t.cutIndexes.length;n++){const r=t.cutIndexes[n],a=t.geometries[n],o=Ng(a);for(let s=0;s<o.length;s++){const l=o[s];l.some(u=>{if(u[0]<180)return!0;{let h=0;for(let f=0;f<l.length;f++){const g=l[f][0];h=g>h?g:h}h=Number(h.toFixed(9));const m=-360*Fd(h,180);for(let f=0;f<l.length;f++){const g=a.getPoint(s,f);a.setPoint(s,f,g.clone().offset(m,0))}return!0}})}if(r===i){if(Swe(e))for(const s of Ng(a))e[r]=e[r].addRing(s);else if(Dwe(e))for(const s of Ng(a))e[r]=e[r].addPath(s)}else i=r,e[r]=a}return e}async function hI(e,t,i){var n;if(!Array.isArray(e))return hI([e],t);const r=(n=t==null?void 0:t.url)!=null?n:rt.geometryServiceUrl;let a,o,s,l,u,h,m,f,g=0;const b=[],v=[];for(const C of e)if(z(C))v.push(C);else if(a||(a=C.spatialReference,o=oo(a),s=a.isWebMercator,h=s?102100:4326,l=Wp[h].maxX,u=Wp[h].minX,m=Wp[h].plus180Line,f=Wp[h].minus180Line),o)if(C.type==="mesh")v.push(C);else if(C.type==="point")v.push(uR(C.clone(),l,u));else if(C.type==="multipoint"){const M=C.clone();M.points=M.points.map(L=>uR(L,l,u)),v.push(M)}else if(C.type==="extent"){const M=C.clone()._normalize(!1,!1,o);v.push(M.rings?new ho(M):M)}else if(C.extent){const M=C.extent,L=Fd(M.xmin,u)*(2*l);let j=L===0?C.clone():JV(C.clone(),L);M.offset(L,0),M.intersects(m)&&M.xmax!==l?(g=M.xmax>g?M.xmax:g,j=cR(j,s),b.push(j),v.push("cut")):M.intersects(f)&&M.xmin!==u?(g=M.xmax*(2*l)>g?M.xmax*(2*l):g,j=cR(j,s,360),b.push(j),v.push("cut")):v.push(j)}else v.push(C.clone());else v.push(C);let w=Fd(g,l),x=-90;const S=w,E=new On;for(;w>0;){const C=360*w-180;E.addPath([[C,x],[C,-1*x]]),x*=-1,w--}if(b.length>0&&S>0){const C=Cwe(b,await bwe(r,b,E,i)),M=[],L=[];for(let J=0;J<v.length;J++){const q=v[J];if(q!=="cut")L.push(q);else{const ue=C.shift(),re=e[J];$(re)&&re.type==="polygon"&&re.rings&&re.rings.length>1&&ue.rings.length>=re.rings.length?(M.push(ue),L.push("simplify")):L.push(s?vl(ue):ue)}}if(!M.length)return L;const j=await vwe(r,M,i),G=[];for(let J=0;J<L.length;J++){const q=L[J];q!=="simplify"?G.push(q):G.push(s?vl(j.shift()):j.shift())}return G}const T=[];for(let C=0;C<v.length;C++){const M=v[C];if(M!=="cut")T.push(M);else{const L=b.shift();T.push(s===!0?vl(L):L)}}return Promise.resolve(T)}function wAe(e,t){const i=oo(t);if(i){const[n,r]=i.valid,a=r-n;if(e<n)for(;e<n;)e+=a;if(e>r)for(;e>r;)e-=a}return e}var Mc;(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(Mc||(Mc={}));const dR=4294967296,Twe=new TextDecoder("utf-8"),Ewe=V("safari")||V("ios")?6:V("ff")?12:32;class Yd{constructor(t,i,n=0,r=t?t.byteLength:0){this._tag=0,this._dataType=Mc.unknown,this._init(t,i,n,r)}_init(t,i,n,r){this._data=t,this._dataView=i,this._pos=n,this._end=r}clone(){return new Yd(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const i=this._decodeVarint();if(this._tag=i>>3,this._dataType=7&i,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=this._data[this._pos]!==0;return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getUint32(i+4,!0)*dR;return this._skip(8),n}getSFixed64(){const t=this._dataView,i=this._pos,n=t.getUint32(i,!0)+t.getInt32(i+4,!0)*dR;return this._skip(8),n}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),i=this._pos,n=this._toString(this._data,i,i+t);return this._skip(t),n}getBytes(){const t=this._getLength(),i=this._pos,n=this._toBytes(this._data,i,i+t);return this._skip(t),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,i,n,r){const a=this.getMessage(),o=t(a,i,n,r);return a.release(),o}processMessage(t){const i=this.getMessage(),n=t(i);return i.release(),n}getMessage(){const t=this._getLength(),i=Yd.pool.acquire();return i._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),i}release(){Yd.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case Mc.varint:this._decodeVarint();break;case Mc.fixed64:this._skip(8);break;case Mc.delimited:this._skip(this._getLength());break;case Mc.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let i,n=this._pos,r=0;if(this._end-n>=10)do{if(i=t[n++],r|=127&i,(128&i)==0||(i=t[n++],r|=(127&i)<<7,(128&i)==0)||(i=t[n++],r|=(127&i)<<14,(128&i)==0)||(i=t[n++],r|=(127&i)<<21,(128&i)==0)||(i=t[n++],r+=268435456*(127&i),(128&i)==0)||(i=t[n++],r+=34359738368*(127&i),(128&i)==0)||(i=t[n++],r+=4398046511104*(127&i),(128&i)==0)||(i=t[n++],r+=562949953421312*(127&i),(128&i)==0)||(i=t[n++],r+=72057594037927940*(127&i),(128&i)==0)||(i=t[n++],r+=9223372036854776e3*(127&i),(128&i)==0))break;throw new Error("Varint too long!")}while(0);else{let a=1;for(;n!==this._end&&(i=t[n],(128&i)!=0);)++n,r+=(127&i)*a,a*=128;if(n===this._end)throw new Error("Varint overrun!");++n,r+=i*a}return this._pos=n,r}_decodeSVarint(){const t=this._decodeVarint();return t%2?-(t+1)/2:t/2}_getLength(){if(this._dataType!==Mc.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,i,n){if((n=Math.min(this._end,n))-i>Ewe){const o=t.subarray(i,n);return Twe.decode(o)}let r="",a="";for(let o=i;o<n;++o){const s=t[o];128&s?a+="%"+s.toString(16):(r+=decodeURIComponent(a)+String.fromCharCode(s),a="")}return a.length&&(r+=decodeURIComponent(a)),r}_toBytes(t,i,n){return n=Math.min(this._end,n),new Uint8Array(t.buffer,i,n-i)}}Yd.pool=new co(Yd,null,e=>{e._data=null,e._dataView=null});class ar{constructor(t=[],i=[],n=!1){this.lengths=t!=null?t:[],this.coords=i!=null?i:[],this.hasIndeterminateRingOrder=n}get isPoint(){return this.lengths.length===0}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,i)=>t+i)}forEachVertex(t){let i=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let a=0;a<r;a++)t(this.coords[2*(a+i)],this.coords[2*(a+i)+1]);i+=r}}clone(t){return t?(t.set(this.coords),new ar(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new ar(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}class ms{constructor(t=null,i={},n,r){this.geometry=t,this.attributes=i,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new ms(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function Iwe(e){return!(z(e.geometry)||!e.geometry.coords||!e.geometry.coords.length)}class xAe extends ms{}class c_{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new c_;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}const YV=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class kAe{constructor(t){this.options=t,this.geometryTypes=YV,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new c_}prepareFeatures(t){this._vertexDimension=2,t.hasZ&&this._vertexDimension++,t.hasM&&this._vertexDimension++}finishFeatureResult(t){if(!t||!t.features||!t.hasZ||!this.options.sourceSpatialReference||!t.spatialReference||cr(t.spatialReference,this.options.sourceSpatialReference)||t.spatialReference.vcsWkid)return;const i=Fm(this.options.sourceSpatialReference)/Fm(t.spatialReference);if(i!==1)for(const n of t.features){if(!Iwe(n))continue;const r=n.geometry.coords;for(let a=2;a<r.length;a+=3)r[a]*=i}}addFeature(t,i){t.features.push(i)}createFeature(){return new ms}createSpatialReference(){return{wkid:0}}createGeometry(){return new ar}addField(t,i){t.fields.push(i)}allocateCoordinates(t){t.coords.length=t.lengths.reduce((i,n)=>i+n,0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(t,i){t.coords[this._coordinatePtr++]=i}addCoordinatePoint(t,i){t.coords.push(i)}addLength(t,i){t.lengths.push(i)}addQueryGeometry(t,i){t.queryGeometry=i.queryGeometry,t.queryGeometryType=i.queryGeometryType}createPointGeometry(){return new ar}}const hR=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML"],pR=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],mR=["upperLeft","lowerLeft"];function fR(e){return e>=hR.length?null:hR[e]}function Mwe(e){return e>=pR.length?null:pR[e]}function gR(e){return e>=mR.length?null:mR[e]}function yR(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function Owe(e,t,i){const r=t.createPointGeometry(i);for(;e.next();)switch(e.tag()){case 3:{const a=e.getUInt32(),o=e.pos()+a;let s=0;for(;e.pos()<o;)t.addCoordinatePoint(r,e.getSInt64(),s++);break}default:e.skip()}return r}function Awe(e,t,i){const a=t.createGeometry(i),o=2+(i.hasZ?1:0)+(i.hasM?1:0);for(;e.next();)switch(e.tag()){case 2:{const s=e.getUInt32(),l=e.pos()+s;let u=0;for(;e.pos()<l;)t.addLength(a,e.getUInt32(),u++);break}case 3:{const s=e.getUInt32(),l=e.pos()+s;let u=0;for(t.allocateCoordinates(a);e.pos()<l;)t.addCoordinate(a,e.getSInt64(),u),u++,u===o&&(u=0);break}default:e.skip()}return a}function Pwe(e){const r=new ar;let a="esriGeometryPoint";for(;e.next();)switch(e.tag()){case 2:{const o=e.getUInt32(),s=e.pos()+o;for(;e.pos()<s;)r.lengths.push(e.getUInt32());break}case 3:{const o=e.getUInt32(),s=e.pos()+o;for(;e.pos()<s;)r.coords.push(e.getSInt64());break}case 1:a=YV[e.getEnum()];break;default:e.skip()}return{queryGeometry:r,queryGeometryType:a}}function Lwe(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getSInt32();case 5:return e.getUInt32();case 6:return e.getInt64();case 7:return e.getUInt64();case 8:return e.getSInt64();case 9:return e.getBool();default:return e.skip(),null}return null}function Rwe(e){const s={type:fR(0)};for(;e.next();)switch(e.tag()){case 1:s.name=e.getString();break;case 2:s.type=fR(e.getEnum());break;case 3:s.alias=e.getString();break;case 4:s.sqlType=Mwe(e.getEnum());break;case 5:e.skip();break;case 6:s.defaultValue=e.getString();break;default:e.skip()}return s}function Fwe(e){const n={};for(;e.next();)switch(e.tag()){case 1:n.name=e.getString();break;case 2:n.isSystemMaintained=e.getBool();break;default:e.skip()}return n}function Nwe(e,t,i,n){const s=t.createFeature(i);let l=0;for(;e.next();)switch(e.tag()){case 1:{const u=n[l++].name;s.attributes[u]=e.processMessage(Lwe);break}case 2:s.geometry=e.processMessageWithArgs(Awe,t,i);break;case 4:s.centroid=e.processMessageWithArgs(Owe,t,i);break;default:e.skip()}return s}function zwe(e){const a=[1,1,1,1];for(;e.next();)switch(e.tag()){case 1:a[0]=e.getDouble();break;case 2:a[1]=e.getDouble();break;case 4:a[2]=e.getDouble();break;case 3:a[3]=e.getDouble();break;default:e.skip()}return a}function jwe(e){const a=[0,0,0,0];for(;e.next();)switch(e.tag()){case 1:a[0]=e.getDouble();break;case 2:a[1]=e.getDouble();break;case 4:a[2]=e.getDouble();break;case 3:a[3]=e.getDouble();break;default:e.skip()}return a}function Vwe(e){const r={originPosition:gR(0)};for(;e.next();)switch(e.tag()){case 1:r.originPosition=gR(e.getEnum());break;case 2:r.scale=e.processMessage(zwe);break;case 3:r.translate=e.processMessage(jwe);break;default:e.skip()}return r}function Hwe(e){const r={};for(;e.next();)switch(e.tag()){case 1:r.shapeAreaFieldName=e.getString();break;case 2:r.shapeLengthFieldName=e.getString();break;case 3:r.units=e.getString();break;default:e.skip()}return r}function qwe(e,t){const s=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:s.wkid=e.getUInt32();break;case 5:s.wkt=e.getString();break;case 2:s.latestWkid=e.getUInt32();break;case 3:s.vcsWkid=e.getUInt32();break;case 4:s.latestVcsWkid=e.getUInt32();break;default:e.skip()}return s}function Uwe(e,t){const v=t.createFeatureResult();v.geometryType=yR(t,0);let w=!1;for(;e.next();)switch(e.tag()){case 1:v.objectIdFieldName=e.getString();break;case 3:v.globalIdFieldName=e.getString();break;case 4:v.geohashFieldName=e.getString();break;case 5:v.geometryProperties=e.processMessage(Hwe);break;case 7:v.geometryType=yR(t,e.getEnum());break;case 8:v.spatialReference=e.processMessageWithArgs(qwe,t);break;case 10:v.hasZ=e.getBool();break;case 11:v.hasM=e.getBool();break;case 12:v.transform=e.processMessage(Vwe);break;case 9:{const x=e.getBool();v.exceededTransferLimit=x;break}case 13:t.addField(v,e.processMessage(Rwe));break;case 15:w||(t.prepareFeatures(v),w=!0),t.addFeature(v,e.processMessageWithArgs(Nwe,t,v,v.fields));break;case 2:v.uniqueIdField=e.processMessage(Fwe);break;default:e.skip()}return t.finishFeatureResult(v),v}function Bwe(e,t){const r={};let a=null;for(;e.next();)switch(e.tag()){case 4:a=e.processMessageWithArgs(Pwe);break;case 1:r.featureResult=e.processMessageWithArgs(Uwe,t);break;default:e.skip()}return $(a)&&r.featureResult&&t.addQueryGeometry(r,a),r}function Gwe(e,t){try{const n=new Yd(new Uint8Array(e),new DataView(e)),r={};for(;n.next();)n.tag()===2?r.queryResult=n.processMessageWithArgs(Bwe,t):n.skip();return r}catch(i){throw new P("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:i})}}function Wwe(e,t){const i=Gwe(e,t),n=i.queryResult.featureResult,r=i.queryResult.queryGeometry,a=i.queryResult.queryGeometryType;if(n&&n.features&&n.features.length&&n.objectIdFieldName){const o=n.objectIdFieldName;for(const s of n.features)s.attributes&&(s.objectId=s.attributes[o])}return n&&(n.queryGeometry=r,n.queryGeometryType=a),n}function Bx(e,t,i){if(!i||!i.features||!i.hasZ)return;const n=w7(i.geometryType,t,e.outSpatialReference);if(!z(n))for(const r of i.features)n(r.geometry)}const bR="Layer does not support extent calculation.";function KV(e,t){if(t&&e.type==="extent")return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&e.type==="point")return`${e.x},${e.y}`;const i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}function ZV(e,t){const i=e.geometry,n=e.toJSON();delete n.compactGeometryEnabled,delete n.defaultSpatialReferenceEnabled;const r=n,a=e.outSpatialReference;let o,s;if($(i)&&(o=i.spatialReference,s=i.spatialReference.wkid||JSON.stringify(i.spatialReference),r.geometryType=ya(i),r.geometry=KV(i,e.compactGeometryEnabled),r.inSR=s),n.groupByFieldsForStatistics&&(r.groupByFieldsForStatistics=n.groupByFieldsForStatistics.join(",")),n.objectIds&&(r.objectIds=n.objectIds.join(",")),n.orderByFields&&(r.orderByFields=n.orderByFields.join(",")),!n.outFields||!n.returnDistinctValues&&(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?delete r.outFields:n.outFields.indexOf("*")!==-1?r.outFields="*":r.outFields=n.outFields.join(","),n.outSR?r.outSR=n.outSR.wkid||JSON.stringify(n.outSR):i&&(n.returnGeometry||n.returnCentroid)&&(r.outSR=r.inSR),n.returnGeometry&&delete n.returnGeometry,n.outStatistics&&(r.outStatistics=JSON.stringify(n.outStatistics)),n.pixelSize&&(r.pixelSize=JSON.stringify(n.pixelSize)),n.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&$(o)&&$(e.quantizationParameters)&&$(e.quantizationParameters.extent)&&o.equals(e.quantizationParameters.extent.spatialReference)&&delete n.quantizationParameters.extent.spatialReference,r.quantizationParameters=JSON.stringify(n.quantizationParameters)),n.parameterValues&&(r.parameterValues=JSON.stringify(n.parameterValues)),n.rangeValues&&(r.rangeValues=JSON.stringify(n.rangeValues)),n.dynamicDataSource&&(r.layer=JSON.stringify({source:n.dynamicDataSource}),delete n.dynamicDataSource),n.timeExtent){const l=n.timeExtent,{start:u,end:h}=l;u==null&&h==null||(r.time=u===h?u:`${u==null?"null":u},${h==null?"null":h}`),delete n.timeExtent}return e.defaultSpatialReferenceEnabled&&$(o)&&$(a)&&o.equals(a)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}async function XV(e,t,i,n){const r=$(t.timeExtent)&&t.timeExtent.isEmpty?{data:{features:[]}}:await mf(e,t,"json",n);return Bx(t,i,r.data),r}async function QV(e,t,i,n){if($(t.timeExtent)&&t.timeExtent.isEmpty)return Promise.resolve({data:i.createFeatureResult()});const r=await eH(e,t,n),a=r;return a.data=Wwe(r.data,i),a}function eH(e,t,i){return mf(e,t,"pbf",i)}function tH(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):mf(e,t,"json",i,{returnIdsOnly:!0})}function iH(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):mf(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function nH(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):mf(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const r=n.data;if(r.hasOwnProperty("extent"))return n;if(r.features)throw new Error(bR);if(r.hasOwnProperty("count"))throw new Error(bR);return n})}function mf(e,t,i,n={},r={}){const a=typeof e=="string"?Bi(e):e,o=t.geometry?[t.geometry]:[];return n.responseType=i==="pbf"?"array-buffer":"json",hI(o,null,n).then(s=>{const l=s&&s[0];$(l)&&((t=t.clone()).geometry=l);const u=yb(D(D(ne(D({},a.query),{f:i}),r),ZV(t,r)));return $t(tu(a.path,"query"),ne(D({},n),{query:D(D({},u),n.query)}))})}var _Ae=Object.freeze(Object.defineProperty({__proto__:null,encodeGeometry:KV,executeQuery:XV,executeQueryForCount:iH,executeQueryForExtent:nH,executeQueryForIds:tH,executeQueryPBF:QV,executeQueryPBFBuffer:eH,queryToQueryStringParameters:ZV,runQuery:mf},Symbol.toStringTag,{value:"Module"}));async function Jwe(e,t,i){const n=zr(e);return iH(n,Mn.from(t),D({},i)).then(r=>r.data.count)}async function Ywe(e,t,i){const n=zr(e);return nH(n,Mn.from(t),D({},i)).then(r=>({count:r.data.count,extent:lt.fromJSON(r.data.extent)}))}async function Kwe(e,t,i){const n=zr(e);return tH(n,Mn.from(t),D({},i)).then(r=>r.data.objectIds)}var s$;const l$=new Te({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let ji=s$=class extends B{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const i=Le.fromJSON(t.spatialReference),n=[];for(let r=0;r<e.length;r++){const a=e[r],o=Nn.fromJSON(a),s=a.geometry&&a.geometry.spatialReference;$(o.geometry)&&!s&&(o.geometry.spatialReference=i);const l=a.aggregateGeometries,u=o.aggregateGeometries;if(l&&$(u))for(const h in u){const m=u[h],f=l[h],g=f==null?void 0:f.spatialReference;$(m)&&!g&&(m.spatialReference=i)}n.push(o)}return n}writeGeometryType(e,t,i,n){if(e)return void l$.write(e,t,i,n);const{features:r}=this;if(r){for(const a of r)if(a&&$(a.geometry))return void l$.write(a.geometry.type,t,i,n)}}readQueryGeometry(e,t){if(!e)return null;const i=!!e.spatialReference,n=Fn(e);return!i&&t.spatialReference&&(n.spatialReference=Le.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:i}=this;if(i){for(const n of i)if(n&&$(n.geometry)&&n.geometry.spatialReference)return void(t.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new s$(this.cloneProperties())}cloneProperties(){return N({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let i=0;i<t.features.length;i++){const n=t.features[i];if(n.geometry){const r=e&&e[i];n.geometry=r&&r.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,i],translate:[n,r]}=e,a=u=>Math.round((u-n)/t),o=u=>Math.round((r-u)/i),s=this.features,l=this._getQuantizationFunction(this.geometryType,a,o);for(let u=0,h=s.length;u<h;u++)l(s[u].geometry)||(s.splice(u,1),u--,h--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:i}=this;if(!i)return this;const{translate:[n,r],scale:[a,o]}=i,s=h=>h*a+n,l=h=>r-h*o,u=this._getHydrationFunction(e,s,l);for(const{geometry:h}of t)$(h)&&u(h);return this.transform=null,this}_quantizePoints(e,t,i){let n,r;const a=[];for(let o=0,s=e.length;o<s;o++){const l=e[o];if(o>0){const u=t(l[0]),h=i(l[1]);u===n&&h===r||(a.push([u-n,h-r]),n=u,r=h)}else n=t(l[0]),r=i(l[1]),a.push([n,r])}return a.length>0?a:null}_getQuantizationFunction(e,t,i){return e==="point"?n=>(n.x=t(n.x),n.y=i(n.y),n):e==="polyline"||e==="polygon"?n=>{const r=Bd(n)?n.rings:n.paths,a=[];for(let o=0,s=r.length;o<s;o++){const l=r[o],u=this._quantizePoints(l,t,i);u&&a.push(u)}return a.length>0?(Bd(n)?n.rings=a:n.paths=a,n):null}:e==="multipoint"?n=>{const r=this._quantizePoints(n.points,t,i);return r.length>0?(n.points=r,n):null}:e==="extent"?n=>n:null}_getHydrationFunction(e,t,i){return e==="point"?n=>{n.x=t(n.x),n.y=i(n.y)}:e==="polyline"||e==="polygon"?n=>{const r=Bd(n)?n.rings:n.paths;let a,o;for(let s=0,l=r.length;s<l;s++){const u=r[s];for(let h=0,m=u.length;h<m;h++){const f=u[h];h>0?(a+=f[0],o+=f[1]):(a=f[0],o=f[1]),f[0]=t(a),f[1]=i(o)}}}:e==="extent"?n=>{n.xmin=t(n.xmin),n.ymin=i(n.ymin),n.xmax=t(n.xmax),n.ymax=i(n.ymax)}:e==="multipoint"?n=>{const r=n.points;let a,o;for(let s=0,l=r.length;s<l;s++){const u=r[s];s>0?(a+=u[0],o+=u[1]):(a=u[0],o=u[1]),u[0]=t(a),u[1]=i(o)}}:void 0}};c([d({type:String,json:{write:!0}})],ji.prototype,"displayFieldName",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ji.prototype,"exceededTransferLimit",void 0),c([d({type:[Nn],json:{write:!0}})],ji.prototype,"features",void 0),c([te("features")],ji.prototype,"readFeatures",null),c([d({type:[l_],json:{write:!0}})],ji.prototype,"fields",void 0),c([d({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:l$.read}}})],ji.prototype,"geometryType",void 0),c([ae("geometryType")],ji.prototype,"writeGeometryType",null),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ji.prototype,"hasM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ji.prototype,"hasZ",void 0),c([d({types:xh,json:{write:!0}})],ji.prototype,"queryGeometry",void 0),c([te("queryGeometry")],ji.prototype,"readQueryGeometry",null),c([d({type:Le,json:{write:!0}})],ji.prototype,"spatialReference",void 0),c([ae("spatialReference")],ji.prototype,"writeSpatialReference",null),c([d({json:{write:!0}})],ji.prototype,"transform",void 0),ji=s$=c([_("esri.rest.support.FeatureSet")],ji),ji.prototype.toJSON.isDefaultToJSON=!0;const $h=ji;var SAe=Object.freeze(Object.defineProperty({__proto__:null,default:$h},Symbol.toStringTag,{value:"Module"}));async function DAe(e,t,i){const n=await rH(e,t,i);return $h.fromJSON(n)}async function rH(e,t,i){const n=zr(e),r=D({},i),a=Mn.from(t),{data:o}=await XV(n,a,a.sourceSpatialReference,r);return o}function nn(e,t){return e?t?4:3:t?3:2}const ff=Z.getLogger("esri.layers.graphics.featureConversionUtils"),aH={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},oH=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a},Gx=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+2]},Zwe=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+3]},sH=(e,t,i,n,r,a)=>{e[i]=r,e[i+1]=a,e[i+2]=t[n+2],e[i+3]=t[n+3]};function pI(e,t,i,n){if(e){if(i)return t&&n?sH:Gx;if(t&&n)return Zwe}else if(t&&n)return Gx;return oH}function cS({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function uS({scale:e,translate:t},i){return Math.round((t[1]-i)/e[1])}function vR({scale:e,translate:t},i){return i*e[0]+t[0]}function wR({scale:e,translate:t},i){return t[1]-i*e[1]}function $Ae(e,t,i){return e?t?i?gI(e):mI(e):i?fI(e):u_(e):null}function u_(e){const t=e.coords;return{x:t[0],y:t[1]}}function lH(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function mI(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function Xwe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function fI(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function Qwe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function gI(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function exe(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function txe(e,t,i,n){let r=u_;i&&n?r=gI:i?r=mI:n&&(r=fI);for(const a of t){const{geometry:o,attributes:s}=a,l=$(o)?r(o):null;e.push({attributes:s,geometry:l})}return e}function cH(e,t){return e&&t?exe:e?Xwe:t?Qwe:lH}function uH(e,t,i,n,r){const a=cH(i,n);for(const o of t){const{geometry:s,attributes:l}=o;let u;s&&(u=a(new ar,s)),e.push(new ms(u,l,null,l[r]))}return e}function ixe(e,t,i,n){for(const r of t){const{geometry:a,attributes:o}=r;let s;a&&(s=dH(a,i,n)),e.push({attributes:o,geometry:s})}return e}function dH(e,t,i){if(z(e))return null;const n=nn(t,i),r=[];for(let a=0;a<e.coords.length;a+=n){const o=[];for(let s=0;s<n;s++)o.push(e.coords[a+s]);r.push(o)}return t?i?{points:r,hasZ:t,hasM:i}:{points:r,hasZ:t}:i?{points:r,hasM:i}:{points:r}}function hH(e,t,i,n,r){const a=nn(i,n);for(const o of t){const s=o.geometry,l=o.attributes;let u;s&&(u=pH(new ar,s,a)),e.push(new ms(u,l,null,l[r]))}return e}function pH(e,t,i=nn(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const n=e.coords;let r=0;for(const a of t.points)for(let o=0;o<i;o++)n[r++]=a[o];return e}function nxe(e,t,i,n){for(const r of t){const{geometry:a,attributes:o}=r;let s;$(a)&&(s=mH(a,i,n)),e.push({attributes:o,geometry:s})}return e}function mH(e,t,i){if(!e)return null;const n=nn(t,i),{coords:r,lengths:a}=e,o=[];let s=0;for(const l of a){const u=[];for(let h=0;h<l;h++){const m=[];for(let f=0;f<n;f++)m.push(r[s++]);u.push(m)}o.push(u)}return t?i?{paths:o,hasZ:t,hasM:i}:{paths:o,hasZ:t}:i?{paths:o,hasM:i}:{paths:o}}function fH(e,t,i,n,r){const a=nn(i,n);for(const o of t){const s=o.geometry,l=o.attributes;let u;s&&(u=gH(new ar,s,a)),e.push(new ms(u,l,null,l[r]))}return e}function gH(e,t,i=nn(t.hasZ,t.hasM)){const{lengths:n,coords:r}=e;let a=0;for(const o of t.paths){for(const s of o)for(let l=0;l<i;l++)r[a++]=s[l];n.push(o.length)}return e}function rxe(e,t,i,n){for(const r of t){const{geometry:a,attributes:o,centroid:s}=r;let l;if($(a)&&(l=yH(a,i,n)),$(s)){const u=u_(s);e.push({attributes:o,centroid:u,geometry:l})}else e.push({attributes:o,geometry:l})}return e}function yH(e,t,i){if(!e)return null;const n=nn(t,i),{coords:r,lengths:a}=e,o=[];let s=0;for(const l of a){const u=[];for(let h=0;h<l;h++){const m=[];for(let f=0;f<n;f++)m.push(r[s++]);u.push(m)}o.push(u)}return t?i?{rings:o,hasZ:t,hasM:i}:{rings:o,hasZ:t}:i?{rings:o,hasM:i}:{rings:o}}function bH(e,t,i,n,r){for(const a of t){const o=a.geometry,s=a.centroid,l=a.attributes;let u;o&&(u=vH(new ar,o,i,n)),$(s)?e.push(new ms(u,l,lH(new ar,s),l[r])):e.push(new ms(u,l,null,l[r]))}return e}function vH(e,t,i=t.hasZ,n=t.hasM){return axe(e,t.rings,i,n),e}function axe(e,t,i,n){const r=nn(i,n),{lengths:a,coords:o}=e;let s=0;a.length=o.length=0;for(const l of t){for(const u of l)for(let h=0;h<r;h++)o[s++]=u[h];a.push(l.length)}return e}const gm=[],zg=[];function CAe(e,t,i,n,r){gm[0]=e;const[a]=wH(zg,gm,t,i,n,r);return gm.length=zg.length=0,a}function wH(e,t,i,n,r,a){if(e.length=0,!i){for(const o of t){const s=o.attributes[a];e.push(new ms(null,o.attributes,null,s))}return e}switch(i){case"esriGeometryPoint":return uH(e,t,n,r,a);case"esriGeometryMultipoint":return hH(e,t,n,r,a);case"esriGeometryPolyline":return fH(e,t,n,r,a);case"esriGeometryPolygon":return bH(e,t,n,r,a);default:ff.error("convertToFeatureSet:unknown-geometry",new P(`Unable to parse unknown geometry type '${i}'`)),e.length=0}return e}function TAe(e,t,i,n,r,a){const o=e.length;switch(i){case"esriGeometryPoint":uH(e,t,n,r,a);break;case"esriGeometryMultipoint":hH(e,t,n,r,a);break;case"esriGeometryPolyline":fH(e,t,n,r,a);break;case"esriGeometryPolygon":bH(e,t,n,r,a);break;default:ff.error("convertToFeatureSet:unknown-geometry",new P(`Unable to parse unknown geometry type '${i}'`))}for(let s=0;s<t.length;s++)e[s+o].geometryType=i,e[s+o].insertAfter=t[s].insertAfter,e[s+o].groupId=t[s].groupId;return e}function EAe(e,t,i,n){zg[0]=e,kH(gm,zg,t,i,n);const r=gm[0];return gm.length=zg.length=0,r}function IAe(e,t,i){if(z(e))return null;const n=new ar;return"hasZ"in e&&t==null&&(t=e.hasZ),"hasM"in e&&i==null&&(i=e.hasM),yE(e)?cH(t!=null?t:e.z!=null,i!=null?i:e.m!=null)(n,e):Bd(e)?vH(n,e,t,i):bE(e)?gH(n,e,nn(t,i)):gE(e)?pH(n,e,nn(t,i)):void ff.error("convertFromGeometry:unknown-geometry",new P(`Unable to parse unknown geometry type '${e}'`))}function xH(e,t,i,n){const r=e&&("coords"in e?e:e.geometry);if(z(r))return null;switch(t){case"esriGeometryPoint":{let a=u_;return i&&n?a=gI:i?a=mI:n&&(a=fI),a(r)}case"esriGeometryMultipoint":return dH(r,i,n);case"esriGeometryPolyline":return mH(r,i,n);case"esriGeometryPolygon":return yH(r,i,n);default:return void ff.error("convertToGeometry:unknown-geometry",new P(`Unable to parse unknown geometry type '${t}'`))}}function oxe(e,t){for(const i of t)e.push({attributes:i.attributes});return e}function kH(e,t,i,n,r){if(e.length=0,z(i))return oxe(e,t);switch(i){case"esriGeometryPoint":return txe(e,t,n,r);case"esriGeometryMultipoint":return ixe(e,t,n,r);case"esriGeometryPolyline":return nxe(e,t,n,r);case"esriGeometryPolygon":return rxe(e,t,n,r);default:ff.error("convertToFeatureSet:unknown-geometry",new P(`Unable to parse unknown geometry type '${i}'`))}return e}function MAe(e){const{objectIdFieldName:t,spatialReference:i,transform:n,fields:r,hasM:a,hasZ:o,features:s,geometryType:l,exceededTransferLimit:u,uniqueIdField:h,queryGeometry:m,queryGeometryType:f}=e,g={features:kH([],s,l,o,a),fields:r,geometryType:l,objectIdFieldName:t,spatialReference:i,uniqueIdField:h,queryGeometry:xH(m,f,!1,!1)};return n&&(g.transform=n),u&&(g.exceededTransferLimit=u),a&&(g.hasM=a),o&&(g.hasZ=o),g}function OAe(e,t){const i=new c_,{hasM:n,hasZ:r,features:a,objectIdFieldName:o,spatialReference:s,geometryType:l,exceededTransferLimit:u,transform:h,fields:m}=e;return m&&(i.fields=m),i.geometryType=l,i.objectIdFieldName=o||t,i.spatialReference=s,i.objectIdFieldName?(a&&wH(i.features,a,l,r,n,i.objectIdFieldName),u&&(i.exceededTransferLimit=u),n&&(i.hasM=n),r&&(i.hasZ=r),h&&(i.transform=h),i):(ff.error(new P("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function AAe(e){const{transform:t,features:i,hasM:n,hasZ:r}=e;if(!t)return e;for(const a of i)$(a.geometry)&&u$(a.geometry,a.geometry,n,r,t),$(a.centroid)&&u$(a.centroid,a.centroid,n,r,t);return e.transform=null,e}function PAe(e,t){const{geometryType:i,features:n,hasM:r,hasZ:a}=t;if(!e)return t;for(let o=0;o<n.length;o++){const s=n[o],l=s.weakClone();l.geometry=new ar,xR(l.geometry,s.geometry,r,a,i,e),s.centroid&&(l.centroid=new ar,xR(l.centroid,s.centroid,r,a,"esriGeometryPoint",e)),n[o]=l}return t.transform=e,t}function xR(e,t,i,n,r,a,o=i,s=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),z(t)||!t.coords.length)return null;const l=aH[r],{coords:u,lengths:h}=t,m=nn(i,n),f=nn(i&&o,n&&s),g=pI(i,n,o,s);if(!h.length)return g(e.coords,u,0,0,cS(a,u[0]),uS(a,u[1])),e.lengths.length&&(e.lengths.length=0),e.coords.length=m,e;let b,v,w,x,S=0,E=0,T=E;for(const C of h){if(C<l)continue;let M=0;E=T,w=b=cS(a,u[S]),x=v=uS(a,u[S+1]),g(e.coords,u,E,S,w,x),M++,S+=m,E+=f;for(let L=1;L<C;L++,S+=m)w=cS(a,u[S]),x=uS(a,u[S+1]),w===b&&x===v||(g(e.coords,u,E,S,w-b,x-v),E+=f,M++,b=w,v=x);M>=l&&(e.lengths.push(M),T=E)}return e.coords.length=T,e.coords.length?e:null}function LAe(e,t,i,n,r,a,o=i,s=n){if(e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0),!t||!t.coords.length)return null;const l=aH[r],{coords:u,lengths:h}=t,m=nn(i,n),f=nn(i&&o,n&&s),g=pI(i,n,o,s);if(!h.length)return g(e.coords,u,0,0,u[0],u[1]),e.lengths.length&&(e.lengths.length=0),e.coords.length=m,e;let b=0;const v=a*a;for(const w of h){if(w<l){b+=w*m;continue}const x=e.coords.length/f,S=b,E=b+(w-1)*m;g(e.coords,u,e.coords.length,S,u[S],u[S+1]),c$(e.coords,u,m,v,g,S,E),g(e.coords,u,e.coords.length,E,u[E],u[E+1]);const T=e.coords.length/f-x;T>=l?e.lengths.push(T):e.coords.length=x*f,b+=w*m}return e.coords.length?e:null}function sxe(e,t,i,n){const r=e[t],a=e[t+1],o=e[i],s=e[i+1],l=e[n],u=e[n+1];let h=o,m=s,f=l-h,g=u-m;if(f!==0||g!==0){const b=((r-h)*f+(a-m)*g)/(f*f+g*g);b>1?(h=l,m=u):b>0&&(h+=f*b,m+=g*b)}return f=r-h,g=a-m,f*f+g*g}function c$(e,t,i,n,r,a,o){let s,l=n,u=0;for(let h=a+i;h<o;h+=i)s=sxe(t,h,a,o),s>l&&(u=h,l=s);l>n&&(u-a>i&&c$(e,t,i,n,r,a,u),r(e,t,e.length,u,t[u],t[u+1]),o-u>i&&c$(e,t,i,n,r,u,o))}function RAe(e,t,i,n){if(z(t)||!t.coords||!t.coords.length)return null;const r=nn(i,n);let a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;if(t&&t.coords){const u=t.coords;for(let h=0;h<u.length;h+=r){const m=u[h],f=u[h+1];a=Math.min(a,m),s=Math.max(s,m),o=Math.min(o,f),l=Math.max(l,f)}}return e[0]=a,e[1]=o,e[2]=s,e[3]=l,e}function u$(e,t,i,n,r){const{coords:a,lengths:o}=t,s=i?n?sH:Gx:n?Gx:oH,l=nn(i,n);if(!a.length)return e!==t&&(e.lengths.length=0,e.coords.length=0),e;if(!o.length)return s(e.coords,a,0,0,vR(r,a[0]),wR(r,a[1])),e!==t&&(e.lengths.length=0,e.coords.length=l),e;const[u,h]=r.scale;let m=0;for(let f=0;f<o.length;f++){const g=o[f];e.lengths[f]=g;let b=vR(r,a[m]),v=wR(r,a[m+1]);s(e.coords,a,m,m,b,v),m+=l;for(let w=1;w<g;w++,m+=l)b+=a[m]*u,v-=a[m+1]*h,s(e.coords,a,m,m,b,v)}return e!==t&&(e.lengths.length=o.length,e.coords.length=a.length),e}function FAe(e,t,i,n,r,a){const o=nn(i,n),s=pI(i,n,r,a),l=t.coords;e.coords.length=0,e.lengths.length=0,e.lengths.push(...t.lengths);for(let u=0;u<l.length;u+=o)s(e.coords,l,e.coords.length,u,l[u],l[u+1]);return e}function lxe(e,t,i,n){let r=0,a=e[n*t],o=e[n*(t+1)];for(let s=1;s<i;s++){const l=a+e[n*(t+s)],u=o+e[n*(t+s)+1],h=(l-a)*(u+o);a=l,o=u,r+=h}return .5*r}function NAe(e,t){const{coords:i,lengths:n}=e;let r=0,a=0;for(let o=0;o<n.length;o++)a+=lxe(i,r,n[o],t),r+=o;return Math.abs(a)}function zAe(e,t){if(z(e))return null;const i=e.clone(),n=e.coords,r=e.lengths;let a=0;for(let o=0;o<r.length;o++){const s=r[o];let l=n[t*a],u=n[t*a+1];for(let h=1;h<s;h++){const m=l+n[t*(a+h)],f=u+n[t*(a+h)+1];i.coords[t*(a+h)]=m,i.coords[t*(a+h)+1]=f,l=m,u=f}a+=s}return i}function cxe(e,t){return t}function yI(e,t,i,n){switch(i){case 0:return Sy(e,t+n,0);case 1:return e.originPosition==="lowerLeft"?Sy(e,t+n,1):hxe(e,t+n,1)}}function _H(e,t,i,n){return i===2?Sy(e,t,2):yI(e,t,i,n)}function uxe(e,t,i,n){return i===2?Sy(e,t,3):yI(e,t,i,n)}function dxe(e,t,i,n){return i===3?Sy(e,t,3):_H(e,t,i,n)}function Sy({translate:e,scale:t},i,n){return e[n]+i*t[n]}function hxe({translate:e,scale:t},i,n){return e[n]-i*t[n]}class pxe{constructor(t){this.options=t,this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"],this.previousCoordinate=[0,0],this.transform=null,this.applyTransform=cxe,this.lengths=[],this.currentLengthIndex=0,this.toAddInCurrentPath=0,this.vertexDimension=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,this._attributesConstructor=function(){}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(t){if(this.options.applyTransform&&(t.transform=null),this._attributesConstructor=function(){},this.coordinateBuffer=null,this.lengths.length=0,!t.hasZ)return;const i=w7(t.geometryType,this.options.sourceSpatialReference,t.spatialReference);if(!z(i))for(const n of t.features)i(n.geometry)}createSpatialReference(){return{}}addField(t,i){t.fields.push(i);const n=t.fields.map(r=>r.name);this._attributesConstructor=function(){for(const r of n)this[r]=null}}addFeature(t,i){t.features.push(i)}prepareFeatures(t){switch(this.transform=t.transform,this.options.applyTransform&&t.transform&&(this.applyTransform=this._deriveApplyTransform(t)),this.vertexDimension=2,t.hasZ&&this.vertexDimension++,t.hasM&&this.vertexDimension++,t.geometryType){case"esriGeometryPoint":this.addCoordinate=(i,n,r)=>this.addCoordinatePoint(i,n,r),this.createGeometry=i=>this.createPointGeometry(i);break;case"esriGeometryPolygon":this.addCoordinate=(i,n,r)=>this._addCoordinatePolygon(i,n,r),this.createGeometry=i=>this._createPolygonGeometry(i);break;case"esriGeometryPolyline":this.addCoordinate=(i,n,r)=>this._addCoordinatePolyline(i,n,r),this.createGeometry=i=>this._createPolylineGeometry(i);break;case"esriGeometryMultipoint":this.addCoordinate=(i,n,r)=>this._addCoordinateMultipoint(i,n,r),this.createGeometry=i=>this._createMultipointGeometry(i);break;default:t.geometryType}}createFeature(){return this.lengths.length=0,this.currentLengthIndex=0,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0,this.coordinateBuffer=null,this.coordinateBufferPtr=0,{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(t,i,n){this.lengths.length===0&&(this.toAddInCurrentPath=i),this.lengths.push(i)}addQueryGeometry(t,i){const{queryGeometry:n,queryGeometryType:r}=i,a=u$(n.clone(),n,!1,!1,this.transform),o=xH(a,r,!1,!1);t.queryGeometryType=r,t.queryGeometry=D({},o)}createPointGeometry(t){const i={x:0,y:0,spatialReference:t.spatialReference};return t.hasZ&&(i.z=0),t.hasM&&(i.m=0),i}addCoordinatePoint(t,i,n){switch(i=this.applyTransform(this.transform,i,n,0),n){case 0:t.x=i;break;case 1:t.y=i;break;case 2:"z"in t?t.z=i:t.m=i;break;case 3:t.m=i}}_transformPathLikeValue(t,i){let n=0;return i<=1&&(n=this.previousCoordinate[i],this.previousCoordinate[i]+=t),this.applyTransform(this.transform,t,i,n)}_addCoordinatePolyline(t,i,n){this._dehydratedAddPointsCoordinate(t.paths,i,n)}_addCoordinatePolygon(t,i,n){this._dehydratedAddPointsCoordinate(t.rings,i,n)}_addCoordinateMultipoint(t,i,n){n===0&&t.points.push([]);const r=this._transformPathLikeValue(i,n);t.points[t.points.length-1].push(r)}_createPolygonGeometry(t){return{rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createPolylineGeometry(t){return{paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_createMultipointGeometry(t){return{points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}}_dehydratedAddPointsCoordinate(t,i,n){n===0&&this.toAddInCurrentPath--==0&&(t.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);const r=this._transformPathLikeValue(i,n),a=t[t.length-1];n===0&&(this.coordinateBufferPtr=0,this.coordinateBuffer=new Array(this.vertexDimension),a.push(this.coordinateBuffer)),this.coordinateBuffer[this.coordinateBufferPtr++]=r}_deriveApplyTransform(t){const{hasZ:i,hasM:n}=t;return i&&n?dxe:i?_H:n?uxe:yI}}async function mxe(e,t,i){const n=zr(e),r=D({},i),a=Mn.from(t),o=!a.quantizationParameters,{data:s}=await QV(n,a,new pxe({sourceSpatialReference:a.sourceSpatialReference,applyTransform:o}),r);return s}function fxe(e,t){const i=e.toJSON();return i.objectIds&&(i.objectIds=i.objectIds.join(",")),i.orderByFields&&(i.orderByFields=i.orderByFields.join(",")),!i.outFields||t!=null&&t.returnCountOnly?delete i.outFields:i.outFields.indexOf("*")!==-1?i.outFields="*":i.outFields=i.outFields.join(","),i.outSpatialReference&&(i.outSR=i.outSR.wkid||JSON.stringify(i.outSR.toJSON()),delete i.outSpatialReference),i.dynamicDataSource&&(i.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i}async function gxe(e,t,i){const n=await SH(e,t,i),r=n.data,a=r.geometryType,o=r.spatialReference,s={};for(const l of r.relatedRecordGroups){const u={fields:void 0,objectIdFieldName:void 0,geometryType:a,spatialReference:o,hasZ:!!r.hasZ,hasM:!!r.hasM,features:l.relatedRecords};if(l.objectId!=null)s[l.objectId]=u;else for(const h in l)l.hasOwnProperty(h)&&h!=="relatedRecords"&&(s[l[h]]=u)}return ne(D({},n),{data:s})}async function yxe(e,t,i){const n=await SH(e,t,i,{returnCountOnly:!0}),r=n.data,a={};for(const o of r.relatedRecordGroups)o.objectId!=null&&(a[o.objectId]=o.count);return ne(D({},n),{data:a})}async function SH(e,t,i={},n){const r=yb(D(D(ne(D({},e.query),{f:"json"}),n),fxe(t,n)));return $t(e.path+"/queryRelatedRecords",ne(D({},i),{query:D(D({},i.query),r)}))}async function bxe(e,t,i){t=fh.from(t);const n=zr(e);return gxe(n,t,i).then(r=>{const a=r.data,o={};return Object.keys(a).forEach(s=>o[s]=$h.fromJSON(a[s])),o})}async function vxe(e,t,i){t=fh.from(t);const n=zr(e);return yxe(n,t,D({},i)).then(r=>r.data)}const kR="Layer does not support extent calculation.";function wxe(e,t){var i,n;const r=e.geometry,a=e.toJSON(),o=a;if($(r)&&(o.geometry=JSON.stringify(r),o.geometryType=ya(r),o.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference)),(i=a.topFilter)!=null&&i.groupByFields&&(o.topFilter.groupByFields=a.topFilter.groupByFields.join(",")),(n=a.topFilter)!=null&&n.orderByFields&&(o.topFilter.orderByFields=a.topFilter.orderByFields.join(",")),a.topFilter&&(o.topFilter=JSON.stringify(o.topFilter)),a.objectIds&&(o.objectIds=a.objectIds.join(",")),a.orderByFields&&(o.orderByFields=a.orderByFields.join(",")),a.outFields&&!(t!=null&&t.returnCountOnly||t!=null&&t.returnExtentOnly||t!=null&&t.returnIdsOnly)?a.outFields.indexOf("*")!==-1?o.outFields="*":o.outFields=a.outFields.join(","):delete o.outFields,a.outSR?o.outSR=a.outSR.wkid||JSON.stringify(a.outSR):r&&a.returnGeometry&&(o.outSR=o.inSR),a.returnGeometry&&delete a.returnGeometry,a.timeExtent){const s=a.timeExtent,{start:l,end:u}=s;l==null&&u==null||(o.time=l===u?l:`${l==null?"null":l},${u==null?"null":u}`),delete a.timeExtent}return o}async function xxe(e,t,i,n){const r=await d_(e,t,"json",n);return Bx(t,i,r.data),r}async function kxe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):d_(e,t,"json",i,{returnIdsOnly:!0})}async function _xe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):d_(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}).then(n=>{const r=n.data;if(r.hasOwnProperty("extent"))return n;if(r.features)throw new Error(kR);if(r.hasOwnProperty("count"))throw new Error(kR);return n})}function Sxe(e,t,i){return $(t.timeExtent)&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):d_(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}function d_(e,t,i,n={},r={}){const a=typeof e=="string"?Bi(e):e,o=t.geometry?[t.geometry]:[];return n.responseType=i==="pbf"?"array-buffer":"json",hI(o,null,n).then(s=>{const l=s&&s[0];$(l)&&((t=t.clone()).geometry=l);const u=yb(D(D(ne(D({},a.query),{f:i}),r),wxe(t,r)));return $t(tu(a.path,"queryTopFeatures"),ne(D({},n),{query:D(D({},u),n.query)}))})}var d$;let xp=d$=class extends B{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new d$({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};c([d({type:[String],json:{write:!0}})],xp.prototype,"groupByFields",void 0),c([d({type:Number,json:{write:!0}})],xp.prototype,"topCount",void 0),c([d({type:[String],json:{write:!0}})],xp.prototype,"orderByFields",void 0),xp=d$=c([_("esri.rest.support.TopFilter")],xp);const Dxe=xp;var h$;const _R=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),SR=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let Dt=h$=class extends B{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new h$(N({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};c([d({type:Boolean,json:{write:!0}})],Dt.prototype,"cacheHint",void 0),c([d({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],Dt.prototype,"distance",void 0),c([d({types:xh,json:{read:Fn,write:!0}})],Dt.prototype,"geometry",void 0),c([d({type:Number,json:{write:!0}})],Dt.prototype,"geometryPrecision",void 0),c([d({type:Number,json:{write:!0}})],Dt.prototype,"maxAllowableOffset",void 0),c([d({type:Number,json:{read:{source:"resultRecordCount"}}})],Dt.prototype,"num",void 0),c([d({json:{write:!0}})],Dt.prototype,"objectIds",void 0),c([d({type:[String],json:{write:!0}})],Dt.prototype,"orderByFields",void 0),c([d({type:[String],json:{write:!0}})],Dt.prototype,"outFields",void 0),c([d({type:Le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Dt.prototype,"outSpatialReference",void 0),c([d({type:String,json:{write:!0}})],Dt.prototype,"resultType",void 0),c([d({json:{write:!0}})],Dt.prototype,"returnGeometry",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Dt.prototype,"returnM",void 0),c([d({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Dt.prototype,"returnZ",void 0),c([d({type:Number,json:{read:{source:"resultOffset"}}})],Dt.prototype,"start",void 0),c([ae("start"),ae("num")],Dt.prototype,"writeStart",null),c([d({type:String,json:{read:{source:"spatialRel",reader:_R.read},write:{target:"spatialRel",writer:_R.write}}})],Dt.prototype,"spatialRelationship",void 0),c([d({type:xs,json:{write:!0}})],Dt.prototype,"timeExtent",void 0),c([d({type:Dxe,json:{write:!0}})],Dt.prototype,"topFilter",void 0),c([d({type:String,json:{read:SR.read,write:{writer:SR.write,overridePolicy(e){return{enabled:e&&this.distance>0}}}}})],Dt.prototype,"units",void 0),c([d({type:String,json:{write:!0}})],Dt.prototype,"where",void 0),Dt=h$=c([_("esri.rest.support.TopFeaturesQuery")],Dt),Dt.from=_t(Dt);const Yc=Dt;async function $xe(e,t,i,n){const r=zr(e),a=D({},n),{data:o}=await xxe(r,Yc.from(t),i,a);return $h.fromJSON(o)}async function Cxe(e,t,i){const n=zr(e);return(await kxe(n,Yc.from(t),D({},i))).data.objectIds}async function Txe(e,t,i){const n=zr(e),r=await _xe(n,Yc.from(t),D({},i));return{count:r.data.count,extent:lt.fromJSON(r.data.extent)}}async function Exe(e,t,i){const n=zr(e);return(await Sxe(n,Yc.from(t),D({},i))).data.count}let kp=class extends he{constructor(...e){super(...e),this.requestOptions=null,this.url=null}normalizeCtorArgs(e,t){return typeof e!="string"?e:D({url:e},t)}get parsedUrl(){return this._parseUrl(this.url)}_parseUrl(e){return e?Bi(e):null}_encode(e,t,i){const n={};for(const r in e){if(r==="declaredClass")continue;const a=e[r];if(a!=null&&typeof a!="function")if(Array.isArray(a)){n[r]=[];for(let o=0;o<a.length;o++)n[r][o]=this._encode(a[o])}else if(typeof a=="object")if(a.toJSON){const o=a.toJSON(i&&i[r]);n[r]=t?o:JSON.stringify(o)}else n[r]=t?a:JSON.stringify(a);else n[r]=a}return n}};c([d({readOnly:!0})],kp.prototype,"parsedUrl",null),c([d()],kp.prototype,"requestOptions",void 0),c([d({type:String})],kp.prototype,"url",void 0),kp=c([_("esri.tasks.Task")],kp);const Ixe=kp;let Bs=class extends Ixe{constructor(e){super(e),this.dynamicDataSource=null,this.fieldsIndex=null,this.format="json",this.gdbVersion=null,this.infoFor3D=null,this.sourceSpatialReference=null}execute(e,t){return this.executeJSON(e,t).then(i=>this.featureSetFromJSON(e,i,t))}async executeJSON(e,t){var i;const n=D(D({},this.requestOptions),t),r=this._normalizeQuery(e),a=((i=e.outStatistics)==null?void 0:i[0])!=null,o=V("featurelayer-pbf-statistics"),s=!a||o;let l;if(this.format==="pbf"&&s)try{l=await mxe(this.url,r,n)}catch(u){if(u.name!=="query:parsing-pbf")throw u;this.format="json"}return this.format!=="json"&&s||(l=await rH(this.url,r,n)),this._normalizeFields(l.fields),l}async featureSetFromJSON(e,t,i){if(!(this._queryIs3DObjectFormat(e)&&$(this.infoFor3D)&&t.features&&t.features.length))return $h.fromJSON(t);const{meshFeatureSetFromJSON:n}=await iz(import("./meshFeatureSet.6559c46d.js").then(function(r){return r.a}),i);return n(e,this.infoFor3D,t)}executeForCount(e,t){const i=D(D({},this.requestOptions),t),n=this._normalizeQuery(e);return Jwe(this.url,n,i)}executeForExtent(e,t){const i=D(D({},this.requestOptions),t),n=this._normalizeQuery(e);return Ywe(this.url,n,i)}executeForIds(e,t){const i=D(D({},this.requestOptions),t),n=this._normalizeQuery(e);return Kwe(this.url,n,i)}executeRelationshipQuery(e,t){e=fh.from(e);const i=D(D({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),bxe(this.url,e,i)}executeRelationshipQueryForCount(e,t){e=fh.from(e);const i=D(D({},this.requestOptions),t);return(this.gdbVersion||this.dynamicDataSource)&&((e=e.clone()).gdbVersion=e.gdbVersion||this.gdbVersion,e.dynamicDataSource=e.dynamicDataSource||this.dynamicDataSource),vxe(this.url,e,i)}executeAttachmentQuery(e,t){const i=D(D({},this.requestOptions),t);return ywe(this.url,e,i)}executeTopFeaturesQuery(e,t){const i=D(D({},this.requestOptions),t);return $xe(this.parsedUrl,e,this.sourceSpatialReference,i)}executeForTopIds(e,t){const i=D(D({},this.requestOptions),t);return Cxe(this.parsedUrl,e,i)}executeForTopExtents(e,t){const i=D(D({},this.requestOptions),t);return Txe(this.parsedUrl,e,i)}executeForTopCount(e,t){const i=D(D({},this.requestOptions),t);return Exe(this.parsedUrl,e,i)}_normalizeQuery(e){let t=Mn.from(e);if(t.sourceSpatialReference=t.sourceSpatialReference||this.sourceSpatialReference,(this.gdbVersion||this.dynamicDataSource)&&(t=t===e?t.clone():t,t.gdbVersion=e.gdbVersion||this.gdbVersion,t.dynamicDataSource=e.dynamicDataSource?Dr.from(e.dynamicDataSource):this.dynamicDataSource),$(this.infoFor3D)&&this._queryIs3DObjectFormat(e)){t=t===e?t.clone():t,t.formatOf3DObjects=null;for(const i of this.infoFor3D.queryFormats){if(i.id==="3D_glb"){t.formatOf3DObjects=i.id;break}i.id!=="3D_gltf"||t.formatOf3DObjects||(t.formatOf3DObjects=i.id)}if(!t.formatOf3DObjects)throw new P("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(z(t.outFields)||!t.outFields.includes("*")){t=t===e?t.clone():t,z(t.outFields)&&(t.outFields=[]);const{originX:i,originY:n,originZ:r,translationX:a,translationY:o,translationZ:s,scaleX:l,scaleY:u,scaleZ:h,rotationX:m,rotationY:f,rotationZ:g,rotationDeg:b}=this.infoFor3D.transformFieldRoles;t.outFields.push(i,n,r,a,o,s,l,u,h,m,f,g,b)}}return t}_normalizeFields(e){if($(this.fieldsIndex)&&$(e))for(const t of e){const i=this.fieldsIndex.get(t.name);i&&Object.assign(t,i.toJSON())}}_queryIs3DObjectFormat(e){return $(this.infoFor3D)&&e.returnGeometry&&e.multipatchOption!=="xyFootprint"&&!e.outStatistics}};c([d({type:Dr})],Bs.prototype,"dynamicDataSource",void 0),c([d()],Bs.prototype,"fieldsIndex",void 0),c([d()],Bs.prototype,"format",void 0),c([d()],Bs.prototype,"gdbVersion",void 0),c([d()],Bs.prototype,"infoFor3D",void 0),c([d()],Bs.prototype,"sourceSpatialReference",void 0),Bs=c([_("esri.tasks.QueryTask")],Bs);const Mxe=Bs,Oxe="esri.widgets.Feature.support.relatedFeatureUtils",DR=Z.getLogger(Oxe),$R=new Map;function J0(e){if(!fl(e))return null;const[t,i]=e.split("/").slice(1);return{layerId:t,fieldName:i}}function Axe(e,t){if(!t.relationships)return null;let i=null;const{relationships:n}=t;return n.some(r=>r.id===parseInt(e,10)&&(i=r,!0)),i}function Pxe({originRelationship:e,relationships:t,layerId:i}){let n;return t&&t.some(r=>(`${r.relatedTableId}`===i&&r.id===e.id&&(n=r),!!n)),n}function Lxe(e,t){const i=t.toLowerCase();for(const n in e)if(n.toLowerCase()===i)return e[n];return null}function Rxe(e,t){const i=Axe(e,t);if(!i)return;const n=`${t.url}/${i.relatedTableId}`;return{url:n,queryTask:new Mxe({url:n,sourceSpatialReference:t.spatialReference}),relation:i,relatedFields:[],outStatistics:[]}}function Fxe(e,t){if(!t||!e)return;const{features:i,statsFeatures:n}=e,r=i&&i.value;t.relatedFeatures=r?r.features:[];const a=n&&n.value;t.relatedStatsFeatures=a?a.features:[]}function Nxe(e,t,i,n){const r=new fh;return r.outFields=["*"],r.relationshipId=typeof t.id=="number"?t.id:parseInt(t.id,10),r.objectIds=[e.attributes[i.objectIdField]],i.queryRelatedFeatures(r,n)}function zxe(e,t,i){let n=0;const r=[];for(;n<t.length;)r.push(`${e} IN (${t.slice(n,i+n)})`),n+=i;return r.join(" OR ")}async function jxe(e,t,i,n){const r=i.layerId.toString(),{layerInfo:a,queryTask:o,relation:s,relatedFields:l,outStatistics:u}=t,h=Pxe({originRelationship:s,relationships:a.relationships,layerId:r});if(h.relationshipTableId&&h.keyFieldInRelationshipTable){const f=(await Nxe(e,h,i,n))[e.attributes[i.objectIdField]];if(!f)return null;const g=f.features.map(b=>b.attributes[a.objectIdField]);if((u==null?void 0:u.length)>0&&a.supportsStatistics){const b=new Mn;b.where=zxe(a.objectIdField,g,1e3),b.outFields=l,b.outStatistics=u;const v={features:Promise.resolve(f),statsFeatures:o.execute(b)};return tr(v)}}const m=h==null?void 0:h.keyField;if(m){const f=kE(Bxe(a.fields,m)),g=Lxe(e.attributes,s.keyField),b=f?`${m}=${g}`:`${m}='${g}'`,v=o.execute(new Mn({where:b,outFields:t.relatedFields}),n),w=t.outStatistics&&t.outStatistics.length>0&&a.supportsStatistics?o.execute(new Mn({where:b,outFields:t.relatedFields,outStatistics:t.outStatistics}),n):null,x={features:v};return w&&(x.statsFeatures=w),tr(x)}return null}function Vxe(e,t){return $t(e,{query:{f:"json"},signal:t&&t.signal})}function Hxe({relatedInfos:e,layer:t},i){const n={};return e.forEach((r,a)=>{const{relation:o}=r;if(!o){const m=new P("relation-required","A relation is required on a layer to retrieve related records.");throw DR.error(m),m}const{relatedTableId:s}=o;if(typeof s!="number"){const m=new P("A related table ID is required on a layer to retrieve related records.");throw DR.error(m),m}const l=`${t.url}/${s}`,u=$R.get(l),h=u||Vxe(l,i);u||$R.set(l,h),n[a]=h}),tr(n)}function qxe({graphic:e,relatedInfos:t,layer:i},n){const r={};return t.forEach((a,o)=>{a.layerInfo&&(r[o]=jxe(e,a,i,n))}),tr(r)}function Uxe({relatedInfo:e,fieldName:t,fieldInfo:i}){if(e.relatedFields.push(t),i.statisticType){const n=new WV({statisticType:i.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics.push(n)}}function Bxe(e,t){if(e!=null){t=t.toLowerCase();for(const i of e)if(i&&i.name.toLowerCase()===t)return i}return null}const CR={chartAnimation:!0};let Ti=class extends he{constructor(e){super(e),this.abilities=D({},CR),this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return D(D({},CR),e)}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,i=(e+t)%t;this.activeMediaInfoIndex=i}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,i=t+e;this._setContentElementMedia(i)}_formatMediaInfos(){const{attributes:e,mediaInfos:t,formattedAttributes:i,expressionAttributes:n,fieldInfoMap:r,layer:a}=this;return t==null?void 0:t.map(o=>{const s=o==null?void 0:o.clone();if(!s)return null;if(s.title=Rd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.title}),s.caption=Rd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.caption}),s.altText=Rd({attributes:e,fieldInfoMap:r,globalAttributes:i,expressionAttributes:n,layer:a,text:s.altText}),s.type==="image"){const{value:l}=s;return this._setImageValue({value:l,formattedAttributes:i,layer:a}),s.value.sourceURL?s:void 0}if(s.type==="pie-chart"||s.type==="line-chart"||s.type==="column-chart"||s.type==="bar-chart"){const{value:l}=s;return this._setChartValue({value:l,chartType:s.type,attributes:e,formattedAttributes:i,layer:a}),s}return null}).filter(Boolean)}_setImageValue(e){const{fieldInfoMap:t}=this,{value:i,formattedAttributes:n,layer:r}=e,{linkURL:a,sourceURL:o}=i;if(o){const s=BD(o,r);i.sourceURL=UD({formattedAttributes:n,template:s,fieldInfoMap:t})}if(a){const s=BD(a,r);i.linkURL=UD({formattedAttributes:n,template:s,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:i,formattedAttributes:n,chartType:r,layer:a}=e,{popupTemplate:o,relatedInfos:s}=this,{fields:l,normalizeField:u}=t;if(t.fields=g1e(l,a),u&&(t.normalizeField=qx(u,a)),!l.some(m=>!!(n[m]!=null||fl(m)&&s.size)))return;const h=o==null?void 0:o.fieldInfos;l.forEach(m=>{if(fl(m))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:h,fieldName:m,formattedAttributes:n,chartType:r,value:t})]);const f=this._getChartOption({value:t,attributes:i,chartType:r,formattedAttributes:n,fieldName:m,fieldInfos:h});t.series.push(f)})}_getRelatedChartInfos(e){var t;const{fieldInfos:i,fieldName:n,formattedAttributes:r,chartType:a,value:o}=e,s=[],l=J0(n),{layerId:u,fieldName:h}=l,m=(t=this.relatedInfos)==null?void 0:t.get(u.toString());if(!m)return s;const{relatedFeatures:f,relation:g}=m;if(!g||!f)return s;const{cardinality:b}=g;return f.forEach(v=>{const{attributes:w}=v;w&&Object.keys(w).forEach(x=>{x===h&&s.push(this._getChartOption({value:o,attributes:w,formattedAttributes:r,fieldName:n,chartType:a,relatedFieldName:x,fieldInfos:i}))})}),b==="one-to-many"||b==="many-to-many"?s:[s[0]]}_getTooltip({label:e,value:t,chartType:i}){return i==="pie-chart"?e:`${e}: ${t}`}_getChartOption(e){var t;const{value:i,attributes:n,formattedAttributes:r,fieldName:a,relatedFieldName:o,fieldInfos:s,chartType:l}=e,{layer:u}=this,{normalizeField:h,tooltipField:m}=i,f=h?fl(h)?n[J0(h).fieldName]:n[h]:null,g=o&&n[o]!==void 0?n[o]:n[a]!==void 0?n[a]:r[a],b=g===void 0?null:g&&f?g/f:g,v=new mj({value:b});if(fl(a)){const T=J0(a),C=J0(m),M=C?C.fieldName:null,L=LV(b,{fieldInfos:s,fieldName:o,layer:u,preventPlacesFormatting:!!f}),j=T?T.label||T.fieldName:o,G=M&&n[M]!==void 0?n[M]:j;return v.tooltip=this._getTooltip({label:G,value:L,chartType:l}),v}const w=RV(s,a),x=qx(a,u),S=m&&r[m]!==void 0?r[m]:AV(w||new rb({fieldName:x}),(t=this.popupTemplate)==null?void 0:t.expressionInfos),E=r[x];return v.tooltip=this._getTooltip({label:S,value:E,chartType:l}),v}};c([d()],Ti.prototype,"abilities",void 0),c([Ye("abilities")],Ti.prototype,"castAbilities",null),c([d()],Ti.prototype,"activeMediaInfoIndex",void 0),c([d({readOnly:!0})],Ti.prototype,"activeMediaInfo",null),c([d()],Ti.prototype,"attributes",void 0),c([d()],Ti.prototype,"description",void 0),c([d()],Ti.prototype,"fieldInfoMap",void 0),c([d()],Ti.prototype,"formattedAttributes",void 0),c([d()],Ti.prototype,"expressionAttributes",void 0),c([d({readOnly:!0})],Ti.prototype,"formattedMediaInfos",null),c([d()],Ti.prototype,"layer",void 0),c([d({readOnly:!0})],Ti.prototype,"formattedMediaInfoCount",null),c([d()],Ti.prototype,"mediaInfos",void 0),c([d()],Ti.prototype,"popupTemplate",void 0),c([d()],Ti.prototype,"relatedInfos",void 0),c([d()],Ti.prototype,"title",void 0),Ti=c([_("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],Ti);const Nd=Ti;var TR=["#ffffff","#858585","#ffbebe","#ffebbe","#ffebaf","#ffffbe","#e9ffbe","#d3ffbe","#beffe8","#bee8ff","#bed2ff","#e8beff","#ffbee8","#ebebeb","#707070","#ff7f7f","#ffa77f","#ffd37f","#ffff73","#d1ff73","#a3ff73","#73ffdf","#73dfff","#73b2ff","#df73ff","#ff73df","#d6d6d6","#5c5c5c","#ff0000","#ff5500","#ffaa00","#ffff00","#aaff00","#55ff00","#00ffc5","#00c5ff","#0070ff","#c500ff","#ff00c5","#c2c2c2","#474747","#e60000","#e64c00","#e69800","#e6e600","#98e600","#4ce600","#00e6a9","#00a9e6","#005ce6","#a900e6","#e600a9","#adadad","#242424","#a80000","#a83800","#a87000","#a8a800","#70a800","#38a800","#00a884","#0084a8","#004da8","#8400a8","#a80084","#999999","#1a1a1a","#730000","#732600","#734c00","#737300","#4c7300","#267300","#00734c","#004c73","#002673","#4c0073","#73004"],Gxe=[].concat(TR.slice(30,39),TR.slice(28,30).reverse()),Wxe=[{name:"default",colors:Gxe},{name:"cat-dark",colors:["#ed5151","#149ece","#a7c636","#9e559c","#fc921f","#ffde3e","#f789d8","#b7814a","#3caf99","#6b6bd6","#b54779","#7f7f7f"]},{name:"tropical-bliss",colors:["#fce138","#ff9399","#fcd27e","#f1983c","#a553b7","#b1a9d0","#6ecffc","#4c81cd","#fc6f84","#fc3e5a","#6af689","#48885c"]},{name:"desert-blooms",colors:["#102432","#144d59","#ffc730","#ed9310","#a64f1b","#661510","#d9351a","#b31515","#4a0932","#8c213f","#18382e","#2c6954"]},{name:"under-the-sea",colors:["#bf9727","#607100","#00734c","#704489","#01acca","#024e76","#f09100","#ea311f","#c6004b","#7570b3","#666666","#333333"]},{name:"vibrant-rainbow",colors:["#fffb00","#f5cb11","#9fd40c","#46e39c","#32b8a6","#7ff2fa","#ac08cc","#dd33ff","#eb7200","#e8a784","#bf2e2e","#6c7000"]},{name:"ocean-bay",colors:["#191921","#11495c","#78b1c2","#454f4b","#8f8f82","#9be0c0","#87b051","#f7ec88","#ebdcc1","#dbb658","#c43541","#75351e"]},{name:"prairie-summer",colors:["#332424","#751555","#d47013","#d68989","#211173","#82aad6","#7bfaeb","#6ec9a8","#6b6408","#eada40","#ccc54a","#1fc235"]},{name:"pastel-chalk",colors:["#fffd99","#f5e6a4","#c1d48c","#b8e3d0","#a0b8b5","#cbf7fa","#d791f2","#dfc1eb","#f2b983","#e8c4b2","#bf8e8e","#94995c"]},{name:"seq-yellow-orange-red-bright",colors:["#910000","#b1260b","#c0370f","#e05919","#ef6a1d","#ff7b22","#ffa143","#ffb454","#ffda74","#ffed85"]},{name:"seq-reds-bright",colors:["#57453b","#7b4238","#9f4036","#c23d33","#d7483c","#ec5244","#f3696c","#f9816c","#ffc4ae","#fff0dc"]},{name:"seq-purples-bright",colors:["#4e465c","#5a4a78","#695291","#775baa","#8663c3","#946bdc","#aa89e8","#c1a6f3","#d7c4ff","#e6e1ff"]},{name:"seq-blues-bright",colors:["#404d54","#435c6c","#48799d","#4b88b6","#4d96ce","#50a5e7","#74bbed","#98d0f3","#bce6f9","#e6faff"]},{name:"seq-greens-bright",colors:["#39544c","#386757","#368165","#359b73","#33b581","#4bc392","#64d2a2","#7ce0b3","#cbf6d9","#f4ffea"]},{name:"seq-browns-bright",colors:["#524834","#715b38","#8f6e3c","#ae8140","#cc9444","#eba748","#eeb664","#f0c47f","#f9e0b7","#fff8eb"]}];const ER="en-us",bI=new Map([["ar",()=>import("./ar.38e380ee.js").then(e=>e.a)],["bg-bg",()=>import("./bg_BG.fca66666.js").then(e=>e.b)],["bs-ba",()=>import("./bs_BA.caf3952d.js").then(e=>e.b)],["ca-es",()=>import("./ca_ES.0c519c51.js").then(e=>e.c)],["cs-cz",()=>import("./cs_CZ.00bd1a64.js").then(e=>e.c)],["da-dk",()=>import("./da_DK.dc0199ff.js").then(e=>e.d)],["de-de",()=>import("./de_DE.dc54f440.js").then(e=>e.d)],["de-ch",()=>import("./de_CH.a25a623b.js").then(e=>e.d)],["el-gr",()=>import("./el_GR.35e63930.js").then(e=>e.e)],["en-us",()=>import("./en_US.b10260c1.js").then(e=>e.e)],["en-ca",()=>import("./en_CA.da09073c.js").then(e=>e.e)],["es-es",()=>import("./es_ES.b94ae131.js").then(e=>e.e)],["et-ee",()=>import("./et_EE.9a26a6ac.js").then(e=>e.e)],["fi-fi",()=>import("./fi_FI.2af7adda.js").then(e=>e.f)],["fr-fr",()=>import("./fr_FR.48085237.js").then(e=>e.f)],["he-il",()=>import("./he_IL.ce5a6a3e.js").then(e=>e.h)],["hr-hr",()=>import("./hr_HR.cf2a7837.js").then(e=>e.h)],["hu-hu",()=>import("./hu_HU.bbb79808.js").then(e=>e.h)],["id-id",()=>import("./id_ID.ff4a99da.js").then(e=>e.i)],["it-it",()=>import("./it_IT.6824c9c8.js").then(e=>e.i)],["ja-jp",()=>import("./ja_JP.39652ec4.js").then(e=>e.j)],["ko-kr",()=>import("./ko_KR.563a0748.js").then(e=>e.k)],["lt-lt",()=>import("./lt_LT.9357f23e.js").then(e=>e.l)],["lv-lv",()=>import("./lv_LV.a5d523da.js").then(e=>e.l)],["nb-no",()=>import("./nb_NO.ebb2ac2a.js").then(e=>e.n)],["nl-nl",()=>import("./nl_NL.d1cc23ad.js").then(e=>e.n)],["pl-pl",()=>import("./pl_PL.bb2e9960.js").then(e=>e.p)],["pt-br",()=>import("./pt_BR.74c5e8ca.js").then(e=>e.p)],["pt-pt",()=>import("./pt_PT.bfab834c.js").then(e=>e.p)],["ro-ro",()=>import("./ro_RO.42f83482.js").then(e=>e.r)],["ru-ru",()=>import("./ru_RU.abc0b5cc.js").then(e=>e.r)],["sk-sk",()=>import("./sk_SK.e9d48714.js").then(e=>e.s)],["sl-sl",()=>import("./sl_SL.4c1fa8ed.js").then(e=>e.s)],["sr-rs",()=>import("./sr_RS.d0337641.js").then(e=>e.s)],["sv-se",()=>import("./sv_SE.4d29b9ab.js").then(e=>e.s)],["th-th",()=>import("./th_TH.98339202.js").then(e=>e.t)],["tr-tr",()=>import("./tr_TR.adda76a3.js").then(e=>e.t)],["uk-ua",()=>import("./uk_UA.4942722a.js").then(e=>e.u)],["vi-vn",()=>import("./vi_VN.defda39a.js").then(e=>e.v)],["zh-cn",()=>import("./zh_Hans.87e0b7d8.js").then(e=>e.z)],["zh-hk",()=>import("./zh_Hant.d85df562.js").then(e=>e.z)],["zh-tw",()=>import("./zh_Hant.d85df562.js").then(e=>e.z)]]);function Jxe(e){const t=e.split("-")[0].toLowerCase();let i=null;for(const n of bI.keys())if(n.startsWith(t)){i=n;break}return i}function Yxe(e){return e?bI.has(e.toLowerCase())?e.toLowerCase():Jxe(e)||ER:ER}let Uh,t0;async function Kxe(e=Mr()){if(e=Yxe(e),Uh&&e===t0)return Uh;Uh=import("./index.1256ab99.js").then(t=>t.i),t0=e;try{const[t,i]=await Promise.all([Uh,bI.get(t0)()]);t0===e&&(t.am4core.options.defaultLocale=i.default),t.am4core.options.suppressWarnings=!0,t.am4core.options.autoDispose=!0}catch{return Uh=null,t0=null,null}return Uh}function Zxe(e,t="default"){const i=Wxe.find(n=>n.name===t);return i?i.colors.map(n=>e.color(n)):null}const jt={base:"esri-feature-media",mediaContainer:"esri-feature-media__container",mediaItemContainer:"esri-feature-media__item-container",mediaItem:"esri-feature-media__item",mediaItemTitle:"esri-feature-media__item-title",mediaItemCaption:"esri-feature-media__item-caption",mediaPrevious:"esri-feature-media__previous",mediaPreviousIconLTR:"esri-feature-media__previous-icon",mediaPreviousIconRTL:"esri-feature-media__previous-icon--rtl",mediaNext:"esri-feature-media__next",mediaNextIconLTR:"esri-feature-media__next-icon",mediaNextIconRTL:"esri-feature-media__next-icon--rtl",mediaChart:"esri-feature-media__chart",mediaButton:"esri-feature-media__button",mediaIcon:"esri-feature-media__icon",iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow"},dS=.05,hS=.95,pS=15;let qn=class extends an{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this.attributes=null,this.activeMediaInfoIndex=null,this.description=null,this.fieldInfoMap=null,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null,this.viewModel=new Nd,this.messages=null,this._getChartDependencies=async i=>{const n=await Kxe(),{destroyed:r,viewModel:a}=this;if(r||!a||!i)return;const{activeMediaInfo:o}=a;this._renderChart({chartDiv:i,mediaInfo:o,chartsModule:n})}}initialize(){this._featureElementInfo=new cI,this.own(Gt(this,["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),Gt(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo.destroy()}render(){var e;return R("div",{bind:this,class:jt.base,onkeyup:this._handleMediaKeyup},(e=this._featureElementInfo)==null?void 0:e.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e}=this.viewModel;return e?R("div",{key:"media-element-container",class:jt.mediaContainer},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:n}=this.viewModel,{value:r,refreshInterval:a,altText:o,title:s,type:l}=e,{sourceURL:u,linkURL:h}=r,m=MV(h)?"_blank":"_self",f=m==="_blank"?"noreferrer":"",g=a?t:null,b=g?g.timestamp:0,v=g?g.sourceURL:u,w=R("img",{alt:o||s,key:`media-${l}-${i}-${n}-${b}`,src:v});return(h?R("a",{title:s,href:h,rel:f,target:m},w):null)||w}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:i}=this.viewModel;return R("div",{key:`media-${e.type}-${t}-${i}`,bind:this,class:jt.mediaChart,afterCreate:this._getChartDependencies})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?e.type==="image"?this.renderImageMediaInfo(e):e.type.indexOf("chart")!==-1?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e.title?R("div",{key:"media-title",class:jt.mediaItemTitle,innerHTML:e.title}):null,i=e.caption?R("div",{key:"media-caption",class:jt.mediaItemCaption,innerHTML:e.caption}):null;return R("div",{key:"media-container",class:jt.mediaItemContainer},R("div",{key:"media-item-container",class:jt.mediaItem},this.renderMediaInfoType()),t,i)}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=e==="previous",i=t?this.messages.previous:this.messages.next,n=t?this.classes(jt.mediaButton,jt.mediaPrevious):this.classes(jt.mediaButton,jt.mediaNext),r=t?this.classes(jt.mediaIcon,jt.mediaPreviousIconLTR,jt.iconLeftTriangleArrow):this.classes(jt.mediaIcon,jt.mediaNextIconLTR,jt.iconRightTriangleArrow),a=t?this.classes(jt.mediaIcon,jt.mediaPreviousIconRTL,jt.iconRightTriangleArrow):this.classes(jt.mediaIcon,jt.mediaNextIconRTL,jt.iconLeftTriangleArrow),o=t?"media-previous":"media-next",s=t?this._previous:this._next;return R("button",{type:"button",key:o,title:i,"aria-label":i,tabIndex:0,class:n,bind:this,onclick:s},R("span",{"aria-hidden":"true",class:r}),R("span",{"aria-hidden":"true",class:a}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_handleMediaKeyup(e){const t=bd(e);t==="ArrowLeft"&&(e.stopPropagation(),this.viewModel.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.viewModel.next())}_renderChart(e){const{abilities:t}=this.viewModel,{chartsModule:i,chartDiv:n,mediaInfo:r}=e,{value:a,type:o}=r,{am4core:s}=i,l=Zxe(s);function u(f){f instanceof s.ColorSet&&l&&(f.list=l)}SV()&&s.useTheme(i.am4themes_dark);const h=window.matchMedia("(prefers-reduced-motion: reduce)");t.chartAnimation&&!h.matches?s.useTheme(i.am4themes_animated):s.unuseTheme(i.am4themes_animated),s.useTheme(u);const m=o==="pie-chart"?this._createPieChart(e):this._createXYChart(e);n.setAttribute("aria-label",r.altText||r.title),m.data=a.series.map(f=>({tooltip:f.tooltip,value:f.value})).filter(f=>o!=="pie-chart"||f.value>0)}_customizeChartTooltip(e,t){e.label.wrap=!0,e.label.maxWidth=200,e.autoTextColor=!1,e.getFillFromObject=!1,e.label.fill=t.color("#ffffff"),e.background.fill=t.color({r:0,g:0,b:0,a:.7})}_createPieChart(e){const{chartDiv:t,chartsModule:i}=e,{am4core:n,am4charts:r}=i,a=n.create(t,r.PieChart);a.rtl=Wc(this.container);const o=a.series.push(new r.PieSeries);return o.labels.template.disabled=!0,o.ticks.template.disabled=!0,o.dataFields.value="value",o.dataFields.category="tooltip",this._customizeChartTooltip(o.tooltip,n),o.slices.template.tooltipText=a.rtl?"{category}: %{value.percent.formatNumber('#.0')}":"{category}: {value.percent.formatNumber('#.0')}%",a}_getMinSeriesValue(e){let t=0;return e.forEach(i=>t=Math.min(i.value,t)),t}_createColumnChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.xAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dy=-s.tooltip.contentHeight});const l=e.yAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=dS,l.renderer.maxLabelPosition=hS,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.ColumnSeries);h.dataFields.valueY="value",h.dataFields.categoryX="tooltip",e.cursor=new o.XYCursor,r.series.length>pS&&(e.scrollbarX=new a.Scrollbar)}_createBarChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.yAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.inversed=!0,s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dx=s.tooltip.contentWidth});const l=e.xAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=dS,l.renderer.maxLabelPosition=hS,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.ColumnSeries);h.dataFields.valueX="value",h.dataFields.categoryY="tooltip",e.cursor=new o.XYCursor,r.series.length>pS&&(e.scrollbarY=new a.Scrollbar)}_createLineChart(e,t){const{chartsModule:i,mediaInfo:n}=t,{value:r}=n,{am4core:a,am4charts:o}=i,s=e.xAxes.push(new o.CategoryAxis);s.dataFields.category="tooltip",s.renderer.labels.template.disabled=!0,this._customizeChartTooltip(s.tooltip,a),s.tooltip.events.on("sizechanged",()=>{s.tooltip.dy=-s.tooltip.contentHeight});const l=e.yAxes.push(new o.ValueAxis),u=l.renderer.labels.template;l.renderer.minLabelPosition=dS,l.renderer.maxLabelPosition=hS,l.min=this._getMinSeriesValue(r.series),this._customizeChartTooltip(l.tooltip,a),u.wrap=!0;const h=e.series.push(new o.LineSeries);h.dataFields.categoryX="tooltip",h.dataFields.valueY="value",e.cursor=new o.XYCursor,r.series.length>pS&&(e.scrollbarX=new a.Scrollbar)}_createXYChart(e){const{chartDiv:t,chartsModule:i,mediaInfo:n}=e,{type:r}=n,{am4core:a,am4charts:o}=i,s=a.create(t,o.XYChart);return s.rtl=Wc(this.container),r==="column-chart"&&this._createColumnChart(s,e),r==="bar-chart"&&this._createBarChart(s,e),r==="line-chart"&&this._createLineChart(s,e),s}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:this._getImageSource(e,t)},this.scheduleRender()}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&e.type==="image"&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:i}=e;if(!t)return;const n=6e4*t;this._updateMediaInfoTimestamp(i.sourceURL);const r=setInterval(()=>{this._updateMediaInfoTimestamp(i.sourceURL)},n);this._refreshTimer=r}_getImageSource(e,t){const i=e.indexOf("?")!==-1?"&":"?",[n,r=""]=e.split("#");return`${n}${i}timestamp=${t}${r?"#":""}${r}`}};c([ce("viewModel.attributes")],qn.prototype,"attributes",void 0),c([ce("viewModel.activeMediaInfoIndex")],qn.prototype,"activeMediaInfoIndex",void 0),c([ce("viewModel.description")],qn.prototype,"description",void 0),c([ce("viewModel.fieldInfoMap")],qn.prototype,"fieldInfoMap",void 0),c([ce("viewModel.layer")],qn.prototype,"layer",void 0),c([ce("viewModel.mediaInfos")],qn.prototype,"mediaInfos",void 0),c([ce("viewModel.popupTemplate")],qn.prototype,"popupTemplate",void 0),c([ce("viewModel.relatedInfos")],qn.prototype,"relatedInfos",void 0),c([ce("viewModel.title")],qn.prototype,"title",void 0),c([d({type:Nd})],qn.prototype,"viewModel",void 0),c([d(),Ui("esri/widgets/Feature/t9n/Feature")],qn.prototype,"messages",void 0),qn=c([_("esri.widgets.Feature.FeatureMedia")],qn);const DH=qn;class Xxe{constructor(t,i){this.definition=null,this.context=null,this.definition=t,this.context=i}}class ks{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){const t=[];for(let i=0;i<this.length();i++)t.push(this.get(i));return t}}class Ch extends ks{constructor(t,i,n,r,a,o){super(t),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=i,this._hasZ=n,this._hasM=r,this._cacheId=a,this._partId=o}get(t){if(this._lazyPt[t]===void 0){const i=this._elements[t];if(i===void 0)return;const n=this._hasZ,r=this._hasM;let a=null;a=n&&!r?new be(i[0],i[1],i[2],void 0,this._spRef):r&&!n?new be(i[0],i[1],void 0,i[2],this._spRef):n&&r?new be(i[0],i[1],i[2],i[3],this._spRef):new be(i[0],i[1],this._spRef),a.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+t.toString(),this._lazyPt[t]=a}return this._lazyPt[t]}equalityTest(t){return t===this||t!==null&&t instanceof Ch&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}class vI extends ks{constructor(t,i,n,r,a){super(t),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=n,this._hasM=r,this._spRef=i,this._cacheId=a}get(t){if(this._lazyPath[t]===void 0){const i=this._elements[t];if(i===void 0)return;this._lazyPath[t]=new Ch(i,this._spRef,this._hasZ,this._hasM,this._cacheId,t)}return this._lazyPath[t]}equalityTest(t){return t===this||t!==null&&t instanceof vI&&t.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}class Th extends Error{}class Qxe extends Th{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class eke extends Th{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class tke extends Th{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Y0 extends Th{}class $H extends Th{constructor(t){super(`Invalid unit ${t}`)}}class ca extends Th{}class Gl extends Th{constructor(){super("Zone is an abstract class")}}const oe="numeric",po="short",Ar="long",p$={year:oe,month:oe,day:oe},CH={year:oe,month:po,day:oe},ike={year:oe,month:po,day:oe,weekday:po},TH={year:oe,month:Ar,day:oe},EH={year:oe,month:Ar,day:oe,weekday:Ar},IH={hour:oe,minute:oe},MH={hour:oe,minute:oe,second:oe},OH={hour:oe,minute:oe,second:oe,timeZoneName:po},AH={hour:oe,minute:oe,second:oe,timeZoneName:Ar},PH={hour:oe,minute:oe,hourCycle:"h23"},LH={hour:oe,minute:oe,second:oe,hourCycle:"h23"},RH={hour:oe,minute:oe,second:oe,hourCycle:"h23",timeZoneName:po},FH={hour:oe,minute:oe,second:oe,hourCycle:"h23",timeZoneName:Ar},NH={year:oe,month:oe,day:oe,hour:oe,minute:oe},zH={year:oe,month:oe,day:oe,hour:oe,minute:oe,second:oe},jH={year:oe,month:po,day:oe,hour:oe,minute:oe},VH={year:oe,month:po,day:oe,hour:oe,minute:oe,second:oe},nke={year:oe,month:po,day:oe,weekday:po,hour:oe,minute:oe},HH={year:oe,month:Ar,day:oe,hour:oe,minute:oe,timeZoneName:po},qH={year:oe,month:Ar,day:oe,hour:oe,minute:oe,second:oe,timeZoneName:po},UH={year:oe,month:Ar,day:oe,weekday:Ar,hour:oe,minute:oe,timeZoneName:Ar},BH={year:oe,month:Ar,day:oe,weekday:Ar,hour:oe,minute:oe,second:oe,timeZoneName:Ar};function Xe(e){return typeof e=="undefined"}function Kd(e){return typeof e=="number"}function h_(e){return typeof e=="number"&&e%1===0}function rke(e){return typeof e=="string"}function ake(e){return Object.prototype.toString.call(e)==="[object Date]"}function GH(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oke(e){return Array.isArray(e)?e:[e]}function IR(e,t,i){if(e.length!==0)return e.reduce((n,r)=>{const a=[t(r),r];return n&&i(n[0],a[0])===n[0]?n:a},null)[1]}function ske(e,t){return t.reduce((i,n)=>(i[n]=e[n],i),{})}function Hm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gl(e,t,i){return h_(e)&&e>=t&&e<=i}function lke(e,t){return e-t*Math.floor(e/t)}function vi(e,t=2){const i=e<0;let n;return i?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function Oc(e){if(!(Xe(e)||e===null||e===""))return parseInt(e,10)}function Su(e){if(!(Xe(e)||e===null||e===""))return parseFloat(e)}function wI(e){if(!(Xe(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function xI(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function bb(e){return e%4===0&&(e%100!==0||e%400===0)}function jg(e){return bb(e)?366:365}function Wx(e,t){const i=lke(t-1,12)+1,n=e+(t-i)/12;return i===2?bb(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function kI(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Jx(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return t===4||n===3?53:52}function m$(e){return e>99?e:e>60?1900+e:2e3+e}function WH(e,t,i,n=null){const r=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const o=D({timeZoneName:t},a),s=new Intl.DateTimeFormat(i,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return s?s.value:null}function p_(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0,r=i<0||Object.is(i,-0)?-n:n;return i*60+r}function JH(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new ca(`Invalid unit value ${e}`);return t}function Yx(e,t){const i={};for(const n in e)if(Hm(e,n)){const r=e[n];if(r==null)continue;i[t(n)]=JH(r)}return i}function Kx(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${vi(i,2)}:${vi(n,2)}`;case"narrow":return`${r}${i}${n>0?`:${n}`:""}`;case"techie":return`${r}${vi(i,2)}${vi(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function m_(e){return ske(e,["hour","minute","second","millisecond"])}const cke=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,uke=["January","February","March","April","May","June","July","August","September","October","November","December"],YH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dke=["J","F","M","A","M","J","J","A","S","O","N","D"];function KH(e){switch(e){case"narrow":return[...dke];case"short":return[...YH];case"long":return[...uke];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ZH=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],XH=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hke=["M","T","W","T","F","S","S"];function QH(e){switch(e){case"narrow":return[...hke];case"short":return[...XH];case"long":return[...ZH];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const eq=["AM","PM"],pke=["Before Christ","Anno Domini"],mke=["BC","AD"],fke=["B","A"];function tq(e){switch(e){case"narrow":return[...fke];case"short":return[...mke];case"long":return[...pke];default:return null}}function gke(e){return eq[e.hour<12?0:1]}function yke(e,t){return QH(t)[e.weekday-1]}function bke(e,t){return KH(t)[e.month-1]}function vke(e,t){return tq(t)[e.year<0?0:1]}function wke(e,t,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&a){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${r[e][0]}`;case-1:return m?"yesterday":`last ${r[e][0]}`;case 0:return m?"today":`this ${r[e][0]}`}}const o=Object.is(t,-0)||t<0,s=Math.abs(t),l=s===1,u=r[e],h=n?l?u[1]:u[2]||u[1]:l?r[e][0]:e;return o?`${s} ${h} ago`:`in ${s} ${h}`}function MR(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const xke={D:p$,DD:CH,DDD:TH,DDDD:EH,t:IH,tt:MH,ttt:OH,tttt:AH,T:PH,TT:LH,TTT:RH,TTTT:FH,f:NH,ff:jH,fff:HH,ffff:UH,F:zH,FF:VH,FFF:qH,FFFF:BH};class Zn{static create(t,i={}){return new Zn(t,i)}static parseFormat(t){let i=null,n="",r=!1;const a=[];for(let o=0;o<t.length;o++){const s=t.charAt(o);s==="'"?(n.length>0&&a.push({literal:r,val:n}),i=null,n="",r=!r):r||s===i?n+=s:(n.length>0&&a.push({literal:!1,val:n}),n=s,i=s)}return n.length>0&&a.push({literal:r,val:n}),a}static macroTokenToFormatOpts(t){return xke[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,D(D({},this.opts),i)).format()}formatDateTime(t,i={}){return this.loc.dtFormatter(t,D(D({},this.opts),i)).format()}formatDateTimeParts(t,i={}){return this.loc.dtFormatter(t,D(D({},this.opts),i)).formatToParts()}resolvedOptions(t,i={}){return this.loc.dtFormatter(t,D(D({},this.opts),i)).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return vi(t,i);const n=D({},this.opts);return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(g,b)=>this.loc.extract(t,g,b),o=g=>t.isOffsetFixed&&t.offset===0&&g.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,g.format):"",s=()=>n?gke(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,b)=>n?bke(t,g):a(b?{month:g}:{month:g,day:"numeric"},"month"),u=(g,b)=>n?yke(t,g):a(b?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),h=g=>{const b=Zn.macroTokenToFormatOpts(g);return b?this.formatWithSystemDefault(t,b):g},m=g=>n?vke(t,g):a({era:g},"era"),f=g=>{switch(g){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s();case"d":return r?a({day:"numeric"},"day"):this.num(t.day);case"dd":return r?a({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?a({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?a({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?a({month:"numeric"},"month"):this.num(t.month);case"MM":return r?a({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?a({year:"numeric"},"year"):this.num(t.year);case"yy":return r?a({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?a({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?a({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(g)}};return MR(Zn.parseFormat(i),f)}formatDurationFromString(t,i){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const h=n(u);return h?this.num(l.get(h),u.length):u},a=Zn.parseFormat(i),o=a.reduce((l,{literal:u,val:h})=>u?l:l.concat(h),[]),s=t.shiftTo(...o.map(n).filter(l=>l));return MR(a,r(s))}}class no{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class vb{get type(){throw new Gl}get name(){throw new Gl}get isUniversal(){throw new Gl}offsetName(t,i){throw new Gl}formatOffset(t,i){throw new Gl}offset(t){throw new Gl}equals(t){throw new Gl}get isValid(){throw new Gl}}let mS=null;class _I extends vb{static get instance(){return mS===null&&(mS=new _I),mS}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return WH(t,i,n)}formatOffset(t,i){return Kx(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Z1={};function kke(e){return Z1[e]||(Z1[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Z1[e]}const _ke={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ske(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(i),[,r,a,o,s,l,u]=n;return[o,r,a,s,l,u]}function Dke(e,t){const i=e.formatToParts(t),n=[];for(let r=0;r<i.length;r++){const{type:a,value:o}=i[r],s=_ke[a];Xe(s)||(n[s]=parseInt(o,10))}return n}let Iv={};class Cl extends vb{static create(t){return Iv[t]||(Iv[t]=new Cl(t)),Iv[t]}static resetCache(){Iv={},Z1={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super();this.zoneName=t,this.valid=Cl.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return WH(t,i,n,this.name)}formatOffset(t,i){return Kx(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const n=kke(this.name),[r,a,o,s,l,u]=n.formatToParts?Dke(n,i):Ske(n,i),m=kI({year:r,month:a,day:o,hour:s===24?0:s,minute:l,second:u,millisecond:0});let f=+i;const g=f%1e3;return f-=g>=0?g:1e3+g,(m-f)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let fS=null;class An extends vb{static get utcInstance(){return fS===null&&(fS=new An(0)),fS}static instance(t){return t===0?An.utcInstance:new An(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new An(p_(i[1],i[2]))}return null}constructor(t){super();this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Kx(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Kx(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class $ke extends vb{constructor(t){super();this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function zc(e,t){if(Xe(e)||e===null)return t;if(e instanceof vb)return e;if(rke(e)){const i=e.toLowerCase();return i==="local"||i==="system"?t:i==="utc"||i==="gmt"?An.utcInstance:An.parseSpecifier(i)||Cl.create(e)}else return Kd(e)?An.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new $ke(e)}let OR=()=>Date.now(),AR="system",PR=null,LR=null,RR=null,FR;class Oi{static get now(){return OR}static set now(t){OR=t}static set defaultZone(t){AR=t}static get defaultZone(){return zc(AR,_I.instance)}static get defaultLocale(){return PR}static set defaultLocale(t){PR=t}static get defaultNumberingSystem(){return LR}static set defaultNumberingSystem(t){LR=t}static get defaultOutputCalendar(){return RR}static set defaultOutputCalendar(t){RR=t}static get throwOnInvalid(){return FR}static set throwOnInvalid(t){FR=t}static resetCaches(){Ut.resetCache(),Cl.resetCache()}}let NR={};function Cke(e,t={}){const i=JSON.stringify([e,t]);let n=NR[i];return n||(n=new Intl.ListFormat(e,t),NR[i]=n),n}let f$={};function g$(e,t={}){const i=JSON.stringify([e,t]);let n=f$[i];return n||(n=new Intl.DateTimeFormat(e,t),f$[i]=n),n}let y$={};function Tke(e,t={}){const i=JSON.stringify([e,t]);let n=y$[i];return n||(n=new Intl.NumberFormat(e,t),y$[i]=n),n}let b$={};function Eke(e,t={}){const o=t,{base:i}=o,n=H_(o,["base"]),r=JSON.stringify([e,n]);let a=b$[r];return a||(a=new Intl.RelativeTimeFormat(e,t),b$[r]=a),a}let K0=null;function Ike(){return K0||(K0=new Intl.DateTimeFormat().resolvedOptions().locale,K0)}function Mke(e){const t=e.indexOf("-u-");if(t===-1)return[e];{let i;const n=e.substring(0,t);try{i=g$(e).resolvedOptions()}catch{i=g$(n).resolvedOptions()}const{numberingSystem:r,calendar:a}=i;return[n,r,a]}}function Oke(e,t,i){return(i||t)&&(e+="-u",i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Ake(e){const t=[];for(let i=1;i<=12;i++){const n=Oe.utc(2016,i,1);t.push(e(n))}return t}function Pke(e){const t=[];for(let i=1;i<=7;i++){const n=Oe.utc(2016,11,13+i);t.push(e(n))}return t}function Mv(e,t,i,n,r){const a=e.listingMode(i);return a==="error"?null:a==="en"?n(t):r(t)}function Lke(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Rke{constructor(t,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const s=n,{padTo:r,floor:a}=s,o=H_(s,["padTo","floor"]);if(!i||Object.keys(o).length>0){const l=D({useGrouping:!1},n);n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=Tke(t,l)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):xI(t,3);return vi(i,this.padTo)}}}class Fke{constructor(t,i,n){this.opts=n;let r;if(t.zone.isUniversal){const o=-1*(t.offset/60),s=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Cl.create(s).valid?(r=s,this.dt=t):(r="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:Oe.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,r=t.zone.name);const a=D({},this.opts);r&&(a.timeZone=r),this.dtf=g$(i,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Nke{constructor(t,i,n){this.opts=D({style:"long"},n),!i&&GH()&&(this.rtf=Eke(t,n))}format(t,i){return this.rtf?this.rtf.format(t,i):wke(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}class Ut{static fromOpts(t){return Ut.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,i,n,r=!1){const a=t||Oi.defaultLocale,o=a||(r?"en-US":Ike()),s=i||Oi.defaultNumberingSystem,l=n||Oi.defaultOutputCalendar;return new Ut(o,s,l,a)}static resetCache(){K0=null,f$={},y$={},b$={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:n}={}){return Ut.create(t,i,n)}constructor(t,i,n,r){const[a,o,s]=Mke(t);this.locale=a,this.numberingSystem=i||o||null,this.outputCalendar=n||s||null,this.intl=Oke(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Lke(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ut.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone(ne(D({},t),{defaultToEN:!0}))}redefaultToSystem(t={}){return this.clone(ne(D({},t),{defaultToEN:!1}))}months(t,i=!1,n=!0){return Mv(this,t,n,KH,()=>{const r=i?{month:t,day:"numeric"}:{month:t},a=i?"format":"standalone";return this.monthsCache[a][t]||(this.monthsCache[a][t]=Ake(o=>this.extract(o,r,"month"))),this.monthsCache[a][t]})}weekdays(t,i=!1,n=!0){return Mv(this,t,n,QH,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},a=i?"format":"standalone";return this.weekdaysCache[a][t]||(this.weekdaysCache[a][t]=Pke(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[a][t]})}meridiems(t=!0){return Mv(this,void 0,t,()=>eq,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Oe.utc(2016,11,13,9),Oe.utc(2016,11,13,19)].map(n=>this.extract(n,i,"dayperiod"))}return this.meridiemCache})}eras(t,i=!0){return Mv(this,t,i,tq,()=>{const n={era:t};return this.eraCache[t]||(this.eraCache[t]=[Oe.utc(-40,1,1),Oe.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[t]})}extract(t,i,n){const r=this.dtFormatter(t,i),a=r.formatToParts(),o=a.find(s=>s.type.toLowerCase()===n);return o?o.value:null}numberFormatter(t={}){return new Rke(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new Fke(t,this.intl,i)}relFormatter(t={}){return new Nke(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Cke(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function gf(...e){const t=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${t}$`)}function Eh(...e){return t=>e.reduce(([i,n,r],a)=>{const[o,s,l]=a(t,r);return[D(D({},i),o),n||s,l]},[{},null,1]).slice(0,2)}function yf(e,...t){if(e==null)return[null,null];for(const[i,n]of t){const r=i.exec(e);if(r)return n(r)}return[null,null]}function iq(...e){return(t,i)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=Oc(t[i+r]);return[n,null,i+r]}}const nq=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,SI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,rq=RegExp(`${SI.source}${nq.source}?`),DI=RegExp(`(?:T${rq.source})?`),zke=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jke=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vke=/(\d{4})-?(\d{3})/,Hke=iq("weekYear","weekNumber","weekDay"),qke=iq("year","ordinal"),Uke=/(\d{4})-(\d\d)-(\d\d)/,aq=RegExp(`${SI.source} ?(?:${nq.source}|(${cke.source}))?`),Bke=RegExp(`(?: ${aq.source})?`);function ym(e,t,i){const n=e[t];return Xe(n)?i:Oc(n)}function oq(e,t){return[{year:ym(e,t),month:ym(e,t+1,1),day:ym(e,t+2,1)},null,t+3]}function Ih(e,t){return[{hours:ym(e,t,0),minutes:ym(e,t+1,0),seconds:ym(e,t+2,0),milliseconds:wI(e[t+3])},null,t+4]}function bf(e,t){const i=!e[t]&&!e[t+1],n=p_(e[t+1],e[t+2]),r=i?null:An.instance(n);return[{},r,t+3]}function sq(e,t){const i=e[t]?Cl.create(e[t]):null;return[{},i,t+1]}const Gke=RegExp(`^T?${SI.source}$`),Wke=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Jke(e){const[t,i,n,r,a,o,s,l,u]=e,h=t[0]==="-",m=l&&l[0]==="-",f=(g,b=!1)=>g!==void 0&&(b||g&&h)?-g:g;return[{years:f(Su(i)),months:f(Su(n)),weeks:f(Su(r)),days:f(Su(a)),hours:f(Su(o)),minutes:f(Su(s)),seconds:f(Su(l),l==="-0"),milliseconds:f(wI(u),m)}]}const Yke={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $I(e,t,i,n,r,a,o){const s={year:t.length===2?m$(Oc(t)):Oc(t),month:YH.indexOf(i)+1,day:Oc(n),hour:Oc(r),minute:Oc(a)};return o&&(s.second=Oc(o)),e&&(s.weekday=e.length>3?ZH.indexOf(e)+1:XH.indexOf(e)+1),s}const Kke=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Zke(e){const[,t,i,n,r,a,o,s,l,u,h,m]=e,f=$I(t,r,n,i,a,o,s);let g;return l?g=Yke[l]:u?g=0:g=p_(h,m),[f,new An(g)]}function Xke(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Qke=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,e_e=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,t_e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zR(e){const[,t,i,n,r,a,o,s]=e;return[$I(t,r,n,i,a,o,s),An.utcInstance]}function i_e(e){const[,t,i,n,r,a,o,s]=e;return[$I(t,s,i,n,r,a,o),An.utcInstance]}const n_e=gf(zke,DI),r_e=gf(jke,DI),a_e=gf(Vke,DI),o_e=gf(rq),s_e=Eh(oq,Ih,bf),l_e=Eh(Hke,Ih,bf),c_e=Eh(qke,Ih,bf),u_e=Eh(Ih,bf);function d_e(e){return yf(e,[n_e,s_e],[r_e,l_e],[a_e,c_e],[o_e,u_e])}function h_e(e){return yf(Xke(e),[Kke,Zke])}function p_e(e){return yf(e,[Qke,zR],[e_e,zR],[t_e,i_e])}function m_e(e){return yf(e,[Wke,Jke])}const f_e=Eh(Ih);function g_e(e){return yf(e,[Gke,f_e])}const y_e=gf(Uke,Bke),b_e=gf(aq),v_e=Eh(oq,Ih,bf,sq),w_e=Eh(Ih,bf,sq);function x_e(e){return yf(e,[y_e,v_e],[b_e,w_e])}const k_e="Invalid Duration",lq={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},__e=D({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},lq),Wr=146097/400,Bh=146097/4800,S_e=D({years:{quarters:4,months:12,weeks:Wr/7,days:Wr,hours:Wr*24,minutes:Wr*24*60,seconds:Wr*24*60*60,milliseconds:Wr*24*60*60*1e3},quarters:{months:3,weeks:Wr/28,days:Wr/4,hours:Wr*24/4,minutes:Wr*24*60/4,seconds:Wr*24*60*60/4,milliseconds:Wr*24*60*60*1e3/4},months:{weeks:Bh/7,days:Bh,hours:Bh*24,minutes:Bh*24*60,seconds:Bh*24*60*60,milliseconds:Bh*24*60*60*1e3}},lq),Qu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],D_e=Qu.slice(0).reverse();function Du(e,t,i=!1){const n={values:i?t.values:D(D({},e.values),t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new tt(n)}function $_e(e){return e<0?Math.floor(e):Math.ceil(e)}function cq(e,t,i,n,r){const a=e[r][i],o=t[i]/a,s=Math.sign(o)===Math.sign(n[r]),l=!s&&n[r]!==0&&Math.abs(o)<=1?$_e(o):Math.trunc(o);n[r]+=l,t[i]-=l*a}function C_e(e,t){D_e.reduce((i,n)=>Xe(t[n])?i:(i&&cq(e,t,i,t,n),n),null)}class tt{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;this.values=t.values,this.loc=t.loc||Ut.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i?S_e:__e,this.isLuxonDuration=!0}static fromMillis(t,i){return tt.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new ca(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new tt({values:Yx(t,tt.normalizeUnit),loc:Ut.fromObject(i),conversionAccuracy:i.conversionAccuracy})}static fromDurationLike(t){if(Kd(t))return tt.fromMillis(t);if(tt.isDuration(t))return t;if(typeof t=="object")return tt.fromObject(t);throw new ca(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[n]=m_e(t);return n?tt.fromObject(n,i):tt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[n]=g_e(t);return n?tt.fromObject(n,i):tt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new ca("need to specify a reason the Duration is invalid");const n=t instanceof no?t:new no(t,i);if(Oi.throwOnInvalid)throw new tke(n);return new tt({invalid:n})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new $H(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const n=ne(D({},i),{floor:i.round!==!1&&i.floor!==!1});return this.isValid?Zn.create(this.loc,n).formatDurationFromString(this,t):k_e}toHuman(t={}){const i=Qu.map(n=>{const r=this.values[n];return Xe(r)?null:this.loc.numberFormatter(ne(D({style:"unit",unitDisplay:"long"},t),{unit:n.slice(0,-1)})).format(r)}).filter(n=>n);return this.loc.listFormatter(D({type:"conjunction",style:t.listStyle||"narrow"},t)).format(i)}toObject(){return this.isValid?D({},this.values):{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=xI(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();if(i<0||i>=864e5)return null;t=D({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},t);const n=this.shiftTo("hours","minutes","seconds","milliseconds");let r=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(r+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(r+=".SSS"));let a=n.toFormat(r);return t.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=tt.fromDurationLike(t),n={};for(const r of Qu)(Hm(i.values,r)||Hm(this.values,r))&&(n[r]=i.get(r)+this.get(r));return Du(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const i=tt.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=JH(t(this.values[n],n));return Du(this,{values:i},!0)}get(t){return this[tt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i=D(D({},this.values),Yx(t,tt.normalizeUnit));return Du(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:n}={}){const r=this.loc.clone({locale:t,numberingSystem:i}),a={loc:r};return n&&(a.conversionAccuracy=n),Du(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return C_e(this.matrix,t),Du(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>tt.normalizeUnit(o));const i={},n={},r=this.toObject();let a;for(const o of Qu)if(t.indexOf(o)>=0){a=o;let s=0;for(const u in n)s+=this.matrix[u][o]*n[u],n[u]=0;Kd(r[o])&&(s+=r[o]);const l=Math.trunc(s);i[o]=l,n[o]=(s*1e3-l*1e3)/1e3;for(const u in r)Qu.indexOf(u)>Qu.indexOf(o)&&cq(this.matrix,r,u,i,o)}else Kd(r[o])&&(n[o]=r[o]);for(const o in n)n[o]!==0&&(i[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return Du(this,{values:i},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Du(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of Qu)if(!i(this.values[n],t.values[n]))return!1;return!0}}const i0="Invalid Interval";function T_e(e,t){return!e||!e.isValid?ei.invalid("missing or invalid start"):!t||!t.isValid?ei.invalid("missing or invalid end"):t<e?ei.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ei{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new ca("need to specify a reason the Interval is invalid");const n=t instanceof no?t:new no(t,i);if(Oi.throwOnInvalid)throw new eke(n);return new ei({invalid:n})}static fromDateTimes(t,i){const n=a0(t),r=a0(i),a=T_e(n,r);return a==null?new ei({start:n,end:r}):a}static after(t,i){const n=tt.fromDurationLike(i),r=a0(t);return ei.fromDateTimes(r,r.plus(n))}static before(t,i){const n=tt.fromDurationLike(i),r=a0(t);return ei.fromDateTimes(r.minus(n),r)}static fromISO(t,i){const[n,r]=(t||"").split("/",2);if(n&&r){let a,o;try{a=Oe.fromISO(n,i),o=a.isValid}catch{o=!1}let s,l;try{s=Oe.fromISO(r,i),l=s.isValid}catch{l=!1}if(o&&l)return ei.fromDateTimes(a,s);if(o){const u=tt.fromISO(r,i);if(u.isValid)return ei.after(a,u)}else if(l){const u=tt.fromISO(n,i);if(u.isValid)return ei.before(s,u)}}return ei.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const i=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(i,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ei.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(a0).filter(o=>this.contains(o)).sort(),n=[];let{s:r}=this,a=0;for(;r<this.e;){const o=i[a]||this.e,s=+o>+this.e?this.e:o;n.push(ei.fromDateTimes(r,s)),r=s,a+=1}return n}splitBy(t){const i=tt.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,r=1,a;const o=[];for(;n<this.e;){const s=this.start.plus(i.mapUnits(l=>l*r));a=+s>+this.e?this.e:s,o.push(ei.fromDateTimes(n,a)),n=a,r+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:ei.fromDateTimes(i,n)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return ei.fromDateTimes(i,n)}static merge(t){const[i,n]=t.sort((r,a)=>r.s-a.s).reduce(([r,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[r,a.union(o)]:[r.concat([a]),o]:[r,o],[[],null]);return n&&i.push(n),i}static xor(t){let i=null,n=0;const r=[],a=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...a),s=o.sort((l,u)=>l.time-u.time);for(const l of s)n+=l.type==="s"?1:-1,n===1?i=l.time:(i&&+i!=+l.time&&r.push(ei.fromDateTimes(i,l.time)),i=null);return ei.merge(r)}difference(...t){return ei.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:i0}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:i0}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:i0}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:i0}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:i0}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):tt.invalid(this.invalidReason)}mapEndpoints(t){return ei.fromDateTimes(t(this.s),t(this.e))}}class Ov{static hasDST(t=Oi.defaultZone){const i=Oe.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Cl.isValidZone(t)}static normalizeZone(t){return zc(t,Oi.defaultZone)}static months(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Ut.create(i,n,a)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Ut.create(i,n,a)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ut.create(i,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ut.create(i,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ut.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Ut.create(i,null,"gregory").eras(t)}static features(){return{relative:GH()}}}function jR(e,t){const i=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(tt.fromMillis(n).as("days"))}function E_e(e,t,i){const n=[["years",(s,l)=>l.year-s.year],["quarters",(s,l)=>l.quarter-s.quarter],["months",(s,l)=>l.month-s.month+(l.year-s.year)*12],["weeks",(s,l)=>{const u=jR(s,l);return(u-u%7)/7}],["days",jR]],r={};let a,o;for(const[s,l]of n)if(i.indexOf(s)>=0){a=s;let u=l(e,t);o=e.plus({[s]:u}),o>t?(e=e.plus({[s]:u-1}),u-=1):e=o,r[s]=u}return[e,r,o,a]}function I_e(e,t,i,n){let[r,a,o,s]=E_e(e,t,i);const l=t-r,u=i.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);u.length===0&&(o<t&&(o=r.plus({[s]:1})),o!==r&&(a[s]=(a[s]||0)+l/(o-r)));const h=tt.fromObject(a,n);return u.length>0?tt.fromMillis(l,n).shiftTo(...u).plus(h):h}const CI={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},VR={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},M_e=CI.hanidec.replace(/[\[|\]]/g,"").split("");function O_e(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(e[i].search(CI.hanidec)!==-1)t+=M_e.indexOf(e[i]);else for(const r in VR){const[a,o]=VR[r];n>=a&&n<=o&&(t+=n-a)}}return parseInt(t,10)}else return t}function Ia({numberingSystem:e},t=""){return new RegExp(`${CI[e||"latn"]}${t}`)}const A_e="missing Intl.DateTimeFormat.formatToParts support";function ot(e,t=i=>i){return{regex:e,deser:([i])=>t(O_e(i))}}const P_e=String.fromCharCode(160),uq=`( |${P_e})`,dq=new RegExp(uq,"g");function L_e(e){return e.replace(/\./g,"\\.?").replace(dq,uq)}function HR(e){return e.replace(/\./g,"").replace(dq," ").toLowerCase()}function Ma(e,t){return e===null?null:{regex:RegExp(e.map(L_e).join("|")),deser:([i])=>e.findIndex(n=>HR(i)===HR(n))+t}}function qR(e,t){return{regex:e,deser:([,i,n])=>p_(i,n),groups:t}}function gS(e){return{regex:e,deser:([t])=>t}}function R_e(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function F_e(e,t){const i=Ia(t),n=Ia(t,"{2}"),r=Ia(t,"{3}"),a=Ia(t,"{4}"),o=Ia(t,"{6}"),s=Ia(t,"{1,2}"),l=Ia(t,"{1,3}"),u=Ia(t,"{1,6}"),h=Ia(t,"{1,9}"),m=Ia(t,"{2,4}"),f=Ia(t,"{4,6}"),g=w=>({regex:RegExp(R_e(w.val)),deser:([x])=>x,literal:!0}),v=(w=>{if(e.literal)return g(w);switch(w.val){case"G":return Ma(t.eras("short",!1),0);case"GG":return Ma(t.eras("long",!1),0);case"y":return ot(u);case"yy":return ot(m,m$);case"yyyy":return ot(a);case"yyyyy":return ot(f);case"yyyyyy":return ot(o);case"M":return ot(s);case"MM":return ot(n);case"MMM":return Ma(t.months("short",!0,!1),1);case"MMMM":return Ma(t.months("long",!0,!1),1);case"L":return ot(s);case"LL":return ot(n);case"LLL":return Ma(t.months("short",!1,!1),1);case"LLLL":return Ma(t.months("long",!1,!1),1);case"d":return ot(s);case"dd":return ot(n);case"o":return ot(l);case"ooo":return ot(r);case"HH":return ot(n);case"H":return ot(s);case"hh":return ot(n);case"h":return ot(s);case"mm":return ot(n);case"m":return ot(s);case"q":return ot(s);case"qq":return ot(n);case"s":return ot(s);case"ss":return ot(n);case"S":return ot(l);case"SSS":return ot(r);case"u":return gS(h);case"uu":return gS(s);case"uuu":return ot(i);case"a":return Ma(t.meridiems(),0);case"kkkk":return ot(a);case"kk":return ot(m,m$);case"W":return ot(s);case"WW":return ot(n);case"E":case"c":return ot(i);case"EEE":return Ma(t.weekdays("short",!1,!1),1);case"EEEE":return Ma(t.weekdays("long",!1,!1),1);case"ccc":return Ma(t.weekdays("short",!0,!1),1);case"cccc":return Ma(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return qR(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return qR(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return gS(/[a-z_+-/]{1,256}?/i);default:return g(w)}})(e)||{invalidReason:A_e};return v.token=e,v}const N_e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function z_e(e,t,i){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=i[n];let o=N_e[n];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function j_e(e){return[`^${e.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,e]}function V_e(e,t,i){const n=e.match(t);if(n){const r={};let a=1;for(const o in i)if(Hm(i,o)){const s=i[o],l=s.groups?s.groups+1:1;!s.literal&&s.token&&(r[s.token.val[0]]=s.deser(n.slice(a,a+l))),a+=l}return[n,r]}else return[n,{}]}function H_e(e){const t=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return Xe(e.z)||(i=Cl.create(e.z)),Xe(e.Z)||(i||(i=new An(e.Z)),n=e.Z),Xe(e.q)||(e.M=(e.q-1)*3+1),Xe(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Xe(e.u)||(e.S=wI(e.u)),[Object.keys(e).reduce((a,o)=>{const s=t(o);return s&&(a[s]=e[o]),a},{}),i,n]}let yS=null;function q_e(){return yS||(yS=Oe.fromMillis(1555555555555)),yS}function U_e(e,t){if(e.literal)return e;const i=Zn.macroTokenToFormatOpts(e.val);if(!i)return e;const a=Zn.create(t,i).formatDateTimeParts(q_e()).map(o=>z_e(o,t,i));return a.includes(void 0)?e:a}function B_e(e,t){return Array.prototype.concat(...e.map(i=>U_e(i,t)))}function hq(e,t,i){const n=B_e(Zn.parseFormat(i),e),r=n.map(o=>F_e(o,e)),a=r.find(o=>o.invalidReason);if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};{const[o,s]=j_e(r),l=RegExp(o,"i"),[u,h]=V_e(t,l,s),[m,f,g]=h?H_e(h):[null,null,void 0];if(Hm(h,"a")&&Hm(h,"H"))throw new Y0("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:u,matches:h,result:m,zone:f,specificOffset:g}}}function G_e(e,t,i){const{result:n,zone:r,specificOffset:a,invalidReason:o}=hq(e,t,i);return[n,r,a,o]}const pq=[0,31,59,90,120,151,181,212,243,273,304,334],mq=[0,31,60,91,121,152,182,213,244,274,305,335];function ua(e,t){return new no("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function fq(e,t,i){const n=new Date(Date.UTC(e,t-1,i)).getUTCDay();return n===0?7:n}function gq(e,t,i){return i+(bb(e)?mq:pq)[t-1]}function yq(e,t){const i=bb(e)?mq:pq,n=i.findIndex(a=>a<t),r=t-i[n];return{month:n+1,day:r}}function v$(e){const{year:t,month:i,day:n}=e,r=gq(t,i,n),a=fq(t,i,n);let o=Math.floor((r-a+10)/7),s;return o<1?(s=t-1,o=Jx(s)):o>Jx(t)?(s=t+1,o=1):s=t,D({weekYear:s,weekNumber:o,weekday:a},m_(e))}function UR(e){const{weekYear:t,weekNumber:i,weekday:n}=e,r=fq(t,1,4),a=jg(t);let o=i*7+n-r-3,s;o<1?(s=t-1,o+=jg(s)):o>a?(s=t+1,o-=jg(t)):s=t;const{month:l,day:u}=yq(s,o);return D({year:s,month:l,day:u},m_(e))}function bS(e){const{year:t,month:i,day:n}=e,r=gq(t,i,n);return D({year:t,ordinal:r},m_(e))}function BR(e){const{year:t,ordinal:i}=e,{month:n,day:r}=yq(t,i);return D({year:t,month:n,day:r},m_(e))}function W_e(e){const t=h_(e.weekYear),i=gl(e.weekNumber,1,Jx(e.weekYear)),n=gl(e.weekday,1,7);return t?i?n?!1:ua("weekday",e.weekday):ua("week",e.week):ua("weekYear",e.weekYear)}function J_e(e){const t=h_(e.year),i=gl(e.ordinal,1,jg(e.year));return t?i?!1:ua("ordinal",e.ordinal):ua("year",e.year)}function bq(e){const t=h_(e.year),i=gl(e.month,1,12),n=gl(e.day,1,Wx(e.year,e.month));return t?i?n?!1:ua("day",e.day):ua("month",e.month):ua("year",e.year)}function vq(e){const{hour:t,minute:i,second:n,millisecond:r}=e,a=gl(t,0,23)||t===24&&i===0&&n===0&&r===0,o=gl(i,0,59),s=gl(n,0,59),l=gl(r,0,999);return a?o?s?l?!1:ua("millisecond",r):ua("second",n):ua("minute",i):ua("hour",t)}const vS="Invalid DateTime",GR=864e13;function Av(e){return new no("unsupported zone",`the zone "${e.name}" is not supported`)}function wS(e){return e.weekData===null&&(e.weekData=v$(e.c)),e.weekData}function n0(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Oe(ne(D(D({},i),t),{old:i}))}function wq(e,t,i){let n=e-t*60*1e3;const r=i.offset(n);if(t===r)return[n,t];n-=(r-t)*60*1e3;const a=i.offset(n);return r===a?[n,r]:[e-Math.min(r,a)*60*1e3,Math.max(r,a)]}function WR(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function X1(e,t,i){return wq(kI(e),t,i)}function JR(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,a=ne(D({},e.c),{year:n,month:r,day:Math.min(e.c.day,Wx(n,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),o=tt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=kI(a);let[l,u]=wq(s,i,e.zone);return o!==0&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function r0(e,t,i,n,r,a){const{setZone:o,zone:s}=i;if(e&&Object.keys(e).length!==0){const l=t||s,u=Oe.fromObject(e,ne(D({},i),{zone:l,specificOffset:a}));return o?u:u.setZone(s)}else return Oe.invalid(new no("unparsable",`the input "${r}" can't be parsed as ${n}`))}function Pv(e,t,i=!0){return e.isValid?Zn.create(Ut.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function xS(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=vi(e.c.year,i?6:4),t?(n+="-",n+=vi(e.c.month),n+="-",n+=vi(e.c.day)):(n+=vi(e.c.month),n+=vi(e.c.day)),n}function YR(e,t,i,n,r){let a=vi(e.c.hour);return t?(a+=":",a+=vi(e.c.minute),(e.c.second!==0||!i)&&(a+=":")):a+=vi(e.c.minute),(e.c.second!==0||!i)&&(a+=vi(e.c.second),(e.c.millisecond!==0||!n)&&(a+=".",a+=vi(e.c.millisecond,3))),r&&(e.isOffsetFixed&&e.offset===0?a+="Z":e.o<0?(a+="-",a+=vi(Math.trunc(-e.o/60)),a+=":",a+=vi(Math.trunc(-e.o%60))):(a+="+",a+=vi(Math.trunc(e.o/60)),a+=":",a+=vi(Math.trunc(e.o%60)))),a}const xq={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Y_e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},K_e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},kq=["year","month","day","hour","minute","second","millisecond"],Z_e=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],X_e=["year","ordinal","hour","minute","second","millisecond"];function KR(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new $H(e);return t}function ZR(e,t){const i=zc(t.zone,Oi.defaultZone),n=Ut.fromObject(t),r=Oi.now();let a,o;if(Xe(e.year))a=r;else{for(const u of kq)Xe(e[u])&&(e[u]=xq[u]);const s=bq(e)||vq(e);if(s)return Oe.invalid(s);const l=i.offset(r);[a,o]=X1(e,l,i)}return new Oe({ts:a,zone:i,loc:n,o})}function XR(e,t,i){const n=Xe(i.round)?!0:i.round,r=(o,s)=>(o=xI(o,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,s)),a=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return r(a(i.unit),i.unit);for(const o of i.units){const s=a(o);if(Math.abs(s)>=1)return r(s,o)}return r(e>t?-0:0,i.units[i.units.length-1])}function QR(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}class Oe{constructor(t){const i=t.zone||Oi.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new no("invalid input"):null)||(i.isValid?null:Av(i));this.ts=Xe(t.ts)?Oi.now():t.ts;let r=null,a=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[r,a]=[t.old.c,t.old.o];else{const s=i.offset(this.ts);r=WR(this.ts,s),n=Number.isNaN(r.year)?new no("invalid input"):null,r=n?null:r,a=n?null:s}this._zone=i,this.loc=t.loc||Ut.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=a,this.isLuxonDateTime=!0}static now(){return new Oe({})}static local(){const[t,i]=QR(arguments),[n,r,a,o,s,l,u]=i;return ZR({year:n,month:r,day:a,hour:o,minute:s,second:l,millisecond:u},t)}static utc(){const[t,i]=QR(arguments),[n,r,a,o,s,l,u]=i;return t.zone=An.utcInstance,ZR({year:n,month:r,day:a,hour:o,minute:s,second:l,millisecond:u},t)}static fromJSDate(t,i={}){const n=ake(t)?t.valueOf():NaN;if(Number.isNaN(n))return Oe.invalid("invalid input");const r=zc(i.zone,Oi.defaultZone);return r.isValid?new Oe({ts:n,zone:r,loc:Ut.fromObject(i)}):Oe.invalid(Av(r))}static fromMillis(t,i={}){if(Kd(t))return t<-GR||t>GR?Oe.invalid("Timestamp out of range"):new Oe({ts:t,zone:zc(i.zone,Oi.defaultZone),loc:Ut.fromObject(i)});throw new ca(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Kd(t))return new Oe({ts:t*1e3,zone:zc(i.zone,Oi.defaultZone),loc:Ut.fromObject(i)});throw new ca("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const n=zc(i.zone,Oi.defaultZone);if(!n.isValid)return Oe.invalid(Av(n));const r=Oi.now(),a=Xe(i.specificOffset)?n.offset(r):i.specificOffset,o=Yx(t,KR),s=!Xe(o.ordinal),l=!Xe(o.year),u=!Xe(o.month)||!Xe(o.day),h=l||u,m=o.weekYear||o.weekNumber,f=Ut.fromObject(i);if((h||s)&&m)throw new Y0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&s)throw new Y0("Can't mix ordinal dates with month/day");const g=m||o.weekday&&!h;let b,v,w=WR(r,a);g?(b=Z_e,v=Y_e,w=v$(w)):s?(b=X_e,v=K_e,w=bS(w)):(b=kq,v=xq);let x=!1;for(const j of b){const G=o[j];Xe(G)?x?o[j]=v[j]:o[j]=w[j]:x=!0}const S=g?W_e(o):s?J_e(o):bq(o),E=S||vq(o);if(E)return Oe.invalid(E);const T=g?UR(o):s?BR(o):o,[C,M]=X1(T,a,n),L=new Oe({ts:C,zone:n,o:M,loc:f});return o.weekday&&h&&t.weekday!==L.weekday?Oe.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${L.toISO()}`):L}static fromISO(t,i={}){const[n,r]=d_e(t);return r0(n,r,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[n,r]=h_e(t);return r0(n,r,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[n,r]=p_e(t);return r0(n,r,i,"HTTP",i)}static fromFormat(t,i,n={}){if(Xe(t)||Xe(i))throw new ca("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:a=null}=n,o=Ut.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0}),[s,l,u,h]=G_e(o,t,i);return h?Oe.invalid(h):r0(s,l,n,`format ${i}`,t,u)}static fromString(t,i,n={}){return Oe.fromFormat(t,i,n)}static fromSQL(t,i={}){const[n,r]=x_e(t);return r0(n,r,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new ca("need to specify a reason the DateTime is invalid");const n=t instanceof no?t:new no(t,i);if(Oi.throwOnInvalid)throw new Qxe(n);return new Oe({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?wS(this).weekYear:NaN}get weekNumber(){return this.isValid?wS(this).weekNumber:NaN}get weekday(){return this.isValid?wS(this).weekday:NaN}get ordinal(){return this.isValid?bS(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ov.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ov.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ov.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ov.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return bb(this.year)}get daysInMonth(){return Wx(this.year,this.month)}get daysInYear(){return this.isValid?jg(this.year):NaN}get weeksInWeekYear(){return this.isValid?Jx(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:n,calendar:r}=Zn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:r}}toUTC(t=0,i={}){return this.setZone(An.instance(t),i)}toLocal(){return this.setZone(Oi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(t=zc(t,Oi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(i||n){const a=t.offset(this.ts),o=this.toObject();[r]=X1(o,a,t)}return n0(this,{ts:r,zone:t})}else return Oe.invalid(Av(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:n}={}){const r=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:n});return n0(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=Yx(t,KR),n=!Xe(i.weekYear)||!Xe(i.weekNumber)||!Xe(i.weekday),r=!Xe(i.ordinal),a=!Xe(i.year),o=!Xe(i.month)||!Xe(i.day),s=a||o,l=i.weekYear||i.weekNumber;if((s||r)&&l)throw new Y0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new Y0("Can't mix ordinal dates with month/day");let u;n?u=UR(D(D({},v$(this.c)),i)):Xe(i.ordinal)?(u=D(D({},this.toObject()),i),Xe(i.day)&&(u.day=Math.min(Wx(u.year,u.month),u.day))):u=BR(D(D({},bS(this.c)),i));const[h,m]=X1(u,this.o,this.zone);return n0(this,{ts:h,o:m})}plus(t){if(!this.isValid)return this;const i=tt.fromDurationLike(t);return n0(this,JR(this,i))}minus(t){if(!this.isValid)return this;const i=tt.fromDurationLike(t).negate();return n0(this,JR(this,i))}startOf(t){if(!this.isValid)return this;const i={},n=tt.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks"&&(i.weekday=1),n==="quarters"){const r=Math.ceil(this.month/3);i.month=(r-1)*3+1}return this.set(i)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,i={}){return this.isValid?Zn.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):vS}toLocaleString(t=p$,i={}){return this.isValid?Zn.create(this.loc.clone(i),t).formatDateTime(this):vS}toLocaleParts(t={}){return this.isValid?Zn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:r=!0}={}){if(!this.isValid)return null;const a=t==="extended";let o=xS(this,a);return o+="T",o+=YR(this,a,i,n,r),o}toISODate({format:t="extended"}={}){return this.isValid?xS(this,t==="extended"):null}toISOWeekDate(){return Pv(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:r=!1,format:a="extended"}={}){return this.isValid?(r?"T":"")+YR(this,a==="extended",i,t,n):null}toRFC2822(){return Pv(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Pv(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xS(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(i||t)&&(n&&(r+=" "),i?r+="z":t&&(r+="ZZ")),Pv(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():vS}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i=D({},this.c);return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",n={}){if(!this.isValid||!t.isValid)return tt.invalid("created by diffing an invalid DateTime");const r=D({locale:this.locale,numberingSystem:this.numberingSystem},n),a=oke(i).map(tt.normalizeUnit),o=t.valueOf()>this.valueOf(),s=o?this:t,l=o?t:this,u=I_e(s,l,a,r);return o?u.negate():u}diffNow(t="milliseconds",i={}){return this.diff(Oe.now(),t,i)}until(t){return this.isValid?ei.fromDateTimes(this,t):this}hasSame(t,i){if(!this.isValid)return!1;const n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(i)<=n&&n<=r.endOf(i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Oe.fromObject({},{zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(r=t.unit,a=void 0),XR(i,this.plus(n),ne(D({},t),{numeric:"always",units:r,unit:a}))}toRelativeCalendar(t={}){return this.isValid?XR(t.base||Oe.fromObject({},{zone:this.zone}),this,ne(D({},t),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...t){if(!t.every(Oe.isDateTime))throw new ca("min requires all arguments be DateTimes");return IR(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Oe.isDateTime))throw new ca("max requires all arguments be DateTimes");return IR(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,n={}){const{locale:r=null,numberingSystem:a=null}=n,o=Ut.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0});return hq(o,t,i)}static fromStringExplain(t,i,n={}){return Oe.fromFormatExplain(t,i,n)}static get DATE_SHORT(){return p$}static get DATE_MED(){return CH}static get DATE_MED_WITH_WEEKDAY(){return ike}static get DATE_FULL(){return TH}static get DATE_HUGE(){return EH}static get TIME_SIMPLE(){return IH}static get TIME_WITH_SECONDS(){return MH}static get TIME_WITH_SHORT_OFFSET(){return OH}static get TIME_WITH_LONG_OFFSET(){return AH}static get TIME_24_SIMPLE(){return PH}static get TIME_24_WITH_SECONDS(){return LH}static get TIME_24_WITH_SHORT_OFFSET(){return RH}static get TIME_24_WITH_LONG_OFFSET(){return FH}static get DATETIME_SHORT(){return NH}static get DATETIME_SHORT_WITH_SECONDS(){return zH}static get DATETIME_MED(){return jH}static get DATETIME_MED_WITH_SECONDS(){return VH}static get DATETIME_MED_WITH_WEEKDAY(){return nke}static get DATETIME_FULL(){return HH}static get DATETIME_FULL_WITH_SECONDS(){return qH}static get DATETIME_HUGE(){return UH}static get DATETIME_HUGE_WITH_SECONDS(){return BH}}function a0(e){if(Oe.isDateTime(e))return e;if(e&&e.valueOf&&Kd(e.valueOf()))return Oe.fromJSDate(e);if(e&&typeof e=="object")return Oe.fromObject(e);throw new ca(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const kS={ar:[".",","],bg:[",","\xA0"],bs:[",","."],ca:[",","."],cs:[",","\xA0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xA0"],fi:[",","\xA0"],fr:[",","\u202F"],"fr-ch":[",","\u202F"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xA0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xA0"],lv:[",","\xA0"],mk:[",","."],nb:[",","\xA0"],nl:[",","."],pl:[",","\xA0"],pt:[",","."],"pt-pt":[",","\xA0"],ro:[",","."],ru:[",","\xA0"],sk:[",","\xA0"],sl:[",","."],sr:[",","."],sv:[",","\xA0"],th:[".",","],tr:[",","."],uk:[",","\xA0"],vi:[",","."],zh:[".",","]};function _q(e){e||(e=Mr());let t=e in kS;if(!t){const a=e.split("-");a.length>1&&a[0]in kS&&(e=a[0],t=!0),t||(e="en")}const[i,n,r="#,##0.###"]=kS[e];return{decimal:i,group:n,pattern:r}}function Q_e(e,t){const i=_q((t=D({},t)).locale);t.customs=i;const n=t.pattern||i.pattern;return isNaN(e)||Math.abs(e)===1/0?null:e2e(e,n,t)}const Sq=/[#0,]*[#0](?:\.0*#*)?/;function e2e(e,t,i){const n=(i=i||{}).customs.group,r=i.customs.decimal,a=t.split(";"),o=a[0];if((t=a[e<0?1:0]||"-"+o).indexOf("%")!==-1)e*=100;else if(t.indexOf("\u2030")!==-1)e*=1e3;else{if(t.indexOf("\xA4")!==-1)throw new Error("currency notation not supported");if(t.indexOf("E")!==-1)throw new Error("exponential notation not supported")}const s=Sq,l=o.match(s);if(!l)throw new Error("unable to find a number expression in pattern: "+t);return i.fractional===!1&&(i.places=0),t.replace(s,t2e(e,l[0],{decimal:r,group:n,places:i.places,round:i.round}))}function t2e(e,t,i){(i=i||{}).places===!0&&(i.places=0),i.places===1/0&&(i.places=6);const n=t.split("."),r=typeof i.places=="string"&&i.places.indexOf(",");let a=i.places;r?a=i.places.substring(r+1):a>=0||(a=(n[1]||[]).length),i.round<0||(e=Number(e.toFixed(Number(a))));const o=String(Math.abs(e)).split("."),s=o[1]||"";if(n[1]||i.places){r&&(i.places=i.places.substring(0,r));const b=i.places!==void 0?i.places:n[1]&&n[1].lastIndexOf("0")+1;b>s.length&&(o[1]=s.padEnd(Number(b),"0")),a<s.length&&(o[1]=s.substr(0,Number(a)))}else o[1]&&o.pop();const l=n[0].replace(",","");let u=l.indexOf("0");u!==-1&&(u=l.length-u,u>o[0].length&&(o[0]=o[0].padStart(u,"0")),l.indexOf("#")===-1&&(o[0]=o[0].substr(o[0].length-u)));let h,m,f=n[0].lastIndexOf(",");if(f!==-1){h=n[0].length-f-1;const b=n[0].substr(0,f);f=b.lastIndexOf(","),f!==-1&&(m=b.length-f-1)}const g=[];for(let b=o[0];b;){const v=b.length-h;g.push(v>0?b.substr(v):b),b=v>0?b.slice(0,v):"",m&&(h=m,m=void 0)}return o[0]=g.reverse().join(i.group||","),o.join(i.decimal||".")}function i2e(e){const t=_q((e=e||{}).locale),i=e.pattern||t.pattern,n=t.group,r=t.decimal;let a=1;if(i.indexOf("%")!==-1)a/=100;else if(i.indexOf("\u2030")!==-1)a/=1e3;else if(i.indexOf("\xA4")!==-1)throw new Error("currency notation not supported");const o=i.split(";");return o.length===1&&o.push("-"+o[0]),{regexp:Dy(o,function(l){return(l="(?:"+q6(l,".")+")").replace(Sq,function(u){const h={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:r,exponent:!1},m=u.split(".");let f=e.places;m.length===1&&a!==1&&(m[1]="###"),m.length===1||f===0?h.fractional=!1:(f===void 0&&(f=e.pattern?m[1].lastIndexOf("0")+1:1/0),f&&e.fractional==null&&(h.fractional=!0),!e.places&&f<m[1].length&&(f+=","+m[1].length),h.places=f);const g=m[0].split(",");return g.length>1&&(h.groupSize=g.pop().length,g.length>1&&(h.groupSize2=g.pop().length)),"("+r2e(h)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:r,factor:a}}function n2e(e,t){const i=i2e(t),n=new RegExp("^"+i.regexp+"$").exec(e);if(!n)return NaN;let r=n[1];if(!n[1]){if(!n[2])return NaN;r=n[2],i.factor*=-1}return r=r.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(r)*i.factor}function r2e(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const t=eF(e),i=Dy(e.fractional,function(r){let a="";return r&&e.places!==0&&(a="\\"+e.decimal,e.places===1/0?a="(?:"+a+"\\d+)?":a+="\\d{"+e.places+"}"),a},!0);let n=t+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+Dy(e.exponent,function(r){return r?"([eE]"+eF({signed:e.eSigned})+")":""})}function eF(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",Dy(e.signed,function(t){return t?"[-+]":""},!0)+Dy(e.separator,function(t){if(!t)return"(?:\\d+)";(t=q6(t))===" "?t="\\s":t==="\xA0"&&(t="\\s\\xa0");const i=e.groupSize,n=e.groupSize2;if(n){const r="(?:0|[1-9]\\d{0,"+(n-1)+"}(?:["+t+"]\\d{"+n+"})*["+t+"]\\d{"+i+"})";return i-n>0?"(?:"+r+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":r}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0)}const Dy=function(e,t,i){if(!(e instanceof Array))return t(e);const n=[];for(let r=0;r<e.length;r++)n.push(t(e[r]));return a2e(n.join("|"),i)},a2e=function(e,t){return"("+(t?"?:":"")+e+")"};var tF,iF;function jAe(e){return l_.fromJSON(e.toJSON())}function o2e(e){return e.toJSON?e.toJSON():e}function VAe(e){return typeof e=="string"||e instanceof String}function HAe(e){return typeof e=="number"}function nF(e){return e instanceof Date}function qAe(e,t){return e===t||!(!nF(e)||!nF(t))&&e.getTime()===t.getTime()}function UAe(e){if(e===void 0)return null;if(typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function BAe(e){if(e===null)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new lt({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function GAe(e){if(e===void 0)return null;if(typeof e=="number"||typeof e=="number")return e;switch(e.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(function(e){e[e.Standardised=0]="Standardised",e[e.StandardisedNoInterval=1]="StandardisedNoInterval",e[e.SqlServer=2]="SqlServer",e[e.Oracle=3]="Oracle",e[e.Postgres=4]="Postgres",e[e.PGDB=5]="PGDB",e[e.FILEGDB=6]="FILEGDB",e[e.NotEvaluated=7]="NotEvaluated"})(tF||(tF={})),function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(iF||(iF={}));const WAe=1e3,JAe={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},rF={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},YAe={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function KAe(e,t){return FT((i,n)=>{const r=Vp(!0);e.reduce((a,o,s,l)=>a.then(u=>{try{return t(u,o,s,l)}catch(h){return QA(h)}},u=>QA(u)),r).then(i,n)})}function ZAe(e){return e===void 0?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function XAe(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const i=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(r=t.cmp,function(o){return function(s,l){const u={key:s,value:o[s]},h={key:l,value:o[l]};return r(u,h)}});var r;const a=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s===void 0)return;if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);let l,u;if(Array.isArray(s)){for(u="[",l=0;l<s.length;l++)l&&(u+=","),u+=o(s[l])||"null";return u+"]"}if(s===null)return"null";if(a.indexOf(s)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const h=a.push(s)-1,m=Object.keys(s).sort(n&&n(s));for(u="",l=0;l<m.length;l++){const f=m[l],g=o(s[f]);g&&(u&&(u+=","),u+=JSON.stringify(f)+":"+g)}return a.splice(h,1),"{"+u+"}"}(e)}class Dq{constructor(t){this.value=t}}class $q{constructor(t){this.value=t}}class TI{constructor(t){this.fn=t}}class EI{constructor(t,i){this.paramCount=i,this.fn=t}}const s2e=TI,l2e=$q,c2e=Dq,u2e=EI,$r={type:"VOID"},d2e={type:"BREAK"},h2e={type:"CONTINUE"};function $y(e,t,i){return t===""||t==null||t===i||t===i?e:e=e.split(t).join(i)}function II(e){return e instanceof TI||e instanceof Xxe||e instanceof EI}function Zx(e){return!!Qi(e)||!!En(e)||!!hn(e)||!!Tn(e)||e===null||e===$r||typeof e=="number"}function p2e(e,t){return e===void 0?t:e}function Qi(e){return typeof e=="string"||e instanceof String}function Tn(e){return typeof e=="boolean"}function En(e){return typeof e=="number"}function m2e(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function ba(e){return e instanceof Array}function f2e(e){return(e==null?void 0:e.arcadeDeclaredClass)==="esri.arcade.Feature"}function g2e(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureset.support.FeatureSet")===!0}function y2e(e){return(e&&e.declaredRootClass&&e.declaredRootClass==="esri.arcade.featureSetCollection")===!0}function gh(e){return e instanceof ks}function hn(e){return e instanceof Date}function b2e(e,t,i){if(e.length<t||e.length>i)throw new Error("Function called with wrong number of Parameters")}function v2e(e){return e<0?-Math.round(-e):Math.round(e)}function w2e(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(t==="x"?i:3&i|8).toString(16)})}function MI(e,t){return isNaN(e)===!1?t==null||t===""?e.toString():(t=$y(t,"\u2030",""),t=$y(t,"\xA4",""),Q_e(e,{pattern:t})):e.toString()}function f_(e,t){const i=Oe.fromJSDate(e);return t==null||t===""?i.toISO({suppressMilliseconds:!0}):i.toFormat(Cq(t),{locale:Mr(),numberingSystem:"latn"})}function Cq(e){e=e.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let t="";const i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of e.match(i))switch(n){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"Z":t+="ZZ";break;case"ZZ":t+="ZZZ";break;case"S":t+="'S'";break;case"SS":t+="'SS'";break;case"SSS":t+="u";break;case"A":case"a":t+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":t+=n;break;default:n.length>=2&&n.slice(0,1)==="["&&n.slice(-1)==="]"?t+=`'${n.slice(1,-1)}'`:t+=`'${n}'`}return t}function ct(e,t,i){switch(i){case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}return!1}function x2e(e,t,i){if(e===null){if(t===null||t===$r)return ct(null,null,i);if(En(t))return ct(0,t,i);if(Qi(t)||Tn(t))return ct(0,qt(t),i);if(hn(t))return ct(0,t.getTime(),i)}if(e===$r){if(t===null||t===$r)return ct(null,null,i);if(En(t))return ct(0,t,i);if(Qi(t)||Tn(t))return ct(0,qt(t),i);if(hn(t))return ct(0,t.getTime(),i)}else if(En(e)){if(En(t))return ct(e,t,i);if(Tn(t))return ct(e,qt(t),i);if(t===null||t===$r)return ct(e,0,i);if(Qi(t))return ct(e,qt(t),i);if(hn(t))return ct(e,t.getTime(),i)}else if(Qi(e)){if(Qi(t))return ct(Zc(e),Zc(t),i);if(hn(t))return ct(qt(e),t.getTime(),i);if(En(t))return ct(qt(e),t,i);if(t===null||t===$r)return ct(qt(e),0,i);if(Tn(t))return ct(qt(e),qt(t),i)}else if(hn(e)){if(hn(t))return ct(e,t,i);if(t===null||t===$r)return ct(e.getTime(),0,i);if(En(t))return ct(e.getTime(),t,i);if(Tn(t)||Qi(t))return ct(e.getTime(),qt(t),i)}else if(Tn(e)){if(Tn(t))return ct(e,t,i);if(En(t))return ct(qt(e),qt(t),i);if(hn(t))return ct(qt(e),t.getTime(),i);if(t===null||t===$r)return ct(qt(e),0,i);if(Qi(t))return ct(qt(e),qt(t),i)}return!!Tq(e,t)&&(i==="<="||i===">=")}function Tq(e,t){if(e===t||e===null&&t===$r||t===null&&e===$r)return!0;if(hn(e)&&hn(t))return e.getTime()===t.getTime();if(e instanceof vI||e instanceof Ch)return e.equalityTest(t);if(e instanceof be&&t instanceof be){const i=e.cache._arcadeCacheId,n=t.cache._arcadeCacheId;if(i!=null)return i===n}return e!==void 0&&t!==void 0&&e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&(e._arcadeCacheId===t._arcadeCacheId&&e._arcadeCacheId!==void 0&&e._arcadeCacheId!==null||e._underlyingGraphic===t._underlyingGraphic&&e._underlyingGraphic!==void 0&&e._underlyingGraphic!==null)}function Zc(e,t){if(Qi(e))return e;if(e===null)return"";if(En(e))return MI(e,t);if(Tn(e))return e.toString();if(hn(e))return f_(e,t);if(e instanceof nr)return JSON.stringify(e.toJSON());if(ba(e)){const i=[];for(let n=0;n<e.length;n++)i[n]=Xx(e[n]);return"["+i.join(",")+"]"}if(e instanceof ks){const i=[];for(let n=0;n<e.length();n++)i[n]=Xx(e.get(n));return"["+i.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():II(e)?"object, Function":""}function k2e(e){const t=[];if(ba(e)===!1)return null;if(e instanceof ks){for(let i=0;i<e.length();i++)t[i]=qt(e.get(i));return t}for(let i=0;i<e.length;i++)t[i]=qt(e[i]);return t}function Q1(e,t){if(Qi(e))return e;if(e===null)return"";if(En(e))return MI(e,t);if(Tn(e))return e.toString();if(hn(e))return f_(e,t);if(e instanceof nr)return e instanceof lt?'{"xmin":'+e.xmin.toString()+',"ymin":'+e.ymin.toString()+","+(e.hasZ?'"zmin":'+e.zmin.toString()+",":"")+(e.hasM?'"mmin":'+e.mmin.toString()+",":"")+'"xmax":'+e.xmax.toString()+',"ymax":'+e.ymax.toString()+","+(e.hasZ?'"zmax":'+e.zmax.toString()+",":"")+(e.hasM?'"mmax":'+e.mmax.toString()+",":"")+'"spatialReference":'+w$(e.spatialReference)+"}":w$(e.toJSON(),(i,n)=>i.key===n.key?0:i.key==="spatialReference"?1:n.key==="spatialReference"||i.key<n.key?-1:i.key>n.key?1:0);if(ba(e)){const i=[];for(let n=0;n<e.length;n++)i[n]=Xx(e[n]);return"["+i.join(",")+"]"}if(e instanceof ks){const i=[];for(let n=0;n<e.length();n++)i[n]=Xx(e.get(n));return"["+i.join(",")+"]"}return e!==null&&typeof e=="object"&&e.castToText!==void 0?e.castToText():II(e)?"object, Function":""}function Xx(e){if(e===null)return"null";if(Tn(e)||En(e)||Qi(e))return JSON.stringify(e);if(e instanceof nr||e instanceof ks||e instanceof Array)return Q1(e);if(e instanceof Date)return JSON.stringify(f_(e,""));if(e!==null&&typeof e=="object"){if(e.castToText!==void 0)return e.castToText()}else if(e===$r)return"null";return"null"}function qt(e,t){return En(e)?e:e===null||e===""?0:hn(e)?NaN:Tn(e)?e?1:0:ba(e)||e===""||e===void 0?NaN:t!==void 0&&Qi(e)?(t=$y(t,"\u2030",""),t=$y(t,"\xA4",""),n2e(e,{pattern:t})):e===$r?0:Number(e)}function _2e(e){if(hn(e))return e;if(Qi(e)){const t=Eq(e);if(t)return t.toJSDate()}return null}function S2e(e){return hn(e)?Oe.fromJSDate(e):Qi(e)?Eq(e):null}function Eq(e){const t=/ (\d\d)/;let i=Oe.fromISO(e);return i.isValid||t.test(e)&&(e=e.replace(t,"T$1"),i=Oe.fromISO(e),i.isValid)?i:null}function D2e(e){return Tn(e)?e:Qi(e)?(e=e.toLowerCase())==="true":!!En(e)&&e!==0&&!isNaN(e)}function $2e(e,t){return z(e)?null:(e.spatialReference!==null&&e.spatialReference!==void 0||(e.spatialReference=t),e)}function C2e(e){if(e===null)return null;if(e instanceof be)return e.x==="NaN"||e.x===null||isNaN(e.x)?null:e;if(e instanceof ho){if(e.rings.length===0)return null;for(const t of e.rings)if(t.length>0)return e;return null}if(e instanceof On){if(e.paths.length===0)return null;for(const t of e.paths)if(t.length>0)return e;return null}return e instanceof rf?e.points.length===0?null:e:e instanceof lt?e.xmin==="NaN"||e.xmin===null||isNaN(e.xmin)?null:e:null}function Iq(e,t){if(!e||!e.domain)return t;let i=null;if(e.field.type==="string"||e.field.type==="esriFieldTypeString")t=Zc(t);else{if(t==null)return null;if(t==="")return t;t=qt(t)}for(let n=0;n<e.domain.codedValues.length;n++){const r=e.domain.codedValues[n];r.code===t&&(i=r)}return i===null?t:i.name}function Mq(e,t){if(!e||!e.domain)return t;let i=null;t=Zc(t);for(let n=0;n<e.domain.codedValues.length;n++){const r=e.domain.codedValues[n];r.name===t&&(i=r)}return i===null?t:i.code}function g_(e,t,i=null,n=null){if(!t||!t.fields)return null;let r,a,o=null;for(let s=0;s<t.fields.length;s++){const l=t.fields[s];l.name.toLowerCase()===e.toString().toLowerCase()&&(o=l)}if(o===null)throw new Error("Field not found");return n===null&&i&&t.typeIdField&&(n=i.hasField(t.typeIdField)?i.field(t.typeIdField):null),n!=null&&t.types.some(function(s){return s.id===n&&(r=s.domains&&s.domains[o.name],r&&r.type==="inherited"&&(r=aF(o.name,t),a=!0),!0)}),a||r||(r=aF(e,t)),{field:o,domain:r}}function aF(e,t){let i;return t.fields.some(function(n){return n.name.toLowerCase()===e.toLowerCase()&&(i=n.domain),!!i}),i}function w$(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});const i=typeof t.cycles=="boolean"&&t.cycles,n=t.cmp&&(r=t.cmp,function(o){return function(s,l){const u={key:s,value:o[s]},h={key:l,value:o[l]};return r(u,h)}});var r;const a=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s===void 0)return;if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);let l,u;if(Array.isArray(s)){for(u="[",l=0;l<s.length;l++)l&&(u+=","),u+=o(s[l])||"null";return u+"]"}if(s===null)return"null";if(a.indexOf(s)!==-1){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const h=a.push(s)-1,m=Object.keys(s).sort(n&&n(s));for(u="",l=0;l<m.length;l++){const f=m[l],g=o(s[f]);g&&(u&&(u+=","),u+=JSON.stringify(f)+":"+g)}return a.splice(h,1),"{"+u+"}"}(e)}function T2e(e){if(e===null)return null;const t=[];for(const i of e)i&&i.arcadeDeclaredClass&&i.arcadeDeclaredClass==="esri.arcade.Feature"?t.push(i.geometry()):t.push(i);return t}function qm(e,t){if(!(t instanceof be))throw new Error("Invalid Argument");e.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}function E2e(e,t){if(ba(e)||gh(e)){let i=!1,n=!1,r=[],a=t;if(ba(e)){for(const o of e)qm(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ,n=e[0].hasM)}else if(e instanceof Ch)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else{if(!gh(e))throw new Error("Invalid Argument");for(const o of e.toArray())qm(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:(hE(r,n,i)===!1&&(r=r.slice(0).reverse()),new ho({rings:[r],spatialReference:a,hasZ:i,hasM:n}))}return e}function I2e(e,t){if(ba(e)||gh(e)){let i=!1,n=!1,r=[],a=t;if(ba(e)){for(const o of e)qm(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof Ch)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(gh(e)){for(const o of e.toArray())qm(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:new On({paths:[r],spatialReference:a,hasZ:i,hasM:n})}return e}function M2e(e,t){if(ba(e)||gh(e)){let i=!1,n=!1,r=[],a=t;if(ba(e)){for(const o of e)qm(r,o);r.length>0&&(a=e[0].spatialReference,i=e[0].hasZ===!0,n=e[0].hasM===!0)}else if(e instanceof Ch)r=e._elements,r.length>0&&(i=e._hasZ,n=e._hasM,a=e.get(0).spatialReference);else if(gh(e)){for(const o of e.toArray())qm(r,o);r.length>0&&(a=e.get(0).spatialReference,i=e.get(0).hasZ===!0,n=e.get(0).hasM===!0)}return r.length===0?null:new rf({points:r,spatialReference:a,hasZ:i,hasM:n})}return e}function O2e(e,t=!1){const i=[];if(e===null)return i;if(ba(e)===!0){for(let n=0;n<e.length;n++){const r=Zc(e[n]);r===""&&t!==!0||i.push(r)}return i}if(e instanceof ks){for(let n=0;n<e.length();n++){const r=Zc(e.get(n));r===""&&t!==!0||i.push(r)}return i}if(Zx(e)){const n=Zc(e);return n===""&&t!==!0||i.push(n),i}return[]}let _S=0;function A2e(e){return _S++,_S%100==0?(_S=0,FT(t=>{setTimeout(()=>{t(e)},0)})):e}function P2e(e,t,i){switch(i){case"&":return e&t;case"|":return e|t;case"^":return e^t;case"<<":return e<<t;case">>":return e>>t;case">>>":return e>>>t}}function Cy(e,t=null){return e==null?null:Tn(e)||En(e)||Qi(e)?e:e instanceof nr?(t==null?void 0:t.keepGeometryType)===!0?e:e.toJSON():e instanceof ks?e.toArray().map(i=>Cy(i,t)):e instanceof Array?e.map(i=>Cy(i,t)):e instanceof Date?e:e!==null&&typeof e=="object"&&e.castAsJson!==void 0?e.castAsJson(t):null}function L2e(e,t,i,n,r){return OI(e,t,i).then(a=>{r[n]=a})}function OI(e,t=null,i=null){if(e instanceof ks&&(e=e.toArray()),e==null)return Vp(null);if(Zx(e)||e instanceof nr||e instanceof Date)return Vp(Cy(e,i));if(e instanceof Array){const n=[],r=[];for(const a of e)a===null||Zx(a)||a instanceof nr||a instanceof Date?r.push(Cy(a,i)):(r.push(null),n.push(L2e(a,t,i,r.length-1,r)));return n.length>0?tz(n).then(()=>r):Vp(r)}return e!==null&&typeof e=="object"&&e.castAsJsonAsync!==void 0?e.castAsJsonAsync(t,i):Vp(null)}function R2e(e,t,i){const n=e.fullSchema();return n===null||!n.fields?null:g_(t,n,e,i)}function F2e(e){const t=e.fullSchema();return t===null?null:t.fields&&t.typeIdField?{subtypeField:t.typeIdField,subtypes:t.types?t.types.map(i=>({name:i.name,code:i.id})):[]}:null}function N2e(e,t,i,n){const r=e.fullSchema();if(r===null||!r.fields)return null;const a=g_(t,r,e,n);if(i===void 0)try{i=e.field(t)}catch{return null}return Iq(a,i)}function z2e(e,t,i,n){const r=e.fullSchema();if(r===null||!r.fields)return null;if(i===void 0){try{i=e.field(t)}catch{return null}return i}return Mq(g_(t,r,e,n),i)}function j2e(e){const t=e.fullSchema();if(t===null||!t.fields)return null;const i=[];for(const n of t.fields)i.push(o2e(n));return{objectIdField:t.objectIdField,globalIdField:t.globalIdField,geometryType:rF[t.geometryType]===void 0?"":rF[t.geometryType],fields:i}}const QAe=Object.freeze({__proto__:null,ReturnResultE:Dq,ImplicitResultE:$q,NativeFunctionE:TI,SizzleFunctionE:EI,NativeFunction:s2e,ImplicitResult:l2e,ReturnResult:c2e,SizzleFunction:u2e,voidOperation:$r,breakResult:d2e,continueResult:h2e,multiReplace:$y,isFunctionParameter:II,isSimpleType:Zx,defaultUndefined:p2e,isString:Qi,isBoolean:Tn,isNumber:En,isInteger:m2e,isArray:ba,isFeature:f2e,isFeatureSet:g2e,isFeatureSetCollection:y2e,isImmutableArray:gh,isDate:hn,pcCheck:b2e,absRound:v2e,generateUUID:w2e,formatNumber:MI,formatDate:f_,standardiseDateFormat:Cq,greaterThanLessThan:x2e,equalityTest:Tq,toString:Zc,toNumberArray:k2e,toStringExplicit:Q1,toNumber:qt,toDate:_2e,toDateTime:S2e,toBoolean:D2e,fixSpatialReference:$2e,fixNullGeometry:C2e,getDomainValue:Iq,getDomainCode:Mq,getDomain:g_,stableStringify:w$,autoCastFeatureToGeometry:T2e,autoCastArrayOfPointsToPolygon:E2e,autoCastArrayOfPointsToPolyline:I2e,autoCastArrayOfPointsToMultiPoint:M2e,toStringArray:O2e,tick:A2e,binaryOperator:P2e,castAsJson:Cy,castAsJsonAsync:OI,featureFullDomain:R2e,featureSubtypes:F2e,featureDomainValueLookup:N2e,featureDomainCodeLookup:z2e,featureSchema:j2e});var x$;let Z0=x$=class extends B{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new x$({minValue:this.minValue,maxValue:this.maxValue})}};c([d({type:Number,json:{write:!0}})],Z0.prototype,"minValue",void 0),c([d({type:Number,json:{write:!0}})],Z0.prototype,"maxValue",void 0),Z0=x$=c([_("esri.renderer.support.AuthoringInfoClassBreakInfo")],Z0);const V2e=Z0;var k$;let ed=k$=class extends B{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new k$({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:N(this.classBreakInfos)})}};c([d({type:String,json:{write:!0}})],ed.prototype,"field",void 0),c([d({type:String,json:{write:!0}})],ed.prototype,"normalizationField",void 0),c([d({type:String,json:{write:!0}})],ed.prototype,"label",void 0),c([d({type:[V2e],json:{write:!0}})],ed.prototype,"classBreakInfos",void 0),ed=k$=c([_("esri.renderers.support.AuthoringInfoFieldInfo")],ed);const oF=ed;var _$;const Lv=new Te({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),Rv=new Te({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),sF={key:e=>typeof e=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},lF=["high-to-low","above-and-below","centered-on","extremes"],cF=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],uF=["seconds","minutes","hours","days","months","years"];let Un=_$=class extends B{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return typeof e=="string"||typeof e=="number"?e:null}castStartTime(e){return typeof e=="string"||typeof e=="number"?e:null}get style(){return this.type==="color"?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new _$({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};c([d({types:sF,json:{write:!0}})],Un.prototype,"endTime",void 0),c([Ye("endTime")],Un.prototype,"castEndTime",null),c([d({type:String,json:{write:!0}})],Un.prototype,"field",void 0),c([d({type:Number,json:{write:!0}})],Un.prototype,"maxSliderValue",void 0),c([d({type:Number,json:{write:!0}})],Un.prototype,"minSliderValue",void 0),c([d({types:sF,json:{write:!0}})],Un.prototype,"startTime",void 0),c([Ye("startTime")],Un.prototype,"castStartTime",null),c([d({type:Lv.apiValues,value:null,json:{type:Lv.jsonValues,read:Lv.read,write:Lv.write}})],Un.prototype,"style",null),c([d({type:cF,value:null,json:{type:cF,origins:{"web-scene":{type:lF,write:{writer:(e,t)=>{lF.indexOf(e)>-1&&(t.theme=e)}}}},write:!0}})],Un.prototype,"theme",null),c([d({type:Rv.apiValues,json:{type:Rv.jsonValues,read:Rv.read,write:Rv.write}})],Un.prototype,"type",void 0),c([d({type:uF,json:{type:uF,write:!0}})],Un.prototype,"units",void 0),Un=_$=c([_("esri.renderers.support.AuthoringInfoVisualVariable")],Un);const H2e=Un;let ew=class extends B{constructor(e){super(e),this.type=null}};c([d({readOnly:!0,json:{read:!1,write:!0}})],ew.prototype,"type",void 0),ew=c([_("esri.rest.support.ColorRamp")],ew);const AI=ew;var S$;let td=S$=class extends AI{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new S$({fromColor:N(this.fromColor),toColor:N(this.toColor),algorithm:this.algorithm})}};c([ye({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],td.prototype,"algorithm",void 0),c([d({type:Ie,json:{type:[xt],write:!0}})],td.prototype,"fromColor",void 0),c([d({type:Ie,json:{type:[xt],write:!0}})],td.prototype,"toColor",void 0),c([d({type:["algorithmic"]})],td.prototype,"type",void 0),td=S$=c([_("esri.rest.support.AlgorithmicColorRamp")],td);const PI=td;var D$;let X0=D$=class extends AI{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new D$({colorRamps:N(this.colorRamps)})}};c([d({type:[PI],json:{write:!0}})],X0.prototype,"colorRamps",void 0),c([d({type:["multipart"]})],X0.prototype,"type",void 0),X0=D$=c([_("esri.rest.support.MultipartColorRamp")],X0);const Oq=X0,q2e={key:"type",base:AI,typeMap:{algorithmic:PI,multipart:Oq}};function U2e(e){return e&&e.type?e.type==="algorithmic"?PI.fromJSON(e):e.type==="multipart"?Oq.fromJSON(e):null:null}var $$;const $u=new Te({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),Fv=new Te({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),dF=new Te({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),hF=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],B2e=["high-to-low","above-and-below","above","below","90-10"],G2e=["flow-line","wave-front"],W2e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let oi=$$=class extends B{constructor(e){super(e),this.colorRamp=null,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&t!=="relationship"?t==="class-breaks-size"||t==="class-breaks-color"?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){if(e)return U2e(e)}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&e!=="relationship"&&e!=="class-breaks-size"&&e!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;e==="classed-size"?t="class-breaks-size":e==="classed-color"&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new $$({classificationMethod:this.classificationMethod,colorRamp:N(this.colorRamp),fields:this.fields&&this.fields.slice(0),field1:N(this.field1),field2:N(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};c([d({type:$u.apiValues,value:null,json:{type:$u.jsonValues,read:$u.read,write:$u.write,origins:{"web-document":{default:"manual",type:$u.jsonValues,read:$u.read,write:$u.write}}}})],oi.prototype,"classificationMethod",null),c([d({types:q2e,json:{write:!0}})],oi.prototype,"colorRamp",void 0),c([te("colorRamp")],oi.prototype,"readColorRamp",null),c([d({type:[String],value:null,json:{write:!0}})],oi.prototype,"fields",null),c([d({type:oF,value:null,json:{write:!0}})],oi.prototype,"field1",null),c([d({type:oF,value:null,json:{write:!0}})],oi.prototype,"field2",null),c([d({type:G2e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],oi.prototype,"flowTheme",null),c([d({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],oi.prototype,"focus",null),c([d({type:Number,value:null,json:{type:xt,write:!0}})],oi.prototype,"numClasses",null),c([d({type:hF,json:{type:hF,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],oi.prototype,"lengthUnit",void 0),c([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],oi.prototype,"maxSliderValue",void 0),c([d({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],oi.prototype,"minSliderValue",void 0),c([d({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],oi.prototype,"statistics",null),c([d({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],oi.prototype,"standardDeviationInterval",null),c([d({type:Fv.apiValues,value:null,json:{type:Fv.jsonValues,read:Fv.read,write:Fv.write,origins:{"web-scene":{type:dF.jsonValues,write:{writer:dF.write,overridePolicy:e=>({enabled:e!=="flow"})}}}}})],oi.prototype,"type",null),c([d({type:[H2e],json:{write:!0}})],oi.prototype,"visualVariables",void 0),c([d({type:W2e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],oi.prototype,"univariateSymbolStyle",null),c([d({type:B2e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],oi.prototype,"univariateTheme",null),oi=$$=c([_("esri.renderers.support.AuthoringInfo")],oi);const J2e=oi,SS=new Te({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});let Q0=class extends B{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};c([d({type:J2e,json:{write:!0}})],Q0.prototype,"authoringInfo",void 0),c([d({type:SS.apiValues,readOnly:!0,json:{type:SS.jsonValues,read:!1,write:{writer:SS.write,ignoreOrigin:!0}}})],Q0.prototype,"type",void 0),Q0=c([_("esri.renderers.Renderer")],Q0);const pu=Q0;var C$;let tw=C$=class extends B{constructor(){super(...arguments),this.title=null}clone(){return new C$({title:this.title})}};c([d({type:String,json:{write:!0}})],tw.prototype,"title",void 0),tw=C$=c([_("esri.renderers.support.LegendOptions")],tw);const LI=tw;var T$;let iw=T$=class extends LI{constructor(){super(...arguments),this.showLegend=null}clone(){return new T$({title:this.title,showLegend:this.showLegend})}};c([d({type:Boolean,json:{write:!0}})],iw.prototype,"showLegend",void 0),iw=T$=c([_("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],iw);const Aq=iw,Y2e=Z.getLogger("esri.renderers.visualVariables.VisualVariable"),DS=new Te({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Ha=class extends B{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(Y2e.error(".field: field must be a string value"),null):tb(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};c([d()],Ha.prototype,"index",void 0),c([d({type:DS.apiValues,readOnly:!0,json:{read:DS.read,write:DS.write}})],Ha.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],Ha.prototype,"field",void 0),c([Ye("field")],Ha.prototype,"castField",null),c([d({type:String,json:{write:!0}})],Ha.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Ha.prototype,"valueExpressionTitle",void 0),c([d({readOnly:!0})],Ha.prototype,"arcadeRequired",null),c([d({type:Aq,json:{write:!0}})],Ha.prototype,"legendOptions",void 0),Ha=c([_("esri.renderers.visualVariables.VisualVariable")],Ha);const wb=Ha;var E$;let id=E$=class extends B{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,i){t[i]=e==null?0:e}clone(){return new E$({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};c([d({type:Ie,json:{type:[xt],write:!0}})],id.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],id.prototype,"label",void 0),c([d({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],id.prototype,"value",void 0),c([ae("value")],id.prototype,"writeValue",null),id=E$=c([_("esri.renderers.visualVariables.support.ColorStop")],id);const K2e=id;var I$;let nd=I$=class extends wb{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new I$({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],nd.prototype,"cache",null),c([d({type:["color"],json:{type:["colorInfo"]}})],nd.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],nd.prototype,"normalizationField",void 0),c([d({type:[K2e],json:{write:!0}})],nd.prototype,"stops",null),nd=I$=c([_("esri.renderers.visualVariables.ColorVariable")],nd);const Pq=nd;var M$;let hc=M$=class extends B{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return dy(t.transparency)}writeOpacity(e,t,i){t[i]=cE(e)}clone(){return new M$({label:this.label,opacity:this.opacity,value:this.value})}};c([d({type:String,json:{write:!0}})],hc.prototype,"label",void 0),c([d({type:Number,json:{type:xt,write:{target:"transparency"}}})],hc.prototype,"opacity",void 0),c([te("opacity",["transparency"])],hc.prototype,"readOpacity",null),c([ae("opacity")],hc.prototype,"writeOpacity",null),c([d({type:Number,json:{write:!0}})],hc.prototype,"value",void 0),hc=M$=c([_("esri.renderers.visualVariables.support.OpacityStop")],hc);const Z2e=hc;var O$;let rd=O$=class extends wb{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value),this._set("stops",e)}clone(){return new O$({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],rd.prototype,"cache",null),c([d({type:["opacity"],json:{type:["transparencyInfo"]}})],rd.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],rd.prototype,"normalizationField",void 0),c([d({type:[Z2e],json:{write:!0}})],rd.prototype,"stops",null),rd=O$=c([_("esri.renderers.visualVariables.OpacityVariable")],rd);const Lq=rd;var A$;let Gs=A$=class extends wb{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,i,n){if(n&&n.messages){const r=`visualVariables[${this.index}]`;n.messages.push(new P("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".valueExpressionTitle",context:n}))}}clone(){return new A$({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};c([d({readOnly:!0})],Gs.prototype,"cache",null),c([d({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],Gs.prototype,"axis",void 0),c([d({type:["rotation"],json:{type:["rotationInfo"]}})],Gs.prototype,"type",void 0),c([d({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],Gs.prototype,"rotationType",void 0),c([d({type:String,json:{write:!0}})],Gs.prototype,"valueExpressionTitle",void 0),c([ae("web-scene","valueExpressionTitle")],Gs.prototype,"writeValueExpressionTitleWebScene",null),Gs=A$=c([_("esri.renderers.visualVariables.RotationVariable")],Gs);const Rq=Gs;var P$;let _p=P$=class extends B{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new P$({label:this.label,size:this.size,value:this.value})}};c([d({type:String,json:{write:!0}})],_p.prototype,"label",void 0),c([d({type:Number,cast:at,json:{write:!0}})],_p.prototype,"size",void 0),c([d({type:Number,json:{write:!0}})],_p.prototype,"value",void 0),_p=P$=c([_("esri.renderers.visualVariables.support.SizeStop")],_p);const X2e=_p;var L$;let nw=L$=class extends Aq{constructor(){super(...arguments),this.customValues=null}clone(){return new L$({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};c([d({type:[Number],json:{write:!0}})],nw.prototype,"customValues",void 0),nw=L$=c([_("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],nw);const Q2e=nw;var wl,Pi;function Jp(e){return e&&e.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Ty(e){return e!=null&&!isNaN(e)&&isFinite(e)}function Fq(e){return e.valueExpression?wl.Expression:e.field&&typeof e.field=="string"?wl.Field:wl.Unknown}function eSe(e,t){const i=t||Fq(e),n=e.valueUnit||"unknown";return i===wl.Unknown?Pi.Constant:e.stops?Pi.Stops:e.minSize!=null&&e.maxSize!=null&&e.minDataValue!=null&&e.maxDataValue!=null?Pi.ClampedLinear:n==="unknown"?e.minSize!=null&&e.minDataValue!=null?e.minSize&&e.minDataValue?Pi.Proportional:Pi.Additive:Pi.Identity:Pi.RealWorldSize}(function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"})(wl||(wl={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(Pi||(Pi={}));const Nq={inches:ta(1,"meters","inches"),feet:ta(1,"meters","feet"),"us-feet":ta(1,"meters","us-feet"),yards:ta(1,"meters","yards"),miles:ta(1,"meters","miles"),"nautical-miles":ta(1,"meters","nautical-miles"),millimeters:ta(1,"meters","millimeters"),centimeters:ta(1,"meters","centimeters"),decimeters:ta(1,"meters","decimeters"),meters:ta(1,"meters","meters"),kilometers:ta(1,"meters","kilometers"),"decimal-degrees":1/B0e(1,"meters",Ct.radius)},au=Z.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),pF=new Nn,rw=Math.PI,zq=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function jq(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="color"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const r=typeof t=="number",a=r?null:t,o=a&&a.attributes;let s=r?t:null;const l=n.field,{ipData:u,hasExpression:h}=n.cache;let m=n.cache.compiledFunc;if(!l&&!h){const b=n.stops;return b&&b[0]&&b[0].color}if(typeof s!="number")if(h){if(!$(i)||!$(i.arcade))return void au.error("Use of arcade expressions requires an arcade context");const b={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(b),x=v.createExecContext(a,w);if(!m){const S=v.createSyntaxTree(n.valueExpression);m=v.createFunction(S),n.cache.compiledFunc=m}s=v.executeFunction(m,x)}else o&&(s=o[l]);const f=n.normalizationField,g=o?parseFloat(o[f]):void 0;if(s!=null&&(!f||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(s/=g);const b=RI(s,u);if(b){const v=b[0],w=b[1],x=v===w?n.stops[v].color:Ie.blendColors(n.stops[v].color,n.stops[w].color,b[2],$(i)?i.color:void 0);return new Ie(x)}}}function Vq(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(b=>b.type==="opacity"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r=typeof t=="number",a=r?null:t,o=a&&a.attributes;let s=r?t:null;const l=n.field,{ipData:u,hasExpression:h}=n.cache;let m=n.cache.compiledFunc;if(!l&&!h){const b=n.stops;return b&&b[0]&&b[0].opacity}if(typeof s!="number")if(h){if(z(i)||z(i.arcade))return void au.error("Use of arcade expressions requires an arcade context");const b={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(b),x=v.createExecContext(a,w);if(!m){const S=v.createSyntaxTree(n.valueExpression);m=v.createFunction(S),n.cache.compiledFunc=m}s=v.executeFunction(m,x)}else o&&(s=o[l]);const f=n.normalizationField,g=o?parseFloat(o[f]):void 0;if(s!=null&&(!f||r||!isNaN(g)&&g!==0)){isNaN(g)||r||(s/=g);const b=RI(s,u);if(b){const v=b[0],w=b[1];if(v===w)return n.stops[v].opacity;{const x=n.stops[v].opacity;return x+(n.stops[w].opacity-x)*b[2]}}}}function Hq(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(g=>g.type==="rotation"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=n.axis||"heading",a=r==="heading"&&n.rotationType==="arithmetic"?90:0,o=r==="heading"&&n.rotationType==="arithmetic"?-1:1,s=typeof t=="number"?null:t,l=s&&s.attributes,u=n.field,{hasExpression:h}=n.cache;let m=n.cache.compiledFunc,f=0;if(!u&&!h)return f;if(h){if(z(i)||z(i.arcade))return void au.error("Use of arcade expressions requires an arcade context");const g={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},b=i.arcade.arcadeUtils,v=b.getViewInfo(g),w=b.createExecContext(s,v);if(!m){const x=b.createSyntaxTree(n.valueExpression);m=b.createFunction(x),n.cache.compiledFunc=m}f=b.executeFunction(m,w)}else l&&(f=l[u]||0);return f=typeof f!="number"||isNaN(f)?null:a+o*f,f}function tSe(e,t,i){const n=typeof t=="number",r=n?null:t,a=r&&r.attributes;let o=n?t:null;const{isScaleDriven:s}=e.cache;let l=e.cache.compiledFunc;if(s){const h=$(i)?i.scale:void 0,m=$(i)?i.view:void 0;o=h==null||m==="3d"?iSe(e):h}else if(!n)switch(e.inputValueType){case wl.Expression:{if(z(i)||z(i.arcade))return void au.error("Use of arcade expressions requires an arcade context");const h={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},m=i.arcade.arcadeUtils,f=m.getViewInfo(h),g=m.createExecContext(r,f);if(!l){const b=m.createSyntaxTree(e.valueExpression);l=m.createFunction(b),e.cache.compiledFunc=l}o=m.executeFunction(l,g);break}case wl.Field:a&&(o=a[e.field]);break;case wl.Unknown:o=null}if(!Ty(o))return null;if(n||!e.normalizationField)return o;const u=a?parseFloat(a[e.normalizationField]):null;return Ty(u)&&u!==0?o/u:null}function iSe(e){let t=null,i=null;const n=e.stops;return n?(t=n[0].value,i=n[n.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}function y_(e,t,i){const n="visualVariables"in e&&e.visualVariables?e.visualVariables.find(a=>a.type==="size"):e;if(!n)return;if(n.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void au.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=Uq(tSe(n,t,i),n,t,i,n.cache.ipData);return r==null||isNaN(r)?0:r}function er(e,t,i){return e==null?null:Jp(e)?y_(e,t,i):Ty(e)?e:null}function qq(e,t,i){return Ty(i)&&e>i?i:Ty(t)&&e<t?t:e}function nSe(e,t,i,n){return e+(er(t.minSize,i,n)||t.minDataValue)}function rSe(e,t,i){const n=e.stops;let r=n&&n.length&&n[0].size;return r==null&&(r=e.minSize),er(r,t,i)}function aSe(e,t,i,n){const r=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=er(t.minSize,i,n),o=er(t.maxSize,i,n),s=$(n)?n.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return o;if(t.scaleBy==="area"&&s){const l=s==="circle",u=l?rw*(a/2)**2:a*a,h=u+r*((l?rw*(o/2)**2:o*o)-u);return l?2*Math.sqrt(h/rw):Math.sqrt(h)}return a+r*(o-a)}function oSe(e,t,i,n){const r=$(n)?n.shape:void 0,a=e/t.minDataValue,o=er(t.minSize,i,n),s=er(t.maxSize,i,n);let l=null;return l=r==="circle"?2*Math.sqrt(a*(o/2)**2):r==="square"||r==="diamond"||r==="image"?Math.sqrt(a*o**2):a*o,qq(l,o,s)}function sSe(e,t,i,n,r){const[a,o,s]=RI(e,r);if(a===o)return er(t.stops[a].size,i,n);{const l=er(t.stops[a].size,i,n);return l+(er(t.stops[o].size,i,n)-l)*s}}function lSe(e,t,i,n){const r=($(n)&&n.resolution?n.resolution:1)*Nq[t.valueUnit],a=er(t.minSize,i,n),o=er(t.maxSize,i,n),{valueRepresentation:s}=t;let l=null;return l=s==="area"?2*Math.sqrt(e/rw)/r:s==="radius"||s==="distance"?2*e/r:e/r,qq(l,a,o)}function Uq(e,t,i,n,r){switch(t.transformationType){case Pi.Additive:return nSe(e,t,i,n);case Pi.Constant:return rSe(t,i,n);case Pi.ClampedLinear:return aSe(e,t,i,n);case Pi.Proportional:return oSe(e,t,i,n);case Pi.Stops:return sSe(e,t,i,n,r);case Pi.RealWorldSize:return lSe(e,t,i,n);case Pi.Identity:return e;case Pi.Unknown:return null}}function cSe(e,t,i){const{isScaleDriven:n}=e.cache;if(!(n&&i==="3d"||t))return null;const r={scale:t,view:i};let a=er(e.minSize,pF,r),o=er(e.maxSize,pF,r);if(a!=null||o!=null){if(a>o){const s=o;o=a,a=s}return{minSize:a,maxSize:o}}}function uSe(e,t,i){if(!e.visualVariables)return;const n=[],r=[],a=[],o=[],s=[];for(const l of e.visualVariables)switch(l.type){case"color":r.push(l);break;case"opacity":a.push(l);break;case"rotation":s.push(l);break;case"size":o.push(l)}return r.forEach(l=>{const u=jq(l,t,i);n.push({variable:l,value:u})}),a.forEach(l=>{const u=Vq(l,t,i);n.push({variable:l,value:u})}),s.forEach(l=>{const u=Hq(l,t,i);n.push({variable:l,value:u})}),o.forEach(l=>{const u=y_(l,t,i);n.push({variable:l,value:u})}),n.filter(l=>l.value!=null)}function RI(e,t){if(!t)return;let i=0,n=t.length-1;return t.some((r,a)=>e<r?(n=a,!0):(i=a,!1)),[i,n,(e-t[i])/(t[n]-t[i])]}function dSe(e,t,i){const n=["proportional","proportional","proportional"];for(const r of e){const a=r.useSymbolValue?"symbol-value":y_(r,t,i);switch(r.axis){case"width":n[0]=a;break;case"depth":n[1]=a;break;case"height":n[2]=a;break;case"width-and-depth":n[0]=a,n[1]=a;break;case"all":case void 0:case null:n[0]=a,n[1]=a,n[2]=a;break;default:r.axis}}return n}var hSe=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:dSe,getColor:jq,getOpacity:Vq,getRotationAngle:Hq,getSize:y_,getSizeForValue:Uq,getSizeFromNumberOrVariable:er,getSizeRangeAtScale:cSe,getVisualVariableValues:uSe,viewScaleRE:zq},Symbol.toStringTag,{value:"Module"})),R$;const Gh=Z.getLogger("esri.renderers.visualVariables.SizeVariable"),Nv=new Te({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),F$=new Te({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function mF(e){if(e!=null)return typeof e=="string"||typeof e=="number"?at(e):e.type==="size"?Jp(e)?e:(delete(e=D({},e)).type,new Qe(e)):void 0}function fF(e,t,i){if(typeof e!="object")return e;const n=new Qe;return n.read(e,i),n}let Qe=R$=class extends wb{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:zq.test(this.valueExpression)}}set expression(e){Gh.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),e==="view.scale"?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){Jp(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),Jp(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return Fq(this)}set maxDataValue(e){e&&this.stops&&(Gh.warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(Gh.warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return mF(e)}readMaxSize(e,t,i){return fF(e,t,i)}set minDataValue(e){e&&this.stops&&(Gh.warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(Gh.warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return mF(e)}readMinSize(e,t,i){return fF(e,t,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(e){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?e&&Array.isArray(e)&&(e=e.filter(t=>!!t)).sort((t,i)=>t.value-i.value):e&&(Gh.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return eSe(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,i,n){if(e==="$view.scale"){if(n&&n.messages){const r=this.index,a=typeof r=="string"?r:`visualVariables[${r}]`;n.messages.push(new P("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:a+".valueExpression",context:n}))}}else t[i]=e}readValueUnit(e){return e?F$.read(e):null}clone(){return new R$({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Jp(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Jp(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(e=>e.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===Pi.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===Pi.Stops){const e=this.stops,t=e.map(n=>n.size).reverse(),i=e.length;for(let n=0;n<i;n++)e[n].size=t[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(e=>e.value||0)}};c([d({readOnly:!0})],Qe.prototype,"cache",null),c([d({type:Nv.apiValues,json:{type:Nv.jsonValues,origins:{"web-map":{read:!1}},read:Nv.read,write:Nv.write}})],Qe.prototype,"axis",void 0),c([d({type:String,value:null,json:{read:!1}})],Qe.prototype,"expression",null),c([d()],Qe.prototype,"index",null),c([d({type:String,readOnly:!0})],Qe.prototype,"inputValueType",null),c([d({type:Q2e,json:{write:!0}})],Qe.prototype,"legendOptions",void 0),c([d({type:Number,value:null,json:{write:!0}})],Qe.prototype,"maxDataValue",null),c([d({type:Number,value:null,json:{write:!0}})],Qe.prototype,"maxSize",null),c([Ye("maxSize")],Qe.prototype,"castMaxSize",null),c([te("maxSize")],Qe.prototype,"readMaxSize",null),c([d({type:Number,value:null,json:{write:!0}})],Qe.prototype,"minDataValue",null),c([d({type:Number,value:null,json:{write:!0}})],Qe.prototype,"minSize",null),c([Ye("minSize")],Qe.prototype,"castMinSize",null),c([te("minSize")],Qe.prototype,"readMinSize",null),c([d({type:String,json:{write:!0}})],Qe.prototype,"normalizationField",void 0),c([d({readOnly:!0})],Qe.prototype,"arcadeRequired",null),c([d({type:String})],Qe.prototype,"scaleBy",void 0),c([d({type:[X2e],value:null,json:{write:!0}})],Qe.prototype,"stops",null),c([d({type:["outline"],json:{write:!0}})],Qe.prototype,"target",void 0),c([d({type:String,readOnly:!0})],Qe.prototype,"transformationType",null),c([d({type:["size"],json:{type:["sizeInfo"]}})],Qe.prototype,"type",void 0),c([d({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],Qe.prototype,"useSymbolValue",void 0),c([d({type:String,json:{write:!0}})],Qe.prototype,"valueExpression",void 0),c([te("valueExpression",["valueExpression","expression"])],Qe.prototype,"readValueExpression",null),c([ae("web-scene","valueExpression")],Qe.prototype,"writeValueExpressionWebScene",null),c([d({type:["radius","diameter","area","width","distance"],json:{write:!0}})],Qe.prototype,"valueRepresentation",void 0),c([d({type:F$.apiValues,json:{write:F$.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],Qe.prototype,"valueUnit",void 0),c([te("valueUnit")],Qe.prototype,"readValueUnit",null),Qe=R$=c([_("esri.renderers.visualVariables.SizeVariable")],Qe);const Bq=Qe,pSe=Z.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),mSe={color:Pq,size:Bq,opacity:Lq,rotation:Rq},fSe=new Te({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),gSe=/^\[([^\]]+)\]$/i;let aw=class extends he{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter(t=>!!t))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&e.sort((t,i)=>{let n=null;return n=t.target===i.target?0:t.target?1:-1,n});for(let t=0;t<e.length;t++)e[t].index=t;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,i){const{rotationExpression:n,rotationType:r}=t,a=n&&n.match(gSe),o=a&&a[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:r,field:o})),e)return e.map(s=>{const l=fSe.read(s.type),u=mSe[l];u||(pSe.warn(`Unknown variable type: ${l}`),i&&i.messages&&i.messages.push(new Rn("visual-variable:unsupported",`visualVariable of type '${l}' is not supported`,{definition:s,context:i})));const h=new u;return h.read(s,i),h})}writeVariables(e,t){const i=[];for(const n of e){const r=n.toJSON(t);r&&i.push(r)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};c([d()],aw.prototype,"visualVariables",null),aw=c([_("esri.renderers.visualVariables.VisualVariableFactory")],aw);const ySe=aw,bSe={base:wb,key:"type",typeMap:{opacity:Lq,color:Pq,rotation:Rq,size:Bq}},xb=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new ySe}set visualVariables(i){this._vvFactory.visualVariables=i,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(i,n,r){return this._vvFactory.readVariables(i,n,r)}writeVisualVariables(i,n,r,a){n[r]=this._vvFactory.writeVariables(i,a)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const i of this.visualVariables)if(i.arcadeRequired)return!0;return!1}hasVisualVariables(i,n){return i?this.getVisualVariablesForType(i,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(i,n){const r=this.visualVariables;return r?r.filter(a=>a.type===i&&(typeof n=="string"?a.target===n:n!==!1||!a.target)):[]}async collectVVRequiredFields(i,n){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const a of r)a&&(a.field&&pa(i,n,a.field),a.normalizationField&&pa(i,n,a.normalizationField),a.valueExpression&&await Lr(i,n,a.valueExpression))}};return c([d({types:[bSe],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),c([te("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),c([ae("visualVariables")],t.prototype,"writeVisualVariables",null),t=c([_("esri.renderers.mixins.VisualVariablesMixin")],t),t},o0={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function vSe(e,t=o0){if(!e)return{symbol:null};const{retainId:i=o0.retainId,ignoreDrivers:n=o0.ignoreDrivers,hasLabelingContext:r=o0.hasLabelingContext,retainCIM:a=o0.retainCIM}=t;let o;if(by(e)||e instanceof Sh)o=e.clone();else if(e.type==="cim"){var s,l;const u=(s=e.data)==null||(l=s.symbol)==null?void 0:l.type;if(u!=="CIMPointSymbol")return{error:new P("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${u||"unknown"}' is unsupported in 3D`,{symbol:e})};o=a?e.clone():Td.fromCIMSymbol(e)}else if(e instanceof bo)o=e_.fromSimpleLineSymbol(e);else if(e instanceof uf)o=Td.fromSimpleMarkerSymbol(e);else if(e instanceof cb)o=Td.fromPictureMarkerSymbol(e);else if(e instanceof _h)o=ub.fromSimpleFillSymbol(e);else{if(!(e instanceof df))return{error:new P("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};o=r?Qk.fromTextSymbol(e):Td.fromTextSymbol(e)}if(i&&o.type!=="cim"&&(o.id=e.id),n&&by(o))for(let u=0;u<o.symbolLayers.length;++u)o.symbolLayers.getItemAt(u)._ignoreDrivers=!0;return{symbol:o}}function Qx(e,t,i,n){const r=Gq(e,{},{context:n,isLabelSymbol:!1});$(r)&&(t[i]=r)}function gF(e,t,i,n){const r=Gq(e,{},{context:n,isLabelSymbol:!0});$(r)&&(t[i]=r)}function Gq(e,t,i){if(z(e))return null;const{context:n,isLabelSymbol:r}=i;if(n&&n.origin==="web-scene"&&!(e instanceof cf)&&!(e instanceof Sh)){const a=vSe(e,{retainCIM:!0,hasLabelingContext:r});return $(a.symbol)?a.symbol.write(t,n):(n.messages&&n.messages.push(new P("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:n,error:a.error})),null)}return n&&n.origin==="web-map"&&e.type==="web-style"?(n.messages&&n.messages.push(new P("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:n})),null):e.write(t,n)}function ePe(e,t){return i0e(e,null,t)}const kb={types:Zj,json:{write:{writer:Qx},origins:{"web-scene":{types:ZP,write:{writer:Qx},read:{reader:Qm({types:ZP})}}}}},Wq={types:{base:ur,key:"type",typeMap:{"simple-fill":Gd.typeMap["simple-fill"],"picture-fill":Gd.typeMap["picture-fill"],"polygon-3d":Gd.typeMap["polygon-3d"]}},json:{write:{writer:Qx},origins:{"web-scene":{type:ub,write:{writer:Qx}}}}};var N$;let pc=N$=class extends B{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new N$({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};c([d({type:String,json:{write:!0}})],pc.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],pc.prototype,"label",void 0),c([d({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],pc.prototype,"minValue",void 0),c([d({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],pc.prototype,"maxValue",void 0),c([d(kb)],pc.prototype,"symbol",void 0),pc=N$=c([_("esri.renderers.support.ClassBreakInfo")],pc);const ek=pc;var z$;const zv=Z.getLogger("esri.renderers.ClassBreaksRenderer"),Jq="log",ow="percent-of-total",sw="field",jv=new Te({esriNormalizeByLog:Jq,esriNormalizeByPercentOfTotal:ow,esriNormalizeByField:sw}),wSe=_t(ek);let yi=z$=class extends xb(pu){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let n=t.minValue;return e.map(r=>{const a=new ek;return a.read(r,i),a.minValue==null&&(a.minValue=n),a.maxValue==null&&(a.maxValue=a.minValue),n=a.maxValue,a})}writeClassBreakInfos(e,t,i,n){const r=e.map(a=>a.write({},n));this._areClassBreaksConsecutive()&&r.forEach(a=>delete a.classMinValue),t[i]=r}castField(e){return e==null?e:typeof e=="function"?(zv.error(".field: field must be a string value"),null):tb(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=this.normalizationTotal!=null;return t||i?(e=t&&sw||i&&ow||null,t&&i&&zv.warn("warning: both normalizationField and normalizationTotal are set!")):e!==sw&&e!==ow||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let n=null;n=typeof e=="number"?new ek({minValue:e,maxValue:t,symbol:Xj(i)}):wSe(N(e)),this.classBreakInfos.push(n),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(e,t){return this.valueExpression&&(z(t)||z(t.arcade))&&zv.warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&(z(t)||z(t.arcade))&&(i=ne(D({},i),{arcade:await $l()}));const n=this.getBreakIndex(e,i);return n!==-1?this.classBreakInfos[n]:null}getSymbol(e,t){if(this.valueExpression&&(z(t)||z(t.arcade)))return void zv.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(z(t)||z(t.arcade))){const r=await $l(),{arcadeUtils:a}=r;a.hasGeometryOperations(this.valueExpression)&&await a.enableGeometryOperations(),i=ne(D({},i),{arcade:r})}const n=this.getBreakIndex(e,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach(t=>{t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce((n,r)=>n+r.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new z$({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:N(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:N(this.visualVariables),legendOptions:N(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Lr(e,t,this.valueExpression)];pa(e,t,this.field),pa(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:a}=AT(t,{});let o=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;const s=a.arcadeUtils;if(!o){const u=s.createSyntaxTree(this.valueExpression);o=s.createFunction(u),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=this.valueExpression;const l=s.executeFunction(o,s.createExecContext(e,s.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._getBreakIndexfromInfos(l)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,n=this.normalizationType;let r=parseFloat(i[t]);if(n){const a=this.normalizationTotal,o=parseFloat(i[this.normalizationField]);if(n===Jq)r=Math.log(r)*Math.LOG10E;else if(n!==ow||isNaN(a)){if(n===sw&&!isNaN(o)){if(isNaN(r)||isNaN(o))return-1;r/=o}}else r=r/a*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(e!=null&&typeof e=="number"&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=e&&(t?e<=n[1]:e<n[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};c([d(Wq)],yi.prototype,"backgroundFillSymbol",void 0),c([d({type:[ek]})],yi.prototype,"classBreakInfos",void 0),c([te("classBreakInfos")],yi.prototype,"readClassBreakInfos",null),c([ae("classBreakInfos")],yi.prototype,"writeClassBreakInfos",null),c([d({type:String,json:{write:!0}})],yi.prototype,"defaultLabel",void 0),c([d(kb)],yi.prototype,"defaultSymbol",void 0),c([d({type:String,json:{write:!0}})],yi.prototype,"field",void 0),c([Ye("field")],yi.prototype,"castField",null),c([d({type:Boolean})],yi.prototype,"isMaxInclusive",void 0),c([d({type:LI,json:{write:!0}})],yi.prototype,"legendOptions",void 0),c([d({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],yi.prototype,"minValue",null),c([d({type:String,json:{write:!0}})],yi.prototype,"normalizationField",void 0),c([d({type:Number,cast:e=>la(e),json:{write:!0}})],yi.prototype,"normalizationTotal",void 0),c([d({type:jv.apiValues,value:null,json:{type:jv.jsonValues,read:jv.read,write:jv.write}})],yi.prototype,"normalizationType",null),c([ye({classBreaks:"class-breaks"})],yi.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],yi.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],yi.prototype,"valueExpressionTitle",void 0),yi=z$=c([_("esri.renderers.ClassBreaksRenderer")],yi);const Yq=yi,$S=-3;var Ac;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(Ac||(Ac={}));class tPe{constructor(t,i,n){this._namespace=t,this._storage=i,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",n&&(this._storage.registerRemoveFunc(this._namespace,n),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(t,i,n,r=0){this._storage.put(this._namespace+t,i,n,r)}get(t){const i=this._storage.get(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}pop(t){const i=this._storage.pop(this._namespace+t);return i===void 0?++this._miss:++this._hit,i}updateSize(t,i,n){this._storage.updateSize(this._namespace+t,i,n)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class Kq{constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new Ud,this._users=new Ud}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,i){this._removeFuncs.push([t,i])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(i=>i[0]!==t)}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,i,n,r){const a=this._db.get(t);if(a&&(this._size-=a.size,this._db.delete(t),a.entry!==i&&this._notifyRemove(t,a.entry,Ac.ALL)),n>this._maxSize)return void this._notifyRemove(t,i,Ac.ALL);if(i===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return void console.warn("Refusing to cache entry with invalid size "+n);const o=1+Math.max(r,$S)-$S;this._db.set(t,{entry:i,size:n,lifetime:o,lives:o}),this._size+=n,this._checkSizeLimit()}updateSize(t,i,n){const r=this._db.get(t);if(r&&r.entry===i){for(this._size-=r.size;n>this._maxSize;){const a=this._notifyRemove(t,i,Ac.SOME);if(!($(a)&&a>0))return void this._db.delete(t);n=a}r.size=n,this._size+=n,this._checkSizeLimit()}}pop(t){const i=this._db.get(t);if(i)return this._size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(t){const i=this._db.get(t);if(i!==void 0)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},n=new Array;this._db.forEach((o,s)=>{const l=o.lifetime;n[l]=(n[l]||0)+o.size,this._users.forAll(u=>{const h=u.namespace;if(s.startsWith(h)){const m=i[h]||0;i[h]=m+o.size}})});const r={};this._users.forAll(o=>{const s=o.namespace;if(!isNaN(o.hitRate)&&o.hitRate>0){const l=i[s]||0;i[s]=l,r[s]=Math.round(100*o.hitRate)+"%"}else r[s]="0%"});const a=Object.keys(i);a.sort((o,s)=>i[s]-i[o]),a.forEach(o=>t[o]=Math.round(i[o]/2**20)+"MB / "+r[o]);for(let o=n.length-1;o>=0;--o){const s=n[o];s&&(t["Priority "+(o+$S-1)]=Math.round(s/this.size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){this._db.forEach((i,n)=>{n.startsWith(t)&&(this._size-=i.size,this._db.delete(n),this._notifyRemove(n,i.entry,Ac.ALL))})}clearAll(){this._db.forEach((t,i)=>this._notifyRemove(i,t.entry,Ac.ALL)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,i,n){let r;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){const o=a[1](i,n);return typeof o=="number"&&(r=o),!0}return!1}),r}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,i]of this._db){if(this._db.delete(t),i.lives<=1){this._size-=i.size;const n=this._notifyRemove(t,i.entry,Ac.SOME);$(n)&&n>0&&(this._size+=n,i.lives=i.lifetime,i.size=n,this._db.set(t,i))}else--i.lives,this._db.set(t,i);if(this._size<=.9*this.maxSize)return}}}class xSe{constructor(t,i){this._storage=new Kq,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i,n){this._storage.put(t,i,n,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}const yF=Z.getLogger("esri.renderers.support.DictionaryLoader"),kSe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class FI{constructor(t,i,n){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new xSe(100),this.url=t,this.config=i,this.fieldMap=n}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,i){let n;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(i));try{n=await this._dictionaryPromise}catch(g){if(va(g))return this._dictionaryPromise=null,null}const r={};if(this.fieldMap)for(const g of this._symbolFields){const b=this.fieldMap[g];if(b&&t.attributes[b]!=null){const v=""+t.attributes[b];r[g]=v}else r[g]=""}const a=n(r,i);if(!a||typeof a!="string")return null;const o=PT(a).toString(),s=this._symbolCache.get(o);if(s)return s.catch(()=>{this._symbolCache.pop(o)}),s;const l=a.split(";"),u=[],h=[];for(const g of l)if(g)if(g.includes("po:")){const b=g.substr(3).split("|");if(b.length===3){const v=b[0],w=b[1];let x=b[2];if(w==="DashTemplate")x=x.split(" ").map(S=>Number(S));else if(w==="Color"){const S=new Ie(x).toRgba();x=[S[0],S[1],S[2],255*S[3]]}else x=Number(x);h.push({primitiveName:v,propertyName:w,value:x})}}else if(g.includes("|")){for(const b of g.split("|"))if(this._itemNames.has(b)){u.push(b);break}}else this._itemNames.has(g)&&u.push(g);const m=!$(t.geometry)||!t.geometry.hasZ&&t.geometry.type==="point",f=this._cimPartsToCIMSymbol(u,h,m,i);return this._symbolCache.put(o,f,1),f}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void yF.error("no valid URL!");const i=$(t)?t.abortOptions:null,n=$t(this.url+"/resources/styles/dictionary-info.json",D({responseType:"json",query:{f:"json"}},i)),[{data:r}]=await Promise.all([n,$l()]);if(!r)throw this._dictionaryPromise=null,new P("esri.renderers.DictionaryRenderer","Bad dictionary data!");const a=r.expression,o=r.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(r.itemsNames),this._symbolFields=o.symbol;const s={};if(this.config){const u=this.config;for(const h in u)s[h]=u[h]}if(o.configuration)for(const u of o.configuration)s.hasOwnProperty(u.name)||(s[u.name]=u.value);const l=[];if($(t)&&t.fields&&this.fieldMap)for(const u of this._symbolFields){const h=this.fieldMap[u],m=t.fields.filter(f=>f.name===h);m.length>0&&l.push(ne(D({},m[0]),{name:u}))}return this._dictionaryPromise=gme(a,$(t)?t.spatialReference:null,l,s).then(u=>{const h={scale:0};return(m,f)=>{const g=u.repurposeFeature({geometry:null,attributes:m});return h.scale=$(f)?f.scale:void 0,u.evaluate({$feature:g,$view:h})}}).catch(u=>(yF.error("Creating dictinoary expression failed:",u),null)),this._dictionaryPromise}async _cimPartsToCIMSymbol(t,i,n,r){const a=new Array(t.length);for(let l=0;l<t.length;l++)a[l]=this._getSymbolPart(t[l],r);const o=await Promise.all(a),s=this.fieldMap;for(const l of o)Zq(l,s);return new ob({data:this._combineSymbolParts(o,i,n)})}async _getSymbolPart(t,i){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(a=>a.data);const n=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,t),r=$t(n,D({responseType:"json",query:{f:"json"}},i));this._ongoingRequests.set(t,r);try{return(await r).data}catch(a){return this._ongoingRequests.delete(t),Promise.reject(a)}}_combineSymbolParts(t,i,n){if(!t||t.length===0)return null;const r=D({},t[0]);if(t.length>1){r.symbolLayers=[];for(const a of t){const o=a;r.symbolLayers.unshift(...o.symbolLayers)}}return n&&(r.callout=kSe),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:i}}}function Zq(e,t){if(!e)return;const i=e.symbolLayers;if(!i)return;let n=i.length;for(;n--;){const r=i[n];r&&r.enable!==!1&&r.type==="CIMVectorMarker"&&_Se(r,t)}}function _Se(e,t){const i=e.markerGraphics;if(i)for(const n of i){if(!n)continue;const r=n.symbol;if(r)switch(r.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":Zq(r,t);break;case"CIMTextSymbol":r.fieldMap=t}}}var iPe=Object.freeze(Object.defineProperty({__proto__:null,DictionaryLoader:FI},Symbol.toStringTag,{value:"Module"})),j$;let qa=j$=class extends xb(pu){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new FI(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,n){n!=null&&n.origin||super.writeVisualVariables(e,t,i,n)}clone(){return new j$({config:N(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:N(this.fieldMap),url:N(this.url),visualVariables:N(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await Lr(e,t,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];t.has(n)&&e.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};c([d({type:FI})],qa.prototype,"_loader",null),c([d({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],qa.prototype,"config",void 0),c([d({type:Object,json:{write:!0}})],qa.prototype,"fieldMap",void 0),c([d({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],qa.prototype,"scaleExpression",void 0),c([ae("scaleExpression")],qa.prototype,"writeData",null),c([d({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],qa.prototype,"scaleExpressionTitle",void 0),c([d({type:String,json:{write:!0}})],qa.prototype,"url",void 0),c([ae("visualVariables")],qa.prototype,"writeVisualVariables",null),qa=j$=c([_("esri.renderers.DictionaryRenderer")],qa);const SSe=qa;var V$;const DSe=Z.getLogger("esri.renderers.support.AttributeColorInfo");let Ws=V$=class extends B{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return e==null?e:typeof e=="function"?(DSe.error(".field: field must be a string value"),null):tb(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new V$({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};c([d({type:Ie,json:{type:[Number],write:!0}})],Ws.prototype,"color",void 0),c([d({type:String,json:{write:!0}})],Ws.prototype,"field",void 0),c([Ye("field")],Ws.prototype,"castField",null),c([d({type:String,json:{write:!0}})],Ws.prototype,"label",void 0),c([d({type:String,json:{write:!0}})],Ws.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Ws.prototype,"valueExpressionTitle",void 0),Ws=V$=c([_("esri.renderers.support.AttributeColorInfo")],Ws);const $Se=Ws;var H$;let lw=H$=class extends B{constructor(){super(...arguments),this.unit=null}clone(){return new H$({unit:this.unit})}};c([d({type:String,json:{write:!0}})],lw.prototype,"unit",void 0),lw=H$=c([_("esri.renderers.support.DotDensityLegendOptions")],lw);const CSe=lw;var q$;let un=q$=class extends xb(pu){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Ie([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new bo,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(this.referenceScale==null)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new _h({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new q$({attributes:N(this.attributes),backgroundColor:N(this.backgroundColor),dotBlendingEnabled:N(this.dotBlendingEnabled),dotShape:N(this.dotShape),dotSize:N(this.dotSize),dotValue:N(this.dotValue),legendOptions:N(this.legendOptions),outline:N(this.outline),referenceScale:N(this.referenceScale),visualVariables:N(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await Lr(e,t,i.valueExpression),i.field&&e.add(i.field)}};c([d({type:[$Se],json:{write:!0}})],un.prototype,"attributes",void 0),c([d({type:Ie,json:{write:!0}})],un.prototype,"backgroundColor",void 0),c([d({type:Boolean}),ce("dotBlendingEnabled")],un.prototype,"blendDots",void 0),c([d({type:Boolean,json:{write:!0}})],un.prototype,"dotBlendingEnabled",void 0),c([d({type:String,json:{write:!1}})],un.prototype,"dotShape",void 0),c([d({type:Number,json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1}}}})],un.prototype,"dotSize",void 0),c([d({type:CSe,json:{write:!0}})],un.prototype,"legendOptions",void 0),c([d({type:bo,json:{default:null,write:!0}})],un.prototype,"outline",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"dotValue",void 0),c([d({type:Number}),ce("dotValue")],un.prototype,"referenceDotValue",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"referenceScale",void 0),c([d({type:Number,json:{write:!0}})],un.prototype,"seed",void 0),c([ye({dotDensity:"dot-density"})],un.prototype,"type",void 0),un=q$=c([_("esri.renderers.DotDensityRenderer")],un);const TSe=un;var U$;let eg=U$=class extends B{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new U$({color:this.color,ratio:this.ratio})}};c([d({type:Ie,json:{write:!0}})],eg.prototype,"color",void 0),c([d({type:Number,json:{write:!0}})],eg.prototype,"ratio",void 0),eg=U$=c([_("esri.renderers.support.HeatmapColorStop")],eg);const cw=eg;var B$;let Ua=B$=class extends pu{constructor(e){super(e),this.blurRadius=10,this.referenceScale=0,this.colorStops=[new cw({ratio:0,color:new Ie("rgba(255, 140, 0, 0)")}),new cw({ratio:.75,color:new Ie("rgba(255, 140, 0, 1)")}),new cw({ratio:.9,color:new Ie("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type="heatmap"}async collectRequiredFields(e,t){const i=this.field;i&&typeof i=="string"&&pa(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new B$({blurRadius:this.blurRadius,referenceScale:this.referenceScale,colorStops:N(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};c([d({type:Number,json:{write:!0}})],Ua.prototype,"blurRadius",void 0),c([d({type:Number})],Ua.prototype,"referenceScale",void 0),c([d({type:[cw],json:{write:!0}})],Ua.prototype,"colorStops",void 0),c([d({type:String,json:{write:!0}})],Ua.prototype,"field",void 0),c([d({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:i==null})}}})],Ua.prototype,"fieldOffset",void 0),c([d({type:Number,json:{write:!0}})],Ua.prototype,"maxPixelIntensity",void 0),c([d({type:Number,json:{write:!0}})],Ua.prototype,"minPixelIntensity",void 0),c([ye({heatmap:"heatmap"})],Ua.prototype,"type",void 0),Ua=B$=c([_("esri.renderers.HeatmapRenderer")],Ua);const ESe=Ua;var G$;let ad=G$=class extends xb(pu){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map(i=>i.collectRequiredFields(e,t)))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((e,t)=>e+JSON.stringify(t),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new G$({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:N(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};c([d({type:String,json:{write:!0}})],ad.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],ad.prototype,"label",void 0),c([d(kb)],ad.prototype,"symbol",void 0),c([ye({simple:"simple"})],ad.prototype,"type",void 0),ad=G$=c([_("esri.renderers.SimpleRenderer")],ad);const NI=ad,ISe=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function W$(e){return e instanceof he}function bF(e){return e instanceof ge?Object.keys(e.items):W$(e)?Ln(e).keys():e?Object.keys(e):[]}function Vv(e,t){return e instanceof ge?e.items[t]:e[t]}function MSe(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Vg(e){return e?e.declaredClass:null}function Xq(e,t){const i=e.diff;if(i&&typeof i=="function")return i(e,t);const n=bF(e),r=bF(t);if(n.length===0&&r.length===0)return;if(!n.length||!r.length||MSe(e,t))return{type:"complete",oldValue:e,newValue:t};const a=r.filter(m=>n.indexOf(m)===-1),o=n.filter(m=>r.indexOf(m)===-1),s=n.filter(m=>r.indexOf(m)>-1&&Vv(e,m)!==Vv(t,m)).concat(a,o).sort(),l=Vg(e);if(l&&ISe.indexOf(l)>-1&&s.length)return{type:"complete",oldValue:e,newValue:t};let u;const h=W$(e)&&W$(t);for(const m of s){const f=Vv(e,m),g=Vv(t,m);let b;(h||typeof f!="function"&&typeof g!="function")&&f!==g&&(f==null&&g==null||(b=i&&i[m]&&typeof i[m]=="function"?i[m](f,g):typeof f=="object"&&typeof g=="object"&&Vg(f)===Vg(g)?Xq(f,g):{type:"complete",oldValue:f,newValue:g},$(b)&&($(u)?u.diff[m]=b:u={type:"partial",diff:{[m]:b}})))}return u}function OSe(e,t){if(z(e))return!1;const i=t.split(".");let n=e;for(const r of i){if(n.type==="complete")return!0;if(n.type!=="partial")return!1;{const a=n.diff[r];if(!a)return!1;n=a}}return!0}function nPe(e,t){for(const i of t)if(OSe(e,i))return!0;return!1}function ASe(e,t){if(!(typeof e=="function"||typeof t=="function"||z(e)&&z(t)))return z(e)||z(t)||typeof e=="object"&&typeof t=="object"&&Vg(e)!==Vg(t)?{type:"complete",oldValue:e,newValue:t}:Xq(e,t)}var J$;let mc=J$=class extends B{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}castValue(e){return e==null||typeof e=="string"||typeof e=="number"?e:`${e}`}clone(){return new J$({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};c([d({type:String,json:{write:!0}})],mc.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],mc.prototype,"label",void 0),c([d(kb)],mc.prototype,"symbol",void 0),c([d({json:{type:String,write:{writer:(e,t)=>{t.value=e==null?void 0:e.toString()}}}})],mc.prototype,"value",void 0),c([Ye("value")],mc.prototype,"castValue",null),mc=J$=c([_("esri.renderers.support.UniqueValueInfo")],mc);const tk=mc,PSe=()=>!!V("enable-feature:force-wosr"),CS={};async function LSe(e,t){try{return{data:(await zSe(e,t)).data,baseUrl:Gue(e),styleUrl:e}}catch(i){return Qy(i),null}}function RSe(e,t,i){const n=t&&t.portal||rr.getDefault();let r;const a=`${n.url} - ${n.user&&n.user.username} - ${e}`;return CS[a]||(CS[a]=FSe(e,n,i).then(o=>(r=o,o.fetchData())).then(o=>({data:o,baseUrl:r.itemUrl,styleName:e}))),CS[a]}function FSe(e,t,i){return t.load(i).then(()=>{const n=new pl({disableExtraQuery:!0,query:`owner:${vF} AND type:${wF} AND typekeywords:"${e}"`});return t.queryItems(n,i)}).then(({results:n})=>{let r=null;const a=e.toLowerCase();if(n&&Array.isArray(n)){for(const o of n)if(o.typeKeywords.some(s=>s.toLowerCase()===a)&&o.type===wF&&o.owner===vF){r=o;break}}if(!r)throw new P("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return r.load(i)})}function NSe(e,t,i){return e.styleUrl?LSe(e.styleUrl,i):e.styleName?RSe(e.styleName,t,i):Promise.reject(new P("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function rPe(e){return e===null||e.type==="CIMSymbolReference"?e:{type:"CIMSymbolReference",symbol:e}}function aPe(e,t){if(t==="cimRef")return e.cimRef;if(e.formatInfos&&!PSe()){for(const i of e.formatInfos)if(i.type==="gltf")return i.href}return e.webRef}function zSe(e,t){const i=D({responseType:"json",query:{f:"json"}},t);return $t(ao(e),i)}const vF="esri_en",wF="Style",oPe="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var tg;const Cu=Z.getLogger("esri.renderers.UniqueValueRenderer"),jSe=_t(tk);let Ht=tg=class extends xb(pu){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this.type="unique-value",this.backgroundFillSymbol=null,this.field=null,this.field2=null,this.field3=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.fieldDelimiter=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,i){if(!t&&!i)return;if(!t||!i)return{type:"complete",oldValue:t,newValue:i};let n=!1;const r={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let a=0;a<i.length;a++){const o=t.find(s=>s.value===i[a].value);o?ASe(o,i[a])?(r.changed.push({type:"complete",oldValue:o,newValue:i[a]}),n=!0):r.unchanged.push({oldValue:o,newValue:i[a]}):(r.added.push(i[a]),n=!0)}for(let a=0;a<t.length;a++)i.find(o=>o.value===t[a].value)||(r.removed.push(t[a]),n=!0);return n?r:void 0}},this._set("uniqueValueInfos",[])}get _cache(){return{compiledFunc:null}}castField(e){return e==null||typeof e=="function"?e:tb(e)}writeField(e,t,i,n){typeof e=="string"?t[i]=e:n&&n.messages?n.messages.push(new P("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Cu.error(".field: cannot write field to JSON since it's not a string value")}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}readPortal(e,t,i){return i.portal||rr.getDefault()}readStyleOrigin(e,t,i){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const n=of(t.styleUrl,i);return Object.freeze({styleUrl:n})}}writeStyleOrigin(e,t,i,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=lb(e.styleUrl,n))}set uniqueValueInfos(e){this.styleOrigin?Cu.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void Cu.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof e=="object"?jSe(e):new tk({value:e,symbol:Xj(t)}),this.uniqueValueInfos.push(i),this._valueInfoMap[i.value]=i}removeUniqueValueInfo(e){if(this.styleOrigin)Cu.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}}async getUniqueValueInfo(e,t){let i=t;return this.valueExpression&&(z(t)||z(t.arcade))&&(i=ne(D({},i),{arcade:await $l()})),this._getUniqueValueInfo(e,i)}getSymbol(e,t){if(this.valueExpression&&(z(t)||z(t.arcade)))return void Cu.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(e,t);return i&&i.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&(z(i)||z(i.arcade))){const r=await $l(),{arcadeUtils:a}=r;a.hasGeometryOperations(this.valueExpression)&&await a.enableGeometryOperations(),i=ne(D({},i),{arcade:r})}const n=this._getUniqueValueInfo(e,i);return n&&n.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos)t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((e,t)=>e+t.getAttributeHash(),"")}getMeshHash(){return`${JSON.stringify(this.backgroundFillSymbol)}.${JSON.stringify(this.defaultSymbol)}.${this.uniqueValueInfos.reduce((e,t)=>e+t.getMeshHash(),"")}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new tg({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:N(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:N(this.visualVariables),legendOptions:N(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:N(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=N(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(N(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.getSymbols().map(n=>n.collectRequiredFields(e,t)),Lr(e,t,this.valueExpression)];pa(e,t,this.field),pa(e,t,this.field2),pa(e,t,this.field3),await Promise.all(i)}populateFromStyle(){return NSe(this.styleOrigin,{portal:this.portal}).then(e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach(i=>{const n=new Sh({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==e.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const r=new tk({value:i.name,symbol:n});t.push(r),this._valueInfoMap[i.name]=r}),this._set("uniqueValueInfos",Object.freeze(t)),!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateValueInfoMap(){this._valueInfoMap={},this.uniqueValueInfos.forEach(e=>this._valueInfoMap[e.value+""]=e)}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:i,scale:n,spatialReference:r,arcade:a}=AT(t,{});let o=this._cache.compiledFunc;const s=a.arcadeUtils;if(!o){const u=s.createSyntaxTree(this.valueExpression);o=s.createFunction(u),this._cache.compiledFunc=o}const l=s.executeFunction(o,s.createExecContext(e,s.getViewInfo({viewingMode:i,scale:n,spatialReference:r})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,i=e.attributes;let n;if(typeof t!="function"&&this.field2){const r=this.field2,a=this.field3,o=[];t&&o.push(i[t]),r&&o.push(i[r]),a&&o.push(i[a]),n=o.join(this.fieldDelimiter||"")}else typeof t=="function"?n=t(e):t&&(n=i[t]);return this._valueInfoMap[n+""]}static fromPortalStyle(e,t){const i=new tg(t&&t.properties);i._set("styleOrigin",Object.freeze({styleName:e})),i._set("portal",t&&t.portal||rr.getDefault());const n=i.populateFromStyle();return n.catch(r=>{Cu.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",r)}),n}static fromStyleUrl(e,t){const i=new tg(t&&t.properties);i._set("styleOrigin",Object.freeze({styleUrl:e}));const n=i.populateFromStyle();return n.catch(r=>{Cu.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",r)}),n}};c([d({readOnly:!0})],Ht.prototype,"_cache",null),c([ye({uniqueValue:"unique-value"})],Ht.prototype,"type",void 0),c([d(Wq)],Ht.prototype,"backgroundFillSymbol",void 0),c([d({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Ht.prototype,"field",void 0),c([Ye("field")],Ht.prototype,"castField",null),c([ae("field")],Ht.prototype,"writeField",null),c([d({type:String,json:{write:!0}})],Ht.prototype,"field2",void 0),c([d({type:String,json:{write:!0}})],Ht.prototype,"field3",void 0),c([d({type:String,json:{write:!0}})],Ht.prototype,"valueExpression",void 0),c([d({type:String,json:{write:!0}})],Ht.prototype,"valueExpressionTitle",void 0),c([d({type:LI,json:{write:!0}})],Ht.prototype,"legendOptions",void 0),c([d({type:String,json:{write:!0}})],Ht.prototype,"defaultLabel",void 0),c([d(j6(D({},kb),{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Ht.prototype,"defaultSymbol",null),c([d({type:String,json:{write:!0}})],Ht.prototype,"fieldDelimiter",void 0),c([d({type:rr,readOnly:!0})],Ht.prototype,"portal",void 0),c([te("portal",["styleName"])],Ht.prototype,"readPortal",null),c([d({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Ht.prototype,"styleOrigin",void 0),c([te("styleOrigin",["styleName","styleUrl"])],Ht.prototype,"readStyleOrigin",null),c([ae("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Ht.prototype,"writeStyleOrigin",null),c([d({type:[tk],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Ht.prototype,"uniqueValueInfos",null),Ht=tg=c([_("esri.renderers.UniqueValueRenderer")],Ht);const zI=Ht,Qq={key:"type",base:pu,typeMap:{heatmap:ESe,simple:NI,"unique-value":zI,"class-breaks":Yq,"dot-density":TSe,dictionary:SSe},errorContext:"renderer"},VSe={key:"type",base:pu,typeMap:{simple:NI,"unique-value":zI,"class-breaks":Yq},errorContext:"renderer"};function sPe(e,t){return eU(e,null,t)}const HSe=Qm({types:Qq});function eU(e,t,i){return e?e&&(e.styleName||e.styleUrl)&&e.type!=="uniqueValue"?(i&&i.messages&&i.messages.push(new Rn("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:i})),null):HSe(e,t,i):null}class jI{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(O3),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const i=new jI,n=this._originStores[Ve.DEFAULTS];n&&n.forEach((r,a)=>{i.set(a,N(r),Ve.DEFAULTS)});for(let r=Ve.SERVICE;r<O3;r++){const a=this._originStores[r];a&&a.forEach((o,s)=>{t&&t.has(s)||i.set(s,N(o),r)})}return i}get(t,i){const n=i===void 0?this._values:this._originStores[i];return n?n.get(t):void 0}keys(t){const i=t==null?this._values:this._originStores[t];return i?[...i.keys()]:[]}set(t,i,n=Ve.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(t,i),!this._values.has(t)||this._propertyOriginMap.get(t)<=n){const a=this._values.get(t);return this._values.set(t,i),this._propertyOriginMap.set(t,n),a!==i}return!1}delete(t,i=Ve.USER){const n=this._originStores[i];if(!n)return;const r=n.get(t);if(n.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let a=i-1;a>=0;a--){const o=this._originStores[a];if(o&&o.has(t)){this._values.set(t,o.get(t)),this._propertyOriginMap.set(t,a);break}}}return r}has(t,i){const n=i===void 0?this._values:this._originStores[i];return!!n&&n.has(t)}revert(t,i){for(;i>0&&!this.has(t,i);)--i;const n=this._originStores[i],r=n&&n.get(t),a=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),a!==r}originOf(t){return this._propertyOriginMap.get(t)||Ve.DEFAULTS}forEach(t){this._values.forEach(t)}}const tU=e=>{let t=class extends e{constructor(...i){super(...i);const n=Ln(this),r=n.store,a=new jI;n.store=a,Ez(n,r,a)}read(i,n){Mz(this,i,n)}getAtOrigin(i,n){const r=TS(this),a=Vc(n);if(typeof i=="string")return r.get(i,a);const o={};return i.forEach(s=>{o[s]=r.get(s,a)}),o}originOf(i){return Qw(this.originIdOf(i))}originIdOf(i){return TS(this).originOf(i)}revert(i,n){const r=TS(this),a=Vc(n),o=Ln(this);let s;s=typeof i=="string"?i==="*"?r.keys(a):[i]:i,s.forEach(l=>{o.invalidate(l),r.revert(l,a),o.commit(l)})}};return t=c([_("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function TS(e){return Ln(e).store}let xF=class extends tU(he){};xF=c([_("esri.core.ReadOnlyMultiOriginJSONSupport")],xF);const qSe=e=>{let t=class extends e{constructor(...i){super(...i)}clear(i,n="user"){return ES(this).delete(i,Vc(n))}write(i={},n){return Az(this,i=i||{},n),i}setAtOrigin(i,n,r){Ln(this).setAtOrigin(i,n,Vc(r))}removeOrigin(i){const n=ES(this),r=Vc(i),a=n.keys(r);for(const o of a)n.originOf(o)===r&&n.set(o,n.get(o,r),Ve.USER)}updateOrigin(i,n){const r=ES(this),a=Vc(n),o=this.get(i);for(let s=a+1;s<O3;++s)r.delete(i,s);r.set(i,o,a)}toJSON(i){return this.write({},i)}};return t=c([_("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function ES(e){return Ln(e).store}const iU=e=>{let t=class extends qSe(tU(e)){constructor(...i){super(...i)}};return t=c([_("esri.core.MultiOriginJSONSupport")],t),t};let kF=class extends iU(he){};kF=c([_("esri.core.MultiOriginJSONSupport")],kF);async function USe(e,t){const{WhereClause:i}=await import("./WhereClause.1b066865.js");return i.create(e,t)}var Y$;let od=Y$=class extends B{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new Y$({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};c([d({type:String,json:{write:!0}})],od.prototype,"expression",void 0),c([d({type:String,json:{write:!0}})],od.prototype,"name",void 0),c([d({type:["boolean","date","number","string"],json:{write:!0}})],od.prototype,"returnType",void 0),c([d({type:String,json:{write:!0}})],od.prototype,"title",void 0),od=Y$=c([_("esri.form.ExpressionInfo")],od);const BSe=od;let sd=class extends B{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};c([d({type:String,json:{write:!0}})],sd.prototype,"description",void 0),c([d({type:String,json:{write:!0}})],sd.prototype,"label",void 0),c([d()],sd.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],sd.prototype,"visibilityExpression",void 0),sd=c([_("esri.form.elements.Element")],sd);const Um=sd;var K$;let uw=K$=class extends B{constructor(e){super(e),this.type=null}clone(){return new K$({type:this.type})}};c([d({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],uw.prototype,"type",void 0),uw=K$=c([_("esri.form.elements.inputs.AttachmentInput")],uw);const GSe=uw;var Z$;let ld=Z$=class extends Um{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new Z$({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};c([d({type:String,json:{write:!0}})],ld.prototype,"attachmentKeyword",void 0),c([d({type:Boolean,json:{write:!0}})],ld.prototype,"editable",void 0),c([d({type:GSe,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ld.prototype,"input",void 0),c([d({type:["attachment"],json:{read:!1,write:!0}})],ld.prototype,"type",void 0),ld=Z$=c([_("esri.form.elements.AttachmentElement")],ld);const _F=ld;let dw=class extends B{constructor(e){super(e),this.type=null}};c([d()],dw.prototype,"type",void 0),dw=c([_("esri.form.elements.inputs.Input")],dw);const vf=dw;let ig=class extends vf{constructor(e){super(e),this.maxLength=null,this.minLength=0}};c([d({type:Number,json:{write:!0}})],ig.prototype,"maxLength",void 0),c([d({type:Number,json:{write:!0}})],ig.prototype,"minLength",void 0),ig=c([_("esri.form.elements.inputs.TextInput")],ig);const VI=ig;var X$;let hw=X$=class extends VI{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new X$({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["barcode-scanner"],json:{read:!1,write:!0}})],hw.prototype,"type",void 0),hw=X$=c([_("esri.form.elements.inputs.BarcodeScannerInput")],hw);const WSe=hw;var Q$;let Sp=Q$=class extends vf{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="combo-box"}clone(){return new Q$({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};c([d({type:String,json:{write:!0}})],Sp.prototype,"noValueOptionLabel",void 0),c([d({type:Boolean,json:{write:!0}})],Sp.prototype,"showNoValueOption",void 0),c([d({type:["combo-box"],json:{read:!1,write:!0}})],Sp.prototype,"type",void 0),Sp=Q$=c([_("esri.form.elements.inputs.ComboBoxInput")],Sp);const JSe=Sp;var eC;function SF(e){return e!=null?new Date(e):null}function DF(e){return e?e.getTime():null}let Ba=eC=class extends vf{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return SF(t.max)}writeMax(e,t){t.max=DF(e)}readMin(e,t){return SF(t.min)}writeMin(e,t){t.min=DF(e)}clone(){return new eC({includeTime:this.includeTime,max:this.max,min:this.min,type:this.type})}};c([d({type:Boolean,json:{write:!0}})],Ba.prototype,"includeTime",void 0),c([d({type:Date,json:{type:Number,write:!0}})],Ba.prototype,"max",void 0),c([te("max")],Ba.prototype,"readMax",null),c([ae("max")],Ba.prototype,"writeMax",null),c([d({type:Date,json:{type:Number,write:!0}})],Ba.prototype,"min",void 0),c([te("min")],Ba.prototype,"readMin",null),c([ae("min")],Ba.prototype,"writeMin",null),c([d({type:["datetime-picker"],json:{read:!1,write:!0}})],Ba.prototype,"type",void 0),Ba=eC=c([_("esri.form.elements.inputs.DateTimePickerInput")],Ba);const YSe=Ba;var tC;let Dp=tC=class extends vf{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!1,this.type="radio-buttons"}clone(){return new tC({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};c([d({type:String,json:{write:!0}})],Dp.prototype,"noValueOptionLabel",void 0),c([d({type:Boolean,json:{write:!0}})],Dp.prototype,"showNoValueOption",void 0),c([d({type:["radio-buttons"],json:{read:!1,write:!0}})],Dp.prototype,"type",void 0),Dp=tC=c([_("esri.form.elements.inputs.RadioButtonsInput")],Dp);const KSe=Dp;var iC;let $p=iC=class extends vf{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new iC({offValue:this.offValue,onValue:this.onValue})}};c([d({type:[String,Number],json:{write:!0}})],$p.prototype,"offValue",void 0),c([d({type:[String,Number],json:{write:!0}})],$p.prototype,"onValue",void 0),c([d({type:["switch"],json:{read:!1,write:!0}})],$p.prototype,"type",void 0),$p=iC=c([_("esri.form.elements.inputs.SwitchInput")],$p);const ZSe=$p;var nC;let pw=nC=class extends VI{constructor(e){super(e),this.type="text-area"}clone(){return new nC({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["text-area"],json:{read:!1,write:!0}})],pw.prototype,"type",void 0),pw=nC=c([_("esri.form.elements.inputs.TextAreaInput")],pw);const XSe=pw;var rC;let mw=rC=class extends VI{constructor(e){super(e),this.type="text-box"}clone(){return new rC({maxLength:this.maxLength,minLength:this.minLength})}};c([d({type:["text-box"],json:{read:!1,write:!0}})],mw.prototype,"type",void 0),mw=rC=c([_("esri.form.elements.inputs.TextBoxInput")],mw);const QSe=mw,e3e={base:vf,key:"type",typeMap:{"barcode-scanner":WSe,"combo-box":JSe,"datetime-picker":YSe,"radio-buttons":KSe,switch:ZSe,"text-area":XSe,"text-box":QSe}};var aC;let ia=aC=class extends Um{constructor(e){super(e),this.domain=null,this.editable=!0,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new aC({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};c([d({types:BV,json:{read:{reader:dI},write:!0}})],ia.prototype,"domain",void 0),c([d({type:Boolean,json:{write:!0}})],ia.prototype,"editable",void 0),c([d({type:String,json:{write:!0}})],ia.prototype,"editableExpression",void 0),c([d({type:String,json:{write:!0}})],ia.prototype,"fieldName",void 0),c([d({type:String,json:{write:!0}})],ia.prototype,"hint",void 0),c([d({types:e3e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],ia.prototype,"input",void 0),c([d({type:String,json:{write:!0}})],ia.prototype,"requiredExpression",void 0),c([d({type:String,json:{read:!1,write:!0}})],ia.prototype,"type",void 0),c([d({type:String,json:{write:!0}})],ia.prototype,"valueExpression",void 0),ia=aC=c([_("esri.form.elements.FieldElement")],ia);const $F=ia;var oC;let Js=oC=class extends Um{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editable=!0,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new oC({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:N(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};c([d({type:Number,json:{write:!0}})],Js.prototype,"displayCount",void 0),c([d({type:["list"],json:{write:!0}})],Js.prototype,"displayType",void 0),c([d({type:Boolean,json:{write:!0}})],Js.prototype,"editable",void 0),c([d({type:[kj],json:{write:!0}})],Js.prototype,"orderByFields",void 0),c([d({type:Number,json:{write:!0}})],Js.prototype,"relationshipId",void 0),c([d({type:["relationship"],json:{read:!1,write:!0}})],Js.prototype,"type",void 0),Js=oC=c([_("esri.form.elements.RelationshipElement")],Js);const CF=Js;function nU(e){return{typesWithGroup:{base:Um,key:"type",typeMap:{attachment:_F,field:$F,group:e,relationship:CF}},typesWithoutGroup:{base:Um,key:"type",typeMap:{attachment:_F,field:$F,relationship:CF}}}}function rU(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>n[r.type].fromJSON(r))}function aU(e,t,i=!0){if(!e)return null;const n=i?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter(r=>n[r.type]).map(r=>r.toJSON())}function oU(e,t,i=!0){return e?e.map(n=>ds(i?t.typesWithGroup:t.typesWithoutGroup,n)):null}var sC;let Go=sC=class extends Um{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return oU(e,IS,!1)}readElements(e,t){return rU(t.formElements,IS,!1)}writeElements(e,t){t.formElements=aU(e,IS,!1)}clone(){return new sC({description:this.description,elements:N(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};c([d({json:{write:!0}})],Go.prototype,"elements",void 0),c([Ye("elements")],Go.prototype,"castElements",null),c([te("elements",["formElements"])],Go.prototype,"readElements",null),c([ae("elements")],Go.prototype,"writeElements",null),c([d({type:["collapsed","expanded"],json:{write:!0}})],Go.prototype,"initialState",void 0),c([d({type:String,json:{read:!1,write:!0}})],Go.prototype,"type",void 0),Go=sC=c([_("esri.form.elements.GroupElement")],Go);const IS=nU(Go),t3e=Go;var lC;const MS=nU(t3e);let zo=lC=class extends B{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.title=null}castElements(e){return oU(e,MS)}readElements(e,t){return rU(t.formElements,MS)}writeElements(e,t){t.formElements=aU(e,MS)}clone(){return new lC({description:this.description,expressionInfos:N(this.expressionInfos),elements:N(this.elements),title:this.title})}};c([d({type:String,json:{write:!0}})],zo.prototype,"description",void 0),c([d({json:{write:!0}})],zo.prototype,"elements",void 0),c([Ye("elements")],zo.prototype,"castElements",null),c([te("elements",["formElements"])],zo.prototype,"readElements",null),c([ae("elements")],zo.prototype,"writeElements",null),c([d({type:[BSe],json:{write:!0}})],zo.prototype,"expressionInfos",void 0),c([d({type:String,json:{write:!0}})],zo.prototype,"title",void 0),zo=lC=c([_("esri.form.FormTemplate")],zo);const i3e=zo;var ng;const ik=rn()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),sU=ik.jsonValues.slice();P6(sU,"orthometric");const Hg=rn()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ga=ng=class extends B{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return ik.write(e,t,i)}readHeightModel(e,t,i){return ik.read(e)||(i&&i.messages&&i.messages.push(n3e(e,{context:i})),null)}readHeightUnit(e,t,i){return Hg.read(e)||(i&&i.messages&&i.messages.push(TF(e,{context:i})),null)}readHeightUnitService(e,t,i){return o7(e)||Hg.read(e)||(i&&i.messages&&i.messages.push(TF(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new ng({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=G0e(t);return new ng({heightModel:e.heightModel,heightUnit:i,vertCRS:e.vertCRS})}write(e,t){return t=D({origin:"web-scene"},t),super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new ng;return t.read(e,{origin:"web-scene"}),t}};function TF(e,t){return new Rn("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function n3e(e,t){return new Rn("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}c([d({type:ik.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:sU,default:"ellipsoidal"}}}})],Ga.prototype,"heightModel",void 0),c([ae("web-scene","heightModel")],Ga.prototype,"writeHeightModel",null),c([te(["web-scene","service"],"heightModel")],Ga.prototype,"readHeightModel",null),c([d({type:Hg.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Hg.jsonValues,write:Hg.write}}}})],Ga.prototype,"heightUnit",void 0),c([te("web-scene","heightUnit")],Ga.prototype,"readHeightUnit",null),c([te("service","heightUnit")],Ga.prototype,"readHeightUnitService",null),c([d({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ga.prototype,"vertCRS",void 0),c([te("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ga.prototype,"readVertCRS",null),Ga=ng=c([_("esri.geometry.HeightModelInfo")],Ga);const b_=Ga;function EF(e,t,i){if(e.hasM==null||e.hasZ)for(const n of t)for(const r of n)r.length>2&&(r[2]*=i)}function r3e(e,t,i){if(!e&&!t||!i)return;const n=Fm(i);IF(e,i,n),IF(t,i,n)}function IF(e,t,i){if(e)for(const n of e)a3e(n.geometry,t,i)}function a3e(e,t,i){if(z(e)||!e.spatialReference||cr(e.spatialReference,t))return;const n=Fm(e.spatialReference)/i;if(n!==1){if("x"in e)e.z!=null&&(e.z*=n);else if("rings"in e)EF(e,e.rings,n);else if("paths"in e)EF(e,e.paths,n);else if("points"in e&&(e.hasM==null||e.hasZ))for(const r of e.points)r.length>2&&(r[2]*=n)}}let o3e=0;const OS=Z.getLogger("esri.layers.graphics.sources.MemorySource");let fc=class extends Dl.LoadableMixin(zk(wh(ge))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=$(e)?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}get workerGeometryType(){var e;const t=(e=this.layer)==null?void 0:e.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,t={}){await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);Bx(e,this.layer.spatialReference,i);const n=$h.fromJSON(i);if(!this._requiresClientGraphicMapping())return n;const r=this.layer.objectIdField;for(const a of n.features){const o=a.attributes[r],s=this._idToClientGraphic.get(o);s&&(a.geometry=s.geometry)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new P("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const i=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return Bx(e,this.layer.spatialReference,i),i}queryFeatureCount(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t))}queryObjectIds(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t))}queryExtent(e,t={}){return this.load(t).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t)).then(i=>({count:i.count,extent:lt.fromJSON(i.extent)}))}querySnapping(e,t={}){return this.load(t).then(()=>this._connection.invoke("querySnapping",e,t))}async _applyEdits(e){if(!this._connection)throw new P("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let i=null;const n=[],r=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const a=u=>"objectId"in u&&u.objectId!=null?u.objectId:"attributes"in u&&u.attributes[t]!=null?u.attributes[t]:null;if(e.addFeatures&&(i=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const u of e.deleteFeatures){const h=a(u);h!=null&&n.push(h)}const o=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures){for(const u of e.updateFeatures)if(r.push(this._serializeFeature(u)),o){const h=a(u);h!=null&&o.set(h,u)}}r3e(i?i.features:null,r,this.layer.spatialReference);const{fullExtent:s,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:r,deletes:n});return this.fullExtent=s,i&&i.finish(l.uidToObjectId),this._updateClientGraphicIds(o,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if(this.layerOrSourceGeometryType!=="mesh"||z(e))return;const i=[];for(const{geometry:n}of e)!$(n)||n.type!=="mesh"||n.hasExtent||n.loaded||i.push(n.load({signal:t}));i.length&&await Promise.all(i)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const i of t.updateResults){if(!i.success)continue;const n=e.get(i.objectId);n!=null&&this._addIdToClientGraphic(n)}for(const i of t.deleteResults)i.success&&this._idToClientGraphic.delete(i.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=e.success===!0?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new P("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,i=new Array(e.length);let n=null;for(let a=0;a<e.length;a++){const o=e[a],s=this._serializeFeature(o);!n&&$(o.geometry)&&(n=o.geometry.type),i[a]=s,t.set(`${s.uid}`,o)}const r=this;return{features:i,inferredGeometryType:n,finish(a){const o=r.sourceJSON.objectIdField;for(const s in a){const l=a[s],u=t.get(s);u&&(u.attributes||(u.attributes={}),l===-1?delete u.attributes[o]:u.attributes[o]=l,r._addIdToClientGraphic(u))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,i=e.attributes&&e.attributes[t];i!=null&&this._idToClientGraphic.set(i,e)}get layerOrSourceGeometryType(){var e,t,i;return(e=(t=this.layer)==null?void 0:t.geometryType)!=null?e:(i=this.sourceJSON)==null?void 0:i.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this.layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:t}=e,i=this._geometryForSerialization(e),n=(o3e++).toString();return i?{uid:n,geometry:i.toJSON(),attributes:t}:{uid:n,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return z(t)?null:this._geometryRequiresClientGraphicMapping(t)?t.extent?ho.fromExtent(t.extent):null:t}async _startWorker(e){this._connection=await R0e("MemorySourceWorker",{strategy:V("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:t,spatialReference:i,objectIdField:n,hasM:r,hasZ:a,timeInfo:o}=this.layer,s=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const l=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",f=>{OS.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),f.preventDefault()}));const u={features:l.features,fields:t&&t.map(f=>f.toJSON()),geometryType:zP.toJSON(this.workerGeometryType),hasM:this.layerOrSourceGeometryType!=="mesh"&&r,hasZ:this.layerOrSourceGeometryType==="mesh"||a,objectIdField:n,spatialReference:s?null:i&&i.toJSON(),timeInfo:o?o.toJSON():null},h=await this._connection.invoke("load",u,{signal:e});for(const f of h.warnings)OS.warn(f.message,{layer:this.layer,warning:f});h.featureErrors.length&&OS.warn(`Encountered ${h.featureErrors.length} validation errors while loading features`,h.featureErrors);const m=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(l.inferredGeometryType)&&(m.geometryType=zP.toJSON(l.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),l.finish(h.assignedObjectIds)}};c([UT({Type:Nn,ensureType:_t(Nn)})],fc.prototype,"itemType",void 0),c([d()],fc.prototype,"type",void 0),c([d({constructOnly:!0})],fc.prototype,"layer",void 0),c([d({readOnly:!0})],fc.prototype,"workerGeometryType",null),c([d()],fc.prototype,"sourceJSON",void 0),fc=c([_("esri.layers.graphics.sources.MemorySource")],fc);const MF=fc;function s3e(e){return"portalItem"in e}const l3e=e=>{let t=class extends e{get apiKey(){var i;return this._isOverridden("apiKey")?this._get("apiKey"):s3e(this)?(i=this.portalItem)==null?void 0:i.apiKey:null}set apiKey(i){i!=null?this._override("apiKey",i):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return c([d({type:String})],t.prototype,"apiKey",null),t=c([_("esri.layers.mixins.APIKeyMixin")],t),t},lU={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},cU=Object.values(lU),uU=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${cU.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c3e=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${cU.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u3e=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function lPe(e){return!!uU.test(e)}function _b(e){const t=Bi(e),i=t.path.match(uU)||t.path.match(c3e);if(!i)return null;const[,n,r,a,o]=i,s=r.indexOf("/");return{title:HI(s!==-1?r.slice(s+1):r),serverType:lU[a.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:n}}}function d3e(e){const t=Bi(e).path.match(u3e);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function HI(e){return(e=e.replace(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h3e(e,t){const i=[];if(e){const n=_b(e);$(n)&&n.title&&i.push(n.title)}if(t){const n=HI(t);i.push(n)}if(i.length===2){if(i[0].toLowerCase().indexOf(i[1].toLowerCase())!==-1)return i[0];if(i[1].toLowerCase().indexOf(i[0].toLowerCase())!==-1)return i[1]}return i.join(" - ")}function dU(e){if(!e)return!1;const t=".arcgis.com/",i="//services",n="//tiles",r="//features",a=(e=e.toLowerCase()).indexOf(t)!==-1,o=e.indexOf(i)!==-1||e.indexOf(n)!==-1||e.indexOf(r)!==-1;return a&&o}function p3e(e,t){return e&&Bz(Gz(e,t))}function m3e(e){let{url:t}=e;if(!t)return{url:t};t=Gz(t,e.logger);const i=Bi(t),n=_b(i.path);let r;if($(n))n.sublayer!=null&&e.layer.layerId==null&&(r=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const a=d3e(i.path);$(a)&&(t=a.serviceUrl,r=a.sublayerId)}return{url:Bz(t),layerId:r}}function f3e(e,t,i,n,r){uh(t,n,"url",r),n.url&&e.layerId!=null&&(n.url=tu(n.url,i,e.layerId.toString()))}function cPe(e){if(!e)return!1;const t=e.toLowerCase(),i=t.indexOf("/services/")!==-1,n=t.indexOf("/mapserver/wmsserver")!==-1,r=t.indexOf("/imageserver/wmsserver")!==-1,a=t.indexOf("/wmsserver")!==-1;return i&&(n||r||a)}const g3e=e=>{let t=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const i=_b(this.url);if($(i)&&i.title)return i.title}return this._get("title")||""}set title(i){this._set("title",i)}set url(i){this._set("url",p3e(i,Z.getLogger(this.declaredClass)))}};return c([d()],t.prototype,"title",null),c([d({type:String})],t.prototype,"url",null),t=c([_("esri.layers.mixins.ArcGISService")],t),t};function v_(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function y3e(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function b3e(e,t,i,n,r,a,o,s,l,u,h,m,f,g,b,v){const w=new Float32Array(16);return w[0]=e,w[1]=t,w[2]=i,w[3]=n,w[4]=r,w[5]=a,w[6]=o,w[7]=s,w[8]=l,w[9]=u,w[10]=h,w[11]=m,w[12]=f,w[13]=g,w[14]=b,w[15]=v,w}function v3e(e,t){return new Float32Array(e,t,16)}const w3e=v_();Object.freeze({__proto__:null,create:v_,clone:y3e,fromValues:b3e,createView:v3e,IDENTITY:w3e});const x3e=(e,t)=>{const i=hu(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return Ml(i,i)},k3e=(e,t)=>{const i=hu(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return Ml(i,i)},_3e=(e,t)=>{const i=1-t,n=hu(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return Ml(n,n)},S3e=(e,t)=>{const i=Math.sin(t*Math.PI/180),n=Math.cos(t*Math.PI/180),r=hu(e,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return Ml(r,r)},D3e=(e,t)=>{const i=1-2*t,n=hu(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return Ml(n,n)},$3e=(e,t)=>{const i=hu(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return Ml(i,i)},C3e=(e,t)=>{const i=1-t,n=hu(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return Ml(n,n)};class w_{constructor(t,i,n){this.strength=t,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(t,i,n){this.strength=Wn(t.strength,i.strength,n),this.radius=Wn(t.radius,i.radius,n),this.threshold=Wn(t.threshold,i.threshold,n)}clone(){return new w_(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:qg(this.radius),strength:this.strength,threshold:this.threshold}}}class x_{constructor(t){this.radius=t,this.type="blur"}interpolate(t,i,n){this.radius=Math.round(Wn(t.radius,i.radius,n))}clone(){return new x_(this.radius)}toJSON(){return{type:"blur",radius:qg(this.radius)}}}class Ey{constructor(t,i){this.type=t,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.amount=Wn(t.amount,i.amount,n),this._updateMatrix()}clone(){return new Ey(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||v_();switch(this.type){case"brightness":this._colorMatrix=x3e(t,this.amount);break;case"contrast":this._colorMatrix=k3e(t,this.amount);break;case"grayscale":this._colorMatrix=_3e(t,this.amount);break;case"invert":this._colorMatrix=D3e(t,this.amount);break;case"saturate":this._colorMatrix=$3e(t,this.amount);break;case"sepia":this._colorMatrix=C3e(t,this.amount)}}}class k_{constructor(t,i,n,r){this.offsetX=t,this.offsetY=i,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(t,i,n){this.offsetX=Wn(t.offsetX,i.offsetX,n),this.offsetY=Wn(t.offsetY,i.offsetY,n),this.blurRadius=Wn(t.blurRadius,i.blurRadius,n),this.color[0]=Math.round(Wn(t.color[0],i.color[0],n)),this.color[1]=Math.round(Wn(t.color[1],i.color[1],n)),this.color[2]=Math.round(Wn(t.color[2],i.color[2],n)),this.color[3]=Wn(t.color[3],i.color[3],n)}clone(){return new k_(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:qg(this.offsetX),yoffset:qg(this.offsetY),blurRadius:qg(this.blurRadius),color:t}}}class __{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,i,n){this.angle=Wn(t.angle,i.angle,n),this._updateMatrix()}clone(){return new __(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||v_();this._colorMatrix=S3e(t,this.angle)}}class S_{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,i,n){this.amount=Wn(t.amount,i.amount,n)}clone(){return new S_(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function Wn(e,t,i){return e+(t-e)*i}function qg(e){return Math.round(1e3*ru(e))/1e3}function T3e(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new Ey(e.type,0);case"saturate":case"brightness":case"contrast":return new Ey(e.type,1);case"opacity":return new S_(1);case"hue-rotate":return new __(0);case"blur":return new x_(0);case"drop-shadow":return new k_(0,0,0,[...oE("transparent")]);case"bloom":return new w_(0,0,1)}}function E3e(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every((n,r)=>n.type===i[r].type)}function I3e(e,t){const i=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let r=n.length;r<i.length;r++)n.push(T3e(i[r]))}function M3e(e){const t=e[0];return!!t&&"type"in t}var OF,AF,hU={exports:{}};function pU(e){if(!e||e.length===0)return null;if(typeof e=="string"){const i=PF(e);return i&&i.length!==0?i:null}const t=e.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new P("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:PF(i.value)}});t.sort((i,n)=>n.effects.length-i.effects.length);for(let i=0;i<t.length-1;i++){if(!E3e(t[i].effects,t[i+1].effects))throw new P("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[i].effects,b:t[i+1].effects});I3e(t[i].effects,t[i+1].effects)}return t.sort((i,n)=>n.scale-i.scale),t}function PF(e){let t;if(!e)return[];try{t=hU.exports.parse(e)}catch(i){throw new P("effect:invalid-syntax","Invalid effect syntax",{value:e,error:i})}return t.map(i=>O3e(i))}function O3e(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return A3e(e);case"opacity":return P3e(e);case"hue-rotate":return L3e(e);case"blur":return R3e(e);case"drop-shadow":return F3e(e);case"bloom":return N3e(e)}}catch(t){throw t.details.filter=e,t}throw new P("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function A3e(e){let t=1;return wf(e.parameters,1),e.parameters.length===1&&(t=Ya(e.parameters[0])),new Ey(e.name,t)}function P3e(e){let t=1;return wf(e.parameters,1),e.parameters.length===1&&(t=Ya(e.parameters[0])),new S_(t)}function L3e(e){let t=0;return wf(e.parameters,1),e.parameters.length===1&&(t=U3e(e.parameters[0])),new __(t)}function R3e(e){let t=0;return wf(e.parameters,1),e.parameters.length===1&&(t=BI(e.parameters[0]),Sb(t,e.parameters[0])),new x_(t)}function F3e(e){const t=[];let i=null;for(const n of e.parameters)if(n.type==="color"){if(t.length&&Object.freeze(t),i)throw new P("effect:type-error","Accepts only one color",{});i=B3e(n)}else{const r=BI(n);if(Object.isFrozen(t))throw new P("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(r),t.length===3&&Sb(r,n)}if(t.length<2||t.length>3)throw new P("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new k_(t[0],t[1],t[2]||0,i||mU("black"))}function N3e(e){let t=1,i=0,n=0;return wf(e.parameters,3),e.parameters[0]&&(t=Ya(e.parameters[0])),e.parameters[1]&&(i=BI(e.parameters[1]),Sb(i,e.parameters[1])),e.parameters[2]&&(n=Ya(e.parameters[2])),new w_(t,i,n)}function wf(e,t){if(e.length>t)throw new P("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function D_(e){if(e.type==="color")return"<color>";if(e.unit){if(UI[e.unit])return"<length>";if(qI[e.unit])return"<angle>";if(e.unit==="%")return"<percentage>"}return"<double>"}function Sb(e,t){if(e<0)throw new P("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function z3e(e){if(e.type!=="quantity"||e.unit!==null)throw new P("effect:type-error",`Expected <double>, Actual: ${D_(e)}`,{term:e})}function j3e(e){if(e.type!=="quantity"||e.unit!==null&&e.unit!=="%")throw new P("effect:type-error",`Expected <double> or <percentage>, Actual: ${D_(e)}`,{term:e})}AF=function(){function e(r,a){function o(){this.constructor=r}o.prototype=a.prototype,r.prototype=new o}function t(r,a,o,s){var l=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(l,t.prototype),l.expected=a,l.found=o,l.location=s,l.name="SyntaxError",l}function i(r,a,o){return o=o||" ",r.length>a?r:(a-=r.length,r+(o+=o.repeat(a)).slice(0,a))}function n(r,a){var o,s={},l=(a=a!==void 0?a:{}).grammarSource,u={start:fM},h=fM,m="none",f=")",g=",",b="(",v="%",w="px",x="cm",S="mm",E="in",T="pt",C="pc",M="deg",L="rad",j="grad",G="turn",J="#",q=".",ue="e",re=/^[ \t\n\r]/,de=/^[a-z\-]/,it=/^[0-9a-fA-F]/,Ke=/^[+\-]/,He=/^[0-9]/,At=Cs("none"),ai=Ri("none",!1),mu=Ri(")",!1),_s=Ri(",",!1),Ss=Cs("whitespace"),fu=Cf([" ","	",`
`,"\r"],!1,!1),Ol=Cs("function"),wo=Ri("(",!1),gu=Cs("identifier"),yu=Cf([["a","z"],"-"],!1,!1),Ds=Cs("percentage"),kf=Ri("%",!1),A_=Cs("length"),_f=Ri("px",!1),P_=Ri("cm",!1),Tb=Ri("mm",!1),L_=Ri("in",!1),R_=Ri("pt",!1),Eb=Ri("pc",!1),Ib=Cs("angle"),F_=Ri("deg",!1),N_=Ri("rad",!1),$s=Ri("grad",!1),Mh=Ri("turn",!1),Mb=Cs("number"),Ob=Cs("color"),Sf=Ri("#",!1),Df=Cf([["0","9"],["a","f"],["A","F"]],!1,!1),$f=Cf(["+","-"],!1,!1),wa=Cf([["0","9"]],!1,!1),Ab=Ri(".",!1),uG=Ri("e",!1),dG=function(){return[]},hG=function(I,H){return{type:"function",name:I,parameters:H||[]}},pG=function(I,H){return H.length>0?GG(I,H,3):[I]},mG=function(I){return{type:"quantity",value:I.value,unit:I.unit}},fG=function(I){return{type:"color",colorType:I.type,value:I.value}},gG=function(I){return I},yG=function(){return Lb()},bG=function(I){return{value:I,unit:"%"}},vG=function(I){return{value:I,unit:"px"}},wG=function(I){return{value:I,unit:"cm"}},xG=function(I){return{value:I,unit:"mm"}},kG=function(I){return{value:I,unit:"in"}},_G=function(I){return{value:I,unit:"pt"}},SG=function(I){return{value:I,unit:"pc"}},DG=function(I){return{value:I,unit:"deg"}},$G=function(I){return{value:I,unit:"rad"}},CG=function(I){return{value:I,unit:"grad"}},TG=function(I){return{value:I,unit:"turn"}},EG=function(I){return{value:I,unit:null}},IG=function(){return{type:"hex",value:Lb()}},MG=function(I){return{type:"function",value:I}},OG=function(){return{type:"named",value:Lb()}},AG=function(){return parseFloat(Lb())},F=0,Pt=0,Pb=[{line:1,column:1}],xo=0,z_=[],pe=0;if("startRule"in a){if(!(a.startRule in u))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');h=u[a.startRule]}function Lb(){return r.substring(Pt,F)}function Ri(I,H){return{type:"literal",text:I,ignoreCase:H}}function Cf(I,H,W){return{type:"class",parts:I,inverted:H,ignoreCase:W}}function PG(){return{type:"end"}}function Cs(I){return{type:"other",description:I}}function pM(I){var H,W=Pb[I];if(W)return W;for(H=I-1;!Pb[H];)H--;for(W={line:(W=Pb[H]).line,column:W.column};H<I;)r.charCodeAt(H)===10?(W.line++,W.column=1):W.column++,H++;return Pb[I]=W,W}function mM(I,H){var W=pM(I),ze=pM(H);return{source:l,start:{offset:I,line:W.line,column:W.column},end:{offset:H,line:ze.line,column:ze.column}}}function Me(I){F<xo||(F>xo&&(xo=F,z_=[]),z_.push(I))}function LG(I,H,W){return new t(t.buildMessage(I,H),I,H,W)}function fM(){var I;return(I=RG())===s&&(I=FG()),I}function RG(){var I,H;return pe++,I=F,Fi(),r.substr(F,4)===m?(H=m,F+=4):(H=s,pe===0&&Me(ai)),H!==s?(Fi(),Pt=I,I=dG()):(F=I,I=s),pe--,I===s&&pe===0&&Me(At),I}function FG(){var I,H;if(I=[],(H=j_())!==s)for(;H!==s;)I.push(H),H=j_();else I=s;return I}function j_(){var I,H,W,ze;return I=F,Fi(),(H=zG())!==s?(Fi(),(W=NG())===s&&(W=null),Fi(),r.charCodeAt(F)===41?(ze=f,F++):(ze=s,pe===0&&Me(mu)),ze!==s?(Fi(),Pt=I,I=hG(H,W)):(F=I,I=s)):(F=I,I=s),I}function NG(){var I,H,W,ze,Wi,zt,Vr,Rb;if(I=F,(H=V_())!==s){for(W=[],ze=F,Wi=Fi(),r.charCodeAt(F)===44?(zt=g,F++):(zt=s,pe===0&&Me(_s)),zt===s&&(zt=null),Vr=Fi(),(Rb=V_())!==s?ze=Wi=[Wi,zt,Vr,Rb]:(F=ze,ze=s);ze!==s;)W.push(ze),ze=F,Wi=Fi(),r.charCodeAt(F)===44?(zt=g,F++):(zt=s,pe===0&&Me(_s)),zt===s&&(zt=null),Vr=Fi(),(Rb=V_())!==s?ze=Wi=[Wi,zt,Vr,Rb]:(F=ze,ze=s);Pt=I,I=pG(H,W)}else F=I,I=s;return I}function V_(){var I,H;return I=F,(H=jG())===s&&(H=VG())===s&&(H=HG())===s&&(H=qG()),H!==s&&(Pt=I,H=mG(H)),(I=H)===s&&(I=F,(H=UG())!==s&&(Pt=I,H=fG(H)),I=H),I}function Fi(){var I,H;for(pe++,I=[],re.test(r.charAt(F))?(H=r.charAt(F),F++):(H=s,pe===0&&Me(fu));H!==s;)I.push(H),re.test(r.charAt(F))?(H=r.charAt(F),F++):(H=s,pe===0&&Me(fu));return pe--,H=s,pe===0&&Me(Ss),I}function zG(){var I,H,W;return pe++,I=F,(H=gM())!==s?(r.charCodeAt(F)===40?(W=b,F++):(W=s,pe===0&&Me(wo)),W!==s?(Pt=I,I=gG(H)):(F=I,I=s)):(F=I,I=s),pe--,I===s&&(H=s,pe===0&&Me(Ol)),I}function gM(){var I,H,W;if(pe++,I=F,H=[],de.test(r.charAt(F))?(W=r.charAt(F),F++):(W=s,pe===0&&Me(yu)),W!==s)for(;W!==s;)H.push(W),de.test(r.charAt(F))?(W=r.charAt(F),F++):(W=s,pe===0&&Me(yu));else H=s;return H!==s&&(Pt=I,H=yG()),pe--,(I=H)===s&&(H=s,pe===0&&Me(gu)),I}function jG(){var I,H,W;return pe++,I=F,Fi(),(H=jr())!==s?(r.charCodeAt(F)===37?(W=v,F++):(W=s,pe===0&&Me(kf)),W!==s?(Pt=I,I=bG(H)):(F=I,I=s)):(F=I,I=s),pe--,I===s&&pe===0&&Me(Ds),I}function VG(){var I,H,W;return pe++,I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===w?(W=w,F+=2):(W=s,pe===0&&Me(_f)),W!==s?(Pt=I,I=vG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===x?(W=x,F+=2):(W=s,pe===0&&Me(P_)),W!==s?(Pt=I,I=wG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===S?(W=S,F+=2):(W=s,pe===0&&Me(Tb)),W!==s?(Pt=I,I=xG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===E?(W=E,F+=2):(W=s,pe===0&&Me(L_)),W!==s?(Pt=I,I=kG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===T?(W=T,F+=2):(W=s,pe===0&&Me(R_)),W!==s?(Pt=I,I=_G(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,Fi(),(H=jr())!==s?(r.substr(F,2)===C?(W=C,F+=2):(W=s,pe===0&&Me(Eb)),W!==s?(Pt=I,I=SG(H)):(F=I,I=s)):(F=I,I=s)))))),pe--,I===s&&pe===0&&Me(A_),I}function HG(){var I,H,W;return pe++,I=F,(H=jr())!==s?(r.substr(F,3)===M?(W=M,F+=3):(W=s,pe===0&&Me(F_)),W!==s?(Pt=I,I=DG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,(H=jr())!==s?(r.substr(F,3)===L?(W=L,F+=3):(W=s,pe===0&&Me(N_)),W!==s?(Pt=I,I=$G(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,(H=jr())!==s?(r.substr(F,4)===j?(W=j,F+=4):(W=s,pe===0&&Me($s)),W!==s?(Pt=I,I=CG(H)):(F=I,I=s)):(F=I,I=s),I===s&&(I=F,(H=jr())!==s?(r.substr(F,4)===G?(W=G,F+=4):(W=s,pe===0&&Me(Mh)),W!==s?(Pt=I,I=TG(H)):(F=I,I=s)):(F=I,I=s)))),pe--,I===s&&(H=s,pe===0&&Me(Ib)),I}function qG(){var I,H;return pe++,I=F,Fi(),(H=jr())!==s?(Pt=I,I=EG(H)):(F=I,I=s),pe--,I===s&&pe===0&&Me(Mb),I}function UG(){var I,H,W,ze;if(pe++,I=F,r.charCodeAt(F)===35?(H=J,F++):(H=s,pe===0&&Me(Sf)),H!==s){if(W=[],it.test(r.charAt(F))?(ze=r.charAt(F),F++):(ze=s,pe===0&&Me(Df)),ze!==s)for(;ze!==s;)W.push(ze),it.test(r.charAt(F))?(ze=r.charAt(F),F++):(ze=s,pe===0&&Me(Df));else W=s;W!==s?(Pt=I,I=IG()):(F=I,I=s)}else F=I,I=s;return I===s&&(I=F,(H=j_())!==s&&(Pt=I,H=MG(H)),(I=H)===s&&(I=F,(H=gM())!==s&&(Pt=I,H=OG()),I=H)),pe--,I===s&&(H=s,pe===0&&Me(Ob)),I}function jr(){var I,H,W,ze,Wi,zt,Vr;for(I=F,Ke.test(r.charAt(F))?(r.charAt(F),F++):pe===0&&Me($f),H=F,W=[],He.test(r.charAt(F))?(ze=r.charAt(F),F++):(ze=s,pe===0&&Me(wa));ze!==s;)W.push(ze),He.test(r.charAt(F))?(ze=r.charAt(F),F++):(ze=s,pe===0&&Me(wa));if(r.charCodeAt(F)===46?(ze=q,F++):(ze=s,pe===0&&Me(Ab)),ze!==s){if(Wi=[],He.test(r.charAt(F))?(zt=r.charAt(F),F++):(zt=s,pe===0&&Me(wa)),zt!==s)for(;zt!==s;)Wi.push(zt),He.test(r.charAt(F))?(zt=r.charAt(F),F++):(zt=s,pe===0&&Me(wa));else Wi=s;Wi!==s?H=W=[W,ze,Wi]:(F=H,H=s)}else F=H,H=s;if(H===s)if(H=[],He.test(r.charAt(F))?(W=r.charAt(F),F++):(W=s,pe===0&&Me(wa)),W!==s)for(;W!==s;)H.push(W),He.test(r.charAt(F))?(W=r.charAt(F),F++):(W=s,pe===0&&Me(wa));else H=s;if(H!==s){if(W=F,r.charCodeAt(F)===101?(ze=ue,F++):(ze=s,pe===0&&Me(uG)),ze!==s){if(Ke.test(r.charAt(F))?(Wi=r.charAt(F),F++):(Wi=s,pe===0&&Me($f)),Wi===s&&(Wi=null),zt=[],He.test(r.charAt(F))?(Vr=r.charAt(F),F++):(Vr=s,pe===0&&Me(wa)),Vr!==s)for(;Vr!==s;)zt.push(Vr),He.test(r.charAt(F))?(Vr=r.charAt(F),F++):(Vr=s,pe===0&&Me(wa));else zt=s;zt!==s?W=ze=[ze,Wi,zt]:(F=W,W=s)}else F=W,W=s;W===s&&(W=null),Pt=I,I=AG()}else F=I,I=s;return I}function BG(I,H){return I.map(function(W){return W[H]})}function GG(I,H,W){return[I].concat(BG(H,W))}if((o=h())!==s&&F===r.length)return o;throw o!==s&&F<r.length&&Me(PG()),LG(z_,xo<r.length?r.charAt(xo):null,xo<r.length?mM(xo,xo+1):mM(xo,xo))}return e(t,Error),t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var o,s=null;for(o=0;o<r.length;o++)if(r[o].source===this.location.source){s=r[o].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,u=this.location.source+":"+l.line+":"+l.column;if(s){var h=this.location.end,m=i("",l.line.toString().length),f=s[l.line-1],g=l.line===h.line?h.column:f.length+1;a+=`
 --> `+u+`
`+m+` |
`+l.line+" | "+f+`
`+m+" | "+i("",l.column-1)+i("",g-l.column,"^")}else a+=`
 at `+u}return a},t.buildMessage=function(r,a){var o={literal:function(g){return'"'+l(g.text)+'"'},class:function(g){var b=g.parts.map(function(v){return Array.isArray(v)?u(v[0])+"-"+u(v[1]):u(v)});return"["+(g.inverted?"^":"")+b+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function s(g){return g.charCodeAt(0).toString(16).toUpperCase()}function l(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+s(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+s(b)})}function u(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+s(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+s(b)})}function h(g){return o[g.type](g)}function m(g){var b,v,w=g.map(h);if(w.sort(),w.length>0){for(b=1,v=1;b<w.length;b++)w[b-1]!==w[b]&&(w[v]=w[b],v++);w.length=v}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function f(g){return g?'"'+l(g)+'"':"end of input"}return"Expected "+m(r)+" but "+f(a)+" found."},{SyntaxError:t,parse:n}},(OF=hU).exports&&(OF.exports=AF());const qI={deg:1,grad:.9,rad:180/Math.PI,turn:360};function V3e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&qI[e.unit]!=null))throw new P("effect:type-error",`Expected <angle>, Actual: ${D_(e)}`,{term:e})}const UI={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function H3e(e){if(e.type!=="quantity"||!(e.value===0&&e.unit===null||e.unit&&UI[e.unit]!=null))throw new P("effect:type-error",`Expected <length>, Actual: ${D_(e)}`,{term:e})}function Ya(e){j3e(e);const t=e.value;return Sb(t,e),e.unit==="%"?.01*t:t}function q3e(e){return z3e(e),Sb(e.value,e),e.value}function U3e(e){return V3e(e),e.value*qI[e.unit]||0}function BI(e){return H3e(e),e.value*UI[e.unit]||0}function B3e(e){switch(e.colorType){case"hex":return fhe(e.value);case"named":return mU(e.value);case"function":return J3e(e.value)}}function mU(e){if(!u8(e))throw new P("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return mhe(e)}const G3e=/^rgba?/i,W3e=/^hsla?/i;function J3e(e){if(wf(e.parameters,4),G3e.test(e.name))return[Ya(e.parameters[0]),Ya(e.parameters[1]),Ya(e.parameters[2]),e.parameters[3]?Ya(e.parameters[3]):1];if(W3e.test(e.name))return d8(q3e(e.parameters[0]),Ya(e.parameters[1]),Ya(e.parameters[2]),e.parameters[3]?Ya(e.parameters[3]):1);throw new P("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function cC(e,t,i){try{return K3e(e)}catch(r){var n;i==null||(n=i.messages)==null||n.push(r)}return null}function uC(e,t,i,n){try{const r=Y3e(e);Pr(i,r,t)}catch(r){n.messages&&n.messages.push(r)}}function Y3e(e){const t=pU(e);return t?M3e(t)?t.map(i=>i.toJSON()):t.map(({scale:i,effects:n})=>({scale:i,value:n.map(r=>r.toJSON())})):null}function K3e(e){if(!e||e.length===0)return null;if(Z3e(e)){const t=[];for(const i of e)t.push({scale:i.scale,value:LF(i.value)});return t}return LF(e)}function Z3e(e){const t=e[0];return!!t&&"scale"in t}function LF(e){if(!e||!e.length)return"";const t=[];for(const i of e){let n=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[Is(i,"amount")];break;case"blur":n=[Is(i,"radius","pt")];break;case"hue-rotate":n=[Is(i,"angle","deg")];break;case"drop-shadow":n=[Is(i,"xoffset","pt"),Is(i,"yoffset","pt"),Is(i,"blurRadius","pt"),X3e(i,"color")];break;case"bloom":n=[Is(i,"strength"),Is(i,"radius","pt"),Is(i,"threshold")]}const r=`${i.type}(${n.filter(Boolean).join(" ")})`;pU(r),t.push(r)}return t.join(" ")}function Is(e,t,i){if(e[t]==null)throw new P("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return i?e[t]+i:""+e[t]}function X3e(e,t){if(e[t]==null)throw new P("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const i=e[t];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const Q3e=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return c([d({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),c([d({json:{read:!1,write:!1,origins:{"web-map":{read:{reader:cC},write:{allowNull:!0,writer:uC}}}}})],t.prototype,"effect",void 0),t=c([_("esri.layers.mixins.BlendLayer")],t),t},e5e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return c([d({type:Object,json:{write:{overridePolicy:i=>({enabled:!!(i&&Object.keys(i).length>0)})}}})],t.prototype,"customParameters",void 0),t=c([_("esri.layers.mixins.CustomParametersMixin")],t),t};var dC;const AS=new Te({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),PS=new Te({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let jo=dC=class extends B{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:n,timeExtent:r,objectIds:a,units:o,distance:s}=this;return new Mn(D({geometry:N(i),objectIds:N(a),spatialRelationship:n,timeExtent:N(r),where:t,units:o,distance:s},e))}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:n,objectIds:r,units:a,distance:o}=this;return new dC({geometry:N(t),objectIds:N(r),spatialRelationship:i,timeExtent:N(n),where:e,units:a,distance:o})}};c([d({type:String,json:{write:!0}})],jo.prototype,"where",void 0),c([d({types:xh,json:{write:!0}})],jo.prototype,"geometry",void 0),c([d({type:AS.apiValues,json:{name:"spatialRel",read:{reader:AS.read},write:{allowNull:!1,writer:AS.write,overridePolicy(){return{enabled:$(this.geometry)}}}}})],jo.prototype,"spatialRelationship",void 0),c([d({type:Number,json:{write:{overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],jo.prototype,"distance",void 0),c([d({type:[Number],json:{write:!0}})],jo.prototype,"objectIds",void 0),c([d({type:PS.apiValues,json:{read:PS.read,write:{writer:PS.write,overridePolicy(e){return{enabled:e!=null&&this.geometry!=null}}}}})],jo.prototype,"units",void 0),c([d({type:xs,json:{write:!0}})],jo.prototype,"timeExtent",void 0),jo=dC=c([_("esri.layers.support.FeatureFilter")],jo);const t5e=jo;var hC;let cd=hC=class extends B{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const i=super.write(e,t);if(t!=null&&t.origin){if(i.filter){const a=Object.keys(i.filter);var n;if(a.length>1||a[0]!=="where")return(n=t.messages)==null||n.push(new P("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}var r;if("showExcludedLabels"in i)return(r=t.messages)==null||r.push(new P("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new hC({filter:$(this.filter)&&this.filter.clone(),includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};c([d({type:t5e,json:{write:{allowNull:!0,writer(e,t,i,n){const r=e==null?void 0:e.write({},n);r&&Object.keys(r).length!==0?Pr(i,r,t):Pr(i,null,t)}}}})],cd.prototype,"filter",void 0),c([d({json:{write:!0,origins:{"web-map":{read:{reader:cC},write:{writer:uC,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}}}}})],cd.prototype,"includedEffect",void 0),c([d({json:{write:!0,origins:{"web-map":{read:{reader:cC},write:{writer:uC,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}}}}})],cd.prototype,"excludedEffect",void 0),c([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":{name:"showExcludedLabels",default:!0}}}})],cd.prototype,"excludedLabelsVisible",void 0),cd=hC=c([_("esri.layers.support.FeatureEffect")],cd);const i5e=cd,n5e=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return c([d({type:i5e,json:{origins:{"web-map":{write:{allowNull:!0}}}}})],t.prototype,"featureEffect",void 0),t=c([_("esri.layers.mixins.FeatureEffectLayer")],t),t},r5e={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,OGCFeatureLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};function a5e(e){if(!e)return e;const{start:t,end:i}=e;return new xs({start:$(t)?Jd(t,-t.getTimezoneOffset(),"minutes"):t,end:$(i)?Jd(i,-i.getTimezoneOffset(),"minutes"):i})}function o5e(e){if(!e)return e;const{start:t,end:i}=e;return new xs({start:$(t)?Jd(t,t.getTimezoneOffset(),"minutes"):t,end:$(i)?Jd(i,i.getTimezoneOffset(),"minutes"):i})}var pC;let rg=pC=class extends B{async collectRequiredFields(e,t){return Lr(e,t,this.expression)}clone(){return new pC({expression:this.expression,title:this.title})}};c([d({type:String,json:{write:!0}})],rg.prototype,"expression",void 0),c([d({type:String,json:{write:!0}})],rg.prototype,"title",void 0),rg=pC=c([_("esri.layers.support.FeatureExpressionInfo")],rg);const RF=rg;function s5e(){const e=Object.keys(Nq);return e.sort(),e}const l5e=s5e();var mC;const Hv=rn()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),FF=new Te({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Ys=mC=class extends B{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,t){return e!=null?e:t.featureExpression&&t.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,i,n){t[i]=e.write({},n),e.expression==="0"&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):$(e)||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new mC({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};c([d({type:RF,json:{write:!0}})],Ys.prototype,"featureExpressionInfo",void 0),c([te("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Ys.prototype,"readFeatureExpressionInfo",null),c([ae("featureExpressionInfo",{featureExpressionInfo:{type:RF},"featureExpression.value":{type:[0]}})],Ys.prototype,"writeFeatureExpressionInfo",null),c([d({type:Hv.apiValues,nonNullable:!0,json:{type:Hv.jsonValues,read:Hv.read,write:{writer:Hv.write,isRequired:!0}}})],Ys.prototype,"mode",null),c([d({type:Number,json:{write:!0}})],Ys.prototype,"offset",void 0),c([d({type:l5e,json:{type:String,read:FF.read,write:FF.write}})],Ys.prototype,"unit",null),Ys=mC=c([_("esri.layers.support.ElevationInfo")],Ys);const c5e=Ys,u5e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},fU={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,i){t[i]=!e}}}},gU={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},d5e={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:uh}}},h5e={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},p5e={value:null,type:c5e,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function uPe(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const fw={type:Number,json:{origins:{"web-document":{write:!0,read:!0},"portal-item":{write:!0}}}},m5e=ne(D({},fw),{json:ne(D({},fw.json),{origins:{"web-document":ne(D({},fw.json.origins["web-document"]),{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,i)=>i&&i.origin!=="service"||!t.drawingInfo||t.drawingInfo.transparency===void 0?t.layerDefinition&&t.layerDefinition.drawingInfo&&t.layerDefinition.drawingInfo.transparency!==void 0?dy(t.layerDefinition.drawingInfo.transparency):void 0:dy(t.drawingInfo.transparency)}})}),dPe={type:xs,readOnly:!0,get(){var e,t;if((e=this.layer)==null||!e.timeInfo)return null;const{datesInUnknownTimezone:i,timeOffset:n,useViewTime:r}=this.layer,a=(t=this.view)==null?void 0:t.timeExtent;let o=this.layer.timeExtent;i&&(o=o5e(o));let s=r?a&&o?a.intersection(o):a||o:o;if(!s||s.isEmpty||s.isAllTime)return s;n&&(s=s.offset(-n.value,n.unit)),i&&(s=a5e(s));const l=this._get("timeExtent");return s.equals(l)?l:s}},hPe={type:lt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const i=lt.fromJSON(e);return t.spatialReference!=null&&typeof t.spatialReference=="object"&&(i.spatialReference=Le.fromJSON(t.spatialReference)),i}}}},read:!1}},f5e={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},g5e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},y5e={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},b5e=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(i,n,r,a){(a&&a.layerContainerType==="ground"||i&&mue(this,r,{},a))&&(n[r]=i)}writeOperationalLayerType(i,n,r,a){!i||a&&a.layerContainerType==="tables"||(n.layerType=i)}writeTitle(i,n){n.title=i||"Layer"}read(i,n){n&&(n.layer=this),uue(this,i,r=>super.read(i,r),n)}write(i,n){if(n!=null&&n.origin){const l=`${n.origin}/${n.layerContainerType||"operational-layers"}`,u=r5e[l];let h=u&&u[this.operationalLayerType];var r;if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&l==="web-scene/operational-layers"&&(h=!1),!h)return(r=n.messages)==null||r.push(new P("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${l}'`,{layer:this})),null}const a=super.write(i,ne(D({},n),{layer:this})),o=!!n&&!!n.messages&&!!n.messages.filter(l=>l instanceof P&&l.name==="web-document-write:property-required").length;var s;return Hk(a==null?void 0:a.url)?(n==null||(s=n.messages)==null||s.push(new P("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:a}beforeSave(){}};return c([d({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),c([d({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),c([ae("listMode")],t.prototype,"writeListMode",null),c([d({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),c([ae("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),c([d(fw)],t.prototype,"opacity",void 0),c([d({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),c([ae("title")],t.prototype,"writeTitle",null),c([d({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=c([_("esri.layers.mixins.OperationalLayer")],t),t};var fC;const LS=new Te({asc:"ascending",desc:"descending"});let Cp=fC=class extends B{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new fC({field:this.field,valueExpression:this.valueExpression,order:this.order})}};c([d({type:String,json:{write:!0}})],Cp.prototype,"field",void 0),c([d({type:String,json:{write:!0}})],Cp.prototype,"valueExpression",void 0),c([d({type:LS.apiValues,json:{read:LS.read,write:LS.write}})],Cp.prototype,"order",void 0),Cp=fC=c([_("esri.layers.support.OrderByInfo")],Cp);const yU=Cp;function v5e(e,t,i){if(!e)return null;const n=e.find(a=>!!a.field);if(!n)return null;const r=new yU;return r.read(n,i),[r]}function w5e(e,t,i,n){const r=e.find(a=>!!a.field);r&&Pr(i,[r.toJSON()],t)}const x5e=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return c([d({type:[yU],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:v5e},write:{target:"layerDefinition.orderBy",writer:w5e}}})],t.prototype,"orderBy",void 0),t=c([_("esri.layers.mixins.OrderedLayer")],t),t},k5e=Z.getLogger("esri.layers.mixins.PortalLayer"),_5e=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0}destroy(){var i;(i=this.portalItem)==null||i.destroy(),this.portalItem=null}set portalItem(i){i!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",i))}readPortalItem(i,n,r){if(n.itemId)return new yx({id:n.itemId,portal:r&&r.portal})}writePortalItem(i,n){i&&i.id&&(n.itemId=i.id)}async loadFromPortal(i,n){if(this.portalItem&&this.portalItem.id)try{const r=await import("./layersLoader.d9f0cae4.js").then(function(a){return a.l});return hi(n),await r.load({instance:this,supportedTypes:i.supportedTypes,validateItem:i.validateItem,supportsData:i.supportsData},n)}catch(r){throw va(r)||k5e.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${r}`),r}}async finishLoadEditablePortalLayer(i){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(i).catch(n=>(Qy(n),!0)))}async _fetchUserHasEditingPrivileges(i){const n=this.url?ii==null?void 0:ii.findCredential(this.url):null;if(!n)return!0;const r=qv.credential===n?qv.user:await this._fetchEditingUser(i);return qv.credential=n,qv.user=r,z(r)||r.privileges==null||r.privileges.includes("features:user:edit")}async _fetchEditingUser(i){var n,r;const a=(n=this.portalItem)==null||(r=n.portal)==null?void 0:r.user;if(a)return a;const o=ii.findServerInfo(this.url);if(o==null||!o.owningSystemUrl)return null;const s=`${o.owningSystemUrl}/sharing/rest`,l=rr.getDefault();if(l&&l.loaded&&ao(l.restUrl)===ao(s))return l.user;const u=`${s}/community/self`,h=$(i)?i.signal:null,m=await jk($t(u,{authMode:"no-prompt",query:{f:"json"},signal:h}));return m.ok?nE.fromJSON(m.value.data):null}read(i,n){n&&(n.layer=this),super.read(i,n)}write(i,n){const r=n&&n.portal,a=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||rr.getDefault());return r&&a&&!Vz(a.restUrl,r.restUrl)?(n.messages&&n.messages.push(new P("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(i,ne(D({},n),{layer:this}))}};return c([d({type:yx})],t.prototype,"portalItem",null),c([te("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),c([ae("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),c([d({clonable:!1})],t.prototype,"resourceReferences",void 0),c([d({readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),t=c([_("esri.layers.mixins.PortalLayer")],t),t},qv={credential:null,user:null},Iy=new ge,Ug=new WeakMap;function S5e(e){bU(e)&&Iy.push(e)}function D5e(e){bU(e)&&Iy.includes(e)&&Iy.remove(e)}function bU(e){return e&&typeof e=="object"&&"refreshInterval"in e&&"refresh"in e}function vU(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:vU(t,e%t):0}let RS=0,Uv=0;function $5e(){const e=Date.now();for(const i of Iy)if(i.refreshInterval){var t;e-((t=Ug.get(i))!=null?t:0)+5>=6e4*i.refreshInterval&&(Ug.set(i,e),i.refresh(e))}}uz(()=>{const e=Date.now();let t=0;for(const i of Iy)t=vU(Math.round(6e4*i.refreshInterval),t),i.refreshInterval?Ug.get(i)||Ug.set(i,e):Ug.delete(i);if(t!==Uv){if(Uv=t,clearInterval(RS),Uv===0)return void(RS=0);RS=setInterval($5e,Uv)}});const C5e=e=>{let t=class extends e{constructor(...i){super(...i),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=nz(()=>this.hasDataChanged()),this.when().then(()=>{S5e(this)},()=>{})}destroy(){D5e(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(i=Date.now()){L3(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",i),this.emit("refresh",{dataChanged:n})},n=>{Z.getLogger(this.declaredClass).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}};return c([d({type:Number,cast:i=>i>=.1?i:i<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),c([d({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),c([d()],t.prototype,"refreshParameters",null),t=c([_("esri.layers.mixins.RefreshableLayer")],t),t},T5e=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&E5e(i,n.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===i.minScale&&r.maxScale===i.maxScale?r:i}};return c([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),c([d({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),c([d({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=c([_("esri.layers.mixins.ScaleRangeLayer")],t),t};function E5e(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const zd=rn()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});var gC;let ag=gC=class extends B{constructor(e){super(e),this.value=0,this.unit="milliseconds"}toMilliseconds(){return iwe(this.value,this.unit,"milliseconds")}clone(){return new gC({value:this.value,unit:this.unit})}};c([d({type:Number,json:{write:!0},nonNullable:!0})],ag.prototype,"value",void 0),c([d({type:zd.apiValues,json:{type:zd.jsonValues,read:zd.read,write:zd.write},nonNullable:!0})],ag.prototype,"unit",void 0),ag=gC=c([_("esri.TimeInterval")],ag);const My=ag;var yC;let Tp=yC=class extends B{constructor(e){super(e),this.respectsDaylightSaving=!1,this.timezone=null}readRespectsDaylightSaving(e,t){return t.respectsDaylightSaving!==void 0?t.respectsDaylightSaving:t.respectDaylightSaving!==void 0&&t.respectDaylightSaving}clone(){const{respectsDaylightSaving:e,timezone:t}=this;return new yC({respectsDaylightSaving:e,timezone:t})}};c([d({type:Boolean,json:{write:!0}})],Tp.prototype,"respectsDaylightSaving",void 0),c([te("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],Tp.prototype,"readRespectsDaylightSaving",null),c([d({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],Tp.prototype,"timezone",void 0),Tp=yC=c([_("esri.layers.support.TimeReference")],Tp);const I5e=Tp;var bC;let dn=bC=class extends B{constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||t.timeExtent.length!==2)return null;const i=new Date(t.timeExtent[0]),n=new Date(t.timeExtent[1]);return new xs({start:i,end:n})}writeFullTimeExtent(e,t){e&&$(e.start)&&$(e.end)?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?new My({value:t.timeInterval,unit:zd.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new My({value:t.defaultTimeInterval,unit:zd.fromJSON(t.defaultTimeIntervalUnits)}):null}writeInterval(e,t){if(e){const i=e.toJSON();t.timeInterval=i.value,t.timeIntervalUnits=i.unit}else t.timeInterval=null,t.timeIntervalUnits=null}clone(){const{cumulative:e,endField:t,hasLiveData:i,interval:n,startField:r,timeReference:a,fullTimeExtent:o,trackIdField:s,useTime:l}=this;return new bC({cumulative:e,endField:t,hasLiveData:i,interval:n,startField:r,timeReference:N(a),fullTimeExtent:N(o),trackIdField:s,useTime:l})}};c([d({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],dn.prototype,"cumulative",void 0),c([d({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],dn.prototype,"endField",void 0),c([d({type:xs,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"fullTimeExtent",void 0),c([te("fullTimeExtent",["timeExtent"])],dn.prototype,"readFullTimeExtent",null),c([ae("fullTimeExtent")],dn.prototype,"writeFullTimeExtent",null),c([d({type:Boolean,json:{write:!0}})],dn.prototype,"hasLiveData",void 0),c([d({type:My,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"interval",void 0),c([te("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],dn.prototype,"readInterval",null),c([ae("interval")],dn.prototype,"writeInterval",null),c([d({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],dn.prototype,"startField",void 0),c([d({type:I5e,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"timeReference",void 0),c([d({type:String,json:{write:{enabled:!0,allowNull:!0}}})],dn.prototype,"trackIdField",void 0),c([d({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],dn.prototype,"useTime",void 0),dn=bC=c([_("esri.layers.support.TimeInfo")],dn);const wU=dn,M5e=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(i,n){const r=n.timeInfo.exportOptions;if(!r)return null;const a=r.timeOffset,o=zd.fromJSON(r.timeOffsetUnits);return a&&o?new My({value:a,unit:o}):null}set timeInfo(i){ij(i,this.fieldsIndex),this._set("timeInfo",i)}};return c([d({type:xs,json:{write:!1}})],t.prototype,"timeExtent",void 0),c([d({type:My})],t.prototype,"timeOffset",void 0),c([te("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),c([d({value:null,type:wU,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),c([d({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=c([_("esri.layers.mixins.TemporalLayer")],t),t};var vC;let sl=vC=class extends B{constructor(e){super(e)}clone(){const{name:e,fields:t,isAscending:i,isUnique:n,description:r}=this;return new vC({name:e,fields:t,isAscending:i,isUnique:n,description:r})}};c([d({constructOnly:!0})],sl.prototype,"name",void 0),c([d({constructOnly:!0})],sl.prototype,"fields",void 0),c([d({constructOnly:!0})],sl.prototype,"isAscending",void 0),c([d({constructOnly:!0})],sl.prototype,"isUnique",void 0),c([d({constructOnly:!0})],sl.prototype,"description",void 0),sl=vC=c([_("esri.layers.support.FeatureIndex")],sl);let gw=class extends B{constructor(){super(...arguments),this.type=null}};c([d({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],gw.prototype,"type",void 0),gw=c([_("esri.layers.support.FeatureReduction")],gw);const yw=gw;var wC;let Ep=wC=class extends B{constructor(){super(...arguments),this.statisticType=null,this.onStatisticField=null,this.onStatisticValueExpression=null}clone(){return new wC({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}};c([d({type:String,json:{write:!0}})],Ep.prototype,"statisticType",void 0),c([d({type:String,json:{write:!0}})],Ep.prototype,"onStatisticField",void 0),c([d({type:String,json:{write:!0}})],Ep.prototype,"onStatisticValueExpression",void 0),Ep=wC=c([_("esri.layers.support.OutStatistic")],Ep);const O5e=Ep;var xC;let og=xC=class extends B{constructor(){super(...arguments),this.name=null}clone(){return new xC({name:this.name,outStatistic:this.outStatistic.clone()})}};c([d({type:String,json:{write:!0}})],og.prototype,"name",void 0),c([d({type:O5e,json:{write:!0}})],og.prototype,"outStatistic",void 0),og=xC=c([_("esri.layers.support.AggregateField")],og);const A5e=og,GI="__begin__",WI="__end__",P5e=new RegExp(GI,"ig"),L5e=new RegExp(WI,"ig"),NF=new RegExp("^"+GI,"i"),zF=new RegExp(WI+"$","i"),nk='"',R5e=nk+" + ",F5e=" + "+nk;function N5e(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}function z5e(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function JI(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):e.labelExpression!=null&&(t.expression=N5e(e.labelExpression),t.type="conventional"),t}function j5e(e){const t=JI(e);if(!t)return null;switch(t.type){case"conventional":return kC(t.expression);case"arcade":return t.expression}return null}function V5e(e){const t=JI(e);if(!t)return null;switch(t.type){case"conventional":return q5e(t.expression);case"arcade":return xU(t.expression)}return null}function kC(e){let t;return e?(t=cs(e,i=>GI+'$feature["'+i+'"]'+WI),t=NF.test(t)?t.replace(NF,""):nk+t,t=zF.test(t)?t.replace(zF,""):t+nk,t=t.replace(P5e,R5e).replace(L5e,F5e)):t='""',t}const H5e=/^\s*\{([^}]+)\}\s*$/i;function q5e(e){const t=e.match(H5e);return t&&t[1].trim()||null}const U5e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,B5e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,G5e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function xU(e){if(!e)return null;let t=U5e.exec(e)||B5e.exec(e);return t?t[1]||t[3]:(t=G5e.exec(e),t?t[2]:null)}var _C;let gc=_C=class extends B{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?kC(t.value):e}writeExpression(e,t,i){this.value!=null&&(e=kC(this.value)),e!=null&&(t[i]=e)}clone(){return new _C({expression:this.expression,title:this.title,value:this.value})}};c([d({type:String,json:{write:{writerEnsuresNonNull:!0}}})],gc.prototype,"expression",void 0),c([te("expression",["expression","value"])],gc.prototype,"readExpression",null),c([ae("expression")],gc.prototype,"writeExpression",null),c([d({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],gc.prototype,"title",void 0),c([d({json:{read:!1,write:!1}})],gc.prototype,"value",void 0),gc=_C=c([_("esri.layers.support.LabelExpressionInfo")],gc);const kU=gc,_U=[252,146,31,255],W5e={type:"esriSMS",style:"esriSMSCircle",size:6,color:_U,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},J5e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:_U},Y5e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},K5e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Z5e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},X5e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},Q5e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};uf.fromJSON(W5e);bo.fromJSON(J5e);_h.fromJSON(Y5e);const eDe=df.fromJSON(K5e),pPe=uf.fromJSON(Z5e),mPe=bo.fromJSON(X5e),fPe=_h.fromJSON(Q5e);var SC;const Bv=new Te({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function SU(e){return!e||e.origin!=="service"&&!DU(e.layer)}function DU(e){return(e==null?void 0:e.type)==="map-image"}function $U(e){var t,i;return!!DU(e)&&!((t=e.capabilities)==null||(i=t.exportMap)==null||!i.supportsArcadeExpressionForLabeling)}function tDe(e){return SU(e)||$U(e.layer)}let Zt=SC=class extends B{constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=eDe,this.useCodedValues=void 0,this.where=null}static evaluateWhere(e,t){const i=function(n,r,a){switch(r){case"=":return n==a;case"<>":return n!=a;case">":return n>a;case">=":return n>=a;case"<":return n<a;case"<=":return n<=a}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return i(t[n[0]],n[1],n[2]);if(n.length===7){const r=i(t[n[0]],n[1],n[2]),a=n[3],o=i(t[n[4]],n[5],n[6]);switch(a){case"AND":return r&&o;case"OR":return r||o}}return!1}catch{console.log("Error.: can't parse = "+e)}}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=z5e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=xU(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,n){if(e==null&&this.labelExpression!=null&&SU(n))e=new kU({expression:this.getLabelExpressionArcade()});else if(!e)return;const r=e.toJSON(n);r.expression&&(t[i]=r)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return JI(this)}getLabelExpressionArcade(){return j5e(this)}getLabelExpressionSingleField(){return V5e(this)}hash(){return JSON.stringify(this)}clone(){return new SC({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:N(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:N(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};c([d({type:String,json:{write:!0}})],Zt.prototype,"name",void 0),c([d({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"allowOverrun",void 0),c([d({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],Zt.prototype,"deconflictionStrategy",void 0),c([d({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&$U(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],Zt.prototype,"labelExpression",void 0),c([te("labelExpression")],Zt.prototype,"readLabelExpression",null),c([ae("labelExpression")],Zt.prototype,"writeLabelExpression",null),c([d({type:kU,json:{write:{overridePolicy:(e,t,i)=>tDe(i)?{allowNull:!0}:{enabled:!1}}}})],Zt.prototype,"labelExpressionInfo",void 0),c([ae("labelExpressionInfo")],Zt.prototype,"writeLabelExpressionInfo",null),c([d({type:Bv.apiValues,json:{type:Bv.jsonValues,read:Bv.read,write:Bv.write}})],Zt.prototype,"labelPlacement",void 0),c([d({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],Zt.prototype,"labelPosition",void 0),c([d({type:Number})],Zt.prototype,"maxScale",void 0),c([ae("maxScale")],Zt.prototype,"writeMaxScale",null),c([d({type:Number})],Zt.prototype,"minScale",void 0),c([ae("minScale")],Zt.prototype,"writeMinScale",null),c([d({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:!1}}}})],Zt.prototype,"repeatLabel",void 0),c([d({type:Number,cast:at,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Zt.prototype,"repeatLabelDistance",void 0),c([d({types:n0e,json:{origins:{"web-scene":{types:r0e,write:gF,default:null}},write:gF,default:null}})],Zt.prototype,"symbol",void 0),c([d({type:Boolean,json:{write:!0}})],Zt.prototype,"useCodedValues",void 0),c([d({type:String,json:{write:!0}})],Zt.prototype,"where",void 0),Zt=SC=c([_("esri.layers.support.LabelClass")],Zt);const YI=Zt;var DC;let gr=DC=class extends B{constructor(e){super(e),this.type="cluster",this.clusterRadius=at("80px"),this.clusterMinSize=at("12px"),this.clusterMaxSize=at("50px"),this.popupEnabled=!0,this.popupTemplate=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}clone(){return new DC({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:N(this.labelingInfo),labelsVisible:this.labelsVisible,fields:N(this.fields),popupEnabled:this.popupEnabled,popupTemplate:N(this.popupTemplate)})}};c([d({type:["cluster"],readOnly:!0,json:{write:!0}})],gr.prototype,"type",void 0),c([d({type:Number,cast:e=>e==="auto"?e:at(e),json:{write:!0}})],gr.prototype,"clusterRadius",void 0),c([d({type:Number,cast:at,json:{write:!0}})],gr.prototype,"clusterMinSize",void 0),c([d({type:Number,cast:at,json:{write:!0}})],gr.prototype,"clusterMaxSize",void 0),c([d(fU)],gr.prototype,"popupEnabled",void 0),c([d({type:ab,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],gr.prototype,"popupTemplate",void 0),c([d({types:t0e})],gr.prototype,"symbol",void 0),c([d({type:[YI],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],gr.prototype,"labelingInfo",void 0),c([d(gU)],gr.prototype,"labelsVisible",void 0),c([d({type:[A5e],json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],gr.prototype,"fields",void 0),gr=DC=c([_("esri.layers.support.FeatureReductionCluster")],gr);const jF=gr;var $C;let bw=$C=class extends yw{constructor(e){super(e),this.type="selection"}clone(){return new $C}};c([d({type:["selection"]})],bw.prototype,"type",void 0),bw=$C=c([_("esri.layers.support.FeatureReductionSelection")],bw);const VF=bw,iDe={types:{key:"type",base:yw,typeMap:{selection:VF,cluster:jF}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:{key:"type",base:yw,typeMap:{selection:jF}}},"web-scene":{types:{key:"type",base:yw,typeMap:{selection:VF}}}}}},HF=new Te({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let yc=class extends ws(B){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};c([d({json:{write:!0}})],yc.prototype,"name",void 0),c([d({json:{write:!0}})],yc.prototype,"description",void 0),c([d({json:{read:HF.read,write:HF.write}})],yc.prototype,"drawingTool",void 0),c([d({json:{write:!0}})],yc.prototype,"prototype",void 0),c([d({json:{write:!0}})],yc.prototype,"thumbnail",void 0),yc=c([_("esri.layers.support.FeatureTemplate")],yc);const KI=yc;let Ks=class extends ws(B){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i of Object.keys(e))t[i]=dI(e[i]);return t}writeDomains(e,t){const i={};for(const r of Object.keys(e)){var n;e[r]&&(i[r]=(n=e[r])==null?void 0:n.toJSON())}t.domains=i}};c([d({json:{write:!0}})],Ks.prototype,"id",void 0),c([d({json:{write:!0}})],Ks.prototype,"name",void 0),c([d({json:{write:!0}})],Ks.prototype,"domains",void 0),c([te("domains")],Ks.prototype,"readDomains",null),c([ae("domains")],Ks.prototype,"writeDomains",null),c([d({type:[KI],json:{write:!0}})],Ks.prototype,"templates",void 0),Ks=c([_("esri.layers.support.FeatureType")],Ks);const CU=Ks;function nDe(e){return e.type==="date"||e.type==="esriFieldTypeDate"}function qF(e){return e.type==="oid"||e.type==="esriFieldTypeOID"}function UF(e){return e.type==="global-id"||e.type==="esriFieldTypeGlobalID"}class rDe{constructor(t){if(this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!t)return;const i=[];for(const n of t){const r=n&&n.name;if(r){const a=BF(r);this._fieldsMap.set(r,n),this._fieldsMap.set(a,n),i.push(a),nDe(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):kE(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),qF(n)||UF(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}i.sort(),this.uid=i.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)qF(t)||UF(t)||t.nullable||Sme(t)!==void 0||this._requiredFields.push(t)}return this._requiredFields}has(t){return this.get(t)!=null}get(t){return t!=null?this._fieldsMap.get(t)||this._fieldsMap.get(BF(t)):void 0}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){const i=this.get(t);if(i)return i.name}}function BF(e){return e.toLowerCase().trim()}const aDe=Z.getLogger("esri.layers.support.fieldProperties");function oDe(){return{fields:{type:[l_],value:null},fieldsIndex:{readOnly:!0,get(){return new rDe(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex.has(t)||aDe.error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return nj(this.fieldsIndex,e)}}}}let Ip=class extends ws(B){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};c([d({type:String,json:{read:{source:"shapeAreaFieldName"}}})],Ip.prototype,"shapeAreaField",void 0),c([d({type:String,json:{read:{source:"shapeLengthFieldName"}}})],Ip.prototype,"shapeLengthField",void 0),c([d({type:String,json:{read:e=>Z0e.read(e)||X0e.read(e)}})],Ip.prototype,"units",void 0),Ip=c([_("esri.layers.support.GeometryFieldsInfo")],Ip);const sDe=Ip,lDe=/\[([^\[\]]+)\]/gi;function GF(e,t,i){return e?e.map(n=>{const r=new YI;if(r.read(n,i),r.labelExpression){const a=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;r.labelExpression=r.labelExpression.replace(lDe,(o,s)=>`[${cDe(s,a)}]`)}return r}):null}function cDe(e,t){if(!t)return e;const i=e.toLowerCase();for(let n=0;n<t.length;n++){const r=t[n].name;if(r.toLowerCase()===i)return r}return e}var CC;let Mp=CC=class extends B{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new ge}clone(){return new CC({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};c([d({type:String,json:{write:!0}})],Mp.prototype,"floorField",void 0),c([d({json:{read:!1,write:!1}})],Mp.prototype,"viewAllMode",void 0),c([d({json:{read:!1,write:!1}})],Mp.prototype,"viewAllLevelIds",void 0),Mp=CC=c([_("esri.layers.support.LayerFloorInfo")],Mp);const uDe=Mp,WF=new Te({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),JF=new Te({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let na=class extends ws(B){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};c([d({json:{read:WF.read,write:WF.write}})],na.prototype,"cardinality",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"composite",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"id",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"keyField",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"keyFieldInRelationshipTable",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"name",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"relatedTableId",void 0),c([d({json:{read:!0,write:!0}})],na.prototype,"relationshipTableId",void 0),c([d({json:{read:JF.read,write:JF.write}})],na.prototype,"role",void 0),na=c([_("esri.layers.support.Relationship")],na);const dDe=na,Wa=[];function hDe(e,t){if(dU(e.url))return!0;const{wkid:i}=t;for(const n of Wa){if(e.version>=n[0])return!0;if(typeof n[1]=="function"&&(n[1]=n[1]()),n[1].has(i))return!1}return!0}Wa.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102960;t++)e.add(t);return e}]),Wa.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),Wa.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),Wa.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),Wa.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);for(let t=103696;t<=103698;t++)e.add(t);return e}]),Wa.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),Wa.push([10.61,()=>new Set([102497])]),Wa.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),Wa.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),Wa.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function pDe(e,t,i){const n=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(n&&n.type==="unique-value"&&n.styleOrigin){const r=await jk(n.populateFromStyle());if(hi(i),r.ok===!1){const a=r.error;t&&t.messages&&t.messages.push(new Rn("renderer:style-reference",`Failed to create unique value renderer from style reference: ${a.message}`,{error:a,context:t})),e.clear("renderer",t.origin)}}}const mDe=["oid","global-id"],fDe=["oid","global-id","guid"];function gDe({displayField:e,editFieldsInfo:t,fields:i,objectIdField:n,title:r},a){if(!i)return null;const o=kDe({editFieldsInfo:t,fields:i,objectIdField:n},a);if(!o.length)return null;const s=DDe({titleBase:r,fields:i,displayField:e}),l=SDe();return new ab({title:s,content:l,fieldInfos:o})}const yDe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],bDe=(e,{editFieldsInfo:t,objectIdField:i,visibleFieldNames:n})=>n?n.has(e.name):!TU(e.name,t)&&(!i||e.name!==i)&&!(mDe.indexOf(e.type)>-1)&&!yDe.some(r=>r.test(e.name));function vDe(e,t){const i=e;return t&&(e=e.filter(n=>t.indexOf(n.type)===-1)),e===i&&(e=e.slice()),e.sort(wDe),e}function wDe(e,t){return e.type==="oid"?-1:t.type==="oid"?1:YF(e)?-1:YF(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function TU(e,t){if(!e||!t)return!1;const{creationDateField:i,creatorField:n,editDateField:r,editorField:a}=t;return[i&&i.toLowerCase(),n&&n.toLowerCase(),r&&r.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())!==-1}function xDe(e,t){return e.editable&&fDe.indexOf(e.type)===-1&&!TU(e.name,t)}function kDe({editFieldsInfo:e,fields:t,objectIdField:i},n){return vDe(t,(n==null?void 0:n.ignoreFieldTypes)||$De).map(r=>new rb({fieldName:r.name,isEditable:xDe(r,e),label:r.alias,format:_De(r),visible:bDe(r,{editFieldsInfo:e,objectIdField:i,visibleFieldNames:n==null?void 0:n.visibleFieldNames})}))}function _De(e){switch(e.type){case"small-integer":case"integer":case"single":return new Og({digitSeparator:!0,places:0});case"double":return new Og({digitSeparator:!0,places:2});case"date":return new Og({dateFormat:"long-month-day-year"});default:return null}}function SDe(){return[new Lm,new py]}function DDe(e){const t=vme(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i}function YF(e){return(e.name&&e.name.toLowerCase())==="name"?!0:(e.alias&&e.alias.toLowerCase())==="name"||void 0}const $De=["geometry","blob","raster","guid","xml"],FS=new Te({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),CDe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Yt="FeatureLayer",KF=Z.getLogger("esri.layers.FeatureLayer");function ZF(e){return e&&e instanceof ge}function Ce(e,t,i){return!!(e&&e.hasOwnProperty(t)?e[t]:i)}function Gv(e,t,i){return e&&e.hasOwnProperty(t)?e[t]:i}function TDe(e){var t;const i=e==null||(t=e.supportedSpatialAggregationStatistics)==null?void 0:t.map(n=>n.toLowerCase());return{envelope:!(i==null||!i.includes("envelopeaggregate")),centroid:!(i==null||!i.includes("centroidaggregate")),convexHull:!(i==null||!i.includes("convexhullaggregate"))}}const NS=oDe();function zS(e,t,i){const n=!(i==null||!i.writeLayerSchema);return{enabled:n,ignoreOrigin:n}}let K=class extends n5e(Q3e(x5e(M5e(T5e(C5e(g3e(b5e(_5e(iU(e5e(l3e(ws(wE))))))))))))){constructor(...e){super(...e),this._handles=new gn,this.capabilities=null,this.charts=null,this.copyright=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.floorInfo=null,this.formTemplate=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.layerId=void 0,this.legendEnabled=!0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.spatialReference=Le.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.indexes=new(ge.ofType(sl)),this.userIsAdmin=!1,this.version=void 0,this.visible=!0}destroy(){var e;(e=this.source)==null||e.destroy(),this._handles=Ko(this._handles)}normalizeCtorArgs(e,t){return typeof e=="string"?D({url:e},t):e}load(e){const t=$(e)?e.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)return void this.addResolvingPromise(this.createGraphicsSource(t).then(n=>this._initLayerProperties(n)));const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Qy).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const n=await this._fetchFirstLayerId(t);n!=null&&(this.layerId=n)}if(!this.url&&!this._hasMemorySource())throw new P("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(t))}).then(()=>this.finishLoadEditablePortalLayer(e));return this.addResolvingPromise(i),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,{attachment:this._readAttachmentCapabilities(t.attachmentProperties),data:this._readDataCapabilities(t),metadata:this._readMetadataCapabilities(t),operations:this._readOperationsCapabilities(t.capabilities||e,t),query:this._readQueryCapabilities(t),queryRelated:this._readQueryRelatedCapabilities(t),editing:this._readEditingCapabilities(t)}}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")||0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){e!=null?this._override("editingEnabled",e):this._clearOverride("editingEnabled")}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,i){return this._readEditingEnabled(t,!0,i)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,i,n){this._writeEditingEnabled(e,t,!0,n)}readEditingInfo(e,t){const{editingInfo:i}=t;return i?{lastEditDate:i.lastEditDate!=null?new Date(i.lastEditDate):null}:null}readIsTable(e,t){return(t=t&&t.layerDefinition||t).type==="Table"||!t.geometryType}writeIsTable(e,t,i,n){n!=null&&n.writeLayerSchema&&Pr(i,e?"Table":"Feature Layer",t)}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){for(const i of t.fields)if(i.type==="esriFieldTypeGlobalID")return i.name}}readObjectIdFieldFromService(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){for(const i of t.fields)if(i.type==="esriFieldTypeOID")return i.name}}get parsedUrl(){const e=this.url?Bi(this.url):null;return e!=null&&(this.dynamicDataSource!=null?e.path=tu(e.path,"dynamicLayer"):this.layerId!=null&&(e.path=tu(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){qP(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,i){const n=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(n){const r=eU(n,t,i)||void 0;return r||KF.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),r}if(t.defaultSymbol)return t.types&&t.types.length?new zI({defaultSymbol:jS(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map(r=>({id:r.id,symbol:jS(r.symbol,r,i)}))}):new NI({symbol:jS(t.defaultSymbol,t,i)})}set source(e){const t=this._get("source");t!==e&&(ZF(t)&&this._resetMemorySource(t),ZF(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof ge?new MF({layer:this,items:e}):e:null}readSource(e,t){const i=$h.fromJSON(t.featureSet);return new MF({layer:this,items:i&&i.features||[]})}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}readTemplates(e,t){const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e=e&&e.map(a=>KI.fromJSON(a)),this._fixTemplates(e,n),this._fixTemplates(e,r),e}readTitle(e,t){const i=t.layerDefinition&&t.layerDefinition.name||t.name,n=t.title||t.layerDefinition&&t.layerDefinition.title;if(i){const r=this.portalItem&&this.portalItem.title;if(this.sublayerTitleMode==="item-title")return this.url?h3e(this.url,i):i;let a=i;if(!a&&this.url){const o=_b(this.url);$(o)&&(a=o.title)}return a?(this.sublayerTitleMode==="item-title-and-service-name"&&r&&r!==a&&(a=r+" - "+a),HI(a)):void 0}if(this.sublayerTitleMode==="item-title"&&n)return n}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let i=(t=t.layerDefinition||t).typeIdField;if(i&&t.fields){i=i.toLowerCase();const n=t.fields.find(r=>r.name.toLowerCase()===i);n&&(i=n.name)}return i}readTypes(e,t){e=(t=t.layerDefinition||t).types;const i=t.editFieldsInfo,n=i&&i.creatorField,r=i&&i.editorField;return e&&e.map(a=>(a=CU.fromJSON(a),this._fixTemplates(a.templates,n),this._fixTemplates(a.templates,r),a))}set url(e){const t=m3e({layer:this,url:e,nonStandardUrlAllowed:!0,logger:KF});this._set("url",t.url),t.layerId!=null&&this._set("layerId",t.layerId)}writeUrl(e,t,i,n){f3e(this,e,null,t,n)}readVersion(e,t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}readVisible(e,t){return t.layerDefinition&&t.layerDefinition.defaultVisibility!=null?!!t.layerDefinition.defaultVisibility:t.visibility!=null?!!t.visibility:void 0}addAttachment(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("addAttachment"in this.source))throw new P(Yt,"Layer source does not support addAttachment capability");return this.source.addAttachment(e,t)})}updateAttachment(e,t,i){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("updateAttachment"in this.source))throw new P(Yt,"Layer source does not support updateAttachment capability");return this.source.updateAttachment(e,t,i)})}async applyEdits(e,t){const i=await import("./editingSupport.71b42da2.js");return await this.load(),i.applyEdits(this,this.source,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return gDe(this,e)}async createGraphicsSource(e){if(this._hasMemorySource())return this.source.load({signal:e});const{default:t}=await iz(import("./FeatureLayerSource.452e2bb3.js"),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=new Mn,t=this.get("capabilities.data"),i=this.get("capabilities.query");e.dynamicDataSource=this.dynamicDataSource,e.historicMoment=this.historicMoment,e.gdbVersion=this.gdbVersion,e.returnGeometry=!0,i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),t&&(t.supportsZ&&this.returnZ!=null&&(e.returnZ=this.returnZ),t.supportsM&&this.returnM!=null&&(e.returnM=this.returnM)),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:n,timeExtent:r}=this;return e.timeExtent=n!=null&&r!=null?r.offset(-n.value,n.unit):r||null,e.multipatchOption=this.geometryType==="multipatch"?"xyFootprint":null,e}deleteAttachments(e,t){return this.load().then(()=>this._checkAttachmentSupport(e)).then(()=>{if(!("deleteAttachments"in this.source))throw new P(Yt,"Layer source does not support deleteAttachments capability");return this.source.deleteAttachments(e,t)})}fetchRecomputedExtents(e){return this.load({signal:e==null?void 0:e.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(e);throw new P(Yt,"Layer source does not support fetchUpdates capability")})}getFeatureType(e){const{typeIdField:t,types:i}=this;if(!t||!e)return null;const n=e.attributes?e.attributes[t]:void 0;if(n==null)return null;let r=null;return i.some(a=>{const{id:o}=a;return o!=null&&(o.toString()===n.toString()&&(r=a),!!r)}),r}getFieldDomain(e,t){const i=t&&t.feature,n=this.getFeatureType(i);if(n){const r=n.domains&&n.domains[e];if(r&&r.type!=="inherited")return r}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}queryAttachments(e,t){return e=Vx.from(e),this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new P(Yt,"this layer doesn't support attachments");const{attachmentTypes:i,objectIds:n,globalIds:r,num:a,size:o,start:s,where:l}=e;if(!this.get("capabilities.operations.supportsQueryAttachments")){const u=n&&n.length>1,h=i&&i.length,m=r&&r.length,f=o&&o.length;if(u||h||m||f||a||s||l)throw new P(Yt,"when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",e)}if(!(n&&n.length||l))throw new P(Yt,"'objectIds' or 'where' are required to perform attachment query",e);if(!("queryAttachments"in this.source))throw new P(Yt,"Layer source does not support queryAttachments capability",e);return this.source.queryAttachments(e)})}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(Mn.from(e)||this.createQuery(),t)).then(i=>{if(i!=null&&i.features)for(const n of i.features)n.layer=n.sourceLayer=this;return i})}queryObjectIds(e,t){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Mn.from(e)||this.createQuery(),t);throw new P(Yt,"Layer source does not support queryObjectIds capability")})}queryFeatureCount(e,t){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Mn.from(e)||this.createQuery(),t);throw new P(Yt,"Layer source does not support queryFeatureCount capability")})}queryExtent(e,t){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Mn.from(e)||this.createQuery(),t);throw new P(Yt,"Layer source does not support queryExtent capability")})}queryRelatedFeatures(e,t){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(fh.from(e),t);throw new P(Yt,"Layer source does not support queryRelatedFeatures capability")})}queryRelatedFeaturesCount(e,t){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(fh.from(e),t);throw new P(Yt,"Layer source does not support queryRelatedFeaturesCount capability")})}queryTopFeatures(e,t){return this.load().then(()=>{if("queryTopFeatures"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopFeatures(Yc.from(e),t).then(i=>{if(i!=null&&i.features)for(const n of i.features)n.layer=n.sourceLayer=this;return i});throw new P(Yt,"Layer source does not support queryTopFeatures capability")})}queryTopObjectIds(e,t){return this.load().then(()=>{if("queryTopObjectIds"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopObjectIds(Yc.from(e),t);throw new P(Yt,"Layer source does not support queryTopObjectIds capability")})}queryTopFeaturesExtent(e,t){return this.load().then(()=>{if("queryTopExtents"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopExtents(Yc.from(e),t);throw new P(Yt,"Layer source does not support queryTopExtents capability")})}queryTopFeatureCount(e,t){return this.load().then(()=>{if("queryTopCount"in this.source&&this.get("capabilities.query.supportsTopFeaturesQuery"))return this.source.queryTopCount(Yc.from(e),t);throw new P(Yt,"Layer source does not support queryFeatureCount capability")})}read(e,t){const i=e.featureCollection;if(i){const n=i.layers;n&&n.length===1&&(super.read(n[0],t),i.showLegend!=null&&super.read({showLegend:i.showLegend},t))}super.read(e,t),t&&t.origin==="service"&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")}write(e,t){var i,n;const r=(t=ne(D({},t),{writeLayerSchema:(i=(n=t)==null?void 0:n.writeLayerSchema)!=null?i:this._hasMemorySource()})).origin,a=t.layerContainerType,o=t.messages;if(this.isTable){if(r==="web-scene"||r==="web-map"&&a!=="tables")return o&&o.push(new P("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return o&&o.push(new P("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&r==="web-map"&&a==="tables")return o&&o.push(new P("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new P(Yt,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(this.source.type==="memory"||hDe(this,e))}_readEditingEnabled(e,t,i){var n;let r=(n=e.layerDefinition)==null?void 0:n.capabilities;return r?this._hasEditingCapability(r):(r=e.capabilities,t&&(i==null?void 0:i.origin)==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(e,t,i,n){if(!e){var r,a;const o=(r=this.capabilities)!=null&&(a=r.operations)!=null&&a.supportsSync?"Query,Sync":"Query";Pr("layerDefinition.capabilities",o,t),!i||n!=null&&n.writeLayerSchema||(t.capabilities=o)}}_checkAttachmentSupport(e){const{attributes:t}=e,{objectIdField:i}=this;return this.get("capabilities.data.supportsAttachment")?e?t?t[i]?void 0:Promise.reject(new P(Yt,`feature is missing the identifying attribute ${i}`)):Promise.reject(new P(Yt,"'attributes' are required on a feature to query attachments")):Promise.reject(new P(Yt,"A feature is required to add/delete/update attachments")):Promise.reject(new P(Yt,"this layer doesn't support attachments"))}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return $t(this.url,{query:ne(D({f:"json"},this.customParameters),{token:this.apiKey}),responseType:"json",signal:e}).then(t=>{const i=t.data;if(i)return Array.isArray(i.layers)&&i.layers.length>0?i.layers[0].id:Array.isArray(i.tables)&&i.tables.length>0?i.tables[0].id:void 0})}async _initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",url:this.parsedUrl})),this._verifySource(),this._verifyFields(),qP(this.renderer,this.fieldsIndex),ij(this.timeInfo,this.fieldsIndex),pDe(this,{origin:"service"})}async hasDataChanged(){var e;if((e=this.source)!=null&&e.refresh)try{var t;const{dataChanged:i,updates:n}=await((t=this.source)==null?void 0:t.refresh());if($(n)&&(this.sourceJSON=D(D({},this.sourceJSON),n),this.read(n,{origin:"service",url:this.parsedUrl})),i)return!0}catch{}if(this.definitionExpression)try{return(await USe(this.definitionExpression,this.fieldsIndex)).hasDateFunctions}catch{}return!1}_verifyFields(){const e=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||e.search(/\/FeatureServer\//i)!==-1||this.fields&&this.fields.some(function(t){return t.type==="geometry"})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach(i=>{const n=i.prototype&&i.prototype.attributes;n&&t&&delete n[t]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new P("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new P("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach(t=>{t.layer=this,t.sourceLayer=this}),this._handles.add([e.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),e.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(e){e.forEach(t=>{t.layer=null,t.sourceLayer=null}),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}_readAttachmentCapabilities(e){const t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};return e&&Array.isArray(e)&&e.forEach(i=>{const n=CDe[i.name];n&&(t[n]=!!i.isEnabled)}),t}_readDataCapabilities(e){return{isVersioned:Ce(e,"isDataVersioned",!1),supportsAttachment:Ce(e,"hasAttachments",!1),supportsM:Ce(e,"hasM",!1),supportsZ:Ce(e,"hasZ",!1)}}_readMetadataCapabilities(e){return{supportsAdvancedFieldProperties:Ce(e,"supportsFieldDescriptionProperty",!1)}}_readOperationsCapabilities(e,t){const i=e?e.toLowerCase().split(",").map(l=>l.trim()):[],n=i.includes("editing")&&!t.datesInUnknownTimezone;let r=n&&i.includes("create"),a=n&&i.includes("delete"),o=n&&i.includes("update");const s=i.includes("changetracking");return n&&!(r||a||o)&&(r=a=o=!0),{supportsCalculate:Ce(t,"supportsCalculate",!1),supportsTruncate:Ce(t,"supportsTruncate",!1),supportsValidateSql:Ce(t,"supportsValidateSql",!1),supportsAdd:r,supportsDelete:a,supportsEditing:n,supportsChangeTracking:s,supportsQuery:i.includes("query"),supportsQueryAttachments:Ce(t.advancedQueryCapabilities,"supportsQueryAttachments",!1),supportsResizeAttachments:Ce(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:o,supportsExceedsLimitStatistics:Ce(t,"supportsExceedsLimitStatistics",!1)}}_readQueryCapabilities(e){var t;const i=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,r=e.archivingInfo,a=(t=this.url)==null?void 0:t.includes("MapServer"),o=!V("mapserver-pbf-enabled")&&a&&this.version<10.81,s=dU(this.url),l=(e.supportedQueryFormats||"").split(",").reduce((u,h)=>{const m=h.toLowerCase().trim();return m&&u.add(m),u},new Set);return{supportsStatistics:Ce(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:Ce(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:Ce(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:TDe(i),supportsCentroid:Ce(i,"supportsReturningGeometryCentroid",!1),supportsDistance:Ce(i,"supportsQueryWithDistance",!1),supportsDistinct:Ce(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:Ce(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ce(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Ce(i,"supportsHavingClause",!1),supportsOrderBy:Ce(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:Ce(i,"supportsPagination",!1),supportsQuantization:Ce(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ce(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ce(e,"supportsReturningQueryGeometry",!1),supportsResultType:Ce(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ce(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:Ce(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ce(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:Ce(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:Ce(n,"allowOthersToQuery",!0),supportsHistoricMoment:Ce(r,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!o&&l.has("pbf"),supportsDisjointSpatialRelationship:Ce(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ce(i,"supportsQueryWithCacheHint",!1),supportsDefaultSpatialReference:Ce(i,"supportsDefaultSR",!1),supportsCompactGeometry:s,maxRecordCountFactor:Gv(e,"maxRecordCountFactor",void 0),maxRecordCount:Gv(e,"maxRecordCount",void 0),standardMaxRecordCount:Gv(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:Gv(e,"tileMaxRecordCount",void 0)}}_readQueryRelatedCapabilities(e){const t=e.advancedQueryCapabilities,i=Ce(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ce(t,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i}}_readEditingCapabilities(e){const t=e.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ce(e,"allowGeometryUpdates",!0),supportsGlobalId:Ce(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Ce(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Ce(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ce(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ce(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ce(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ce(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ce(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ce(t,"allowOthersToUpdate",!0)}}};c([d({readOnly:!0,json:{read:!1}})],K.prototype,"capabilities",void 0),c([te("service","capabilities",["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"])],K.prototype,"readCapabilities",null),c([d({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],K.prototype,"charts",void 0),c([d({readOnly:!0})],K.prototype,"createQueryVersion",null),c([d({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],K.prototype,"copyright",void 0),c([d({type:Boolean})],K.prototype,"datesInUnknownTimezone",void 0),c([d({type:String,json:{read:{source:"layerDefinition.displayField"},origins:{service:{read:{source:"displayField"}}}}})],K.prototype,"displayField",void 0),c([d({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],K.prototype,"definitionExpression",void 0),c([d({types:Gd,readOnly:!0})],K.prototype,"defaultSymbol",void 0),c([d({type:Dr})],K.prototype,"dynamicDataSource",void 0),c([d({readOnly:!0})],K.prototype,"editFieldsInfo",void 0),c([d({type:Boolean})],K.prototype,"editingEnabled",null),c([te(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],K.prototype,"readEditingEnabled",null),c([te("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],K.prototype,"readEditingEnabledFromWebMap",null),c([ae(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],K.prototype,"writeEditingEnabled",null),c([ae("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],K.prototype,"writeEditingEnabledToWebMap",null),c([d({readOnly:!0})],K.prototype,"editingInfo",void 0),c([te("editingInfo")],K.prototype,"readEditingInfo",null),c([d(p5e)],K.prototype,"elevationInfo",void 0),c([d(iDe)],K.prototype,"featureReduction",void 0),c([d(ne(D({},NS.fields),{json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:zS}}}}}))],K.prototype,"fields",void 0),c([d(NS.fieldsIndex)],K.prototype,"fieldsIndex",void 0),c([d({type:uDe,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],K.prototype,"floorInfo",void 0),c([d({type:i3e,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],K.prototype,"formTemplate",void 0),c([d({type:lt,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],K.prototype,"fullExtent",void 0),c([d()],K.prototype,"gdbVersion",void 0),c([d({readOnly:!0,type:sDe,json:{read:{source:"geometryProperties"}}})],K.prototype,"geometryFieldsInfo",void 0),c([d({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:FS.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:zS,writer(e,t,i){const n=e?FS.toJSON(e):null;n&&Pr(i,n,t)}}}},read:{source:"layerDefinition.geometryType",reader:FS.read}}})],K.prototype,"geometryType",void 0),c([d({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],K.prototype,"hasM",void 0),c([d({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],K.prototype,"hasZ",void 0),c([d({readOnly:!0,type:b_})],K.prototype,"heightModelInfo",void 0),c([d({type:Date})],K.prototype,"historicMoment",void 0),c([d(f5e)],K.prototype,"id",void 0),c([d({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],K.prototype,"infoFor3D",void 0),c([d({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],K.prototype,"isTable",void 0),c([te("service","isTable",["type","geometryType"]),te("isTable",["layerDefinition.type","layerDefinition.geometryType"])],K.prototype,"readIsTable",null),c([ae("web-map","isTable")],K.prototype,"writeIsTable",null),c([d(gU)],K.prototype,"labelsVisible",void 0),c([d({type:[YI],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:GF},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:GF},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],K.prototype,"labelingInfo",void 0),c([d(m5e)],K.prototype,"opacity",void 0),c([d({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],K.prototype,"layerId",void 0),c([d(h5e)],K.prototype,"legendEnabled",void 0),c([d({type:["show","hide"]})],K.prototype,"listMode",void 0),c([d(g5e)],K.prototype,"minScale",void 0),c([te("service","minScale",["minScale","effectiveMinScale"])],K.prototype,"readMinScale",null),c([d(y5e)],K.prototype,"maxScale",void 0),c([te("service","maxScale",["maxScale","effectiveMaxScale"])],K.prototype,"readMaxScale",null),c([d({type:String})],K.prototype,"globalIdField",void 0),c([te("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),te("service","globalIdField",["globalIdField","fields"])],K.prototype,"readGlobalIdFieldFromService",null),c([d({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:zS}}}}})],K.prototype,"objectIdField",void 0),c([te("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),te("service","objectIdField",["objectIdField","fields"])],K.prototype,"readObjectIdFieldFromService",null),c([d({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],K.prototype,"operationalLayerType",void 0),c([d(NS.outFields)],K.prototype,"outFields",void 0),c([d({readOnly:!0})],K.prototype,"parsedUrl",null),c([d({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],K.prototype,"path",void 0),c([d(fU)],K.prototype,"popupEnabled",void 0),c([d({type:ab,json:{name:"popupInfo",write:!0}})],K.prototype,"popupTemplate",void 0),c([d({readOnly:!0})],K.prototype,"defaultPopupTemplate",null),c([d({type:[dDe],readOnly:!0})],K.prototype,"relationships",void 0),c([d({types:Qq,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:VSe,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,i)=>({ignoreOrigin:i==null?void 0:i.writeLayerSchema})}}})],K.prototype,"renderer",null),c([te("service","renderer",["drawingInfo.renderer","defaultSymbol"]),te("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],K.prototype,"readRenderer",null),c([d()],K.prototype,"sourceJSON",void 0),c([d({type:Boolean})],K.prototype,"returnM",void 0),c([d({type:Boolean})],K.prototype,"returnZ",void 0),c([d(u5e)],K.prototype,"screenSizePerspectiveEnabled",void 0),c([d({clonable:!1})],K.prototype,"source",null),c([Ye("source")],K.prototype,"castSource",null),c([te("portal-item","source",["featureSet"]),te("web-map","source",["featureSet"])],K.prototype,"readSource",null),c([d({readOnly:!0})],K.prototype,"serviceDefinitionExpression",void 0),c([te("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],K.prototype,"readServiceDefinitionExpression",null),c([d({type:Le,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],K.prototype,"spatialReference",void 0),c([d({type:Number})],K.prototype,"subtypeCode",void 0),c([d({type:[KI]})],K.prototype,"templates",void 0),c([te("templates",["editFieldsInfo","creatorField","editorField","templates"])],K.prototype,"readTemplates",null),c([d({type:wU})],K.prototype,"timeInfo",void 0),c([d()],K.prototype,"title",void 0),c([te("service","title",["name"]),te("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],K.prototype,"readTitle",null),c([te("web-map","title",["layerDefinition.name","title"])],K.prototype,"readTitleFromWebMap",null),c([d({type:String})],K.prototype,"sublayerTitleMode",void 0),c([d({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],K.prototype,"trackIdField",void 0),c([d({json:{read:!1}})],K.prototype,"type",void 0),c([d({type:String})],K.prototype,"typeIdField",void 0),c([te("service","typeIdField"),te("typeIdField",["layerDefinition.typeIdField"])],K.prototype,"readTypeIdField",null),c([d({type:[CU]})],K.prototype,"types",void 0),c([te("service","types",["types"]),te("types",["layerDefinition.types"])],K.prototype,"readTypes",null),c([d({readOnly:!0,json:{write:!1}})],K.prototype,"serverGens",void 0),c([d({type:ge.ofType(sl),readOnly:!0})],K.prototype,"indexes",void 0),c([d(d5e)],K.prototype,"url",null),c([ae("url")],K.prototype,"writeUrl",null),c([d({readOnly:!0})],K.prototype,"userIsAdmin",void 0),c([d({json:{origins:{service:{read:!0}},read:!1}})],K.prototype,"version",void 0),c([te("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],K.prototype,"readVersion",null),c([d({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],K.prototype,"visible",void 0),c([te("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],K.prototype,"readVisible",null),K=c([_("esri.layers.FeatureLayer")],K);const jS=Qm({types:Zj}),Bg=K;var gPe=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"}));const EDe=["$datastore","$map","$layer","$aggregatedfeatures"],IDe="esri.widgets.Feature.support.arcadeFeatureUtils",MDe=Z.getLogger(IDe);function ODe(e){return typeof e=="string"?gb(aI(e)):Array.isArray(e)?ADe(e):(e==null?void 0:e.declaredClass)==="esri.arcade.Dictionary"?PDe(e):e}function ADe(e){return`<ul class="esri-widget__list">${e.map(t=>`<li>${typeof t=="string"?gb(aI(t)):t}</li>`).join("")}</ul>`}function PDe(e){return`<table class="esri-widget__table">${e.keys().map(t=>{const i=e.field(t);return`<tr><th>${t}</th><td>${typeof i=="string"?gb(aI(i)):i}</td></tr>`}).join("")}</table>`}function LDe({aggregatedFeatures:e,arcadeUtils:t,featureSetVars:i,context:n,viewInfo:r,map:a,graphic:o,interceptor:s}){i.forEach(l=>{const u=l.toLowerCase(),h={map:a,spatialReference:r.sr,interceptor:s};if(u==="$map"&&(n.vars[u]=t.convertMapToFeatureSetCollection(h)),u==="$layer"&&(n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:o.sourceLayer,spatialReference:r.sr,interceptor:s})),u==="$datastore"&&(n.vars[u]=t.convertServiceUrlToWorkspace({url:o.sourceLayer.url,spatialReference:r.sr,interceptor:s})),u==="$aggregatedfeatures"){const m=o.layer,{fields:f,objectIdField:g,geometryType:b,spatialReference:v,displayField:w}=m,x=new Bg(ne(D({fields:f,objectIdField:g,geometryType:b,spatialReference:v,displayField:w},m.type==="feature"?{templates:m.templates,typeIdField:m.typeIdField,types:m.types}:null),{source:e}));n.vars[u]=t.convertFeatureLayerToFeatureSet({layer:x,spatialReference:r.sr,interceptor:s})}})}function EU(){return import("./arcadeUtils.04cb5ff9.js").then(function(e){return e.q})}async function RDe({graphic:e,view:t}){const{isAggregate:i,layer:n}=e;if(!i||!n||(t==null?void 0:t.type)!=="2d")return[];const r=await t.whenLayerView(n);if(!r.createQuery||!r.queryFeatures)return[];const a=r.createQuery();a.aggregateIds=[e.getObjectId()];const{features:o}=await r.queryFeatures(a);return o}async function IU({expressionInfo:e,arcadeUtils:t,interceptor:i,spatialReference:n,map:r,graphic:a,view:o}){if(!e||!e.expression)return null;const s=t.createSyntaxTree(e.expression),l=EDe.filter(g=>t.hasVariable(s,g)),[u]=await tz([RDe({graphic:a,view:o}),t.loadScriptDependencies(s,!0,l)]),h=t.getViewInfo({spatialReference:n}),m=t.createExecContext(a,h);m.interceptor=i,m.useAsync=!0,LDe({aggregatedFeatures:u,arcadeUtils:t,featureSetVars:l,context:m,viewInfo:h,map:r,graphic:a,interceptor:i});const f=t.createFunction(s,m);return t.executeAsyncFunction(f,m).catch(g=>MDe.error("arcade-execution-error",{error:g,graphic:a,expressionInfo:e}))}async function FDe({expressionInfos:e,spatialReference:t,graphic:i,interceptor:n,map:r,view:a}){if(!e||!e.length)return{};const o=await EU(),s={};for(const h of e)s[`expression/${h.name}`]=IU({expressionInfo:h,arcadeUtils:o,interceptor:n,spatialReference:t,map:r,graphic:i,view:a});const l=await tr(s),u={};for(const h in l)u[h]=ODe(l[h].value);return u}const NDe=1;let yr=class extends wh(he){constructor(e){super(e),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{var t,i;const n=(t=this.contentElement)==null?void 0:t.type;(i=this.contentElementViewModel)==null||i.destroy();const r=n==="fields"?new o_:n==="media"?new Nd:n==="text"?new Ux:null;this._set("contentElementViewModel",r)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=XE(this._compile,NDe,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:i,interceptor:n,spatialReference:r,map:a,view:o,_abortController:s}=this;if(!(t&&i&&r&&a))return void this._set("contentElement",null);const l=await EU();if(s!==this._abortController)return;const u=await IU({arcadeUtils:l,expressionInfo:t,graphic:i,interceptor:n,map:a,spatialReference:r,view:o});if(!u||u.declaredClass!=="esri.arcade.Dictionary")return void this._set("contentElement",null);const h=await OI(u,s.signal),m=h==null?void 0:h.type,f=m==="media"?gy.fromJSON(h):m==="text"?Rm.fromJSON(h):m==="fields"?Lm.fromJSON(h):null;this._set("contentElement",f)},this.handles.add([Gt(this,["expressionInfo","graphic","map","spatialReference","view"],this._compileThrottled),Gt(this,"contentElement",this._createVM)])}destroy(){var e;this._cancelQuery(),(e=this.contentElementViewModel)==null||e.destroy(),this._set("contentElementViewModel",null),this._set("contentElement",null)}get spatialReference(){var e;return((e=this.view)==null?void 0:e.spatialReference)||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get state(){const{_abortController:e,contentElement:t,contentElementViewModel:i}=this;return e?"loading":t||i?"ready":"disabled"}get map(){var e;return((e=this.view)==null?void 0:e.map)||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}};c([d()],yr.prototype,"_abortController",void 0),c([d({type:cj})],yr.prototype,"expressionInfo",void 0),c([d({type:Nn})],yr.prototype,"graphic",void 0),c([d({readOnly:!0})],yr.prototype,"contentElement",void 0),c([d({readOnly:!0})],yr.prototype,"contentElementViewModel",void 0),c([d()],yr.prototype,"interceptor",void 0),c([d()],yr.prototype,"spatialReference",null),c([d({readOnly:!0})],yr.prototype,"state",null),c([d()],yr.prototype,"map",null),c([d()],yr.prototype,"view",void 0),yr=c([_("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],yr);const ZI=yr,Wv={iconLoading:"esri-icon-loading-indicator esri-rotating",base:"esri-feature-expression",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"};let vw=class extends an{constructor(e,t){super(e,t),this.viewModel=new ZI}initialize(){Gt(this,"viewModel.contentElementViewModel",()=>this._setupExpressionWidget())}destroy(){this._destroyContentWidget()}renderLoading(){return R("div",{key:"loading-container",class:Wv.loadingSpinnerContainer},R("span",{class:this.classes(Wv.iconLoading,Wv.spinner)}))}render(){var e;const{state:t}=this.viewModel;return R("div",{class:Wv.base},t==="loading"?this.renderLoading():t==="disabled"?null:(e=this._contentWidget)==null?void 0:e.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,i=t==null?void 0:t.type;this._destroyContentWidget();const n=e?i==="fields"?new VV({viewModel:e}):i==="media"?new DH({viewModel:e}):i==="text"?new Y1({viewModel:e}):null:null;this._contentWidget=n,this.scheduleRender()}};c([d({type:ZI})],vw.prototype,"viewModel",void 0),vw=c([_("esri.widgets.Feature.FeatureExpression")],vw);const zDe=vw;class jDe{constructor(t,i){this.preLayerQueryCallback=t,this.preRequestCallback=i,this.preLayerQueryCallback||(this.preLayerQueryCallback=n=>{}),this.preRequestCallback||(this.preLayerQueryCallback=n=>{})}}var ww;const VDe=1,XF="content-view-models",MU="esri.widgets.FeatureViewModel",HDe=Z.getLogger(MU),QF={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0};let Lt=ww=class extends he{constructor(e){super(e),this._handles=new gn,this._error=null,this._featureAbortController=null,this.graphicChangedThrottled=XE(this._graphicChanged,VDe,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities=D({},QF),this.content=null,this.contentViewModels=[],this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title="",this.view=null,this._isAllowedContentType=t=>{const{abilities:i}=this;return t.type==="attachments"&&i.attachmentsContent||t.type==="custom"&&i.customContent||t.type==="fields"&&i.fieldsContent||t.type==="media"&&i.mediaContent||t.type==="text"&&i.textContent||t.type==="expression"&&i.expressionContent},this._handles.add(Gt(this,["graphic","_effectivePopupTemplate","abilities"],()=>this.graphicChangedThrottled()))}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this._handles=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return $(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return T1e(XL(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return IV(this.graphic)}castAbilities(e){return D(D({},QF),e)}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?e.clone():null)}get spatialReference(){return this.get("view.spatialReference")||null}set spatialReference(e){e!==void 0?this._override("spatialReference",e):this._clearOverride("spatialReference")}get map(){return this.get("view.map")||null}set map(e){e!==void 0?this._override("map",e):this._clearOverride("map")}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const i=this.contentViewModels[e];i instanceof Nd&&i.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof Nd&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof Nd&&t.previous()}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(i){va(i)||(this._error=i,HDe.error("error","The popupTemplate could not be displayed for this feature.",{error:i,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return e.type==="attachments"?this._compileAttachments(e,t):e.type==="custom"?this._compileCustom(e,t):e.type==="fields"?this._compileFields(e,t):e.type==="media"?this._compileMedia(e,t):e.type==="text"?this._compileText(e,t):e.type==="expression"?this._compileExpression(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map((t,i)=>this._compileContentElement(t,i)):typeof e=="string"?this._compileText(new Rm({text:e}),0).text:e}_destroyContentViewModels(){var e;(e=this._handles)==null||e.remove(XF),this.contentViewModels.forEach(t=>t&&!t.destroyed&&t.destroy()),this._set("contentViewModels",[])}_setExpressionContentVM(e,t){const{formattedAttributes:i}=this,{contentElement:n,contentElementViewModel:r}=e,a=n==null?void 0:n.type;r&&a&&(a==="fields"&&(this._createFieldsFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createFieldsVMParams(n,t))),a==="media"&&(this._createMediaFormattedAttributes({contentElement:n,contentElementIndex:t,formattedAttributes:i}),r.set(this._createMediaVMParams(n,t))),a==="text"&&r.set(this._createTextVMParams(n)))}_compileExpression(e,t){const{expressionInfo:i}=e,{graphic:n,map:r,spatialReference:a,view:o}=this,s=new ZI({expressionInfo:i,graphic:n,interceptor:ww.interceptor,map:r,spatialReference:a,view:o});return this.contentViewModels[t]=s,this._handles.add(Gt(s,"contentElementViewModel",()=>this._setExpressionContentVM(s,t)),XF),e}_compileAttachments(e,t){const{graphic:i}=this,{description:n,title:r}=e;return this.contentViewModels[t]=new sI(D({graphic:i},this._compileTitleAndDesc({title:r,description:n}))),e}_compileCustom(e,t){const{graphic:i}=this,{creator:n,destroyer:r}=e;return this.contentViewModels[t]=new Ux({graphic:i,creator:n,destroyer:r}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:i,_sourceLayer:n,graphic:r,formattedAttributes:a,_expressionAttributes:o}=this,{attributes:s}=r,l=a.global;return{title:Rd({attributes:s,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:e}),description:Rd({attributes:s,fieldInfoMap:i,globalAttributes:l,expressionAttributes:o,layer:n,text:t})}}_createFieldsVMParams(e,t){const{_effectivePopupTemplate:i,formattedAttributes:n}=this,r=D(D({},n.global),n.content[t]),a=(e==null?void 0:e.fieldInfos)||(i==null?void 0:i.fieldInfos),o=a==null?void 0:a.filter(({fieldName:h})=>OV(h)||fl(h)||r.hasOwnProperty(h)),s=i==null?void 0:i.expressionInfos,{description:l,title:u}=e;return D({attributes:r,expressionInfos:s,fieldInfos:o},this._compileTitleAndDesc({title:u,description:l}))}_compileFields(e,t){const i=e.clone(),n=new o_(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=n,i.fieldInfos=n.formattedFieldInfos.slice(0),i}_createMediaVMParams(e,t){const{abilities:i,graphic:n,_fieldInfoMap:r,formattedAttributes:a,_effectivePopupTemplate:o,relatedInfos:s,_sourceLayer:l,_expressionAttributes:u}=this,{attributes:h}=n,{description:m,mediaInfos:f,title:g}=e;return D({abilities:{chartAnimation:i.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:h,layer:l,fieldInfoMap:r,formattedAttributes:D(D({},a.global),a.content[t]),expressionAttributes:u,mediaInfos:f,popupTemplate:o,relatedInfos:s},this._compileTitleAndDesc({title:g,description:m}))}_compileMedia(e,t){const i=e.clone(),n=new Nd(this._createMediaVMParams(e,t));return i.mediaInfos=n.formattedMediaInfos.slice(0),this.contentViewModels[t]=n,i}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:i,_sourceLayer:n,_expressionAttributes:r}=this;if(e&&e.text){const{attributes:a}=t,o=this.formattedAttributes.global;e.text=Rd({attributes:a,fieldInfoMap:i,globalAttributes:o,expressionAttributes:r,layer:n,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const i=e.clone();return this.contentViewModels[t]=new Ux(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:i}=this;if(!e)return;const{lastEditInfoEnabled:n}=e,r=t==null?void 0:t.editFieldsInfo;return n&&r?C1e(r,i.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:i,graphic:n,_expressionAttributes:r}=this,{attributes:a}=n,o=this.formattedAttributes.global;return Rd({attributes:a,fieldInfoMap:t,globalAttributes:o,expressionAttributes:r,layer:i,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this,i=e==null?void 0:e.title;return Hx(i,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this,i=e==null?void 0:e.content;return Hx(i,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:i,graphic:n,_effectivePopupTemplate:r,spatialReference:a,map:o,view:s}=this,{content:{value:l},title:{value:u}}=await tr({content:this._getContent(),title:this._getTitle()});if(t!==this._featureAbortController||!n)return;await O1e({graphic:n,popupTemplate:r,layer:i,spatialReference:a},e);const{expressionAttributes:{value:h}}=await tr({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:FDe({expressionInfos:r==null?void 0:r.expressionInfos,spatialReference:a,graphic:n,map:o,interceptor:ww.interceptor,view:s})});t===this._featureAbortController&&n&&(this._expressionAttributes=h,this._graphicExpressionAttributes=D(D({},n.attributes),h),this._set("formattedAttributes",this._createFormattedAttributes(l)),this._set("title",this._compileTitle(u)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){const{_effectivePopupTemplate:n,graphic:r,relatedInfos:a,_sourceLayer:o,_fieldInfoMap:s,_graphicExpressionAttributes:l}=this;i.content[t]=nS({fieldInfos:n==null?void 0:n.fieldInfos,graphic:r,attributes:D(D({},l),e.attributes),layer:o,fieldInfoMap:s,relatedInfos:a})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){if(e.fieldInfos){const{graphic:n,relatedInfos:r,_sourceLayer:a,_fieldInfoMap:o,_graphicExpressionAttributes:s}=this;i.content[t]=nS({fieldInfos:e.fieldInfos,graphic:n,attributes:D(D({},s),e.attributes),layer:a,fieldInfoMap:o,relatedInfos:r})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:i,relatedInfos:n,_sourceLayer:r,_fieldInfoMap:a,_graphicExpressionAttributes:o}=this,s=t==null?void 0:t.fieldInfos,l={global:nS({fieldInfos:s,graphic:i,attributes:o,layer:r,fieldInfoMap:a,relatedInfos:n}),content:[]};return Array.isArray(e)&&e.forEach((u,h)=>{u.type==="fields"&&this._createFieldsFormattedAttributes({contentElement:u,contentElementIndex:h,formattedAttributes:l}),u.type==="media"&&this._createMediaFormattedAttributes({contentElement:u,contentElementIndex:h,formattedAttributes:l})}),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(t,XL(i),e)}async _queryRelatedInfos(e,t,i){const{relatedInfos:n,_sourceLayer:r}=this;n.clear();const a=$(r.associatedLayer)?await r.associatedLayer.load(i):r;if(!a)return;const o=t.filter(u=>u&&fl(u.fieldName));if(!o||!o.length)return;t.forEach(u=>this._configureRelatedInfo(u,a));const s=await Hxe({relatedInfos:n,layer:a},i);Object.keys(s).forEach(u=>{var h;const m=n.get(u.toString()),f=(h=s[u])==null?void 0:h.value;m&&f&&(m.layerInfo=f.data)});const l=await qxe({graphic:e,relatedInfos:n,layer:a},i);Object.keys(l).forEach(u=>{var h;Fxe((h=l[u])==null?void 0:h.value,n.get(u.toString()))})}_configureRelatedInfo(e,t){const{relatedInfos:i}=this,n=J0(e.fieldName);if(!n)return;const{layerId:r,fieldName:a}=n;if(!r)return;const o=i.get(r.toString())||Rxe(r,t);o&&(Uxe({relatedInfo:o,fieldName:a,fieldInfo:e}),this.relatedInfos.set(r,o))}};Lt.interceptor=new jDe(L1e,R1e),c([d()],Lt.prototype,"_error",void 0),c([d()],Lt.prototype,"_featureAbortController",void 0),c([d({readOnly:!0})],Lt.prototype,"_effectivePopupTemplate",null),c([d({readOnly:!0})],Lt.prototype,"_fieldInfoMap",null),c([d({readOnly:!0})],Lt.prototype,"_sourceLayer",null),c([d()],Lt.prototype,"abilities",void 0),c([Ye("abilities")],Lt.prototype,"castAbilities",null),c([d({readOnly:!0})],Lt.prototype,"content",void 0),c([d({readOnly:!0})],Lt.prototype,"contentViewModels",void 0),c([d({type:Boolean})],Lt.prototype,"defaultPopupTemplateEnabled",void 0),c([d({readOnly:!0})],Lt.prototype,"state",null),c([d({readOnly:!0})],Lt.prototype,"formattedAttributes",void 0),c([d({type:Nn,value:null})],Lt.prototype,"graphic",null),c([d({readOnly:!0})],Lt.prototype,"lastEditInfo",void 0),c([d({readOnly:!0})],Lt.prototype,"relatedInfos",void 0),c([d()],Lt.prototype,"spatialReference",null),c([d({readOnly:!0})],Lt.prototype,"title",void 0),c([d()],Lt.prototype,"map",null),c([d({readOnly:!0})],Lt.prototype,"waitingForContent",null),c([d()],Lt.prototype,"view",void 0),Lt=ww=c([_(MU)],Lt);const XI=Lt,OU=e=>{let t=class extends e{constructor(){super(...arguments),this.renderNodeContent=i=>jV(i)&&!i.destroyed?R("div",{key:i},i.render()):i instanceof HTMLElement?R("div",{key:i,bind:i,afterCreate:this._attachToNode}):K1e(i)?R("div",{key:i,bind:i.domNode,afterCreate:this._attachToNode}):null}_attachToNode(i){const n=this;i.appendChild(n)}};return t=c([_("esri.widgets.Feature.ContentMixin")],t),t},Ji={iconText:"esri-icon-font-fallback-text",iconLoading:"esri-icon-loading-indicator esri-rotating",esriTable:"esri-widget__table",esriWidget:"esri-widget",base:"esri-feature",container:"esri-feature__size-container",title:"esri-feature__title",main:"esri-feature__main-container",btn:"esri-feature__button",icon:"esri-feature__icon",content:"esri-feature__content",contentElement:"esri-feature__content-element",text:"esri-feature__text",lastEditedInfo:"esri-feature__last-edited-info",fields:"esri-feature__fields",fieldHeader:"esri-feature__field-header",fieldData:"esri-feature__field-data",fieldDataDate:"esri-feature__field-data--date",loadingSpinnerContainer:"esri-feature__loading-container",spinner:"esri-feature__loading-spinner"},e4={title:!0,content:!0,lastEditedInfo:!0};let Ki=class extends OU(an){constructor(e,t){super(e,t),this._contentWidgets=[],this.graphic=null,this.defaultPopupTemplateEnabled=!1,this.headingLevel=2,this.label=void 0,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.spatialReference=null,this.title=null,this.visibleElements=D({},e4),this.map=null,this.view=null,this.viewModel=new XI}initialize(){this.own(Gt(this,"viewModel.contentViewModels",()=>this._setupContentWidgets()))}loadDependencies(){return import("./calcite-notice.abdd3481.js")}destroy(){this._destroyContentWidgets()}castVisibleElements(e){return D(D({},e4),e)}render(){const{state:e}=this.viewModel,t=R("div",{class:Ji.container,key:"container"},this.renderTitle(),e==="error"?this.renderError():e==="loading"?this.renderLoading():this.renderContentContainer());return R("div",{class:this.classes(Ji.base,Ji.esriWidget)},t)}setActiveMedia(e,t){this.viewModel.setActiveMedia(e,t)}nextMedia(e){this.viewModel.nextMedia(e)}previousMedia(e){this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:i}=this;return R("calcite-notice",{active:!0,color:"red",icon:"exclamation-mark-circle",scale:"s"},i.title?R("div",{key:"error-title",slot:"title"},e.errorMessage):null,R("div",{key:"error-message",slot:"message"},t.loadingError))}renderLoading(){return R("div",{key:"loading-container",class:Ji.loadingSpinnerContainer},R("span",{class:this.classes(Ji.iconLoading,Ji.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?R("div",{class:Ji.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?R(lI,{level:this.headingLevel,class:Ji.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t="content";if(!e)return null;if(Array.isArray(e))return e.length?R("div",{key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(typeof e=="string"){const i=this._contentWidgets[0];return!i||i.destroyed?null:R("div",{key:`${t}-content`},i.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:i}=this;if(typeof i.content!="boolean"&&!i.content[e.type])return null;switch(e.type){case"attachments":return this.renderAttachments(t);case"custom":return this.renderCustom(e,t);case"fields":return this.renderFields(t);case"media":return this.renderMedia(t);case"text":return this.renderText(e,t);case"expression":return this.renderExpression(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:i,attachmentInfos:n}=t.viewModel;return i==="loading"||n.length>0?R("div",{key:this._buildKey("attachments-element",e),class:this.classes(Ji.contentElement)},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("expression-element",e),class:Ji.contentElement},t.render())}renderCustom(e,t){const{creator:i}=e,n=this._contentWidgets[t];return!n||n.destroyed?null:i?R("div",{key:this._buildKey("custom-element",t),class:Ji.contentElement},n.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("fields-element",e),class:Ji.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:R("div",{key:this._buildKey("media-element",e),class:Ji.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:i}=this.viewModel;if(!i||!e.lastEditedInfo)return null;const{date:n,user:r}=i,a=i.type==="edit"?r?t.lastEditedByUser:t.lastEdited:r?t.lastCreatedByUser:t.lastCreated,o=Hs(a,{date:n,user:r});return R("div",{key:"edit-info-element",class:this.classes(Ji.lastEditedInfo,Ji.contentElement)},o)}renderText(e,t){const i=e.text,n=this._contentWidgets[t];return!n||n.destroyed?null:i?R("div",{key:this._buildKey("text-element",t),class:this.classes(Ji.contentElement,Ji.text)},n.render()):null}_buildKey(e,...t){return`${e}__${this.get("viewModel.graphic.uid")||"0"}-${t.join("-")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this._contentWidgets.forEach(e=>this._destroyContentWidget(e)),this._contentWidgets=[]}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,i=this.get("viewModel.content"),{contentViewModels:n}=this.viewModel;if(Array.isArray(i))i.forEach((r,a)=>{r.type==="attachments"&&(this._contentWidgets[a]=new G1e({displayType:r.displayType,headingLevel:t.title?e+1:e,viewModel:n[a]})),r.type==="fields"&&(this._contentWidgets[a]=new VV({viewModel:n[a]})),r.type==="media"&&(this._contentWidgets[a]=new DH({viewModel:n[a]})),r.type==="text"&&(this._contentWidgets[a]=new Y1({viewModel:n[a]})),r.type==="custom"&&(this._contentWidgets[a]=new Y1({viewModel:n[a]})),r.type==="expression"&&(this._contentWidgets[a]=new zDe({viewModel:n[a]}))},this);else{const r=n[0];r&&!r.destroyed&&(this._contentWidgets[0]=new Y1({viewModel:r}))}this.scheduleRender()}};c([ce("viewModel.graphic")],Ki.prototype,"graphic",void 0),c([ce("viewModel.defaultPopupTemplateEnabled")],Ki.prototype,"defaultPopupTemplateEnabled",void 0),c([d()],Ki.prototype,"headingLevel",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ki.prototype,"label",void 0),c([d(),Ui("esri/widgets/Feature/t9n/Feature")],Ki.prototype,"messages",void 0),c([d(),Ui("esri/t9n/common")],Ki.prototype,"messagesCommon",void 0),c([d(),Ui("esri/widgets/support/t9n/uriUtils")],Ki.prototype,"messagesURIUtils",void 0),c([ce("viewModel.spatialReference")],Ki.prototype,"spatialReference",void 0),c([ce("viewModel.title")],Ki.prototype,"title",void 0),c([d()],Ki.prototype,"visibleElements",void 0),c([Ye("visibleElements")],Ki.prototype,"castVisibleElements",null),c([ce("viewModel.map")],Ki.prototype,"map",void 0),c([ce("viewModel.view")],Ki.prototype,"view",void 0),c([d({type:XI})],Ki.prototype,"viewModel",void 0),Ki=c([_("esri.widgets.Feature")],Ki);const qDe=Ki;let ud=class extends ys.EventedAccessor{constructor(e){super(e),this._anchorHandles=new gn,this.location=null,this.screenLocation=null,this.screenLocationEnabled=!1,this.view=null,this._anchorHandles.add([yt(this,["screenLocationEnabled","location","view.size","view.stationary"],()=>this._updateScreenPointAndHandle()),yt(this,["view","view.ready"],()=>this._wireUpView())])}destroy(){this.view=null,this._anchorHandles&&this._anchorHandles.destroy(),this._anchorHandles=null,this._viewpointHandle=null}_wireUpView(){const e="view";if(this._anchorHandles.remove(e),this._viewpointHandle=null,!this.get("view.ready"))return;this._setScreenLocation();const{view:t}=this,i=t.type==="3d"?"camera":"viewpoint",n=qbe(t,i,()=>this._viewpointChange());this._anchorHandles.add(n,e),this._viewpointHandle=n,this._toggleWatchingViewpoint()}_viewpointChange(){this._setScreenLocation(),this.emit("view-change")}_updateScreenPointAndHandle(){this._setScreenLocation(),this._toggleWatchingViewpoint()}_toggleWatchingViewpoint(){const{_viewpointHandle:e,location:t,screenLocationEnabled:i}=this;!e||(t&&i?e.resume():e.pause())}_setScreenLocation(){const{location:e,view:t,screenLocationEnabled:i}=this,n=this.get("view.ready"),r=i&&n&&$(e)?t.toScreen(e):null;this._set("screenLocation",r)}};c([d()],ud.prototype,"location",void 0),c([d({readOnly:!0})],ud.prototype,"screenLocation",void 0),c([d()],ud.prototype,"screenLocationEnabled",void 0),c([d()],ud.prototype,"view",void 0),ud=c([_("esri.widgets.support.AnchorElementViewModel")],ud);const AU=ud,UDe="esri.widgets.CompassViewModel";let xw=class extends AU{constructor(e){super(e),this.visible=!1}};c([d()],xw.prototype,"visible",void 0),xw=c([_(UDe)],xw);const PU=xw,VS={base:"esri-spinner",spinnerStart:"esri-spinner--start",spinnerFinish:"esri-spinner--finish"};let dd=class extends an{constructor(e,t){super(e,t),this._animationDelay=500,this._animationPromise=null,this.location=null,this.view=null,this.viewModel=new PU,this.visible=!1}initialize(){this.own([yt(this,"visible",e=>this._visibleChange(e))])}destroy(){this._animationPromise=null}show(e){const{location:t,promise:i}=e;t&&(this.viewModel.location=t),this.visible=!0;const n=()=>this.hide();i&&i.catch(()=>{}).then(n)}hide(){this.visible=!1}render(){const{visible:e}=this,{screenLocation:t}=this.viewModel,i=!!t,n=e&&i,r=!e&&i,a={[VS.spinnerStart]:n,[VS.spinnerFinish]:r},o=this._getPositionStyles();return R("div",{class:this.classes(VS.base,a),styles:o})}_visibleChange(e){if(e)return void(this.viewModel.screenLocationEnabled=!0);const t=NT(this._animationDelay);this._animationPromise=t,t.catch(()=>{}).then(()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)})}_getPositionStyles(){const{screenLocation:e,view:t}=this.viewModel;if(!t||z(e))return{};const{padding:i}=t;return{left:e.x-i.left+"px",top:e.y-i.top+"px"}}};c([ce("viewModel.location")],dd.prototype,"location",void 0),c([ce("viewModel.view")],dd.prototype,"view",void 0),c([d({type:PU})],dd.prototype,"viewModel",void 0),c([ce("viewModel.visible")],dd.prototype,"visible",void 0),dd=c([_("esri.widgets.Spinner")],dd);const BDe=dd;var t4;(function(e){e[e.size=22]="size",e[e.lineWidth=50]="lineWidth",e[e.maxSize=120]="maxSize",e[e.maxOutlineSize=80]="maxOutlineSize",e[e.tallSymbolWidth=20]="tallSymbolWidth"})(t4||(t4={}));class GDe{constructor(t,i){this._storage=new Kq,this._storage.maxSize=t,i&&this._storage.registerRemoveFunc("",i)}put(t,i){this._storage.put(t,i,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}new GDe(1e3);new Ie([128,128,128]);const WDe=new Ie("white");function rk(e,t){if(t==null)return e;const i=e.toRgba();return i[3]=i[3]*t,new Ie(i)}function JDe(e,t,i){const n=e.symbolLayers;if(!n)return;const r=a=>{const o=$(a)?a:null;return rk(t=t||o||i!=null&&WDe,i)};n.forEach(a=>{if(a.type!=="object"||a.resource.href==null||t)if(a.type==="water")a.color=r(a.color);else{const o=$(a.material)?a.material.color:null,s=r(o);z(a.material)?a.material=new Or({color:s}):a.material.color=s,i!=null&&"outline"in a&&$(a.outline)&&$(a.outline.color)&&(a.outline.color=rk(a.outline.color,i))}})}function YDe(e,t,i){(t=t||e.color)&&(e.color=rk(t,i)),i!=null&&"outline"in e&&e.outline&&e.outline.color&&(e.outline.color=rk(e.outline.color,i))}function HS(e,t,i){e&&(t||i!=null)&&(t&&(t=new Ie(t)),by(e)?JDe(e,t,i):FE(e)&&YDe(e,t,i))}async function KDe(e,t){const i=e.symbolLayers;i&&await wue(i,async n=>ZDe(n,t))}async function ZDe(e,t){switch(e.type){case"extrude":QDe(e,t);break;case"icon":case"line":case"text":XDe(e,t);break;case"path":t$e(e,t);break;case"object":await e$e(e,t)}}function XDe(e,t){const i=LU(t);$(i)&&(e.size=i)}function LU(e){for(const t of e)if(typeof t=="number")return t;return null}function QDe(e,t){e.size=typeof t[2]=="number"?t[2]:0}async function e$e(e,t){const{resourceSize:i,symbolSize:n}=await i$e(e),r=RU(t,i,n);e.width=Gg(t[0],n[0],i[0],r),e.depth=Gg(t[1],n[1],i[1],r),e.height=Gg(t[2],n[2],i[2],r)}function t$e(e,t){const i=RU(t,y8,[e.width,void 0,e.height]);e.width=Gg(t[0],e.width,1,i),e.height=Gg(t[2],e.height,1,i)}function RU(e,t,i){for(let n=0;n<3;n++){const r=e[n];switch(r){case"symbol-value":return i[n]!=null?i[n]/t[n]:1;case"proportional":break;default:if(r&&t[n])return r/t[n]}}return 1}async function i$e(e){const t=await import("./symbolLayerUtils.8349afbd.js"),i=await t.computeObjectLayerResourceSize(e,10),{width:n,height:r,depth:a}=e,o=[n,a,r];let s=1;for(let l=0;l<3;l++)if(o[l]!=null){s=o[l]/i[l];break}for(let l=0;l<3;l++)o[l]==null&&(o[l]=i[l]*s);return{resourceSize:i,symbolSize:o}}function Gg(e,t,i,n){switch(e){case"proportional":return i*n;case"symbol-value":return t!=null?t:i;default:return e}}function n$e(e,t){const i=LU(t);if(!z(i))switch(e.type){case"simple-marker":e.size=i;break;case"picture-marker":{const n=e.width/e.height;n>1?(e.width=i,e.height=i*n):(e.width=i*n,e.height=i);break}case"simple-line":e.width=i;break;case"text":e.font.size=i}}async function r$e(e,t){if(e&&t)return by(e)?KDe(e,t):void(FE(e)&&n$e(e,t))}function a$e(e,t,i){if(e&&t!=null)if(by(e)){const n=e.symbolLayers;n&&n.forEach(r=>{if(r&&r.type==="object")switch(i){case"tilt":r.tilt=t;break;case"roll":r.roll=t;break;default:r.heading=t}})}else FE(e)&&(e.type!=="simple-marker"&&e.type!=="picture-marker"&&e.type!=="text"||(e.angle=t))}function FU(e){return e&&"opacity"in e?e.opacity*FU(e.parent):1}async function o$e(e,t){var i,n;if(!e)return;const r=e.sourceLayer,a=(i=$(t)&&(n=t.useSourceLayer)!=null&&n?r:e.layer)!=null?i:r,o=FU(a);if($(e.symbol)&&(!$(t)||t.ignoreGraphicSymbol!==!0)){const S=e.symbol.type==="web-style"?await e.symbol.fetchSymbol($(t)?t.abortOptions:null):e.symbol.clone();return HS(S,null,o),S}const s=$(t)&&t.renderer||a&&"renderer"in a&&a.renderer;let l=s&&"getSymbolAsync"in s?await s.getSymbolAsync(e,t):null;if(!l)return;if(l=l.type==="web-style"?await l.fetchSymbol($(t)?t.abortOptions:null):l.clone(),!("visualVariables"in s)||!s.visualVariables||!s.visualVariables.length)return HS(l,null,o),l;if("arcadeRequiredForVisualVariables"in s&&s.arcadeRequiredForVisualVariables&&(z(t)||z(t.arcade))){const S=D({},t);S.arcade=await $l(),t=S}const u=await Promise.resolve().then(function(){return hSe}),h=[],m=[],f=[],g=[];for(const S of s.visualVariables)switch(S.type){case"color":h.push(S);break;case"opacity":m.push(S);break;case"rotation":g.push(S);break;case"size":S.target||f.push(S)}const b=!!h.length&&h[h.length-1],v=b?u.getColor(b,e,t):null,w=!!m.length&&m[m.length-1];let x=w?u.getOpacity(w,e,t):null;if(o!=null&&(x=x!=null?x*o:o),HS(l,v,x),f.length){const S=u.getAllSizes(f,e,t);await r$e(l,S)}for(const S of g)a$e(l,u.getRotationAngle(S,e,t),S.axis);return l}class TC{constructor(t=i=>i.values().next().value){this._peeker=t,this._items=new Set}get length(){return this._items.size}clear(){this._items.clear()}last(){if(this._items.size===0)return;let t;for(t of this._items);return t}peek(){if(this._items.size!==0)return this._peeker(this._items)}push(t){this.contains(t)||this._items.add(t)}contains(t){return this._items.has(t)}pop(){if(this.length===0)return;const t=this.peek();return this._items.delete(t),t}popLast(){if(this.length===0)return;const t=this.last();return this._items.delete(t),t}remove(t){this._items.delete(t)}filter(t){return this._items.forEach(i=>{t(i)||this._items.delete(i)}),this}}const s$e=V("mac")?"Meta":"Ctrl",$_={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let e=48;e<58;e++)$_[e]=String.fromCharCode(e);for(let e=1;e<25;e++)$_[111+e]=`F${e}`;for(let e=65;e<91;e++)$_[e]=[String.fromCharCode(e+32),String.fromCharCode(e)];function l$e(e){if(e.key!==void 0)return bd(e);const t=$_[e.keyCode];return Array.isArray(t)?e.shiftKey?t[1]:t[0]:t}function c$e(e){switch(e){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return!0}return!1}class u$e{constructor(t,i=[]){this.eventType=t,this.keyModifiers=i}matches(t){if(t.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=t.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}}const i4=Z.getLogger("esri.views.input.InputHandler");class Gi{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const i=this._incoming[t];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager?i4.error("This InputHandler has already been registered with an InputManager"):(t.setEventCallback(i=>this._handleEvent(i)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,i,n){let r;typeof i=="function"?(n=i,r=[]):r=i||[];const a=typeof t=="string"?new u$e(t,r):t,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},s=h=>{const m=this._incoming[h.match.eventType];if(m){const f=m.indexOf(h);m.splice(f,1),o(),this._manager&&this._manager.updateDependencies()}},l=new d$e(a,n,{onPause:s,onRemove:s,onResume:h=>{const m=this._incoming[h.match.eventType];m&&m.indexOf(h)===-1&&(m.push(h),o(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[a.eventType];return u||(u=[],this._incoming[a.eventType]=u),u.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const i=new h$e(t,{onEmit:(n,r,a,o)=>{this._manager.emit(n.eventType,r,a,o)},onRemove:n=>{delete this._outgoing[n.eventType],this._manager.updateDependencies()}});return this._outgoing[t]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(t){this._manager.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):i4.error("This InputHandler is not registered with an InputManager")}_handleEvent(t){const i=this._incoming[t.type];if(i){for(const n of i)if(n.match.matches(t)&&(n.callback(t),t.shouldStopPropagation()))break}}}class d$e{constructor(t,i,n){this.match=t,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class h$e{constructor(t,i){this.eventType=t,this._removed=!1,this._handler=i}emit(t,i,n){this._removed||this._handler.onEmit(this,t,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}}class p$e extends Gi{constructor(t){super(!0),this._onChange=t,this._value="mouse",this.registerIncoming("pointer-down",i=>{const n=i.data.native.pointerType==="touch";this._setValue(n?"touch":"mouse")}),this._moveHandler=this.registerIncoming("pointer-move",i=>{const n=i.data.native.pointerType==="touch";this._setValue(n?"touch":"mouse")}),this._moveHandler.pause()}_setValue(t){t!==this._value&&(t==="touch"?this._moveHandler.resume():this._moveHandler.pause(),this._value=t,this._onChange(t))}}const qS=Z.getLogger("esri.views.input.InputManager");let hd=class extends he{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=s$e,this.latestPointerType="mouse",this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource=null,this._currentPropagation=null}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}installHandlers(e,t,i=Xc.INTERNAL){if(this._nameToGroup[e])return void qS.error("There is already an InputHandler group registered under the name `"+e+"`");if(t.length===0)return void qS.error("Can't register a group of zero handlers");const n={name:e,handlers:t.map(r=>({handler:r,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=n;for(let r=n.handlers.length-1;r>=0;r--){const a=n.handlers[r];this._handlers.push(a),a.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(o,s,l,u,h)=>{this._emitInputEvent(a.priorityIndex+1,o,s,l,h,u)},setPointerCapture:(o,s)=>{this._setPointerCapture(n,a,o,s)},setEventCallback:o=>{a.eventCallback=o},setUninstallCallback:o=>{a.uninstallCallback=o},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach(i=>{i.removed=!0,i.uninstallCallback()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):qS.error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const n=this._handlers[i];n.priorityIndex=i,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const n=this._handlersPriority[i];n.priorityIndex=i;let r=n.handler.hasSideEffects;if(!r){for(const a of n.handler.outgoingEventTypes)if(e.has(a)){r=!0;break}}if(r)for(const a of n.handler.incomingEventMatches){e.add(a.eventType);for(const o of a.keyModifiers)c$e(o)||t.add(o)}n.active=r}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointerType(e){this._set("latestPointerType",e)}_onEventReceived(e,t){if(e==="pointer-capture-lost"){const r=t;this._pointerCaptures.delete(r.native.pointerId)}this._updateKeyModifiers(e,t);const i=this.test.timestamp!=null?this.test.timestamp:t.native?t.native.timestamp:void 0,n=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,i,n)}_updateKeyModifiers(e,t){if(!t)return;let i=!1;const n=()=>{if(!i){const o=new Set;this._activeKeyModifiers.forEach(s=>{o.add(s)}),this._activeKeyModifiers=o,i=!0}},r=(o,s)=>{s&&!this._activeKeyModifiers.has(o)?(n(),this._activeKeyModifiers.add(o)):!s&&this._activeKeyModifiers.has(o)&&(n(),this._activeKeyModifiers.delete(o))};if(e==="key-down"||e==="key-up"){const o=t.key;this._keyModifiers.has(o)&&r(o,e==="key-down")}const a=t.native;r("Alt",!(!a||!a.altKey)),r("Ctrl",!(!a||!a.ctrlKey)),r("Shift",!(!a||!a.shiftKey)),r("Meta",!(!a||!a.metaKey)),r("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerTypeHandler=new p$e(e=>this._setLatestPointerType(e)),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Xc.INTERNAL),this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler],Xc.INTERNAL)}_setPointerCapture(e,t,i,n){const r=e.name+"-"+t.priorityIndex,a=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,a),n?(a.add(r),a.size===1&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):a.has(r)&&(a.delete(r),a.size===0&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,t,i,n){this._emitInputEvent(0,e,t,i,n)}_emitInputEvent(e,t,i,n,r,a){const o=n!==void 0?n:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),s=r!==void 0&&r,l={event:new m$e(t,i,o,a||this._activeKeyModifiers,s),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new TC,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){const e=this._currentPropagation;if(e){for(;this._currentPropagation.events.length>0;){const{event:t,priorityIndex:i}=this._currentPropagation.events.pop(),n=t.data&&t.data.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(e.currentHandler=this._handlersPriority[i];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback(t),t.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(t.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new TC;for(t.push(e);this._currentPropagation.events.length;)t.push(this._currentPropagation.events.pop());this._currentPropagation.events=t,this._currentPropagation.currentHandler=null}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const i of e.handler.incomingEventMatches)for(const n of t.handler.incomingEventMatches){if(i.eventType!==n.eventType)continue;const r=i.keyModifiers.filter(a=>n.keyModifiers.indexOf(a)!==-1);if(r.length===i.keyModifiers.length!=(r.length===n.keyModifiers.length))return i.keyModifiers.length>n.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const i of e){let n=0;for(;n<t.length&&this._compareHandlerPriority(i,t[n])>=0;)n++;t.splice(n,0,i)}return t}get debug(){const e=t=>{const i=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=i};return{injectEvent:(t,i)=>{e(()=>{this._onEventReceived(t,i)})},disablePointerCapture:e}}};c([d({readOnly:!0})],hd.prototype,"hasPendingInputs",null),c([d()],hd.prototype,"eventSource",void 0),c([d()],hd.prototype,"recognizers",void 0),c([d({readOnly:!0})],hd.prototype,"latestPointerType",void 0),hd=c([_("esri.views.input.InputManager")],hd);class m$e{constructor(t,i,n,r,a){this.type=t,this.data=i,this.timestamp=n,this.modifiers=r,this.cancelable=a,this._propagationState=Pc.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=Pc.STOPPED}shouldStopPropagation(){return(this._propagationState&Pc.STOPPED)!=0}async(t){this._propagationState|=Pc.PAUSED;const i=(n,r)=>{this._propagationState&=~Pc.PAUSED;const a=this._resumeCallback;if(this._resumeCallback=null,a&&a(),r)throw n;return n};return(typeof t=="function"?t():t).then(n=>i(n,!1),n=>i(n,!0))}shouldPausePropagation(t){return!!(this._propagationState&Pc.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}var Pc;(function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"})(Pc||(Pc={}));const Xc={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};function f$e(e){return e&&typeof e.highlight=="function"}const C_={iconZoom:"esri-icon-zoom-in-magnifying-glass",iconTrash:"esri-icon-trash",iconBrowseClusteredFeatures:"esri-icon-table"},jd=new af({id:"zoom-to-feature",title:"{messages.zoom}",className:C_.iconZoom}),EC=new af({id:"remove-selected-feature",title:"{messages.remove}",className:C_.iconTrash}),Yp=new af({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:C_.iconZoom}),Kp=new af({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:C_.iconBrowseClusteredFeatures}),g$e="esri.widgets.Popup.PopupViewModel",ou=Z.getLogger(g$e),y$e=function(e){const{event:t,view:i}=e,{action:n}=t,r=i&&i.popup;if(!n)return Promise.reject(new P("trigger-action:missing-arguments","Event has no action"));if(!r)return Promise.reject(new P("trigger-action:missing-arguments","view.popup is missing"));const{disabled:a,id:o}=n;if(!o)return Promise.reject(new P("trigger-action:invalid-action","action.id is missing"));if(a)return Promise.reject(new P("trigger-action:invalid-action","Action is disabled"));if(o===jd.id)return v$e(r.viewModel).catch(P3);if(o===Yp.id)return w$e(r.viewModel);if(o===Kp.id)return r.featureMenuOpen=!r.featureMenuOpen,r.viewModel.browseClusterEnabled=!r.viewModel.browseClusterEnabled,Promise.resolve();if(r.viewModel.browseClusterEnabled=!1,o===EC.id){r.close();const{selectedFeature:s}=r;if(!s)return Promise.reject(new P(`trigger-action:${EC.id}`,"selectedFeature is required",{selectedFeature:s}));const{sourceLayer:l}=s;return l?l.remove(s):i.graphics.remove(s),Promise.resolve()}return Promise.resolve()};function NU(e){const{selectedFeature:t,location:i,view:n}=e;return n?n.type==="3d"?t||i:e.get("selectedFeature.geometry")||i:null}function b$e(e,t){if((t==null?void 0:t.type)!=="3d"||!e||e.declaredClass!=="esri.Graphic")return!0;const i=t.getViewForGraphic(e);if(i&&"whenGraphicBounds"in i){let n=!1;return i.whenGraphicBounds(e,{useViewElevation:!0}).then(r=>{n=!r||!r.boundingBox||r.boundingBox[0]===r.boundingBox[3]&&r.boundingBox[1]===r.boundingBox[4]&&r.boundingBox[2]===r.boundingBox[5]}).catch(()=>{const r=new P("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:e});ou.error(r)}),n}return!0}async function v$e(e){const{location:t,selectedFeature:i,view:n,zoomFactor:r}=e,a=NU(e);if(!a){const u=new P("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:a,view:n});return ou.error(u),Promise.reject(u)}const o=n.scale/r,s=e.get("selectedFeature.geometry")||t,l=s&&s.type==="point"&&b$e(i,n);jd.active=!0,jd.disabled=!0;try{await e.view.goTo({target:a,scale:l?o:void 0})}finally{jd.active=!1,jd.disabled=!1,e.zoomToLocation=null,l&&(e.location=s)}}async function w$e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new P("zoomToCluster:invalid-view","View must be 2d MapView.",{view:i});throw ou.error(s),s}if(!t.isAggregate){const s=new P("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw ou.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()],Yp.active=!0,Yp.disabled=!0;const{extent:o}=await r.queryExtent(a);await i.goTo({target:o}),Yp.active=!1,Yp.disabled=!1}async function x$e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new P("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:i});throw ou.error(s),s}if(!t.isAggregate){const s=new P("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw ou.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()];const{extent:o}=await r.queryExtent(a);e.selectedClusterBoundaryFeature.geometry=o,i.graphics.add(e.selectedClusterBoundaryFeature)}async function k$e(e){const{selectedFeature:t,view:i}=e;if((i==null?void 0:i.type)!=="2d"){const s=new P("browseAggregateFeatures:invalid-view","View must be 2d MapView.",{view:i});throw ou.error(s),s}if(!t.isAggregate){const s=new P("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:t});throw ou.error(s),s}const n=t.sourceLayer,r=await i.whenLayerView(n),a=r.createQuery();a.aggregateIds=[t.getObjectId()],Kp.active=!0,Kp.disabled=!0;const{features:o}=await r.queryFeatures(a);Kp.active=!1,Kp.disabled=!1,i.popup.open({features:[t].concat(o),featureMenuOpen:!0})}function _$e(e){var t;(t=e.selectedFeature)!=null&&t.isAggregate&&(e.features=e.features.filter(i=>i.isAggregate))}const T_=e=>{let t=class extends e{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:n}=this;return this.goToOverride?this.goToOverride(n,i):n.goTo(i.target,i.options)}};return c([d()],t.prototype,"goToOverride",void 0),c([d()],t.prototype,"view",void 0),t=c([_("esri.widgets.support.GoTo")],t),t},Wg=ge.ofType({key:"type",defaultKeyValue:"button",base:Kk,typeMap:{button:af,toggle:_j}}),S$e=()=>[jd.clone()],D$e=()=>[Yp.clone(),Kp.clone()],zU="esri.widgets.Popup.PopupViewModel",n4=Z.getLogger(zU);let qe=class extends T_(AU){constructor(e){super(e),this._handles=new gn,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new Wg,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new Nn({symbol:new _h({outline:{width:1.5,color:"cyan"},style:"none"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}get isLoadingFeature(){return this.featureViewModels.some(e=>e.waitingForContent)}initialize(){this._handles.add([Gt(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",()=>this._autoClose()),yt(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),yt(this,"view.animation.state",e=>this._animationStateChange(e)),yt(this,"location",e=>this._locationChange(e)),yt(this,"selectedFeature",e=>this._selectedFeatureChange(e)),yt(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),yt(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],()=>this._setGraphicOnFeatureViewModels()),yt(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",e=>y$e({event:e,view:this.view})),ND(this,"waitingForResult",()=>this._waitingForResultChange(),!0),yt(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),yt(this,["view.scale"],this._viewScaleChange),ND(this,"visible",()=>this.browseClusterEnabled=!1),yt(this,"browseClusterEnabled",e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing())])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._handles=null,this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get("allActions")||new Wg;e.removeAll();const{actions:t,defaultActions:i,defaultPopupTemplateEnabled:n,includeDefaultActions:r,selectedFeature:a}=this,o=r?i.concat(t):t,s=a&&(typeof a.getEffectivePopupTemplate=="function"&&a.getEffectivePopupTemplate(n)||a.popupTemplate),l=s&&s.actions,u=s&&s.overwriteActions?l:l?l.concat(o):o;return u&&u.filter(Boolean).forEach(h=>e.add(h)),e}get defaultActions(){var e;const t=this._get("defaultActions")||new Wg;return t.removeAll(),t.addMany((e=this.selectedFeature)!=null&&e.isAggregate?D$e():S$e()),t}get featureCount(){return this.features.length}get features(){return this._get("features")||[]}set features(e){const t=e||[];this._set("features",t);const{pendingPromisesCount:i,promiseCount:n,selectedFeatureIndex:r}=this,a=n&&t.length;a&&i&&r===-1?this.selectedFeatureIndex=0:a&&r!==-1||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get("location")||null}set location(e){const t=this.get("view.spatialReference.isWebMercator");e&&e.get("spatialReference.isWGS84")&&t&&(e=vl(e)),this._set("location",e)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||this.featureCount!==0)}get promiseCount(){return this.promises.length}get promises(){return this._get("promises")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set("promises",[]),void this.notifyChange("pendingPromisesCount");this._set("promises",e),(e=e.slice(0)).forEach(t=>{this._pendingPromises.add(t);const i=r=>{this._pendingPromises.has(t)&&this._updateFeatures(r),this._updatePendingPromises(t)},n=()=>this._updatePendingPromises(t);t.then(i,n)}),this.notifyChange("pendingPromisesCount")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;return t===-1?null:e[t]||null}get selectedFeatureIndex(){const e=this._get("selectedFeatureIndex");return typeof e=="number"?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this._set("selectedFeatureIndex",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get("view.ready")?"ready":"disabled"}centerAtLocation(){const{view:e}=this,t=NU(this);if(!t){const i=new P("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:t,view:e});return n4.error(i),Promise.reject(i)}return this.callGoTo({target:{target:t,scale:e.scale}})}clear(){this.set({promises:[],features:[],content:null,title:null,location:null})}fetchFeatures(e,t){const{view:i}=this;if(!i||!e){const n=new P("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:e,view:i});return n4.error(n),Promise.reject(n)}return i.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t=ne(D({updateLocationEnabled:!1,promises:[],fetchFeatures:!1},e),{visible:!0}),{fetchFeatures:i}=t;delete t.fetchFeatures,i&&this._setFetchFeaturesPromises(t.location);const n=["actionsMenuOpen","collapsed","featureMenuOpen"];for(const r of n)delete t[r];this.set(t)}triggerAction(e){const t=this.allActions.getItemAt(e);t&&!t.disabled&&this.emit("trigger-action",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){_$e(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){await x$e(this),await k$e(this)}_animationStateChange(e){this.zoomToLocation||(jd.disabled=e==="waiting-for-target")}_clearBrowsedClusterGraphics(){var e;const t=(e=this.view)==null?void 0:e.graphics;t&&(t.remove(this.selectedClusterBoundaryFeature),t.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){var e;if((e=this.selectedFeature)!=null&&e.isAggregate)return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.browseClusterEnabled=!1,this.features=[this.selectedFeature])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:i}=this;i&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:i,featuresPerPage:n,featureViewModels:r}=this;if(i===null)return;const a=((i-1)*n+t)%t,o=a+n;r.slice(a,o).forEach((s,l)=>{s&&!s.graphic&&(s.graphic=e[a+l])})}async _selectedFeatureChange(e){if(!e)return;const{location:t,updateLocationEnabled:i,view:n}=this;if(this.browseClusterEnabled)return this._selectedClusterFeature&&(n.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),e.isAggregate?void 0:(e.symbol=await o$e(e),this._selectedClusterFeature=e,void n.graphics.add(this._selectedClusterFeature));!i&&t||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then(()=>{this.location=n.center.clone()}):this.location=this._getPointFromGeometry(e.geometry)}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then(t=>{const{clientOnlyGraphics:i,promisesPerLayerView:n}=t,r=Promise.resolve(i),a=n.map(o=>o.promise);this.promises=[r,...a]})}_destroyFeatureVMs(){this.featureViewModels.forEach(e=>e&&!e.destroyed&&e.destroy()),this._set("featureViewModels",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:i}=this;if(e!=null&&e.isAggregate||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const n=i.slice(0),r=[];t.forEach((a,o)=>{if(!a)return;let s=null;if(n.some((h,m)=>(h&&h.graphic===a&&(s=h,n.splice(m,1)),!!s)),s)r[o]=s;else{var l,u;const h=new XI({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:(l=this.view)==null?void 0:l.spatialReference,graphic:a===e?a:null,map:(u=this.view)==null?void 0:u.map,view:this.view});r[o]=h}}),n.forEach(a=>a&&!a.destroyed&&a.destroy()),this._set("featureViewModels",r)}_getScreenPoint(e){const{view:t}=this;return t&&e&&typeof t.toScreen=="function"?t.toScreen(e):null}_autoOpenEnabledChange(){const e="auto-fetch-features",{_handles:t,autoOpenEnabled:i}=this;if(t.remove(e),i&&this.view){const n=this.view.on("click",r=>{r.pointerType==="mouse"&&r.button!==0||this._fetchFeaturesAndOpen(r)},Xc.WIDGET);t.add(n,e)}}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const i=new AbortController,{signal:n}=i;this._fetchFeaturesController=i,this.notifyChange("waitingForResult");const r=this.fetchFeatures(e,{signal:n,event:t});return r.catch(()=>{}).then(()=>{this._fetchFeaturesController=null,this.notifyChange("waitingForResult")}),r}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:i}=e,{view:n}=this;this._fetchFeaturesWithController(t,e).then(r=>{const{clientOnlyGraphics:a,promisesPerLayerView:o,location:s}=r,l=[Promise.resolve(a),...o.map(u=>u.promise)];return n.popup.open({location:s||i,promises:l}),r})}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange("pendingPromisesCount"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}_getPointFromGeometry(e){return z(e)?null:e.type==="point"?e:e.type==="extent"?e.center:e.type==="polygon"?e.centroid:e.type==="multipoint"||e.type==="polyline"?e.extent.center:null}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}async _highlightFeature(){const e="highlight";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:i,view:n,visible:r}=this;if(!(t&&n&&i&&r))return;let{layer:a,sourceLayer:o}=t;if((o==null?void 0:o.type)!=="map-notes"&&(o==null?void 0:o.type)!=="subtype-group"||(a=o),!(a&&a instanceof wE))return;const s=this._getLayerView(n,a);this._highlightPromise=s;const l=await s;if(!(l&&f$e(l)&&this._highlightPromise===s&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const u=a.type==="imagery"?void 0:"objectIdField"in a&&a.objectIdField,h=t.attributes,m=h&&u&&h[u],f=l.highlight(m||t);this._handles.add(f,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const i=e.filter(n=>t.indexOf(n)===-1);this.features=t.concat(i)}};c([d()],qe.prototype,"featurePage",void 0),c([d()],qe.prototype,"isLoadingFeature",null),c([d({type:Wg})],qe.prototype,"actions",void 0),c([d({readOnly:!0})],qe.prototype,"active",null),c([d({readOnly:!0})],qe.prototype,"allActions",null),c([d({type:Boolean})],qe.prototype,"defaultPopupTemplateEnabled",void 0),c([d()],qe.prototype,"autoCloseEnabled",void 0),c([d()],qe.prototype,"autoOpenEnabled",void 0),c([d()],qe.prototype,"browseClusterEnabled",void 0),c([d()],qe.prototype,"content",void 0),c([d({type:Wg,readOnly:!0})],qe.prototype,"defaultActions",null),c([d({readOnly:!0})],qe.prototype,"featureCount",null),c([d()],qe.prototype,"features",null),c([d()],qe.prototype,"featuresPerPage",void 0),c([d()],qe.prototype,"featureViewModelAbilities",void 0),c([d({readOnly:!0})],qe.prototype,"featureViewModels",void 0),c([d()],qe.prototype,"highlightEnabled",void 0),c([d()],qe.prototype,"includeDefaultActions",void 0),c([d({type:be})],qe.prototype,"location",null),c([d({readOnly:!0})],qe.prototype,"pendingPromisesCount",null),c([d({readOnly:!0})],qe.prototype,"selectedClusterBoundaryFeature",void 0),c([d({readOnly:!0})],qe.prototype,"waitingForResult",null),c([d({readOnly:!0})],qe.prototype,"promiseCount",null),c([d()],qe.prototype,"promises",null),c([d({value:null,readOnly:!0})],qe.prototype,"selectedFeature",null),c([d({value:-1})],qe.prototype,"selectedFeatureIndex",null),c([d({readOnly:!0})],qe.prototype,"selectedFeatureViewModel",null),c([d({readOnly:!0})],qe.prototype,"state",null),c([d()],qe.prototype,"title",void 0),c([d()],qe.prototype,"updateLocationEnabled",void 0),c([d()],qe.prototype,"view",void 0),c([d()],qe.prototype,"visible",void 0),c([d()],qe.prototype,"zoomFactor",void 0),c([d()],qe.prototype,"zoomToLocation",void 0),c([d()],qe.prototype,"centerAtLocation",null),qe=c([_(zU)],qe);const jU=qe,r4="selected-index",$$e=0,a4="popup-spinner",Y={iconLeftTriangleArrow:"esri-icon-left-triangle-arrow",iconRightTriangleArrow:"esri-icon-right-triangle-arrow",iconDockToTop:"esri-icon-maximize",iconDockToBottom:"esri-icon-dock-bottom",iconDockToLeft:"esri-icon-dock-left",iconDockToRight:"esri-icon-dock-right",iconClose:"esri-icon-close",iconUndock:"esri-icon-minimize",iconCheckMark:"esri-icon-check-mark",iconLoading:"esri-icon-loading-indicator",iconDefaultAction:"esri-icon-default-action",iconActionsMenu:"esri-icon-handle-horizontal",rotating:"esri-rotating",base:"esri-popup",widget:"esri-widget",main:"esri-popup__main-container",loadingContainer:"esri-popup__loading-container",isCollapsible:"esri-popup--is-collapsible",isCollapsed:"esri-popup--is-collapsed",shadow:"esri-popup--shadow",isDocked:"esri-popup--is-docked",isDockedTopLeft:"esri-popup--is-docked-top-left",isDockedTopCenter:"esri-popup--is-docked-top-center",isDockedTopRight:"esri-popup--is-docked-top-right",isDockedBottomLeft:"esri-popup--is-docked-bottom-left",isDockedBottomCenter:"esri-popup--is-docked-bottom-center",isDockedBottomRight:"esri-popup--is-docked-bottom-right",alignTopCenter:"esri-popup--aligned-top-center",alignBottomCenter:"esri-popup--aligned-bottom-center",alignTopLeft:"esri-popup--aligned-top-left",alignBottomLeft:"esri-popup--aligned-bottom-left",alignTopRight:"esri-popup--aligned-top-right",alignBottomRight:"esri-popup--aligned-bottom-right",isFeatureMenuOpen:"esri-popup--feature-menu-open",isActionsMenuOpen:"esri-popup--actions-menu-open",hasFeatureUpdated:"esri-popup--feature-updated",header:"esri-popup__header",headerButtons:"esri-popup__header-buttons",headerContainer:"esri-popup__header-container",headerContainerButton:"esri-popup__header-container--button",headerTitle:"esri-popup__header-title",content:"esri-popup__content",footer:"esri-popup__footer",footerHasPagination:"esri-popup__footer--has-pagination",footerHasActions:"esri-popup__footer--has-actions",footerHasActionsMenu:"esri-popup__footer--has-actions-menu",button:"esri-popup__button",buttonDisabled:"esri-popup__button--disabled",buttonDock:"esri-popup__button--dock",icon:"esri-popup__icon",iconDock:"esri-popup__icon--dock-icon",inlineActionsContainer:"esri-popup__inline-actions-container",actionsMenuButton:"esri-popup__actions-menu-button",actions:"esri-popup__actions",action:"esri-popup__action",actionImage:"esri-popup__action-image",actionText:"esri-popup__action-text",actionToggle:"esri-popup__action-toggle",actionToggleOn:"esri-popup__action-toggle--on",pointer:"esri-popup__pointer",pointerDirection:"esri-popup__pointer-direction",navigation:"esri-popup__navigation",paginationPrevious:"esri-popup__pagination-previous",paginationNext:"esri-popup__pagination-next",paginationPreviousIconLTR:"esri-popup__pagination-previous-icon",paginationPreviousIconRTL:"esri-popup__pagination-previous-icon--rtl",paginationNextIconLTR:"esri-popup__pagination-next-icon",paginationNextIconRTL:"esri-popup__pagination-next-icon--rtl",featureMenu:"esri-popup__feature-menu",featureMenuList:"esri-popup__feature-menu-list",featureMenuItem:"esri-popup__feature-menu-item",featureMenuViewport:"esri-popup__feature-menu-viewport",featureMenuHeader:"esri-popup__feature-menu-header",featureMenuNote:"esri-popup__feature-menu-note",featureMenuSelected:"esri-popup__feature-menu-item--selected",featureMenuButton:"esri-popup__feature-menu-button",featureMenuTitle:"esri-popup__feature-menu-title",featureMenuObserver:"esri-popup__feature-menu-observer",featureMenuLoader:"esri-popup__feature-menu-loader",collapseButton:"esri-popup__collapse-button"},o4={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},s4="esri-popup";function Ms(e,t){return t===void 0?`${s4}__${e}`:`${s4}__${e}-${t}`}const VU="esri.widgets.Popup",l4=Z.getLogger(VU),c4={closeButton:!0,featureNavigation:!0};let fe=class extends OU(an){constructor(e,t){super(e,t),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new gn,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverCallback=([i])=>{i!=null&&i.isIntersecting&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=XE(()=>this._displaySpinner(),$$e),this.actions=null,this.alignment="auto",this.autoCloseEnabled=null,this.autoOpenEnabled=null,this.defaultPopupTemplateEnabled=null,this.content=null,this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.featureCount=null,this.featureMenuOpen=!1,this.features=null,this.goToOverride=null,this.headingLevel=2,this.highlightEnabled=null,this.location=null,this.label=void 0,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.promises=null,this.selectedFeature=null,this.selectedFeatureIndex=null,this.spinnerEnabled=!0,this.title=null,this.updateLocationEnabled=null,this.view=null,this.viewModel=new jU,this.visible=null,this.visibleElements=D({},c4),this._addSelectedFeatureIndexHandle(),this.own([yt(this,"viewModel.screenLocation",()=>this._positionContainer()),yt(this,["viewModel.active","dockEnabled"],()=>this._toggleScreenLocationEnabled()),yt(this,"viewModel.screenLocation",(i,n)=>{!!i!=!!n&&this.reposition()}),yt(this,["viewModel.view.padding","viewModel.view.size","viewModel.active","viewModel.location","alignment"],()=>this.reposition()),yt(this,"spinnerEnabled",i=>this._spinnerEnabledChange(i)),yt(this,"viewModel.view.size",(i,n)=>this._updateDockEnabledForViewSize(i,n)),yt(this,"viewModel.view",(i,n)=>this._viewChange(i,n)),yt(this,"viewModel.view.ready",(i,n)=>this._viewReadyChange(i,n)),yt(this,["viewModel.waitingForResult","viewModel.location"],()=>{this._hideSpinner(),this._displaySpinnerThrottled()}),yt(this,["selectedFeatureWidget.viewModel.title","selectedFeatureWidget.viewModel.state"],()=>this._setTitleFromFeatureWidget()),yt(this,["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.state"],()=>this._setContentFromFeatureWidget()),ND(this,"collapsed",()=>{var i,n;((i=this.viewModel)==null||(n=i.view)==null?void 0:n.widthBreakpoint)==="xsmall"&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()}),r_(this,"viewModel.allActions","change",()=>this._watchActions()),Gt(this,"viewModel.allActions",()=>this._watchActions()),yt(this,"viewModel.featureViewModels",()=>this._featureMenuViewportScrollTop())])}destroy(){var e,t;this._destroySelectedFeatureWidget(),this._destroySpinner(),(e=this._handles)==null||e.destroy(),this._unobserveFeatureMenuObserver(),(t=this._featureMenuIntersectionObserver)==null||t.disconnect(),this._handles=null}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){var e,t,i,n,r,a,o;return!!(this.selectedFeatureWidget?((e=this.selectedFeatureWidget)==null||(t=e.viewModel)==null?void 0:t.waitingForContent)||((i=this.selectedFeatureWidget)==null||(n=i.viewModel)==null?void 0:n.state)==="error"||((r=this.selectedFeatureWidget)==null||(a=r.viewModel)==null?void 0:a.content):(o=this.viewModel)==null?void 0:o.content)}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}set actionsMenuOpen(e){this._set("actionsMenuOpen",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get("actionsMenuOpen")}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get("dockOptions")||o4}set dockOptions(e){const t=D({},o4),i=this.get("viewModel.view.breakpoints"),n={};i&&(n.width=i.xsmall,n.height=i.xsmall);const r=D(D({},t),e),a=D(D({},t.breakpoint),n),{breakpoint:o}=r;o===!0?r.breakpoint=a:typeof o=="object"&&(r.breakpoint=D(D({},a),o)),this._set("dockOptions",r),this._setCurrentDockPosition(),this.reposition()}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i}=this,{selectedFeatureViewModel:n}=this.viewModel,r=ne(D({},t),{title:!1});return n?(e?(e.viewModel=n,e.visibleElements=r):this._feature=new qDe({headingLevel:i+1,viewModel:n,visibleElements:r}),this._feature):null}castVisibleElements(e){return D(D({},c4),e)}blur(){const{active:e}=this.viewModel;e||l4.warn("Popup can only be blurred when currently active."),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||l4.warn("Popup can only be focused when currently active."),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){var t,i;this._handles.remove(r4);const n=!!e&&!!e.featureMenuOpen,r=!!e&&!!e.actionsMenuOpen,a={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:r,featureMenuOpen:n};((t=this.viewModel)==null||(i=t.view)==null?void 0:i.widthBreakpoint)==="xsmall"&&(a.collapsed=!0),this.set(a),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){this.viewModel.triggerAction(e)}render(){var e,t,i,n;const{actionsMenuOpen:r,dockEnabled:a,featureMenuVisible:o,dividedActions:s,currentAlignment:l,currentDockPosition:u}=this,{active:h}=this.viewModel,{menuActions:m}=s,f=h&&m.length>1&&r,g=h&&a,b=h&&!a,v=(e=this.selectedFeature)==null||(t=e.layer)==null?void 0:t.title,w=(i=this.selectedFeature)==null||(n=i.layer)==null?void 0:n.id,x={[Y.alignTopCenter]:l==="top-center",[Y.alignBottomCenter]:l==="bottom-center",[Y.alignTopLeft]:l==="top-left",[Y.alignBottomLeft]:l==="bottom-left",[Y.alignTopRight]:l==="top-right",[Y.alignBottomRight]:l==="bottom-right",[Y.isDocked]:g,[Y.shadow]:b,[Y.isDockedTopLeft]:u==="top-left",[Y.isDockedTopCenter]:u==="top-center",[Y.isDockedTopRight]:u==="top-right",[Y.isDockedBottomLeft]:u==="bottom-left",[Y.isDockedBottomCenter]:u==="bottom-center",[Y.isDockedBottomRight]:u==="bottom-right",[Y.isFeatureMenuOpen]:o,[Y.isActionsMenuOpen]:f};return R("div",{class:this.classes(Y.base,x),role:"presentation","data-layer-title":v,"data-layer-id":w,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},h?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return R("span",{"aria-hidden":"true",class:this.classes(Y.icon,Y.iconLoading,Y.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?R("div",{key:Ms("loading-container"),role:"presentation",class:Y.loadingContainer,"aria-label":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousIcon(){const e=Wc(this.container),t={[Y.iconRightTriangleArrow]:e,[Y.paginationPreviousIconRTL]:e,[Y.iconLeftTriangleArrow]:!e,[Y.paginationPreviousIconLTR]:!e};return R("span",{"aria-hidden":"true",class:this.classes(Y.icon,t)})}renderPreviousButton(){const{messages:e}=this;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(Y.button,Y.paginationPrevious),"aria-label":e.previous,title:e.previous},this.renderPreviousIcon())}renderNextIcon(){const e=Wc(this.container),t={[Y.iconLeftTriangleArrow]:e,[Y.paginationNextIconRTL]:e,[Y.iconRightTriangleArrow]:!e,[Y.paginationNextIconLTR]:!e};return R("span",{"aria-hidden":"true",class:this.classes(Y.icon,t)})}renderNextButton(){const{messages:e}=this;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(Y.button,Y.paginationNext),"aria-label":e.next,title:e.next},this.renderNextIcon())}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:n,selectedFeatureIndex:r}=this.viewModel;return R("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(Y.button,Y.featureMenuButton),"aria-haspopup":"true","aria-controls":t,"aria-expanded":e.toString(),"aria-label":i.menu,title:i.menu},this._getPageText(n,r))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:null}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[Y.iconUndock]:e,[Y.iconDock]:!e,[Y.iconDockToRight]:!e&&(t==="top-right"||t==="bottom-right"),[Y.iconDockToLeft]:!e&&(t==="top-left"||t==="bottom-left"),[Y.iconDockToTop]:!e&&t==="top-center",[Y.iconDockToBottom]:!e&&t==="bottom-center"};return R("span",{"aria-hidden":"true",class:this.classes(i,Y.icon)})}renderDockButton(){var e,t,i;const{dockEnabled:n,messages:r}=this,a=(e=this.viewModel)==null||(t=e.view)==null?void 0:t.widthBreakpoint,o=n?r.undock:r.dock;return a!=="xsmall"&&(i=this.dockOptions)!=null&&i.buttonEnabled?R("div",{role:"button","aria-label":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(Y.button,Y.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:n,messagesCommon:r}=this,a={[Y.headerContainerButton]:i},o=R(lI,{level:this.headingLevel,class:Y.headerTitle,innerHTML:e}),s=i?R("button",{key:`${e}--collapsible`,id:t,title:n?r.expand:r.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Y.headerContainer,a),"aria-expanded":n?"false":"true",onclick:this._toggleCollapsed,type:"button"},o):R("div",{key:e,id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(Y.headerContainer,a)},o);return e?s:null}renderCloseIcon(){return R("span",{"aria-hidden":"true",class:this.classes(Y.icon,Y.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?R("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:Y.button,"aria-label":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return R("header",{class:Y.header},this.renderTitle(),R("div",{class:Y.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i}=this,{content:n}=this.viewModel;return t&&!i?R("article",{key:n,enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:Y.content},this.renderContent()):null}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:n,messagesCommon:r}=this,a=i?r.close:r.open,{menuActions:o}=n;return o.length?R("div",{key:Ms("actions-menu-button"),class:this.classes(Y.button,Y.actionsMenuButton),role:"button",id:t,"aria-haspopup":"true","aria-controls":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":a,title:a},R("span",{"aria-hidden":"true",class:Y.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:n}=this,{menuActions:r}=n;return r.length&&i?R("ul",{id:e,role:"menu","aria-labelledby":t,key:Ms("actions"),class:Y.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},r.toArray().map(a=>this.renderAction({action:a,type:"menu-item"}))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return!!e.length&&e.toArray().map(t=>this.renderAction({action:t,type:"inline"}))}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,n=!!t.length;return i||n?R("div",{key:"inline-actions-container","data-inline-actions":i.toString(),"data-menu-actions":n.toString(),class:Y.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?R("section",{key:Ms("navigation"),class:this.classes(Y.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:n}=t,r=!!i.length,a=!!n.length,o={[Y.footerHasPagination]:e,[Y.footerHasActions]:r,[Y.footerHasActionsMenu]:a};return e||r?R("div",{key:Ms("feature-buttons"),class:this.classes(Y.footer,o)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,n=Hs(e.selectedFeatures,{total:t.length});return R("section",{key:Ms("menu"),class:Y.featureMenu},R("strong",{class:Y.featureMenuHeader},n),R("nav",{bind:this,class:Y.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:PD},this.renderFeatureMenu(),R("div",{class:Y.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?R("div",{class:Y.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:R("div",{key:Ms("pointer"),class:Y.pointer,role:"presentation"},R("div",{class:this.classes(Y.pointerDirection,Y.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:n,contentId:r,collapsible:a,hasContent:o,contentCollapsed:s,visibleElements:l}=this,{title:u}=this.viewModel,h=t==="bottom-left"||t==="bottom-center"||t==="bottom-right"||i==="top-left"||i==="top-center"||i==="top-right",m=t==="top-left"||t==="top-center"||t==="top-right"||i==="bottom-left"||i==="bottom-center"||i==="bottom-right",f={[Y.shadow]:e,[Y.isCollapsible]:a,[Y.isCollapsed]:s};return R("div",{class:this.classes(Y.main,Y.widget,f),tabIndex:l.closeButton?null:-1,role:"dialog","aria-labelledby":u?n:"","aria-describedby":o&&!s?r:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},h?this.renderFooter():null,h?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),m?this.renderFooter():null,m?this.renderFeatureMenuContainer():null)}renderContent(){var e;const t=(e=this.viewModel)==null?void 0:e.content;return t?typeof t=="string"?R("div",{key:t,innerHTML:t}):this.renderNodeContent(t):null}renderActionText(e){return R("span",{key:"text",class:Y.actionText},e)}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),n={[Y.iconLoading]:e.active,[Y.rotating]:e.active,[Y.icon]:!!t,[Y.actionImage]:!e.active&&!!i};return t&&(n[t]=!e.active),R("span",{key:"icon","aria-hidden":"true",class:this.classes(Y.icon,n),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,type:i}=e,n=this._getActionTitle(t),r={[Y.action]:t.type!=="toggle",[Y.actionToggle]:t.type==="toggle",[Y.actionToggleOn]:t.type==="toggle"&&t.value,[Y.buttonDisabled]:t.disabled},a=[this.renderActionIcon(t),this.renderActionText(n)],o=i==="menu-item"?R("li",{key:t.uid,role:"menuitem",tabIndex:0,title:n,"aria-label":n,class:this.classes(Y.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a):R("div",{key:t.uid,role:"button",tabIndex:0,title:n,"aria-label":n,class:this.classes(Y.button,r),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},a);return t.visible?o:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:n}=this,{selectedFeatureIndex:r,selectedFeatureViewModel:a}=this.viewModel,o=e===a,s={[Y.featureMenuSelected]:o},l=o?R("span",{key:Ms(`feature-menu-selected-feature-${r}`),title:i.selectedFeature,"aria-label":i.selectedFeature,class:Y.iconCheckMark}):null,u=R("span",{innerHTML:e.title||n.untitled});return R("li",{role:"menuitem",tabIndex:-1,key:Ms(`feature-menu-feature-${r}`),class:this.classes(s,Y.featureMenuItem),bind:this,"data-feature-index":t,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},R("span",{class:Y.featureMenuTitle},u,l))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?R("ol",{class:Y.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},t.filter(i=>!!i.graphic).map((i,n)=>this.renderFeatureMenuItem(i,n))):null}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:n}=this,{id:r}=e,a=i==null?void 0:i.attributes,o=r==="zoom-to-feature"?Hs(e.title,{messages:t}):r==="remove-selected-feature"?Hs(e.title,{messages:n}):r==="zoom-to-clustered-features"||r==="browse-clustered-features"?Hs(e.title,{messages:t}):e.title;return o&&a?Hs(o,a):o}_getActionClass(e){const{selectedFeature:t}=this,i=t==null?void 0:t.attributes,{className:n,image:r}=e,a=r||n?n:Y.iconDefaultAction;return a&&i?Hs(a,i):a}_getActionImage(e){const{selectedFeature:t}=this,i=t==null?void 0:t.attributes,{image:n}=e;return n&&i?Hs(n,i):n}_createFeatureUpdatedAnimation(){return Dbe("enter",Y.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(typeof e!="number")return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange("dividedActions");const t="actions";this._handles.remove(t),e&&e.forEach(i=>{this._handles.add(yt(i,["uid","active","className","disabled","id","title","image","visible"],()=>this.scheduleRender()),t)})}_divideActions(){const{allActions:e}=this.viewModel,t=e.filter(a=>a.visible),i=this._getInlineActionCount(),n=i===null,r=i===0;return{inlineActions:n?t.slice(0):r?new ge:t.slice(0,i),menuActions:n?new ge:r?t.slice(0):t.slice(i)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:e,messagesCommon:t}=this;var i,n;e&&(this.viewModel.title=((i=e.viewModel)==null?void 0:i.state)==="error"?t.errorMessage:((n=e.viewModel)==null?void 0:n.title)||"")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){bd(e)==="Escape"&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){bd(e)==="Escape"&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_handleFeatureMenuItemKeyup(e){const t=bd(e),{_featureMenuNode:i}=this,n=e.currentTarget["data-feature-index"];if(!i)return;const r=i.querySelectorAll("li"),a=r.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),r[r.length-1].focus()):(e.stopPropagation(),r[0].focus()):(e.stopPropagation(),r[(n+1+a)%a].focus()):(e.stopPropagation(),r[(n-1+a)%a].focus())}_handleActionMenuItemKeyup(e){const t=bd(e),{_actionsMenuNode:i}=this,n=e.currentTarget.dataset.actionUid,{menuActions:r}=this.dividedActions,a=r.findIndex(l=>l.uid===n);if(!i)return;const o=i.querySelectorAll("li"),s=o.length;t!=="ArrowUp"?t!=="ArrowDown"?t!=="Home"?t!=="End"||(e.stopPropagation(),o[o.length-1].focus()):(e.stopPropagation(),o[0].focus()):(e.stopPropagation(),o[(a+1+s)%s].focus()):(e.stopPropagation(),o[(a-1+s)%s].focus())}_handleMainKeyup(e){const t=bd(e);t==="ArrowLeft"&&(e.stopPropagation(),this.previous()),t==="ArrowRight"&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get("viewModel.view");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i?e.show({location:t}):e.hide()}_getIconStyles(e){return{"background-image":e?`url(${e})`:""}}async _shouldFocus(e){e.shouldFocus&&(await dE(()=>{var t;return((t=this.viewModel)==null?void 0:t.active)===!0}),this.focus())}_addSelectedFeatureIndexHandle(){const e=yt(this,"viewModel.selectedFeatureIndex",(t,i)=>this._selectedFeatureIndexUpdated(t,i));this._handles.add(e,r4)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&e!==-1&&(this.actionsMenuOpen=!1,this.featureMenuOpen=!1)}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:n,side:r,view:a}=e;if(isNaN(i)||isNaN(t)||!a||!n)return!1;const o=a.padding;return r==="right"&&n.x+i/2>a.width-o.right||r==="left"&&n.x-i/2<o.left||r==="top"&&n.y-t<o.top||r==="bottom"&&n.y+t>a.height-o.bottom}_calculateAutoAlignment(e){if(e!=="auto")return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:n,viewModel:r}=this,{screenLocation:a,view:o}=r;if(z(a)||!o||!i)return"top-center";if(!this._isScreenLocationWithinView(a,o))return this._get("currentAlignment")||"top-center";function s(E){return parseInt(E.replace(/[^-\d\.]/g,""),10)}const l=n?window.getComputedStyle(n,null):null,u=l?s(l.getPropertyValue("max-height")):0,h=l?s(l.getPropertyValue("height")):0,{height:m,width:f}=i.getBoundingClientRect(),g=f+t,b=Math.max(m,u,h)+t,v=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"right",view:o}),w=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"left",view:o}),x=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"top",view:o}),S=this._isOutsideView({popupHeight:b,popupWidth:g,screenLocation:a,side:"bottom",view:o});return w?x?"bottom-right":"top-right":v?x?"bottom-left":"top-left":x?S?"top-center":"bottom-center":"top-center"}_callCurrentAlignment(e){return typeof e=="function"?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set("currentAlignment",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set("currentDockPosition",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=["left","right"];return Wc(this.container)&&t.reverse(),e.replace(/leading/gi,t[0]).replace(/trailing/gi,t[1])}_callDockPosition(e){return typeof e=="function"?e.call(this):e}_getDockPosition(){var e;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition((e=this.dockOptions)==null?void 0:e.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){var t;if(e!=="auto")return e;const i=(t=this.viewModel)==null?void 0:t.view,n=Wc(this.container)?"top-left":"top-right";if(!i)return n;const r=i.padding||{left:0,right:0,top:0,bottom:0},a=i.width-r.left-r.right,{breakpoints:o}=i;return o&&a<=o.xsmall?"bottom-center":n}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!e)return;const{screenLocation:t}=this.viewModel,{width:i}=e.getBoundingClientRect(),n=this._calculatePositionStyle(t,i);n&&(e.style.top=n.top,e.style.left=n.left,e.style.bottom=n.bottom,e.style.right=n.right)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return t==="top-left"||t==="bottom-left"||t==="top-right"||t==="bottom-right"?e+i:e}_calculateAlignmentPosition(e,t,i,n){const{currentAlignment:r,_pointerOffsetInPx:a}=this,o=n/2,s=i.height-t,l=i.width-e,{padding:u}=this.view;return r==="bottom-center"?{top:t+a-u.top,left:e-o-u.left}:r==="top-left"?{bottom:s+a-u.bottom,right:l+a-u.right}:r==="bottom-left"?{top:t+a-u.top,right:l+a-u.right}:r==="top-right"?{bottom:s+a-u.bottom,left:e+a-u.left}:r==="bottom-right"?{top:t+a-u.top,left:e+a-u.left}:r==="top-center"?{bottom:s+a-u.bottom,left:e-o-u.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:n}=this;if(!n)return;if(i)return{left:"",top:"",right:"",bottom:""};if(z(e)||!t)return;const r=this._calculateFullWidth(t),a=this._calculateAlignmentPosition(e.x,e.y,n,r);return a?{top:a.top!==void 0?`${a.top}px`:"auto",left:a.left!==void 0?`${a.left}px`:"auto",bottom:a.bottom!==void 0?`${a.bottom}px`:"auto",right:a.right!==void 0?`${a.right}px`:"auto"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const i=this.get("viewModel.view");this._wireUpView(i)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[n,r]=e,[a,o]=t,{width:s,height:l}=i;return n<=s&&a>s||n>s&&a<=s||r<=l&&o>l||r>l&&o<=l}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},n=i.left+i.right,r=i.top+i.bottom,a=[],o=[];a[0]=e[0]-n,a[1]=e[1]-r,o[0]=t[0]-n,o[1]=t[1]-r;const{dockOptions:s}=this,l=s.breakpoint;this._dockingThresholdCrossed(a,o,l)&&this._setDockEnabledForViewSize(s),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll("li");t.length&&t[0].focus()}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){var t,i;const n=e.breakpoint,r=(t=this.viewModel)==null||(i=t.view)==null?void 0:i.ui;if(!r)return!1;const{width:a,height:o}=r;if(isNaN(a)||isNaN(o))return!1;const s=n.hasOwnProperty("width")&&a<=n.width,l=n.hasOwnProperty("height")&&o<=n.height;return s||l}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?Hs(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){const{_spinner:e,view:t}=this;e&&(t&&t.ui&&t.ui.remove(this._spinner,a4),e.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new BDe({view:e}),e.ui.add(this._spinner,{key:a4,position:"manual"}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,n=i.findIndex(a=>a.uid===t),r=i.getItemAt(n);r&&r.type==="toggle"&&(r.value=!r.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(n)}_selectFeature(e){const t=e.currentTarget["data-feature-index"];isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};c([d({readOnly:!0})],fe.prototype,"actionsMenuId",null),c([d({readOnly:!0})],fe.prototype,"actionsMenuButtonId",null),c([d({readOnly:!0})],fe.prototype,"featureMenuId",null),c([d({readOnly:!0})],fe.prototype,"titleId",null),c([d({readOnly:!0})],fe.prototype,"contentId",null),c([d({readOnly:!0})],fe.prototype,"hasContent",null),c([d({readOnly:!0})],fe.prototype,"featureNavigationVisible",null),c([d({readOnly:!0})],fe.prototype,"collapsible",null),c([d({readOnly:!0})],fe.prototype,"featureMenuVisible",null),c([d({readOnly:!0})],fe.prototype,"contentCollapsed",null),c([d({readOnly:!0})],fe.prototype,"dividedActions",null),c([ce("viewModel.actions")],fe.prototype,"actions",void 0),c([d()],fe.prototype,"actionsMenuOpen",null),c([d()],fe.prototype,"alignment",void 0),c([ce("viewModel.autoCloseEnabled")],fe.prototype,"autoCloseEnabled",void 0),c([ce("viewModel.autoOpenEnabled")],fe.prototype,"autoOpenEnabled",void 0),c([ce("viewModel.defaultPopupTemplateEnabled")],fe.prototype,"defaultPopupTemplateEnabled",void 0),c([ce("viewModel.content")],fe.prototype,"content",void 0),c([d()],fe.prototype,"collapsed",void 0),c([d()],fe.prototype,"collapseEnabled",void 0),c([d({readOnly:!0})],fe.prototype,"currentAlignment",null),c([d({readOnly:!0})],fe.prototype,"currentDockPosition",null),c([d()],fe.prototype,"dockOptions",null),c([d()],fe.prototype,"dockEnabled",void 0),c([ce("viewModel.featureCount")],fe.prototype,"featureCount",void 0),c([d()],fe.prototype,"featureMenuOpen",void 0),c([ce("viewModel.features")],fe.prototype,"features",void 0),c([ce("viewModel.goToOverride")],fe.prototype,"goToOverride",void 0),c([d()],fe.prototype,"headingLevel",void 0),c([ce("viewModel.highlightEnabled")],fe.prototype,"highlightEnabled",void 0),c([ce("viewModel.location")],fe.prototype,"location",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],fe.prototype,"label",void 0),c([d()],fe.prototype,"maxInlineActions",void 0),c([d(),Ui("esri/widgets/Popup/t9n/Popup")],fe.prototype,"messages",void 0),c([d(),Ui("esri/t9n/common")],fe.prototype,"messagesCommon",void 0),c([ce("viewModel.promises")],fe.prototype,"promises",void 0),c([ce("viewModel.selectedFeature")],fe.prototype,"selectedFeature",void 0),c([ce("viewModel.selectedFeatureIndex")],fe.prototype,"selectedFeatureIndex",void 0),c([d({readOnly:!0})],fe.prototype,"selectedFeatureWidget",null),c([d()],fe.prototype,"spinnerEnabled",void 0),c([ce("viewModel.title")],fe.prototype,"title",void 0),c([ce("viewModel.updateLocationEnabled")],fe.prototype,"updateLocationEnabled",void 0),c([ce("viewModel.view")],fe.prototype,"view",void 0),c([d({type:jU}),uI(["triggerAction","trigger-action"])],fe.prototype,"viewModel",void 0),c([ce("viewModel.visible")],fe.prototype,"visible",void 0),c([d()],fe.prototype,"visibleElements",void 0),c([Ye("visibleElements")],fe.prototype,"castVisibleElements",null),c([Gn()],fe.prototype,"_close",null),c([Gn()],fe.prototype,"_toggleDockEnabled",null),c([Gn()],fe.prototype,"_toggleFeatureMenu",null),c([Gn()],fe.prototype,"_toggleActionsMenu",null),c([Gn()],fe.prototype,"_triggerAction",null),c([Gn()],fe.prototype,"_selectFeature",null),c([Gn()],fe.prototype,"_next",null),c([Gn()],fe.prototype,"_previous",null),fe=c([_(VU)],fe);const u4=fe,US=[0,0];function C$e(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return US[0]=i.left+t.pageXOffset,US[1]=i.top+t.pageYOffset,US}function d4(e){e&&(C7(e),e.parentNode&&e.parentNode.removeChild(e))}function T$e(e){const t=document.createElement("div");return e.appendChild(t),t}const s0=16,Jv=750,E$e=512,I$e=2,M$e=e=>{let t=class extends e{constructor(...i){super(...i),this._freqInfo={freq:s0,time:Jv},this._overlayRenderTaskHandle=null,this.height=0,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.handles.add([this.watch("cursor",n=>{const r=this.surface;r&&r.setAttribute("data-cursor",n)}),this.watch("interacting",n=>{const r=this.surface;r&&r.setAttribute("data-interacting",n.toString())})])}initialize(){this.handles.add(this.watch("ui",(i,n)=>this._handleUIChange(i,n))),this._wireUI(this.ui),this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&this.popup.destroy(),this.container=null)}set container(i){const n=this._get("container");if(n===i)return;const r="dom-size";if(this.handles.remove(r),this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),d4(this.root),this._set("root",null),SL(this.userContent,n),d4(this.userContent),this._set("userContent",null)),i){i.classList.add("esri-view");const a=document.createElement("div");a.className="esri-view-user-storage",SL(i,a),i.appendChild(a),this._set("userContent",a);const o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);const s=document.createElement("div");s.className="esri-view-surface",s.setAttribute("role","application"),s.tabIndex=0,o.appendChild(s),this._set("surface",s);const l=new LL;o.appendChild(l.surface),this._set("overlay",l),l.watch("needsRender",u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Em({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)}),this.forceDOMReadyCycle(),this.handles.add(bt(()=>this.size,u=>{const[h,m]=u,f="esri-view-surface--inset-outline";h>=document.body.clientWidth||m>=document.body.clientHeight?s.classList.add(f):s.classList.remove(f)},rs),r),this._set("container",i),this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get popup(){return this._get("popup")||new u4({view:this})}set popup(i){const n=this._get("popup");n&&n!==i&&n.destroy(),this._set("popup",i)}get size(){return[this.width,this.height]}blur(){this.surface&&this.surface.blur()}focus(){this.surface&&this.surface.focus()}pageToContainer(i,n,r){const a=this.position;return i-=a[0],n-=a[1],r?(r[0]=i,r[1]=n):r=[i,n],r}containerToPage(i,n,r){const a=this.position;return i+=a[0],n+=a[1],r?(r[0]=i,r[1]=n):r=[i,n],r}_handleUIChange(i,n){n&&(this.handles.remove("ui"),n.destroy()),i&&this._wireUI(i),this._set("ui",i)}_wireUI(i){this.handles.remove("ui"),i&&(i.view=this,this.handles.add([bt(()=>this.root,n=>{i.container=n?T$e(n):null},rs),bt(()=>this.popup,(n,r)=>{const a="popup",o="manual";r&&i.remove(r,a),n&&(n.view=i.view,i.add(n,{key:a,position:o}))},rs)],"ui"))}_stopMeasuring(){this.handles.remove("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=s0,i.time=Jv,this.handles.add([(()=>{const n=()=>{i.freq=s0,i.time=Jv};return window.addEventListener("resize",n),{remove(){window.removeEventListener("resize",n)}}})(),Em({prepare:n=>{const r=this._measure(),a=this._freqInfo;if(a.time+=n.deltaTime,r&&(a.freq=s0,this._get("resizing")||this._set("resizing",!0)),a.time<a.freq)return;a.time=0;const o=this._position();a.freq=o||r?s0:Math.min(Jv,a.freq*I$e),!r&&a.freq>=E$e&&this._get("resizing")&&this._set("resizing",!1)}})],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,n=i?i.clientWidth:0,r=i?i.clientHeight:0;if(n===0||r===0)return this.suspended||this._set("suspended",!0),!1;const a=this.width,o=this.height;return n===a&&r===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",r),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:a,oldHeight:o,width:n,height:r}),!0)}_position(){const i=this.container,n=this.position,r=C$e(i);return(!n||r[0]!==n[0]||r[1]!==n[1])&&(this._set("position",[r[0],r[1]]),!0)}forceDOMReadyCycle(){}};return c([d({value:null,cast:i=>JE(i)})],t.prototype,"container",null),c([d({readOnly:!0})],t.prototype,"focused",null),c([d({readOnly:!0})],t.prototype,"height",void 0),c([d({type:u4})],t.prototype,"popup",null),c([d({type:LL})],t.prototype,"overlay",void 0),c([d({readOnly:!0})],t.prototype,"position",void 0),c([d({readOnly:!0})],t.prototype,"resizing",void 0),c([d({readOnly:!0})],t.prototype,"root",void 0),c([d({value:null,readOnly:!0})],t.prototype,"size",null),c([d({readOnly:!0})],t.prototype,"surface",void 0),c([d({readOnly:!0})],t.prototype,"suspended",void 0),c([d()],t.prototype,"ui",void 0),c([d({readOnly:!0})],t.prototype,"userContent",void 0),c([d({readOnly:!0})],t.prototype,"width",void 0),c([d()],t.prototype,"widthBreakpoint",void 0),t=c([_("esri.views.DOMContainer")],t),t},O$e=e=>{let t=class extends e{async fetchPopupFeatures(i,n){await this.when();const{location:r,queryArea:a,layerViewsAndGraphics:o,clientOnlyGraphics:s}=await this._prepareFetchPopupFeatures(i,n),l=Promise.resolve(s),u=this._queryLayerPopupFeatures(a,o,n),h=u.map(m=>m.promise);return{location:r,clientOnlyGraphics:s,allGraphicsPromise:tce([l,...h]).then(m=>Array.from(new Set(m.flat()))),promisesPerLayerView:u}}_queryLayerPopupFeatures(i,n,r){return n.map(({layerView:a,graphics:o})=>{const s={clientGraphics:o,event:$(r)?r.event:null,signal:$(r)?r.signal:null,defaultPopupTemplateEnabled:!!$(r)&&!!r.defaultPopupTemplateEnabled},l=a.fetchPopupFeatures(i,s);return{layerView:a,promise:l}})}_isValidPopupGraphic(i,n){return i&&!!i.getEffectivePopupTemplate($(n)&&n.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(i,n){const{clientGraphics:r,queryArea:a,location:o}=await this._popupHitTestGraphics(i,n),s=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:l,clientOnlyGraphics:u}=this._graphicsPerFetchPopupLayerView(r,s);return{clientOnlyGraphics:u,layerViewsAndGraphics:l,queryArea:a,location:o}}async _popupHitTestGraphics(i,n){const{results:r,mapPoint:a}=await this.popupHitTest(i),o=r.filter(l=>this._isValidPopupGraphic(l.graphic,n)),s=o.length?o[0].mapPoint:null;return{clientGraphics:o.map(l=>l.graphic),queryArea:a,location:a||s}}_getFetchPopupLayerViews(){const i=[];return this.allLayerViews.forEach(n=>{this._isValidPopupLayerView(n)&&i.push(n)}),$(this.graphicsView)&&this._isValidPopupLayerView(this.graphicsView)&&i.push(this.graphicsView),i.reverse()}_isValidPopupLayerView(i){return $(i)&&(!("layer"in i)||!i.suspended)&&"fetchPopupFeatures"in i}_graphicsPerFetchPopupLayerView(i,n){const r=[],a=new Map,o=n.map(s=>{const l=[];return"layer"in s?a.set(s.layer,l):a.set(s.graphics,l),{layerView:s,graphics:l}});for(const s of i){const l=a.get(s.layer)||a.get(s.sourceLayer)||null;l?l.push(s):r.push(s)}return{layerViewsAndGraphics:o,clientOnlyGraphics:r}}};return t=c([_("esri.views.PopupView")],t),t};Z.getLogger("esri.core.support.OwningCollection");let Jg=class extends wh(ge){constructor(e){super(e),this.handles.add([this.on("before-add",t=>{z(t.item)&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(ge.ofType(this.itemType.Type))(e):new ge(e)}};function h4(e,t){return{type:e,cast:Tz,set(i){const n=th(i,this._get(t),e);n.owner=this,this._set(t,n)}}}c([d()],Jg.prototype,"owner",null),Jg=c([_("esri.core.support.OwningCollection")],Jg);const A$e=Z.getLogger("esri.support.AnalysesCollection");let ak=class extends Jg{constructor(e){super(e),this.handles.add(this.on("before-add",t=>{z(t.item)||t.item.parent===this.owner&&(A$e.warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};ak=c([_("esri.support.AnalysesCollection")],ak);let Yg=class extends Jg{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};c([UT({Type:Nn,ensureType:_t(Nn)})],Yg.prototype,"itemType",void 0),Yg=c([_("esri.support.GraphicsCollection")],Yg);let bc=class extends he{constructor(e){super(e),this.view=null,this.baseLayerViews=new ge,this.referenceLayerViews=new ge,this._loadingHandle=Gt(this,"view.map.basemap",t=>{t&&t.load().catch(()=>{})})}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)}get suspended(){return!this.view||this.view.suspended}get updating(){var e,t;if(this.view&&this.view.suspended)return!1;const i=(e=this.view)==null||(t=e.map)==null?void 0:t.basemap;return!!i&&!!i.loaded&&(this.baseLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};c([d({constructOnly:!0})],bc.prototype,"view",void 0),c([d({readOnly:!0})],bc.prototype,"baseLayerViews",void 0),c([d({readOnly:!0})],bc.prototype,"referenceLayerViews",void 0),c([d({readOnly:!0})],bc.prototype,"suspended",null),c([d({type:Boolean,readOnly:!0})],bc.prototype,"updating",null),bc=c([_("esri.views.BasemapView")],bc);const P$e=Z.getLogger("esri.views.LayerViewManager");class L$e{constructor(t,i,n){this.layer=t,this.view=i,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=Sl(),this._started=!1,this.done=!1,uo(this._controller.signal,()=>{const r=new P("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(r)})}get promise(){return this._deferred.promise}destroy(){this._controller.abort();const{layerView:t}=this;if(!t)return;const{layer:i,view:n}=this;i.emit("layerview-destroy",{view:n,layerView:t}),n.emit("layerview-destroy",{layer:i,layerView:t}),this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:t},layer:i,view:n}=this;this._map=n.map;try{var r,a;let o,s;if(await i.load({signal:t}),"prefetchResources"in i&&await i.prefetchResources({signal:t}),i.createLayerView)o=await i.createLayerView(n,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new P("layer:view-not-supported","No layerview implementation was found");const u=await this.layerViewImporter.importLayerView(i);hi(t),o="default"in u?new u.default({layer:i,view:n}):new u({layer:i,view:n})}const l=()=>{s=bh(s),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};s=uo(t,l),hi(t);try{await o.when()}catch(u){throw l(),u}if(!(!((r=this._map)==null||(a=r.allLayers)==null)&&a.includes(i)))return l(),void this._deferred.reject(new P("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=o,i.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:i,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){i.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:i,error:o}),this.done=!0,this._deferred.reject(new P("layerview:create-error","layerview creation failed",{layer:i,error:o}))}}}let ra=class extends Mm{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._watchUpdatingTracking=new um,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var t;const i=(t=this.view.map)==null?void 0:t.allLayers;if(i)for(const n of i)this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>(z(this._workPromise)&&(this._workPromise=Sl()),this.handles.remove("reschedule"),this.handles.add(eb(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var t,i,n;const r=this.view.map;if(this._map!==r&&(this.clear(),this._map=r),z(this._workPromise))return void this.notifyChange("updating");this.handles.remove("reschedule"),this.handles.remove("collection-change");const a=new dm({getCollections:()=>this._rootCollectionNames.map(l=>this.get(l)),getChildrenFunction:l=>l&&"layers"in l?l.layers:null});if(!a)return this._workPromise.resolve(),void(this._workPromise=null);for(const l of a)this._createLayerView(l);this._refreshCollections();for(const[l,u]of this._layerLayerViewInfoMap)a.includes(l)||(this._layerLayerViewInfoMap.delete(u.layer),u.destroy());const o=a.filter(l=>l.type==="group").map(l=>l.layers),s=[r==null||(t=r.ground)==null?void 0:t.layers,r==null||(i=r.basemap)==null?void 0:i.baseLayers,r==null||(n=r.basemap)==null?void 0:n.referenceLayers,r==null?void 0:r.layers,...o].filter(l=>!!l);this.handles.add(s.map(l=>this._watchUpdatingTracking.addOnCollectionChange(()=>l,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.handles.add([c5(()=>{var e,t;return(e=this.view)==null||(t=e.map)==null?void 0:t.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),bt(()=>{const e=this.view,t=e==null?void 0:e.map;return[t==null?void 0:t.basemap,t==null?void 0:t.ground,t==null?void 0:t.layers,e==null?void 0:e.ready]},()=>this._reschedule(),Fu)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),this._watchUpdatingTracking.destroy(),this._map=null}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return $(this._workPromise)||this._watchUpdatingTracking.updating||Fk(this._layerLayerViewInfoMap,e=>!e.done)}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){if(!this.destroyed){for(const e of this._layerLayerViewInfoMap.values())e.destroy();this._layerLayerViewInfoMap.clear(),this._refreshCollections()}}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e))throw new P("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(e,t,i){if(!e||!t)return void(t&&t.removeAll());let n=0;for(const r of e){const a=this._layerLayerViewInfoMap.get(r);if(!a||!a.layerView)continue;const o=a.layerView;o.layer=r,o.parent=i,t.getItemAt(n)!==o&&t.splice(n,0,o),r.layers&&this._populateLayerViewsOwners(r.layers,o.layerViews,o),n+=1}n<t.length&&t.splice(n,t.length)}_createLayerView(e){if(this._layerLayerViewInfoMap.has(e))return this.view.ready&&this._layerLayerViewInfoMap.get(e).start(),this.notifyChange("updating"),void this.notifyChange("updatingRemaining");e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new L$e(e,this.view,this.layerViewImporter);t.promise.then(()=>this._refreshCollections(),i=>{var n,r;i&&(va(i)||i.name==="cancelled:layerview-create")||P$e.error(`Failed to create layerview for layer title:'${(n=e.title)!=null?n:"no title"}', id:'${(r=e.id)!=null?r:"no id"}' of type '${e.type}'.`,{layer:e,error:i}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};c([d()],ra.prototype,"_workPromise",void 0),c([d({readOnly:!0})],ra.prototype,"_watchUpdatingTracking",void 0),c([d({readOnly:!0})],ra.prototype,"_layersToLayerViews",null),c([d({readOnly:!0})],ra.prototype,"_rootCollectionNames",null),c([d()],ra.prototype,"layerViewImporter",void 0),c([d()],ra.prototype,"supportsGround",void 0),c([d({readOnly:!0})],ra.prototype,"updating",null),c([d({readOnly:!0})],ra.prototype,"updatingRemaining",null),c([d({constructOnly:!0})],ra.prototype,"view",void 0),ra=c([_("esri.views.LayerViewManager")],ra);const R$e=ra;let br=class extends he{constructor(e){super(e),this.factor=1.5,this.offset=Kn(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};c([d({type:Number})],br.prototype,"factor",void 0),c([d({nonNullable:!0})],br.prototype,"offset",void 0),c([d()],br.prototype,"position",void 0),c([d({type:Number,range:{min:0}})],br.prototype,"size",void 0),c([d()],br.prototype,"maskUrl",void 0),c([d()],br.prototype,"maskEnabled",void 0),c([d()],br.prototype,"overlayUrl",void 0),c([d()],br.prototype,"overlayEnabled",void 0),c([d({readOnly:!0})],br.prototype,"version",null),c([d({type:Boolean})],br.prototype,"visible",void 0),br=c([_("esri.views.Magnifier")],br);const HU=br;let kw=class extends he{constructor(){super(...arguments),this._tasks=new Array,this.running=!1}get length(){return this._tasks.length}destroy(){this.cancelAll()}runTask(e){for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,i){return this.running=!0,new Promise((n,r)=>this._tasks.push(new p4(n,r,e,t,i)))}unshift(e,t,i){return this.running=!0,new Promise((n,r)=>this._tasks.unshift(new p4(n,r,e,t,i)))}_process(e){if(this._tasks.length===0)return!1;const t=this._tasks.shift();try{const i=us(t.signal);if(i&&!t.abortCallback)t.reject(di());else{const n=i?t.abortCallback(di()):t.callback(e);Il(n)?n.then(t.resolve,t.reject):t.resolve(n)}}catch(i){t.reject(i)}return this.running=this._tasks.length>0,!0}cancelAll(){const e=di();for(const t of this._tasks)if(t.abortCallback){const i=t.abortCallback(e);t.resolve(i)}else t.reject(e);this._tasks.length=0,this.running=!1}};c([d()],kw.prototype,"running",void 0),kw=c([_("esri.layers.support.PromiseQueue")],kw);class p4{constructor(t,i,n,r,a){this.resolve=t,this.reject=i,this.callback=n,this.signal=r,this.abortCallback=a}}let sg=class extends he{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};c([d()],sg.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),c([d()],sg.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),sg=c([_("esri.views.support.DebugFlags")],sg);const F$e=new sg,N$e=Z.getLogger("esri.views.support.Scheduler");var Ue;(function(e){e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="cloud generator",e[e.TEST_PRIO=1]="TEST_PRIO"})(Ue||(Ue={}));const Jo=0,m4=new Map([[Ue.RESOURCE_CONTROLLER,Jo],[Ue.SLIDE,Jo],[Ue.STREAM_DATA_LOADER,Jo],[Ue.ELEVATION_QUERY,Jo],[Ue.TERRAIN_SURFACE,1],[Ue.SURFACE_GEOMETRY_UPDATES,1],[Ue.GRAPHICS_CORE,2],[Ue.I3S_CONTROLLER,2],[Ue.POINT_CLOUD_LAYER,2],[Ue.FEATURE_TILE_FETCHER,2],[Ue.OVERLAY,4],[Ue.STAGE,4],[Ue.GRAPHICS_DECONFLICTOR,4],[Ue.FILTER_VISIBILITY,4],[Ue.SCALE_VISIBILITY,4],[Ue.FRUSTUM_VISIBILITY,4],[Ue.POINT_OF_INTEREST_FREQUENT,6],[Ue.POINT_OF_INTEREST_INFREQUENT,30],[Ue.LABELER,8],[Ue.FEATURE_QUERY_ENGINE,8],[Ue.FEATURE_TILE_TREE,16],[Ue.FEATURE_TILE_TREE_ACTIVE,Jo],[Ue.ELEVATION_ALIGNMENT,12],[Ue.TEXT_TEXTURE_ATLAS,12],[Ue.CLOUDS_GENERATOR,12],[Ue.TEXTURE_UNLOAD,12],[Ue.LINE_OF_SIGHT_TOOL,16],[Ue.LINE_OF_SIGHT_TOOL_INTERACTIVE,Jo],[Ue.SNAPPING,Jo],[Ue.SHADOW_ACCUMULATOR,30]]);function f4(e){return m4.has(e)?m4.get(e):typeof e=="number"?e:1}var xr;(function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"})(xr||(xr={}));const g4=6.5,y4=1,z$e=30,b4=1e3/30,v4=100,w4=.9;var IC,Tu;(function(e){let t=class extends he{constructor(r){super(r),this.updating=!0,this._microTaskQueued=!1,this.performanceInfo={total:new $g("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=null,this._state=xr.INTERACTING,this._tasks=new Ud,this._runQueue=new Ud,this._load=0,this._idleStateCallbacks=new Ud,this._idleUpdatesStartFired=!1,this._maxReschedule=Yv,this._forceTask=!1,this._debug=!1,this._debugHandle=bt(()=>F$e.SCHEDULER_LOG_SLOW_TASKS,s=>this._debug=s,rs),this._budget=new n(r.nowFunc);for(const s of Object.keys(Ue))this.performanceInfo.tasks.set(Ue[s],new $g(Ue[s]));let a;const o=this;this._test={get state(){return AT(a,o._state)},set state(s){a=s},FRAME_SAFETY_BUDGET:g4,INTERACTING_BUDGET:b4,IDLE_BUDGET:v4,get budget(){return o._budget.budget},usedBudget:0,setBudget:s=>o._budget=s,updateTask:s=>this._updateTask(s),getState:s=>this._getState(s),getRuntime:s=>this._getRuntime(s),frameTaskTimes:this._frameTaskTimes,resetRuntimes:()=>this._resetRuntimes(),getRunning:()=>this._getRunning()}}destroy(){this._tasks.toArray().forEach(r=>r.remove()),this._tasks.clear(),bh(this._debugHandle),this._microTaskQueued=!1,this.updating=!1}activate(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=Yv,this._schedule(),this.frame()))}))}registerTask(r,a){const o=f4(r),s=new i(this,r,a,o);return this._tasks.push(s),this.performanceInfo.tasks.has(r)||this.performanceInfo.tasks.set(r,new $g(r)),s}registerIdleStateCallbacks(r,a){const o={idleBegin:r,idleEnd:a};this._idleStateCallbacks.push(o),this.state===xr.IDLE&&this._idleUpdatesStartFired&&o.idleBegin();const s=this;return{remove:()=>this._removeIdleStateCallbacks(o),set idleBegin(l){s._idleUpdatesStartFired&&(o.idleEnd(),s._state===xr.IDLE&&l()),o.idleBegin=l},set idleEnd(l){o.idleEnd=l}}}get now(){return this.nowFunc()}get load(){return this._load}set state(r){this._state!==r&&(this._state=r,this.state!==xr.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(a=>a.idleEnd())))}get state(){return z(this._test.state)?this._state:this._test.state}updateBudget(r){this._test.usedBudget=0;let a=g4,o=r.frameDuration,s=y4;switch(this.state){case xr.IDLE:a=0,o=Math.max(v4,r.frameDuration),s=z$e;break;case xr.INTERACTING:o=Math.max(b4,r.frameDuration);case xr.ANIMATING:}return o=o-r.elapsedFrameTime-a,this.state!==xr.IDLE&&o<y4&&!this._forceTask?(this._forceTask=!0,!1):(o=Math.max(o,s),this._budget.reset(o,this.state),this._maxReschedule=Yv,this._updateLoad(),this._schedule())}frame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case xr.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(r=>r.idleBegin())),this._runIdle();break;case xr.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed}stopFrame(){this._budget.reset(0,this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(r){this._idleUpdatesStartFired&&r.idleEnd(),this._idleStateCallbacks.removeUnordered(r)}removeTask(r){this._tasks.removeUnordered(r),this._runQueue.removeUnordered(r)}_updateTask(r){this._tasks.forAll(a=>{a.name===r&&a.setPriority(r)})}_getState(r){if(this._runQueue.some(o=>o.name===r))return Tu.SCHEDULED;let a=Tu.IDLE;return this._tasks.forAll(o=>{o.name===r&&o.needsUpdate&&(o.schedulePriority<=1?a=Tu.READY:a!==Tu.READY&&(a=Tu.WAITING))}),a}_getRuntime(r){let a=0;return this._tasks.forAll(o=>{o.name===r&&(a+=o.runtime)}),a}_resetRuntimes(){this._tasks.forAll(r=>r.runtime=0)}_getRunning(){const r=new Map;if(this._tasks.forAll(o=>{o.needsUpdate&&r.set(o.name,(r.get(o.name)||0)+1)}),r.size===0)return null;let a="";return r.forEach((o,s)=>{a+=o>1?` ${o}x ${s}`:` ${s}`}),a}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const r=this._tasks.reduce((a,o)=>o.needsUpdate?++a:a,0);this._load=this._load*w4+r*(1-w4)}_schedule(){if(this._maxReschedule<=0)return!1;for(this._runQueue.filterInPlace(r=>!!r.needsUpdate||(r.schedulePriority=r.basePriority,!1)),this._tasks.forAll(r=>{r.basePriority===Jo&&r.needsUpdate&&!this._runQueue.some(a=>a===r)&&this._runQueue.unshift(r)});this._runQueue.length===0;){let r=!1,a=0;if(this._tasks.forAll(o=>{o.needsUpdate&&o.schedulePriority!==0&&o.basePriority!==Jo&&(r=!0,a=Math.max(a,o.basePriority),o.schedulePriority===1?(o.schedulePriority=0,this._runQueue.push(o)):--o.schedulePriority)}),!r)return this.updating=!1,!1;this._maxReschedule===Yv&&(this._maxReschedule=a),--this._maxReschedule}return this.updating=!0,!0}_run(){const r=this._budget.now();this._startFrameTaskTimes();do for(;this._runQueue.length>0;){const a=this._budget.now(),o=this._runQueue.pop();this._budget.resetProgress();try{o.task.runTask(this._budget)}catch(l){N$e.error(`Exception in task "${o.name}"`,l)}o.schedulePriority=o.basePriority;const s=this._budget.now()-a;if(o.runtime+=s,this._frameTaskTimes.set(o.priority,this._frameTaskTimes.get(o.priority)+s),this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",o.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms"),this._budget.remaining<=0)return this.updating=this._tasks.some(l=>l.needsUpdate),void this._recordFrameTaskTimes(this._budget.now()-r)}while(this._schedule());this.updating=this._tasks.some(a=>a.needsUpdate),this._recordFrameTaskTimes(this._budget.now()-r)}_startFrameTaskTimes(){for(const r of Object.keys(Ue))this._frameTaskTimes.set(Ue[r],0)}_recordFrameTaskTimes(r){this._frameTaskTimes.forEach((a,o)=>this.performanceInfo.tasks.get(o).record(a)),this.performanceInfo.total.record(r)}get test(){return this._test}};c([d()],t.prototype,"updating",void 0),c([d()],t.prototype,"nowFunc",void 0),t=c([_("esri.views.support.Scheduler")],t),e.Scheduler=t;let i=class extends he{constructor(r,a,o,s){super({}),this._scheduler=r,this.name=a,this._basePriority=s,this.runtime=0,this._queue=new kw,this._handles=new gn,this.schedulePriority=this._basePriority,this.task=$(o)?o:this._queue,this._handles.add(Wk(()=>this.task.running,()=>r.activate()))}get updating(){return this._queue.running}normalizeCtorArgs(){return{}}remove(){this.processQueue(qU),this._scheduler.removeTask(this),this.schedule=MC.schedule,this.reschedule=MC.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(r){this.name=r;const a=f4(r);this._basePriority!==Jo&&this.schedulePriority===0||(this.schedulePriority=a),this._basePriority=a}get priority(){return this.name}set priority(r){this.setPriority(r)}get needsUpdate(){return this.updating||this.task.running}schedule(r,a,o){return this._queue.push(r,a,o)}reschedule(r,a,o){return this._queue.unshift(r,a,o)}processQueue(r){this._queue.runTask(r)}};c([d({constructOnly:!0})],i.prototype,"task",void 0),c([d({readOnly:!0})],i.prototype,"updating",null),i=c([_("esri.views.support.SchedulerTask")],i);class n{constructor(a){this.now=a,this._begin=0,this._budget=0,this._state=xr.IDLE,this._didWork=!1,this._enabled=!0}run(a){return!this.done&&(a()===!0&&(this._didWork=!0),!0)}get done(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}get budget(){return this._budget}madeProgress(){this._didWork=!0}get state(){return this._state}get enabled(){return this._enabled}set enabled(a){this._enabled=a}reset(a,o){this._begin=this.now(),this._budget=a,this._state=o,this._didWork=!1}get remaining(){return Math.max(this._budget-this.elapsed,0)}get elapsed(){return this.now()-this._begin}resetProgress(){this._didWork=!1}get hasProgressed(){return this._didWork}}e.Budget=n})(IC||(IC={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(Tu||(Tu={}));const qU=(()=>{const e=new IC.Budget(()=>performance.now());return e.enabled=!1,e})();class j$e{remove(){}processQueue(){}schedule(t,i,n){try{if(us(i)){const r=di();return n?Promise.resolve(n(r)):Promise.reject(r)}return R3(t(qU))}catch(r){return Promise.reject(r)}}reschedule(t,i,n){return this.schedule(t,i,n)}}const MC=new j$e,Yv=Number.MAX_SAFE_INTEGER;let lg=class extends he{constructor(e,t){var i;super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=(i=t==null?void 0:t.registerTask(Ue.TEXTURE_UNLOAD))!=null?i:MC}normalizeCtorArgs(){return{}}destroy(){super.destroy(),this._frameTask.remove(),this._textureRequests.forEach(e=>this._releaseTextureRequest(e)),this._textureRequests.clear()}get updating(){return this._frameTask.updating}fromData(e,t,i){const n=this.makeUid(e);let r=this._textureRequests.get(n);return r||(r={referenceCount:0,texture:t(),textureAsync:null,abortController:null,onRemove:i},this._stage&&(this._stage.add(r.texture),this._stage.loadImmediate(r.texture)),this._textureRequests.set(n,r)),r.referenceCount++,{uid:n,texture:r.texture,release:()=>this._release(n)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule(()=>this._releaseNow(e))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`)}get test(){return{textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e))}_releaseTextureRequest(e){var t;e.onRemove&&e.onRemove(),e.texture?(t=this._stage)==null||t.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null)}makeUid(e,t=null){return $(t)?`${e}.${t}px`:e}};c([d()],lg.prototype,"_frameTask",void 0),c([d()],lg.prototype,"updating",null),lg=c([_("esri.views.3d.support.TextureCollection")],lg);var x4;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"})(x4||(x4={}));const UU=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],BU={};function GU(e){return!!BU[e]}function V$e(e){for(const t of e)if(!GU(t))return!1;return!0}UU.forEach(e=>{BU[e]=!0});class H$e{constructor(t){this.handlers=new Map,this.counter=0,this.handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this.handlers.forEach(({handler:i,priority:n},r)=>this.inputManager.installHandlers(r,[i],n))}disconnect(){this.inputManager&&this.handlers.forEach((t,i)=>this.inputManager.uninstallHandlers(i)),this.inputManager=null}destroy(){this.disconnect(),this.handlers.clear(),this.view=null}on(t,i,n,r){const a=Array.isArray(t)?t:t.split(",");if(!V$e(a))return a.some(GU)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,s;Array.isArray(i)?s=i:(o=i,s=[]),typeof n=="function"?o=n:r=n,r=r!=null?r:Xc.DEFAULT;const l=this._createUniqueGroupName(),u=new q$e(this.view,a,s,o);this.handlers.set(l,{handler:u,priority:r});for(const h of a){const m=this.handlerCounts.get(h)||0;this.handlerCounts.set(h,m+1)}return this.inputManager&&this.inputManager.installHandlers(l,[u],r),{remove:()=>this._removeHandler(l,a)}}hasHandler(t){return!!this.handlerCounts.get(t)}_removeHandler(t,i){if(this.handlers.has(t)){this.handlers.delete(t);for(const n of i){const r=this.handlerCounts.get(n);r===void 0?console.error("Trying to remove handler for event that has no handlers registered: ",n):r===1?this.handlerCounts.delete(n):this.handlerCounts.set(n,r-1)}}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this.counter+=1,`viewEvents_${this.counter}`}}class q$e extends Gi{constructor(t,i,n,r){super(!0),this.view=t;for(const a of i)switch(a){case"click":this.registerIncoming("click",n,o=>r(this._wrapClick(o)));break;case"double-click":this.registerIncoming("double-click",n,o=>r(this._wrapDoubleClick(o)));break;case"immediate-click":this.registerIncoming("immediate-click",n,o=>r(this._wrapImmediateClick(o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,o=>r(this._wrapImmediateDoubleClick(o)));break;case"hold":this.registerIncoming("hold",n,o=>r(this._wrapHold(o)));break;case"drag":this.registerIncoming("drag",n,o=>{const s=this._wrapDrag(o);s&&r(s)});break;case"key-down":this.registerIncoming("key-down",n,o=>r(this._wrapKeyDown(o)));break;case"key-up":this.registerIncoming("key-up",n,o=>r(this._wrapKeyUp(o)));break;case"pointer-down":this.registerIncoming("pointer-down",n,o=>r(this._wrapPointer(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,o=>r(this._wrapPointer(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,o=>r(this._wrapPointer(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,o=>r(this._wrapPointerDrag(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,o=>r(this._wrapMouseWheel(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,o=>r(this._wrapPointer(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,o=>r(this._wrapPointer(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,o=>{r(this._wrapGamepad(o))});break;case"focus":this.registerIncoming("focus",n,o=>{r(this._wrapFocus(o))});break;case"blur":this.registerIncoming("blur",n,o=>{r(this._wrapBlur(o))})}}_wrapFocus(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,{cancelable:u,timestamp:h}=t;return{type:"click",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:h,screenPoint:Kn(a,o),mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,{cancelable:u,timestamp:h}=t;return{type:"double-click",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:h,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:m=>t.async(m),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,u=s.pointerId,{cancelable:h,timestamp:m}=t;return{type:"immediate-click",pointerId:u,pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:m,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s,eventId:l}=t.data,u=s.pointerId,{cancelable:h,timestamp:m}=t;return{type:"immediate-double-click",pointerId:u,pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:m,mapPoint:this._getMapPoint(a,o),eventId:l,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:f=>t.async(f),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:i,button:n,buttons:r,x:a,y:o,native:s}=t.data,{cancelable:l,timestamp:u}=t;return{type:"hold",pointerType:i,button:n,buttons:r,x:a,y:o,native:s,timestamp:u,mapPoint:this._getMapPoint(a,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),async:h=>t.async(h),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,i){return this.view.toMap(Kn(t,i),{exclude:[]})}_wrapDrag(t){const i=t.data,{x:n,y:r}=i.center,{action:a,pointerType:o,button:s}=i;if(a==="start"&&(this.latestDragStart=i),!this.latestDragStart)return;const l=i.pointer.native,u=i.buttons,{cancelable:h,timestamp:m}=t,f={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};return a==="end"&&(this.latestDragStart=void 0),{type:"drag",action:a,x:n,y:r,origin:f,pointerType:o,button:s,buttons:u,radius:i.radius,angle:P8(i.angle),native:l,timestamp:m,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapKeyDown(t){const{key:i,repeat:n,native:r}=t.data,{cancelable:a,timestamp:o}=t;return{type:"key-down",key:i,repeat:n,native:r,timestamp:o,cancelable:a,stopPropagation:()=>t.stopPropagation(),async:s=>t.async(s),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:i,native:n}=t.data,{cancelable:r,timestamp:a}=t;return{type:"key-up",key:i,native:n,timestamp:a,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:o=>t.async(o),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,i){const{x:n,y:r,button:a,buttons:o,native:s,eventId:l}=t.data,u=s.pointerId,h=s.pointerType,{cancelable:m,timestamp:f}=t;return{type:i,x:n,y:r,pointerId:u,pointerType:h,button:a,buttons:o,native:s,timestamp:f,eventId:l,cancelable:m,stopPropagation:()=>t.stopPropagation(),async:g=>t.async(g),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:i,y:n,buttons:r,native:a,eventId:o}=t.data.currentEvent,{button:s}=t.data.startEvent,l=t.data.startEvent.native.pointerId,u=t.data.startEvent.native.pointerType,h=t.data.action,m={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:g}=t;return{type:"pointer-drag",x:i,y:n,pointerId:l,pointerType:u,button:s,buttons:r,action:h,origin:m,native:a,timestamp:g,eventId:o,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:b=>t.async(b),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:i,data:n,timestamp:r}=t,{x:a,y:o,deltaY:s,native:l}=n;return{type:"mouse-wheel",x:a,y:o,deltaY:s,native:l,timestamp:r,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:i,state:n,device:r}=t.data,{cancelable:a,timestamp:o}=t,{buttons:s,axes:l}=n;return{type:"gamepad",device:r,timestamp:o,action:i,buttons:s,axes:l,cancelable:a,stopPropagation:()=>t.stopPropagation(),async:u=>t.async(u),preventDefault:()=>t.preventDefault()}}}var Oy,k4,_4;(function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"})(Oy||(Oy={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(k4||(k4={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(_4||(_4={}));const U$e=Z.getLogger("esri.views.interactive.interactiveToolUtils");function B$e(e){return[e.on("before-add",t=>{const i=t.item;if(i==null||e.includes(i))return U$e.warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault()}),e.on("after-remove",t=>{const i=t.item;i.visible=!1,i.active&&(i.view.activeTool=null),i.destroy()})]}function ok(e){return e.visible&&e.getEditableFlag(Oy.USER)&&e.getEditableFlag(Oy.MANAGER)}function Vo(e){return Kn(e.x,e.y)}function WU(e,t){const i=(e instanceof HTMLElement?e:e.surface).getBoundingClientRect();return Kn(t.clientX-i.left,t.clientY-i.top)}function S4(e,t){return t instanceof Event?WU(e,t):Vo(t)}function D4(e){if(e instanceof Event)return!0;if(typeof e=="object"&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}class G$e{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._currentlyActiveTool=null,this._revertToActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}handleInputEvent(t,i){const n=()=>t.stopPropagation();switch(t.type){case"pointer-move":$4(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(n(),t.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!C4(t))break;const r=Vo(t),a=this._intersect(r,t.pointerType,i.forEachTool);if(z(a))break;const o=this._findToolAndManipulatorByKey(a,i.forEachTool,Kv),s=Fc(o,u=>u.manipulator),l=Fc(o,u=>u.tool);!($(s)&&$(l)&&s.interactive)||s.grabbable&&s.grabbableForEvent(t)||!s.grabbing||s.dragging||this._ungrabManipulatorBeforeDragging(s,l,t),$(s)&&s.interactive&&s.grabbable&&s.grabbableForEvent(t)&&!s.grabbing&&(this._grabbedManipulators.set(t.pointerId,{key:a,start:r,pointerType:t.pointerType}),this._grabbedManipulators.size===1&&i.activeTool!==a.tool&&(this._currentlyActiveTool=i.activeTool,this._revertToActiveTool=!0,i.setActiveTool(a.tool)),s.grabbing=!0,s.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:r}),n());break}case"pointer-up":this._handlePointerEnd(t,i);break;case"pointer-drag":{if(!C4(t))break;const r=this._grabbedManipulators.get(t.pointerId),a=this._draggedManipulators.get(t.pointerId),o=Fc(r||a,({key:h})=>h),s=this._findManipulatorByKey(o,i.forEachTool);if(z(s))break;const l=Vo(t);l.x=ga(l.x,0,i.view.width),l.y=ga(l.y,0,i.view.height);const u=(r||a).start;switch(t.action){case"start":case"update":t.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,a?s.events.emit("drag",{action:"update",start:u,screenPoint:l}):s.events.emit("drag",{action:"start",start:u,screenPoint:l,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{key:o,start:u}));break;case"end":s.dragging=!1,a&&s.events.emit("drag",{action:"end",start:u,screenPoint:l}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,i)}n();break}case"immediate-click":{const r=Vo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findToolAndManipulatorByKey(a,i.forEachTool,Kv);if(W$e(t)||i.forEachTool(h=>{if((!$(o)||o.tool!==h||h.automaticManipulatorSelection)&&h.manipulators){let m=!1;h.manipulators.forEach(({manipulator:f})=>{f.selected&&(f.selected=!1,m=!0)}),m&&h.manipulatorSelectionChanged&&h.manipulatorSelectionChanged()}}),z(o))break;const{manipulator:s,tool:l}=o;if(!s.interactive)break;s.selectable&&l.automaticManipulatorSelection&&(s.selected=!s.selected,l.manipulatorSelectionChanged&&l.manipulatorSelectionChanged());const u=t.native.shiftKey;s.events.emit("immediate-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:n});break}case"click":{const r=Vo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(z(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit(t.type,{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s}),n();break}case"double-click":{const r=Vo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(z(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit("double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:n});break}case"immediate-double-click":{const r=Vo(t),a=this._intersect(r,t.pointerType,i.forEachTool),o=this._findManipulatorByKey(a,i.forEachTool);if(z(o)||!o.interactive)break;const s=t.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:r,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:n});break}}this._updateCursor(i.forEachTool)}_ungrabManipulatorBeforeDragging(t,i,n){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:n.pointerType,screenPoint:Vo(n)}),this._grabbedManipulators.forEach(({key:r},a)=>{r.tool===i&&i.manipulators.findById(r.manipulatorId)===t&&this._grabbedManipulators.delete(a)})}_handlePointerEnd(t,i){const n=Fc(this._grabbedManipulators.get(t.pointerId),({key:a})=>a),r=this._findManipulatorByKey(n,i.forEachTool);$(r)&&!r.dragging&&(this._grabbedManipulators.size===1&&this._draggedManipulators.size===0&&this._revertToActiveTool&&(i.setActiveTool(this._currentlyActiveTool),this._revertToActiveTool=!1,this._currentlyActiveTool=null),r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:Vo(t)})),this._grabbedManipulators.delete(t.pointerId))}_cursorFromMap(t,i){let n=null;return Fk(t,({key:r})=>{const a=this._findManipulatorByKey(r,i);return!!($(a)&&a.interactive&&"cursor"in a&&a.cursor)&&(n=a.cursor,!0)}),n}_updateCursor(t){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators,t)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators,t)||"pointer":this._cursor=null}clearPointers(t,i,n=!0,r){const a=o=>o.tool===t&&(z(r)||o.manipulatorId===r);this._grabbedManipulators.forEach(({key:o,pointerType:s},l)=>{if(a(o)){this._grabbedManipulators.delete(l);const u=this._findManipulatorByKey(o,i);$(u)&&(u.grabbing=!1,u.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:s}))}}),this._draggedManipulators.forEach(({key:o},s)=>{if(a(o)){this._draggedManipulators.delete(s);const l=this._findManipulatorByKey(o,i);$(l)&&(l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}}),n&&this._hoveredManipulators.forEach(({key:o},s)=>{if(a(o)){this._hoveredManipulators.delete(s);const l=this._findManipulatorByKey(o,i);$(l)&&(l.hovering=!1)}}),this._updateCursor(i)}_intersect(t,i,n){let r=null;return n(a=>{if(a.manipulators==null||!ok(a))return!1;const o=a.manipulators.intersect(t,i);return!z(o)&&(r={manipulatorId:o.id,tool:a},!0)}),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((i,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Kn(i.x,i.y),n,i.pointerType,t)})}handleHoverEvent(t,i){t.type!=="pointer-up"&&t.type!=="immediate-click"&&t.type!=="pointer-move"||!$4(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(Vo(t),t.pointerId,t.pointerType,i)}_updateHoveredStateForPointerAtScreenPosition(t,i,n,r){const a=this._intersect(t,n,r);let o=this._findManipulatorByKey(a,r);const s=Fc(this._hoveredManipulators.get(i),({key:u})=>u),l=this._findManipulatorByKey(s,r);$(o)&&!o.interactive&&(o=null),l!==o&&($(l)&&(l.hovering=!1),$(o)?(o.hovering=!0,this._hoveredManipulators.set(i,{key:a})):this._hoveredManipulators.delete(i),this._updateCursor(r))}_findManipulatorByKey(t,i){return this._findToolAndManipulatorByKey(t,i,Kv)?Kv.manipulator:null}_findToolAndManipulatorByKey(t,i,n){return z(t)?null:(n.tool=null,n.manipulator=null,i(r=>{if(r!==t.tool||r.manipulators==null||!ok(r))return!1;const a=r.manipulators.findById(t.manipulatorId);return!!$(a)&&(n.manipulator=a,n.tool=r,!0)}),n.manipulator?n:null)}}function $4(e){return e==="mouse"}function C4(e){return e.pointerType!=="mouse"||e.button===0}function W$e(e){return!!e.native.shiftKey}const Kv={manipulator:null,tool:null},T4=Z.getLogger("esri.views.ToolViewManager"),E4="attached",BS="tools";let Zs=class extends Mm{constructor(e){super(e),this._manipulatorState=new G$e,this.tools=new ge,this.cursor=null,this._forEachTool=t=>{for(const i of this.tools.items)if(t(i))return}}initialize(){this.handles.add([this.view.on(UU,e=>{this._handleInputEvent(e)},Xc.TOOL),...B$e(this.tools),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.detach(),this.handles.removeAll()}set activeTool(e){if($(e)&&!this.view.ready)return void T4.error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return void($(e)&&T4.warn("Tool is already active - ignoring activation request."));const t=this.activeTool;this._set("activeTool",e),$(t)&&t.deactivate(),$(e)&&e.activate(),this._removeIncompleteTools(e);const i=z(this.activeTool);for(const n of this.tools){n.setEditableFlag(Oy.MANAGER,i||n===this.activeTool);const r=ok(n);!i&&r||this._manipulatorState.clearPointers(n,this._forEachTool,!r)}this._updateCursor()}get updating(){var e,t;return this.updatingHandles.updating||this.tools.some(i=>i.updating)||(e=(t=this.textures)==null?void 0:t.updating)!=null&&e}attach(){this.view.type==="3d"?(this._set("textures",new lg(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([this.view.state.watch("camera",()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}),this.view.elevationProvider.on("elevation-change",e=>{this._forEachManipulator(t=>{t.onElevationChange!=null&&t.onElevationChange(e)})}),Xm(()=>this._set("textures",Ko(this.textures)))],E4)):this.handles.add(this.view.watch("extent",()=>{this._forEachManipulator(e=>{e.onViewChange!=null&&e.onViewChange()})}))}detach(){$(this.activeTool)&&(this.activeTool=null),this.tools.removeAll(),this.handles.remove(E4)}_forEachManipulator(e){this._forEachTool(t=>{t.manipulators&&t.manipulators.forEach(({manipulator:i})=>e(i,t))})}_handleInputEvent(e){let t=!1;const i=ne(D({},e),{stopPropagation:()=>{t=!0,e.stopPropagation()}});$(this.activeTool)?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(n=>{!t&&n.visible&&n.handleInputEvent(i)}),!t&&e.type==="key-down"&&e.key==="Escape"&&this.activeTool&&(e.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:n=>{this.activeTool=n},view:this.view}),!t&&$(this.activeTool)&&this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor()}_refreshToolWatchers(){this.handles.remove(BS),this._forEachTool(e=>{if(e instanceof he){const t=yt(e,["cursor","visible","editable"],()=>{ok(e)||this._manipulatorState.clearPointers(e,this._forEachTool),this._updateCursor()});this.handles.add(t,BS)}e.manipulators&&this.handles.add(e.manipulators.on("change",t=>{t.removed.forEach(({id:i})=>{this._manipulatorState.clearPointers(e,this._forEachTool,!0,i)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}),BS)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateCursor(){let e=this._manipulatorState.cursor;this._forEachTool(t=>!(!$(t.cursor)||!t.visible)&&(e=t.cursor,!0)),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter(t=>(z(e)||t!==e)&&!t.created).forEach(t=>{this.tools.remove(t)})}};c([d({constructOnly:!0,nonNullable:!0})],Zs.prototype,"view",void 0),c([d({readOnly:!0,nonNullable:!0})],Zs.prototype,"textures",void 0),c([d({value:null})],Zs.prototype,"activeTool",null),c([d({readOnly:!0,type:ge})],Zs.prototype,"tools",void 0),c([d({readOnly:!0})],Zs.prototype,"cursor",void 0),c([d({readOnly:!0})],Zs.prototype,"updating",null),Zs=c([_("esri.views.ToolViewManager")],Zs);const J$e=Zs;let Op=class extends he{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":Y$e.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return K$e[this.deviceType]}};c([d({nonNullable:!0,readOnly:!0})],Op.prototype,"nativeIndex",void 0),c([d({type:String,readOnly:!0})],Op.prototype,"deviceType",null),c([d({type:Number,readOnly:!0})],Op.prototype,"axisThreshold",null),Op=c([_("esri.views.input.gamepad.GamepadInputDevice")],Op);const Y$e=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),K$e={standard:.15,spacemouse:.025,unknown:0},QI=Op;let cg=class extends he{constructor(...e){super(...e),this.devices=new ge,this.enabledFocusMode="document"}};c([d({type:ge.ofType(QI),readOnly:!0})],cg.prototype,"devices",void 0),c([d({type:["document","view","none"]})],cg.prototype,"enabledFocusMode",void 0),cg=c([_("esri.views.input.gamepad.GamepadSettings")],cg);const Z$e=cg;let _w=class extends he{constructor(){super(...arguments),this.gamepad=new Z$e}};c([d({readOnly:!0})],_w.prototype,"gamepad",void 0),_w=c([_("esri.views.input.Input")],_w);const X$e=_w;let vc=class extends he{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};c([d({type:Boolean,nonNullable:!0})],vc.prototype,"enabled",void 0),c([d({type:QI})],vc.prototype,"device",void 0),c([d({type:["pan","zoom"],nonNullable:!0})],vc.prototype,"mode",void 0),c([d({type:["forward-down","forward-up"],nonNullable:!0})],vc.prototype,"tiltDirection",void 0),c([d({type:Number,nonNullable:!0})],vc.prototype,"velocityFactor",void 0),vc=c([_("esri.views.navigation.gamepad.GamepadSettings")],vc);const JU=vc;let pd=class extends he{constructor(e){super(e),this.browserTouchPanEnabled=!0,this.gamepad=new JU,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0}};c([d({type:Boolean})],pd.prototype,"browserTouchPanEnabled",void 0),c([d({type:JU,nonNullable:!0})],pd.prototype,"gamepad",void 0),c([d({type:Boolean})],pd.prototype,"momentumEnabled",void 0),c([d({type:Boolean})],pd.prototype,"mouseWheelZoomEnabled",void 0),pd=c([_("esri.views.navigation.Navigation")],pd);const YU=pd;var I4;function Q$e(e){const t=e.url&&_b(e.url);return!((e.spatialReference&&e.spatialReference.vcsWkid)==null&&$(t)&&t.serverType==="ImageServer")&&KU(e)&&e.heightModelInfo?e.heightModelInfo:eCe(e)?b_.deriveUnitFromSR(iCe,e.spatialReference):null}function KU(e){return"heightModelInfo"in e}function ZU(e){if(e.type==="unknown"||!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"wfs":return!0;default:return!1}}function eCe(e){return ZU(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):XU(e)}function tCe(e){return e.layers!=null||XU(e)||ZU(e)||KU(e)}function XU(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return!0;case"analysis":case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"map-image":case"map-notes":case"ogc-feature":case"open-street-map":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"})(I4||(I4={}));const iCe=new b_({heightModel:"gravity-related-height"});var Ay;function M4(e){return e===Ay.Global?"global":"local"}(function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"})(Ay||(Ay={}));let OC,GS=null;async function nCe(e){GS||(GS=import("./geometryServiceUtils.bf7aeb8a.js").then(t=>OC=t)),await GS,hi(e)}async function QU(e,t,i,n){if(!e)return null;const r=e.spatialReference;return Nm()||hh(r,t)?hb(e,t):OC?OC.projectGeometry(e,t,i,n):(await Promise.race([nCe(n),zm(n)]),QU(e,t,i,n))}const eB=Z.getLogger("esri.views.support.DefaultsFromMap");eB.level="info";let dt=class extends he{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.logDebugInformation=!1,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=I3(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return $(this.userSpatialReference)?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return z(this.userSpatialReference)||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var e,t,i,n;const r=(e=this.map)==null?void 0:e.call(this),a=[];return $(this.priorityCollection)&&a.push(this.priorityCollection),a.push({parent:r==null?void 0:r.basemap,layers:r==null||(t=r.basemap)==null?void 0:t.baseLayers},{layers:r==null?void 0:r.layers},{parent:r==null?void 0:r.ground,layers:r==null||(i=r.ground)==null?void 0:i.layers},{parent:r==null?void 0:r.basemap,layers:r==null||(n=r.basemap)==null?void 0:n.referenceLayers}),a}get _allLayers(){var e,t;const i=this._collectLayers(this.mapCollections);return this._debug("Collected",(e=(t=i.layers)==null?void 0:t.length)!=null?e:0,"layers, updating",i.updating),i}get _spatialReferenceTask(){var e,t;if(this.suspended)return(t=this._get("_spatialReferenceTask"))!=null?t:{updating:!1};const{layers:i,updating:n}=this._allLayers,r={candidates:null};for(const o of i)if(this._processSpatialReferenceCandidates(o,r),r.candidates&&r.candidates.length===1)break;if(((e=r.candidates)==null?void 0:e.length)!==1&&n)return{updating:!0};const a=this._pickSpatialReferenceCandidate(r.candidates);return this._debug("Finished spatial reference",$(a)?`${a.spatialReference.wkid}:${$(a.viewingMode)?M4(a.viewingMode):"global/local"}`:"none available"),{spatialReference:$(a)?a.spatialReference:null,viewingMode:$(a)?a.viewingMode:null,updating:!1}}get _tileInfoTask(){var e,t,i,n,r,a,o,s;if(!this.required.tileInfo)return(s=this._get("_tileInfoTask"))!=null?s:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const{layers:l,updating:u}=this._collectLayers([{parent:(e=this.map)==null||(t=e.call(this))==null?void 0:t.basemap,layers:(i=this.map)==null||(n=i.call(this))==null||(r=n.basemap)==null?void 0:r.baseLayers},{layers:(a=this.map)==null||(o=a.call(this))==null?void 0:o.layers}]);if(l&&l.length>0&&"tileInfo"in l[0]){const h=l[0].tileInfo;return{tileInfo:h&&h.spatialReference.equals(this.spatialReference)?h:null,updating:!1}}return{updating:u}}get _heightModelInfoTask(){var e,t;if(!this.required.heightModelInfo||this.suspended&&(e=this._get("_heightModelInfoTask"))!=null&&e.heightModelInfo)return(t=this._get("_heightModelInfoTask"))!=null?t:{updating:!1};const{layers:i,updating:n}=this._allLayers;for(const l of i){var r,a;if(this._debug("Considering",(r=(a=l.title)!=null?a:l.id)!=null?r:l.declaredClass,"for height model info"),tCe(l)){const u=Q$e(l);var o,s;if(u)return this._debug("Derived height model info",u),{heightModelInfo:u,vcsWkid:(o=l.spatialReference)==null?void 0:o.vcsWkid,latestVcsWkid:(s=l.spatialReference)==null?void 0:s.latestVcsWkid,updating:!1}}this._debug("Layer does not support height models")}return this._debug("No height model info found,","updating",n),{updating:n}}get _extentCandidatesTask(){var e;if(this.suspended||!this.required.extent)return(e=this._get("_extentCandidatesTask"))!=null?e:{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const t=this._allLayers,i=t.updating,n=[];for(const a of t.layers){var r;const o="fullExtents"in a&&a.fullExtents||($(a.fullExtent)?[a.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:o[0],l=(r=o.find(u=>u.spatialReference.equals(this.spatialReference)))!=null?r:s;if(l)return{candidates:[{extent:l,layer:a}],updating:!1};if(this._getSupportedSpatialReferences(a).length>0)for(const u of o)n.push({extent:u,layer:a})}return{candidates:n,updating:i}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(z(e)||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(e),n=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:$(this._projectExtentTask.task)&&!this._projectExtentTask.task.finished}:($(this._projectExtentTask.task)&&(this._debug("Aborting project extent task"),this._projectExtentTask.task=I3(this._projectExtentTask.task)),this._debug("Starting project extent task for",i.extent),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:n.clone(),task:rz(async r=>{try{const a=await QU(i.extent,n,i.layer.portalItem,r);this._debug("Project extent task finished",a),this._projectExtentTask=ne(D({},this._projectExtentTask),{task:null,output:a})}catch{if(us(r))return;this._projectExtentTask=ne(D({},this._projectExtentTask),{task:null})}})},{updating:!0})}_processSpatialReferenceCandidates(e,t){var i;const n=this._getSupportedSpatialReferences(e);if(n.length!==0)if(this._debug("Spatial reference candidates from",(i=e.title)!=null?i:e.id,":",n.map(r=>`${r.spatialReference.wkid}:${$(r.viewingMode)?M4(r.viewingMode):"global/local"}`).join(", ")),t.candidates){const r=[],a=(o,s)=>z(o.viewingMode)?s.viewingMode:(z(s.viewingMode)||o.viewingMode===s.viewingMode)&&o.viewingMode;for(const o of t.candidates)for(const s of n){if(!o.spatialReference.equals(s.spatialReference))continue;const l=a(o,s);if(l!==!1){r.push({spatialReference:o.spatialReference,viewingMode:l});break}}r.length>0&&(t.candidates=r)}else t.candidates=n}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return!e||e.length<1?$(t)?{spatialReference:t,viewingMode:null}:null:($(t)&&e.length>1&&e.some(({spatialReference:i})=>i.equals(t))&&(e=e.filter(({spatialReference:i})=>i.equals(t))),e.length>1&&e.some(({viewingMode:i})=>i!==Ay.Local)&&(e=e.filter(({viewingMode:i})=>i!==Ay.Local)),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(t.length===0)return[];const i=[];for(const n of t){const r=this.getSpatialReferenceSupport({spatialReference:n,layer:e});if($(r)){const a=$(r.constraints)?r.constraints:[{spatialReference:n}];for(const{spatialReference:o,viewingMode:s}of a)(!this.requiresExtentInSpatialReference||z(this.userSpatialReference)||o.equals(this.userSpatialReference))&&i.push({spatialReference:o,viewingMode:s})}}return i}_pickExtentCandidate(e){const t=this.spatialReference;return e.find(({extent:i})=>t.equals(i.spatialReference))||e[0]}_collectLayers(e){var t;if(this._loadMaybe((t=this.map)==null?void 0:t.call(this))!=="loaded")return{layers:[],updating:!0};const i={layers:[],preloading:-1,updating:!1};for(const n of e)if(this._collectCollection(n,i),i.preloading===this.sourcePreloadCount)break;return{layers:i.layers,updating:i.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const r of e.layers){switch(this._loadMaybe(r)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":var i,n;t.updating||(this._debug("Considering layer",(i=(n=r.title)!=null?n:r.id)!=null?i:r.declaredClass),t.layers.push(r)),"layers"in r&&this._collectCollection({layers:r.layers},t)}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e?e.loadStatus==="not-loaded"?(this._debug("Triggering load",(t=(i=e.title)!=null?i:e.id)!=null?t:e.declaredClass),e.load(),"loading"):e.loadStatus:"loaded";var t,i}_debug(...e){this.logDebugInformation&&eB.info(...e)}};c([d()],dt.prototype,"required",void 0),c([d({constructOnly:!0})],dt.prototype,"map",void 0),c([d({constructOnly:!0})],dt.prototype,"getSpatialReferenceSupport",void 0),c([d()],dt.prototype,"defaultSpatialReference",void 0),c([d()],dt.prototype,"userSpatialReference",void 0),c([d()],dt.prototype,"sourcePreloadCount",void 0),c([d()],dt.prototype,"priorityCollection",void 0),c([d()],dt.prototype,"logDebugInformation",void 0),c([d()],dt.prototype,"requiresExtentInSpatialReference",void 0),c([d()],dt.prototype,"suspended",void 0),c([d({readOnly:!0})],dt.prototype,"ready",null),c([d({readOnly:!0})],dt.prototype,"heightModelInfoReady",null),c([d({readOnly:!0})],dt.prototype,"spatialReference",null),c([d({readOnly:!0})],dt.prototype,"extent",null),c([d({readOnly:!0})],dt.prototype,"heightModelInfo",null),c([d({readOnly:!0})],dt.prototype,"vcsWkid",null),c([d({readOnly:!0})],dt.prototype,"latestVcsWkid",null),c([d({readOnly:!0})],dt.prototype,"viewingMode",null),c([d({readOnly:!0})],dt.prototype,"tileInfo",null),c([d({readOnly:!0})],dt.prototype,"mapCollections",null),c([d({readOnly:!0})],dt.prototype,"_allLayers",null),c([d({readOnly:!0})],dt.prototype,"_spatialReferenceTask",null),c([d({readOnly:!0})],dt.prototype,"_tileInfoTask",null),c([d({readOnly:!0})],dt.prototype,"_heightModelInfoTask",null),c([d({readOnly:!0})],dt.prototype,"_extentCandidatesTask",null),c([d()],dt.prototype,"_extentTask",null),c([d()],dt.prototype,"_projectExtentTask",void 0),dt=c([_("esri.views.support.DefaultsFromMap")],dt);const rCe=dt;var Sw;const Zv=Z.getLogger("esri.views.View");let xe=Sw=class extends wh(ys.EventedMixin(zk(he))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new dm({getCollections:()=>{var t,i,n;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,(i=this.groundView)==null?void 0:i.layerViews,this.layerViews,(n=this.basemapView)==null?void 0:n.referenceLayerViews]},getChildrenFunction:t=>t.layerViews}),this.groundView=null,this.animation=null,this.basemapView=null,this.fatalError=null,this.extent=null,this.graphics=new Yg,this.analyses=new ak,this.navigating=!1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ge,this.magnifier=new HU,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new X$e,this.navigation=new YU,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new H$e(this),this.persistableViewModels=new ge,this._isValid=!1,this._readyCycleForced=!1,this.handles.add(this.watch("preconditionsReady",t=>{var i,n;t?(this._currentSpatialReference=this.spatialReference,Sw.views.add(this)):(this._currentSpatialReference=null,Sw.views.remove(this)),this.notifyChange("spatialReference"),!t&&this.ready?((i=this.layerViewManager)==null||i.clear(),(n=this.toolViewManager)==null||n.detach(),$(this.analysisViewManager)&&this.analysisViewManager.detach(),this._teardown()):t&&!this.ready&&($(this.analysisViewManager)&&this.analysisViewManager.attach(),this._startup(),this.toolViewManager.attach())},!0))}initialize(){this.addResolvingPromise(this.validate().then(()=>(this._isValid=!0,dE(()=>this.ready)))),this.basemapView=new bc({view:this}),this.layerViewManager=new R$e({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new J$e({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([bt(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required=ne(D({},this.defaultsFromMap.required),{extent:e}),{sync:!0,initial:!0}),bt(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},{sync:!0}),bt(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let e=null;this.handles.add([bt(()=>{var t;return(t=this.defaultsFromMap)==null?void 0:t.ready},t=>{var i;const n=((i=this.map)==null?void 0:i.allLayers.length)>0;if(t&&!this.spatialReference&&n){if($(e))return;const r=Xm(()=>e=I3(e));e=rz(async a=>{try{await NT(this.spatialReferenceWarningDelay,null,a)}catch{return}finally{e=null}Zv.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.handles.add(r,"spatial-reference-logger-task")}else this.handles.remove("spatial-reference-logger-task")},{sync:!0})])}destroy(){if(this.destroyed)return;this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ko(this.graphics),this.analyses=Ko(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.toolViewManager=Ko(this.toolViewManager),this.layerViewManager=Ko(this.layerViewManager),this.basemapView=Ko(this.basemapView),this.invalidate(),this._emitter.clear(),this.handles.removeAll();const e=this.map;this.map=null,e==null||e.destroy()}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Zv.error("#toMap()","Not implemented on this instance of View"),null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new rCe(D({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e)},this._defaultsFromMapSettings))}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get preconditionsReady(){var e;return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Dl.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!(this._currentSpatialReference||(e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}set map(e){var t;e!==this._get("map")&&((t=e)!=null&&t.destroyed&&(Zv.warn("#map","The provided map is already destroyed",{map:e}),e=null),Dl.isLoadable(e)&&e.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e))}get spatialReference(){var e,t;let i=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return i&&(e=this.defaultsFromMap)!=null&&(t=e.required)!=null&&t.heightModelInfo&&(i=i.clone(),i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),i}set spatialReference(e){const t=!cr(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return $(e)?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}whenLayerView(e){return this.layerViewManager.whenLayerView(e)}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e,t,i;return(e=(t=this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)!=null?t:(i=this.defaultsFromMap)==null?void 0:i.heightModelInfo)!=null?e:null}importLayerView(e){throw new P("importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{}}_validateSpatialReference(e){return $(this.getSpatialReferenceSupport({spatialReference:e}))}when(e,t){return this.isResolved()&&!this.ready&&Zv.warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(Wk(()=>this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}};xe.views=new ge,c([d()],xe.prototype,"_userSpatialReference",void 0),c([ce("toolViewManager.activeTool")],xe.prototype,"activeTool",void 0),c([d({readOnly:!0})],xe.prototype,"allLayerViews",void 0),c([d()],xe.prototype,"groundView",void 0),c([d()],xe.prototype,"animation",void 0),c([d()],xe.prototype,"basemapView",void 0),c([d({readOnly:!0})],xe.prototype,"_defaultsFromMapSettings",null),c([d()],xe.prototype,"defaultsFromMap",null),c([d()],xe.prototype,"fatalError",void 0),c([d({type:lt})],xe.prototype,"extent",void 0),c([d(h4(Yg,"graphics"))],xe.prototype,"graphics",void 0),c([d(h4(ak,"analyses"))],xe.prototype,"analyses",void 0),c([d({readOnly:!0,type:b_})],xe.prototype,"heightModelInfo",null),c([d({readOnly:!0})],xe.prototype,"interacting",null),c([d({readOnly:!0})],xe.prototype,"navigating",void 0),c([d({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],xe.prototype,"preconditionsReady",null),c([d({readOnly:!0})],xe.prototype,"typeSpecificPreconditionsReady",void 0),c([d({type:ge,readOnly:!0})],xe.prototype,"layerViews",void 0),c([d({type:HU})],xe.prototype,"magnifier",void 0),c([d({value:null,type:tj})],xe.prototype,"map",null),c([d()],xe.prototype,"padding",void 0),c([d({readOnly:!0})],xe.prototype,"ready",void 0),c([d({type:Le})],xe.prototype,"spatialReference",null),c([d()],xe.prototype,"spatialReferenceWarningDelay",void 0),c([d()],xe.prototype,"stationary",null),c([d({readOnly:!0})],xe.prototype,"supportsGround",void 0),c([d({type:xs})],xe.prototype,"timeExtent",void 0),c([ce("toolViewManager.tools")],xe.prototype,"tools",void 0),c([d()],xe.prototype,"toolViewManager",void 0),c([d({readOnly:!0})],xe.prototype,"type",void 0),c([d({type:Number})],xe.prototype,"scale",void 0),c([d({readOnly:!0})],xe.prototype,"updating",void 0),c([d({readOnly:!0})],xe.prototype,"initialExtentRequired",void 0),c([d({readOnly:!0})],xe.prototype,"initialExtent",null),c([d()],xe.prototype,"cursor",null),c([d({readOnly:!0})],xe.prototype,"input",void 0),c([d({type:YU,nonNullable:!0})],xe.prototype,"navigation",void 0),c([d()],xe.prototype,"layerViewManager",void 0),c([d()],xe.prototype,"analysisViewManager",void 0),c([d()],xe.prototype,"width",void 0),c([d()],xe.prototype,"height",void 0),c([d({readOnly:!0})],xe.prototype,"resizing",void 0),c([d({value:null,readOnly:!0})],xe.prototype,"size",null),c([d({readOnly:!0})],xe.prototype,"suspended",void 0),c([d({readOnly:!0})],xe.prototype,"viewEvents",void 0),c([d({readOnly:!0})],xe.prototype,"persistableViewModels",void 0),c([d()],xe.prototype,"_isValid",void 0),c([d()],xe.prototype,"_readyCycleForced",void 0),c([d()],xe.prototype,"_currentSpatialReference",void 0),xe=Sw=c([_("esri.views.View")],xe);const aCe=xe;let wc=class extends hx{constructor(e){super(e),this.state="running",this.target=null}initialize(){this.addResolvingPromise(new Promise((e,t)=>this._dfd={resolve:e,reject:t}))}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._dfd.reject(new P("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._dfd.resolve())}update(e,t){t||(t=Il(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};c([d({readOnly:!0})],wc.prototype,"done",null),c([d({readOnly:!0,type:String})],wc.prototype,"state",void 0),c([d()],wc.prototype,"target",void 0),wc=c([_("esri.views.ViewAnimation")],wc),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(wc||(wc={}));const AC=wc;function _d(e,t,i,n){const r=3*e,a=3*(i-e)-r,o=1-r-a,s=3*t,l=3*(n-t)-s,u=1-s-l;function h(b){return((o*b+a)*b+r)*b}function m(b){return((u*b+l)*b+s)*b}function f(b){return(3*o*b+2*a)*b+r}function g(b,v){let w,x,S,E,T,C;for(S=b,C=0;C<8;C++){if(E=h(S)-b,Math.abs(E)<v)return S;if(T=f(S),Math.abs(T)<1e-6)break;S-=E/T}if(w=0,x=1,S=b,S<w)return w;if(S>x)return x;for(;w<x;){if(E=h(S),Math.abs(E-b)<v)return S;b>E?w=S:x=S,S=.5*(x-w)+w}return S}return function(b,v=1e-6){return m(g(b,v))}}const oCe=/^cubic-bezier\((.*)\)/,oa={};function sCe(e){let t=oa[e]||null;if(!t){const i=oCe.exec(e);if(i){const n=i[1].split(",").map(r=>parseFloat(r.trim()));n.length!==4||n.some(r=>isNaN(r))||(t=_d.apply(_d,n))}}return t}oa.ease=_d(.25,.1,.25,1),oa.linear=_d(0,0,1,1),oa.easeIn=oa["ease-in"]=_d(.42,0,1,1),oa.easeOut=oa["ease-out"]=_d(0,0,.58,1),oa.easeInOut=oa["ease-in-out"]=_d(.42,0,.58,1);function lCe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function cCe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function uCe(e,t,i,n,r,a,o){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e}function eM(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5];let l=i*a-n*r;return l?(l=1/l,e[0]=a*l,e[1]=-n*l,e[2]=-r*l,e[3]=i*l,e[4]=(r*s-a*o)*l,e[5]=(n*o-i*s)*l,e):null}function dCe(e){return e[0]*e[3]-e[1]*e[2]}function tB(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1],m=i[2],f=i[3],g=i[4],b=i[5];return e[0]=n*u+a*h,e[1]=r*u+o*h,e[2]=n*m+a*f,e[3]=r*m+o*f,e[4]=n*g+a*b+s,e[5]=r*g+o*b+l,e}function E_(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=Math.sin(i),h=Math.cos(i);return e[0]=n*h+a*u,e[1]=r*h+o*u,e[2]=n*-u+a*h,e[3]=r*-u+o*h,e[4]=s,e[5]=l,e}function tM(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1];return e[0]=n*u,e[1]=r*u,e[2]=a*h,e[3]=o*h,e[4]=s,e[5]=l,e}function Py(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=i[0],h=i[1];return e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=n*u+a*h+s,e[5]=r*u+o*h+l,e}function iB(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=-i,e[3]=n,e[4]=0,e[5]=0,e}function nB(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function iM(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function hCe(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function pCe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)}function mCe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e}function rB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}function fCe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e}function gCe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e}function yCe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function bCe(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=t[0],u=t[1],h=t[2],m=t[3],f=t[4],g=t[5];return Math.abs(i-l)<=_e*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(n-u)<=_e*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-h)<=_e*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-m)<=_e*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-f)<=_e*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-g)<=_e*Math.max(1,Math.abs(s),Math.abs(g))}const vCe=tB,wCe=rB;Object.freeze({__proto__:null,copy:lCe,identity:cCe,set:uCe,invert:eM,determinant:dCe,multiply:tB,rotate:E_,scale:tM,translate:Py,fromRotation:iB,fromScaling:nB,fromTranslation:iM,str:hCe,frob:pCe,add:mCe,subtract:rB,multiplyScalar:fCe,multiplyScalarAndAdd:gCe,exactEquals:yCe,equals:bCe,mul:vCe,sub:wCe});function Qc(){return[1,0,0,1,0,0]}function xCe(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function kCe(e,t,i,n,r,a){return[e,t,i,n,r,a]}function _Ce(e,t){return new Float64Array(e,t,6)}Object.freeze({__proto__:null,create:Qc,clone:xCe,fromValues:kCe,createView:_Ce});function Ly(e,t){return e[0]=t[0],e[1]=t[1],e}function Vi(e,t,i){return e[0]=t,e[1]=i,e}function aB(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function Ry(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function oB(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function sB(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function SCe(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function DCe(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function $Ce(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function CCe(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function TCe(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function Db(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function ECe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e}function $b(e,t){const i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)}function sk(e,t){const i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function lk(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function lB(e){const t=e[0],i=e[1];return t*t+i*i}function cB(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ICe(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function PC(e,t){const i=t[0],n=t[1];let r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),e[0]=t[0]*r,e[1]=t[1]*r),e}function uB(e,t){return e[0]*t[0]+e[1]*t[1]}function dB(e,t,i){const n=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=n,e}function MCe(e,t,i,n){const r=t[0],a=t[1];return e[0]=r+n*(i[0]-r),e[1]=a+n*(i[1]-a),e}function OCe(e,t){t=t||1;const i=2*Hc()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e}function ACe(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r,e[1]=i[1]*n+i[3]*r,e}function Yo(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[2]*r+i[4],e[1]=i[1]*n+i[3]*r+i[5],e}function PCe(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[3]*r+i[6],e[1]=i[1]*n+i[4]*r+i[7],e}function LCe(e,t,i){const n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e}function RCe(e,t,i,n){const r=t[0]-i[0],a=t[1]-i[1],o=Math.sin(n),s=Math.cos(n);return e[0]=r*s-a*o+i[0],e[1]=r*o+a*s+i[1],e}function FCe(e,t){const i=e[0],n=e[1],r=t[0],a=t[1];let o=i*i+n*n;o>0&&(o=1/Math.sqrt(o));let s=r*r+a*a;s>0&&(s=1/Math.sqrt(s));const l=(i*r+n*a)*o*s;return l>1?0:l<-1?Math.PI:Math.acos(l)}function NCe(e){return"vec2("+e[0]+", "+e[1]+")"}function zCe(e,t){return e[0]===t[0]&&e[1]===t[1]}function jCe(e,t){const i=e[0],n=e[1],r=t[0],a=t[1];return Math.abs(i-r)<=_e*Math.max(1,Math.abs(i),Math.abs(r))&&Math.abs(n-a)<=_e*Math.max(1,Math.abs(n),Math.abs(a))}function VCe(e,t,i,n,r){let a=t[0]-i[0],o=t[1]-i[1];const s=(n[0]*a+n[1]*o)*(r-1);return a=n[0]*s,o=n[1]*s,e[0]=t[0]+a,e[1]=t[1]+o,e}const HCe=lk,nM=Ry,qCe=oB,UCe=sB,BCe=$b,GCe=sk,WCe=lB;Object.freeze({__proto__:null,copy:Ly,set:Vi,add:aB,subtract:Ry,multiply:oB,divide:sB,ceil:SCe,floor:DCe,min:$Ce,max:CCe,round:TCe,scale:Db,scaleAndAdd:ECe,distance:$b,squaredDistance:sk,length:lk,squaredLength:lB,negate:cB,inverse:ICe,normalize:PC,dot:uB,cross:dB,lerp:MCe,random:OCe,transformMat2:ACe,transformMat2d:Yo,transformMat3:PCe,transformMat4:LCe,rotate:RCe,angle:FCe,str:NCe,exactEquals:zCe,equals:jCe,projectAndScale:VCe,len:HCe,sub:nM,mul:qCe,div:UCe,dist:BCe,sqrDist:GCe,sqrLen:WCe});function ni(){return[0,0]}function JCe(e){return[e[0],e[1]]}function Cb(e,t){return[e,t]}function YCe(e){const t=ni(),i=Math.min(2,e.length);for(let n=0;n<i;++n)t[n]=e[n];return t}function KCe(e,t){return new Float64Array(e,t,2)}function hB(){return ni()}function pB(){return Cb(1,1)}function mB(){return Cb(1,0)}function fB(){return Cb(0,1)}const ZCe=hB(),XCe=pB(),QCe=mB(),eTe=fB();Object.freeze({__proto__:null,create:ni,clone:JCe,fromValues:Cb,fromArray:YCe,createView:KCe,zeros:hB,ones:pB,unitX:mB,unitY:fB,ZEROS:ZCe,ONES:XCe,UNIT_X:QCe,UNIT_Y:eTe});const gB=96,yB=39.37,tTe=180/Math.PI;function bB(e){return e.wkid?e:e.spatialReference||Le.WGS84}function rM(e,t){return t.type?Vi(e,t.x,t.y):Ly(e,t)}function vB(e){return db(e)}function Kg(e,t){return Math.max(e.width/t[0],e.height/t[1])*uTe(e.spatialReference)}async function ug(e,t,i,n){let r,a;if(!e||Array.isArray(e)&&!e.length)return null;if(ge.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&typeof e[0]=="object"){const s=e.every(h=>"attributes"in h),l=e.some(h=>!h.geometry);let u=e;if(s&&l&&t&&t.allLayerViews){const h=new Map;for(const b of e){const v=b.layer,w=h.get(v)||[],x=b.attributes[v.objectIdField];x!=null&&w.push(x),h.set(v,w)}const m=[];h.forEach((b,v)=>{const w=t.allLayerViews.find(x=>x.layer.id===v.id);if("queryFeatures"in w){const x=v.createQuery();x.objectIds=b,x.returnGeometry=!0,m.push(w.queryFeatures(x))}});const f=await Promise.all(m),g=[];for(const b of f)if(b&&b.features&&b.features.length)for(const v of b.features)$(v.geometry)&&g.push(v.geometry);u=g}for(const h of u)n=await ug(h,t,i,n);return n}if(Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number")r=new be(e);else if(e instanceof nr)r=e;else if("geometry"in e){if(e.geometry)r=e.geometry;else if(e.layer){const s=e.layer,l=t.allLayerViews.find(u=>u.layer.id===s.id);if("queryFeatures"in l){const u=s.createQuery();u.objectIds=[e.attributes[s.objectIdField]],u.returnGeometry=!0;const h=await l.queryFeatures(u);r=E6(h,"features",0,"geometry")}}}if(z(r)||(a=r.type==="point"?new lt({xmin:r.x,ymin:r.y,xmax:r.x,ymax:r.y,spatialReference:r.spatialReference}):r.extent,!a))return null;Nm()||hh(a.spatialReference,i)||await zm();const o=hb(a,i);return o?n=n?n.union(o):o:null}function iTe(e){if(e&&(!Array.isArray(e)||typeof e[0]!="number")&&(typeof e=="object"||Array.isArray(e)&&typeof e[0]=="object")){if("layer"in e&&e.layer&&e.layer.minScale&&e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every(t=>"layer"in t)){let t=0,i=0;for(const n of e){const r=n.layer;r&&r.minScale&&r.maxScale&&(t=r.minScale<t?r.minScale:t,i=r.maxScale>i?r.maxScale:i)}return t&&i?{min:t,max:i}:null}}}function WS(e,t){return cr(bB(e),t)?e:hb(e,t)}async function nTe(e,t){if(!e||!t)return new so({targetGeometry:new be,scale:0,rotation:0});let i=t.spatialReference;const{constraints:n,padding:r,viewpoint:a,size:o}=t,s=[r?o[0]-r.left-r.right:o[0],r?o[1]-r.top-r.bottom:o[1]];let l=null;e instanceof so?l=e:e.viewpoint?l=e.viewpoint:e.target&&e.target.declaredClass==="esri.Viewpoint"&&(l=e.target);let u=null;l&&l.targetGeometry?u=l.targetGeometry:e instanceof lt?u=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(u=await ug(e.center,t,i)||await ug(e.extent,t,i)||await ug(e.target,t,i)||await ug(e,t,i)),!u&&a&&a.targetGeometry?u=a.targetGeometry:!u&&t.extent&&(u=t.extent),i||(i=bB(t.spatialReference||t.extent||u)),Nm()||cr(u.spatialReference,i)||hh(u,i)||await zm();const h=WS(u.center?u.center:u,i);let m=null;if(l&&$(l.targetGeometry)&&l.targetGeometry.type==="point")m=l.scale;else if("scale"in e&&e.scale)m=e.scale;else if("zoom"in e&&e.zoom!==-1&&n&&n.effectiveLODs)m=n.zoomToScale(e.zoom);else if(Array.isArray(u)||u.type==="point"||u.type==="extent"&&u.width===0&&u.height===0){const v=WS(t.extent,i);m=$(v)?Kg(v,s):t.extent?Kg(t.extent,s):a.scale}else m=Kg(WS(u.extent,i),s);const f=iTe(e);f&&(f.min&&f.min>m?m=f.min:f.max&&f.max<m&&(m=f.max));let g=0;l?g=l.rotation:e.hasOwnProperty("rotation")?g=e.rotation:a&&(g=a.rotation);let b=new so({targetGeometry:h,scale:m,rotation:g});return n&&(b=n.fit(b),n.constrainByGeometry(b),n.rotationEnabled||(b.rotation=g)),b}function vo(e,t){const i=e.targetGeometry,n=t.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function rTe(e,t,i){return i?Vi(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):Db(e,t,.5)}const aTe=function(){const e=ni();return function(t,i,n){const r=i.targetGeometry;rM(e,r);const a=.5*xf(i);return t.xmin=e[0]-a*n[0],t.ymin=e[1]-a*n[1],t.xmax=e[0]+a*n[0],t.ymax=e[1]+a*n[1],t.spatialReference=r.spatialReference,t}}();function oTe(e,t,i,n,r){return LC(e,t,i.center),e.scale=Kg(i,n),r&&r.constraints&&r.constraints.constrain(e),e}function sTe(e,t,i,n){return sM(e,t,i,n),eM(e,e)}const wB=function(){const e=ni();return function(t,i,n){return nM(t,dTe(t,i),rTe(e,i,n))}}(),lTe=function(){const e=Qc(),t=ni();return function(i,n,r,a){const o=xf(n),s=aM(n);return Vi(t,o,o),nB(e,t),E_(e,e,s),Py(e,e,wB(t,r,a)),Py(e,e,[0,a.top-a.bottom]),Vi(i,e[4],e[5])}}();function xf(e){return e.scale*cTe(e.targetGeometry)}function cTe(e){return $(e)&&ir(e.spatialReference)?1/(vB(e.spatialReference)*yB*gB):1}function aM(e){return sE(e.rotation)||0}function uTe(e){return ir(e)?vB(e)*yB*gB:1}function dTe(e,t){return Db(e,t,.5)}const oM=function(){const e=ni(),t=ni(),i=ni();return function(n,r,a,o,s,l){return cB(e,r),Db(t,a,.5*l),Vi(i,1/o*l,-1/o*l),iM(n,t),s&&E_(n,n,s),tM(n,n,i),Py(n,n,e),n}}(),sM=function(){const e=ni();return function(t,i,n,r){const a=xf(i),o=aM(i);return rM(e,i.targetGeometry),oM(t,e,n,a,o,r)}}(),hTe=function(){const e=ni();return function(t,i,n,r){const a=xf(i);return rM(e,i.targetGeometry),oM(t,e,n,a,0,r)}}();function pTe(e){if(e.isWrappable){const t=oo(e);return t.valid[1]-t.valid[0]}return 0}function mTe(e,t){return Math.round(pTe(e)/t)}const fTe=function(){const e=ni(),t=ni(),i=[0,0,0];return function(n,r,a){Ry(e,n,r),PC(e,e),Ry(t,n,a),PC(t,t),dB(i,e,t);let o=Math.acos(uB(e,t)/(lk(e)*lk(t)))*tTe;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),gTe=function(){const e=ni();return function(t,i,n,r){const a=t.targetGeometry;return vo(t,i),lTe(e,i,n,r),a.x+=e[0],a.y+=e[1],t}}(),LC=function(e,t,i){vo(e,t);const n=e.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,e},yTe=function(){const e=ni();return function(t,i,n,r,a){a||(a="center"),nM(e,n,r),Db(e,e,.5);const o=e[0],s=e[1];switch(a){case"center":Vi(e,0,0);break;case"left":Vi(e,-o,0);break;case"top":Vi(e,0,s);break;case"right":Vi(e,o,0);break;case"bottom":Vi(e,0,-s);break;case"top-left":Vi(e,-o,s);break;case"bottom-left":Vi(e,-o,-s);break;case"top-right":Vi(e,o,s);break;case"bottom-right":Vi(e,o,-s)}return I_(t,i,e),t}}();function yPe(e,t,i){return vo(e,t),e.rotation+=i,e}function bTe(e,t,i){return vo(e,t),e.rotation=i,e}const vTe=function(){const e=ni();return function(t,i,n,r,a){return vo(t,i),isNaN(n)||n===0||(kB(e,r,i,a),t.scale=i.scale*n,_B(e,e,t,a),I_(t,t,Vi(e,e[0]-r[0],r[1]-e[1]))),t}}();function O4(e,t,i){return vo(e,t),e.scale=i,e}const xB=function(){const e=ni();return function(t,i,n,r,a,o){return vo(t,i),isNaN(n)||n===0||(kB(e,a,i,o),t.scale=i.scale*n,t.rotation+=r,_B(e,e,t,o),I_(t,t,Vi(e,e[0]-a[0],a[1]-e[1]))),t}}(),bPe=function(){const e=ni(),t=ni();return function(i,n,r,a,o,s,l){return wB(t,s,l),aB(e,o,t),a?xB(i,n,r,a,e,s):vTe(i,n,r,e,s)}}(),kB=function(){const e=Qc();return function(t,i,n,r){return Yo(t,i,sTe(e,n,r,1))}}(),_B=function(){const e=Qc();return function(t,i,n,r){return Yo(t,i,sM(e,n,r,1))}}(),I_=function(){const e=ni(),t=Qc();return function(i,n,r){vo(i,n);const a=xf(n),o=i.targetGeometry;return iB(t,aM(n)),tM(t,t,Cb(a,a)),Yo(e,r,t),o.x+=e[0],o.y+=e[1],i}}();class wTe{constructor(t,i,n,r){const a=t.targetGeometry,o=i.targetGeometry;r?typeof r=="string"&&(r=sCe(r)||oa.ease):r=oa.ease,this.easing=r,this.duration=n,this.sCenterX=a.x,this.sCenterY=a.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=o.x,this.tCenterY=o.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360)}applyRatio(t,i){const n=this.easing(i);let r,a,o,s;i>=1?(r=this.tCenterX,a=this.tCenterY,o=this.tRotation,s=this.tScale):(r=this.sCenterX+n*this.dCenterX,a=this.sCenterY+n*this.dCenterY,o=this.sRotation+n*this.dRotation,s=this.sScale+n*this.dScale),t.targetGeometry.x=r,t.targetGeometry.y=a,t.scale=s,t.rotation=o}}let Xs=class extends he{constructor(e){super(e),this.duration=200,this.transition=null,this.easing=oa.ease,this.view=null,this.viewpoint=null,this.viewpoint=new so({targetGeometry:new be,scale:0,rotation:0}),this._updateTask=Em({postRender:this._postRender.bind(this)}),this._updateTask.pause()}destroy(){this._updateTask.remove(),this._updateTask=null}animate(e,t,i){this.stop();const n=this.viewpoint;vo(n,t),this.transition=new wTe(this.viewpoint,e.target,i&&i.duration||this.duration,i&&i.easing||this.easing);const r=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const i=new AC({target:e.clone()}),n=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==AC.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime);else{const i=(performance.now()-this._startTime)/this.transition.duration,n=i>=1;this.transition.applyRatio(this.viewpoint,i),n&&this.animation.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};c([d()],Xs.prototype,"animation",void 0),c([d()],Xs.prototype,"duration",void 0),c([d()],Xs.prototype,"transition",void 0),c([d()],Xs.prototype,"easing",void 0),c([d()],Xs.prototype,"view",void 0),c([d()],Xs.prototype,"viewpoint",void 0),Xs=c([_("esri.views.2d.AnimationManager")],Xs);const xTe=Xs;class kTe{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions},this.update=()=>{this._updateRequested=!1;const{basemapView:i,graphicsView:n,labelManager:r,layerViews:a,state:{id:o}}=this.view;i.baseLayerViews.forEach(this._updateLayerView,this),a.forEach(this._updateLayerView,this),i.referenceLayerViews.forEach(this._updateLayerView,this),$(r)&&(r.lastUpdateId!==o&&(r.viewChange(),r.lastUpdateId=o),r.updateRequested&&r.processUpdate(this._updateParameters)),$(n)&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause()}}destroy(){this.stop()}start(){this._frameTaskHandle||(this.stationary=this.view.stationary,this._updateParameters={state:this.view.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:this.view.renderingOptions},this._stationaryHandle=this.view.watch("stationary",t=>{this.stationary=t,this.requestFrame()}),this._frameTaskHandle=Em(this),this.requestUpdate())}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){const i=this.view.state,n=t.lastUpdateId;n!=null&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),n!==i.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=i.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews.forEach(this._updateLayerView,this)}}function Mi(){return Promise.all([import("./webglDeps.78bb96e9.js"),import("./mapViewDeps.9c7cb086.js")])}const l0=()=>Mi().then(()=>import("./TileLayerView2D.cffa9b7d.js")),Xv=()=>Mi().then(()=>import("./FeatureLayerView2D.838ef1a1.js")),A4={"base-dynamic":()=>Mi().then(()=>import("./BaseDynamicLayerView2D.de82b6a3.js")),"base-tile":l0,"bing-maps":l0,csv:Xv,"geo-rss":()=>Mi().then(()=>import("./GeoRSSLayerView2D.400cd223.js")),feature:Xv,geojson:Xv,graphics:()=>Mi().then(()=>import("./GraphicsLayerView2D.e583dd5f.js")),group:()=>Mi().then(()=>import("./GroupLayerView2D.9b9848fe.js")),imagery:()=>Mi().then(()=>import("./ImageryLayerView2D.f623a505.js")),"imagery-tile":()=>Mi().then(()=>import("./ImageryTileLayerView2D.55dba85e.js")),kml:()=>Mi().then(()=>import("./KMLLayerView2D.13eb3b8e.js")),"map-image":()=>Mi().then(()=>import("./MapImageLayerView2D.f51ed573.js")),"map-notes":()=>Mi().then(()=>import("./MapNotesLayerView2D.2312351f.js")),"ogc-feature":()=>Mi().then(()=>import("./OGCFeatureLayerView2D.a4d66ea8.js")),"open-street-map":l0,route:()=>Mi().then(()=>import("./RouteLayerView2D.2e1ac5ac.js")),stream:()=>Mi().then(()=>import("./StreamLayerView2D.284e974b.js")),"subtype-group":()=>Mi().then(()=>import("./SubtypeGroupLayerView2D.0a8febfc.js")),tile:l0,"vector-tile":()=>Mi().then(()=>import("./VectorTileLayerView2D.748a9c23.js")),wcs:()=>Mi().then(()=>import("./ImageryTileLayerView2D.55dba85e.js")),"web-tile":l0,wfs:Xv,wms:()=>Mi().then(()=>import("./WMSLayerView2D.174db117.js")),wmts:()=>Mi().then(()=>import("./WMTSLayerView2D.ee6f02ed.js")),analysis:null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function _Te(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new P(`${i}:view-not-supported`,`${t} is not supported in 2D`)}const P4={hasLayerViewModule:e=>$(A4[e.type]),importLayerView:e=>{const t=A4[e.type];if(!$(t))throw _Te(e);return t(e)}};function STe(e,t){const{spatialReference:i}=t,n=[t.x,t.y];let r=Number.POSITIVE_INFINITY,a=0,o=0;const s=[0,0],l=e.type==="extent"?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:e.rings;for(const u of l)for(let h=0;h<u.length-1;h++){Gpe(s,n,u,h);const m=$b(n,s);m<r&&(r=m,a=s[0],o=s[1])}return{coordinate:new be({x:a,y:o,spatialReference:i}),distance:r}}var RC;const DTe=Z.getLogger("esri.views.MapView");let Sd=RC=class extends he{constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(z(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return hb(this.geometry,this.spatialReference)}catch(e){return DTe.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(z(this.normalizedGeometry))return e;const i=e.targetGeometry;if(this.normalizedGeometry.type==="extent"?Gk(this.normalizedGeometry,i):i8(this.normalizedGeometry,i))return e;const{coordinate:n}=STe(this.normalizedGeometry,i);return n&&(e.targetGeometry=n),e}clone(){var e,t;return new RC({geometry:(e=this.geometry)==null?void 0:e.clone(),spatialReference:(t=this.spatialReference)==null?void 0:t.clone()})}};c([d({constructOnly:!0})],Sd.prototype,"geometry",void 0),c([d({readOnly:!0})],Sd.prototype,"normalizedGeometry",null),c([d({constructOnly:!0})],Sd.prototype,"spatialReference",void 0),Sd=RC=c([_("esri.views.2d.constraints.GeometryConstraint")],Sd);var FC;let dg=FC=class extends he{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t&&(this.rotationEnabled||(e.rotation=t.rotation)),e}clone(){return new FC({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};c([d()],dg.prototype,"enabled",void 0),c([d()],dg.prototype,"rotationEnabled",void 0),dg=FC=c([_("esri.views.2d.constraints.RotationConstraint")],dg);const SB=dg;var NC;let Bn=NC=class extends he{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:n,minZoom:r,maxZoom:a}=this,o=-1,s=-1,l=!1,u=!1;if(i!==0&&n!==0&&i<n&&([i,n]=[n,i]),!t||!t.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);t=t.map(h=>h.clone()),t.sort((h,m)=>m.scale-h.scale),t.forEach((h,m)=>h.level=m);for(const h of t)!l&&i>0&&i>=h.scale&&(o=h.level,l=!0),!u&&n>0&&n>=h.scale&&(s=e?e.level:-1,u=!0),e=h;r===-1&&(r=i===0?0:o),a===-1&&(a=n===0?t.length-1:s),r=Math.max(r,0),r=Math.min(r,t.length-1),a=Math.max(a,0),a=Math.min(a,t.length-1),r>a&&([r,a]=[a,r]),i=t[r].scale,n=t[a].scale,t.splice(0,r),t.splice(a-r+1,t.length),t.forEach((h,m)=>{this._lodByScale[h.scale]=h,this._scales[m]=h.scale}),this._set("effectiveLODs",t),this._set("effectiveMinZoom",r),this._set("effectiveMaxZoom",a),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,n=this.effectiveMaxScale,r=e.targetGeometry,a=t&&t.targetGeometry,o=n!==0&&e.scale<n,s=i!==0&&e.scale>i;if(o||s){const l=s?i:n;if(a){const u=(l-t.scale)/(e.scale-t.scale);r.x=a.x+(r.x-a.x)*u,r.y=a.y+(r.y-a.y)*u}e.scale=l}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.round(e-.5),n=Math.round(e);return t[n]+(n-e)*(t[i]-t[n])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,n;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let r=0;r<t.length-1;r++){if(i=t[r],n=t[r+1],n===e)return r+this.effectiveMinZoom+1;if(i>e&&n<e)return r+this.effectiveMinZoom+1-(e-n)/(i-n)}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new NC({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t,this._scales[0])),this._lodByScale[e].scale}};c([d({readOnly:!0})],Bn.prototype,"effectiveLODs",void 0),c([d({readOnly:!0})],Bn.prototype,"effectiveMinZoom",void 0),c([d({readOnly:!0})],Bn.prototype,"effectiveMaxZoom",void 0),c([d({readOnly:!0})],Bn.prototype,"effectiveMinScale",void 0),c([d({readOnly:!0})],Bn.prototype,"effectiveMaxScale",void 0),c([d()],Bn.prototype,"lods",void 0),c([d()],Bn.prototype,"minZoom",void 0),c([d()],Bn.prototype,"maxZoom",void 0),c([d()],Bn.prototype,"minScale",void 0),c([d()],Bn.prototype,"maxScale",void 0),c([d()],Bn.prototype,"snapToZoom",void 0),Bn=NC=c([_("esri.views.2d.constraints.ZoomConstraint")],Bn);const DB=Bn,$Te={base:null,key:"type",typeMap:{extent:lt,polygon:ho}};let Xt=class extends he{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null)}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e;return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),((e=this._get("version"))!=null?e:0)+1}get _defaultLODs(){var e,t,i;const n=(e=this.view)==null||(t=e.defaultsFromMap)==null?void 0:t.tileInfo,r=(i=this.view)==null?void 0:i.spatialReference;return n&&r&&n.spatialReference.equals(r)?n.lods:null}get _geometry(){var e;return new Sd({geometry:this.geometry,spatialReference:(e=this.view)==null?void 0:e.spatialReference})}get _rotation(){return new SB({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this._defaultLODs,i=this.minZoom,n=this.maxZoom,r=this.minScale,a=this.maxScale,o=this.snapToZoom;return e&&e.lods===t&&e.minZoom===i&&e.maxZoom===n&&e.minScale===r&&e.maxScale===a&&e.snapToZoom===o?e:new DB({lods:t,minZoom:i,maxZoom:n,minScale:r,maxScale:a,snapToZoom:o})}canZoomInTo(e){const t=this.effectiveMaxScale;return t===0||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return t===0||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),e}constrainByGeometry(e){return this._geometry.constrain(e)}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};c([d({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],Xt.prototype,"effectiveLODs",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],Xt.prototype,"effectiveMinScale",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],Xt.prototype,"effectiveMaxScale",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],Xt.prototype,"effectiveMinZoom",void 0),c([d({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],Xt.prototype,"effectiveMaxZoom",void 0),c([d({types:$Te,value:null})],Xt.prototype,"geometry",null),c([d({type:[WE]})],Xt.prototype,"lods",void 0),c([d()],Xt.prototype,"minScale",void 0),c([d()],Xt.prototype,"maxScale",void 0),c([d()],Xt.prototype,"minZoom",void 0),c([d()],Xt.prototype,"maxZoom",void 0),c([d()],Xt.prototype,"rotationEnabled",void 0),c([d()],Xt.prototype,"snapToZoom",void 0),c([d()],Xt.prototype,"view",void 0),c([d({readOnly:!0})],Xt.prototype,"version",null),c([d()],Xt.prototype,"_defaultLODs",null),c([d({type:Sd})],Xt.prototype,"_geometry",null),c([d({type:SB})],Xt.prototype,"_rotation",null),c([d({readOnly:!0,type:DB})],Xt.prototype,"_zoom",null),Xt=c([_("esri.views.2d.MapViewConstraints")],Xt);const $B=Xt;function CB(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function CTe(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function TTe(e,t,i,n,r,a){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=i,o[3]=n,o[4]=r,o[5]=a,o}function ETe(e,t){return new Float32Array(e,t,6)}function TB(e,t,i,n){const r=t[n],a=t[n+1];e[n]=i[0]*r+i[2]*a+i[4],e[n+1]=i[1]*r+i[3]*a+i[5]}function ITe(e,t,i,n=0,r=0,a=2){const o=r||t.length/a;for(let s=n;s<o;s++)TB(e,t,i,s*a)}Object.freeze({__proto__:null,create:CB,clone:CTe,fromValues:TTe,createView:ETe,transform:TB,transformMany:ITe});function MTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function OTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function EB(e,t,i,n,r,a,o,s,l,u){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e[4]=a,e[5]=o,e[6]=s,e[7]=l,e[8]=u,e}function IB(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function ATe(e,t){if(e===t){const i=t[1],n=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=n,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function PTe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=h*o-s*u,f=-h*a+s*l,g=u*a-o*l;let b=i*m+n*f+r*g;return b?(b=1/b,e[0]=m*b,e[1]=(-h*n+r*u)*b,e[2]=(s*n-r*o)*b,e[3]=f*b,e[4]=(h*i-r*l)*b,e[5]=(-s*i+r*a)*b,e[6]=g*b,e[7]=(-u*i+n*l)*b,e[8]=(o*i-n*a)*b,e):null}function LTe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8];return e[0]=o*h-s*u,e[1]=r*u-n*h,e[2]=n*s-r*o,e[3]=s*l-a*h,e[4]=i*h-r*l,e[5]=r*a-i*s,e[6]=a*u-o*l,e[7]=n*l-i*u,e[8]=i*o-n*a,e}function RTe(e){const t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*(u*a-o*l)+i*(-u*r+o*s)+n*(l*r-a*s)}function lM(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=i[0],g=i[1],b=i[2],v=i[3],w=i[4],x=i[5],S=i[6],E=i[7],T=i[8];return e[0]=f*n+g*o+b*u,e[1]=f*r+g*s+b*h,e[2]=f*a+g*l+b*m,e[3]=v*n+w*o+x*u,e[4]=v*r+w*s+x*h,e[5]=v*a+w*l+x*m,e[6]=S*n+E*o+T*u,e[7]=S*r+E*s+T*h,e[8]=S*a+E*l+T*m,e}function zC(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=i[0],g=i[1];return e[0]=n,e[1]=r,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=f*n+g*o+u,e[7]=f*r+g*s+h,e[8]=f*a+g*l+m,e}function MB(e,t,i){const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],h=t[7],m=t[8],f=Math.sin(i),g=Math.cos(i);return e[0]=g*n+f*o,e[1]=g*r+f*s,e[2]=g*a+f*l,e[3]=g*o-f*n,e[4]=g*s-f*r,e[5]=g*l-f*a,e[6]=u,e[7]=h,e[8]=m,e}function FTe(e,t,i){const n=i[0],r=i[1],a=i[2];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=a*t[6],e[7]=a*t[7],e[8]=a*t[8],e}function NTe(e,t,i){const n=i[0],r=i[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e}function zTe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function jTe(e,t){const i=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=i,e[2]=0,e[3]=-i,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function VTe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function HTe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function qTe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=i+i,s=n+n,l=r+r,u=i*o,h=n*o,m=n*s,f=r*o,g=r*s,b=r*l,v=a*o,w=a*s,x=a*l;return e[0]=1-m-b,e[3]=h-x,e[6]=f+w,e[1]=h+x,e[4]=1-u-b,e[7]=g-v,e[2]=f-w,e[5]=g+v,e[8]=1-u-m,e}function UTe(e,t){const i=t[0],n=t[1],r=t[2],a=t[4],o=t[5],s=t[6],l=t[8],u=t[9],h=t[10],m=h*o-s*u,f=-h*a+s*l,g=u*a-o*l,b=i*m+n*f+r*g;if(!b)return null;const v=1/b;return e[0]=m*v,e[1]=(-h*n+r*u)*v,e[2]=(s*n-r*o)*v,e[3]=f*v,e[4]=(h*i-r*l)*v,e[5]=(-s*i+r*a)*v,e[6]=g*v,e[7]=(-u*i+n*l)*v,e[8]=(o*i-n*a)*v,e}function BTe(e,t){const i=t[0],n=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],h=t[8],m=t[9],f=t[10],g=t[11],b=t[12],v=t[13],w=t[14],x=t[15],S=i*s-n*o,E=i*l-r*o,T=i*u-a*o,C=n*l-r*s,M=n*u-a*s,L=r*u-a*l,j=h*v-m*b,G=h*w-f*b,J=h*x-g*b,q=m*w-f*v,ue=m*x-g*v,re=f*x-g*w;let de=S*re-E*ue+T*q+C*J-M*G+L*j;return de?(de=1/de,e[0]=(s*re-l*ue+u*q)*de,e[1]=(l*J-o*re-u*G)*de,e[2]=(o*ue-s*J+u*j)*de,e[3]=(r*ue-n*re-a*q)*de,e[4]=(i*re-r*J+a*G)*de,e[5]=(n*J-i*ue-a*j)*de,e[6]=(v*L-w*M+x*C)*de,e[7]=(w*T-b*L-x*E)*de,e[8]=(b*M-v*T+x*S)*de,e):null}function GTe(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function WTe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function JTe(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function YTe(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e}function OB(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}function KTe(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e}function ZTe(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e[2]=t[2]+i[2]*n,e[3]=t[3]+i[3]*n,e[4]=t[4]+i[4]*n,e[5]=t[5]+i[5]*n,e[6]=t[6]+i[6]*n,e[7]=t[7]+i[7]*n,e[8]=t[8]+i[8]*n,e}function XTe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function QTe(e,t){const i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],m=t[0],f=t[1],g=t[2],b=t[3],v=t[4],w=t[5],x=t[6],S=t[7],E=t[8];return Math.abs(i-m)<=_e*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(n-f)<=_e*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-g)<=_e*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-b)<=_e*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-v)<=_e*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-w)<=_e*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-x)<=_e*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(u-S)<=_e*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(h-E)<=_e*Math.max(1,Math.abs(h),Math.abs(E))}function eEe(e){const t=_e,i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8];return Math.abs(1-(i*i+a*a+l*l))<=t&&Math.abs(1-(n*n+o*o+u*u))<=t&&Math.abs(1-(r*r+s*s+h*h))<=t}const tEe=lM,iEe=OB;Object.freeze({__proto__:null,fromMat4:MTe,copy:OTe,set:EB,identity:IB,transpose:ATe,invert:PTe,adjoint:LTe,determinant:RTe,multiply:lM,translate:zC,rotate:MB,scale:FTe,scaleByVec2:NTe,fromTranslation:zTe,fromRotation:jTe,fromScaling:VTe,fromMat2d:HTe,fromQuat:qTe,normalFromMat4Legacy:UTe,normalFromMat4:BTe,projection:GTe,str:WTe,frob:JTe,add:YTe,subtract:OB,multiplyScalar:KTe,multiplyScalarAndAdd:ZTe,exactEquals:XTe,equals:QTe,isOrthoNormal:eEe,mul:tEe,sub:iEe});function Dw(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function nEe(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function rEe(e,t,i,n,r,a,o,s,l){const u=new Float32Array(9);return u[0]=e,u[1]=t,u[2]=i,u[3]=n,u[4]=r,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function aEe(e,t){return new Float32Array(e,t,9)}Object.freeze({__proto__:null,create:Dw,clone:nEe,fromValues:rEe,createView:aEe});function AB(){return new Float32Array(2)}function oEe(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}function Bm(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function sEe(e,t){return new Float32Array(e,t,2)}function PB(){return AB()}function LB(){return Bm(1,1)}function RB(){return Bm(1,0)}function FB(){return Bm(0,1)}const lEe=PB(),cEe=LB(),uEe=RB(),dEe=FB();Object.freeze({__proto__:null,create:AB,clone:oEe,fromValues:Bm,createView:sEe,zeros:PB,ones:LB,unitX:RB,unitY:FB,ZEROS:lEe,ONES:cEe,UNIT_X:uEe,UNIT_Y:dEe});function hEe(e){return e instanceof Float32Array&&e.length>=2}function pEe(e){return Array.isArray(e)&&e.length>=2}function JS(e){return hEe(e)||pEe(e)}var jC;const Os=[0,0];let xc=jC=class extends B{constructor(e){super(e),this._viewpoint2D={center:ni(),rotation:0,scale:0,spatialReference:null},this.center=[0,0],this.extent=new lt,this.id=0,this.inverseTransform=Qc(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Qc(),this.transformNoRotation=Qc(),this.displayMat3=Dw(),this.displayViewMat3=Dw(),this.viewMat3=Dw(),this.viewMat2d=CB(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=vo(i,e.viewpoint),this._set("size",Ly(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new jC({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return JS(t)?Yo(e,t,this.inverseTransform):(Os[0]=t,Os[1]=i,Yo(e,Os,this.inverseTransform))}toScreen(e,t,i){return JS(t)?Yo(e,t,this.transform):(Os[0]=t,Os[1]=i,Yo(e,Os,this.transform))}toScreenNoRotation(e,t,i){return JS(t)?Yo(e,t,this.transformNoRotation):(Os[0]=t,Os[1]=i,Yo(e,Os,this.transformNoRotation))}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,r=this._get("size");return oM(e,i,r,t,0,n),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:n}=this._viewpoint2D,r=this._get("pixelRatio")||1,a=this._get("size"),o=new so({targetGeometry:new be(e[0],e[1],t),scale:i,rotation:n});if(this._set("viewpoint",o),!a||!t||!i)return;this.resolution=xf(o),this.rotation=n,this.scale=i,this.spatialReference=t,Ly(this.center,e);const s=a[0]!==0?2/a[0]:0,l=a[1]!==0?-2/a[1]:0;EB(this.displayMat3,s,0,0,0,l,0,-1,1,1);const u=IB(this.viewMat3),h=Bm(a[0]/2,a[1]/2),m=Bm(-a[0]/2,-a[1]/2),f=sE(n);zC(u,u,h),MB(u,u,f),zC(u,u,m),lM(this.displayViewMat3,this.displayMat3,u);const g=iM(this.viewMat2d,h);return E_(g,g,f),Py(g,g,m),aTe(this.extent,o,a),sM(this.transform,o,a,r),eM(this.inverseTransform,this.transform),hTe(this.transformNoRotation,o,a,r),this.worldScreenWidth=mTe(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};c([d({readOnly:!0})],xc.prototype,"id",void 0),c([d({value:1,json:{write:!0}})],xc.prototype,"pixelRatio",null),c([d({json:{write:!0}})],xc.prototype,"size",null),c([d()],xc.prototype,"spatialReference",void 0),c([d({type:so,json:{write:!0}})],xc.prototype,"viewpoint",null),xc=jC=c([_("esri.views.2d.ViewState")],xc);const L4=xc;var VC,HC;let dl=VC=class extends he{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new VC({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};c([d()],dl.prototype,"left",void 0),c([d()],dl.prototype,"top",void 0),c([d()],dl.prototype,"right",void 0),c([d()],dl.prototype,"bottom",void 0),dl=VC=c([_("esri.views.2d.PaddedViewState.Padding")],dl);let Ap=HC=class extends L4{constructor(...e){super(...e),this.paddedViewState=new L4,this._updateContent=(()=>{const t=ni();return()=>{const i=this._get("size"),n=this._get("padding");if(!i||!n)return;const r=this.paddedViewState;Vi(t,n.left+n.right,n.top+n.bottom),Ry(t,i,t),Ly(r.size,t);const a=r.viewpoint;a&&(this.viewpoint=a)}})(),this.watch(["size","padding"],this._updateContent,!0),this.padding=new dl,this.size=[0,0]}set padding(e){this._set("padding",e||new dl)}set viewpoint(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,gTe(t,e,this._get("size"),this._get("padding"));const i=this._viewpoint2D,n=t.targetGeometry;i.center[0]=n.x,i.center[1]=n.y,i.rotation=t.rotation,i.scale=t.scale,i.spatialReference=n.spatialReference,this._update()}}clone(){return new HC({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};c([d()],Ap.prototype,"paddedViewState",void 0),c([d({type:dl})],Ap.prototype,"padding",null),c([d()],Ap.prototype,"viewpoint",null),Ap=HC=c([_("esri.views.2d.PaddedViewState")],Ap);const mEe=Ap;class fEe{constructor(t,i){this.item=t,this.controller=i,this.promise=null}}class NB{constructor(t){this._deferreds=new Map,this._controllers=new Map,this._processingItems=new Map,this._isPaused=!1,this._schedule=null,this._task=null,this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new TC(t.peeker),this.process=t.process;const i=t.scheduler;t.priority&&$(i)&&(this._task=i.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule&&(this._schedule.remove(),this._schedule=null),this._task&&(this._task.remove(),this._task=null)}get length(){return this._processingItems.size+this._queue.length}abort(t){const i=this._controllers.get(t);i&&i.abort()}clear(){this._queue.clear();const t=[];this._controllers.forEach(i=>t.push(i)),this._controllers.clear(),t.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((i,n)=>t(n))}get(t){const i=this._deferreds.get(t);return i?i.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._isPaused||(this._isPaused=!0,this._cancelNext())}push(t,i){const n=this.get(t);if(n)return n;const r=new AbortController;let a=null;i&&(a=uo(i,()=>r.abort()));const o=()=>{const h=this._processingItems.get(t);h&&h.controller.abort(),s(),u.reject(di())},s=()=>{l.remove(),$(a)&&a.remove(),this._deferreds.delete(t),this._controllers.delete(t),this._queue.remove(t),this._processingItems.delete(t),this._scheduleNext()},l=Lk(r.signal,o),u=Sl();return this._deferreds.set(t,u),this._controllers.set(t,r),u.promise.then(s,s),this._queue.push(t),this._scheduleNext(),u.promise}last(){return this._queue.last()}peek(){return this._queue.peek()}popLast(){return this._queue.popLast()}reset(){const t=[];this._processingItems.forEach(i=>t.push(i)),this._processingItems.clear();for(const i of t)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())}takeAll(){const t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._isPaused&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_scheduleNext(){this._task||this._isPaused||this._schedule||(this._schedule=eb(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(i))}_processError(t,i){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(i))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){if(z(t))return;let i;const n=new AbortController,r=new fEe(t,n);this._processingItems.set(t,r);try{i=this.process(t,n.signal)}catch(a){this._processError(r,a)}Il(i)?(r.promise=i,i.then(a=>this._processResult(r,a),a=>this._processError(r,a))):this._processResult(r,i)}get test(){return{update:t=>this.runTask(t)}}}function gEe(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const YS=new Set,Qv=[],Wh=new Map,R4=[0,0];let Wl=class extends he{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t}=this;this._queue=new NB({concurrency:e,process:(i,n)=>{const r=this._keyToItem.get(i);return t(r,{signal:n})},peeker:i=>i.values().next().value})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e,t){const i=e.key.id+"-"+t;if(this.has(i))return this.get(i);const n=this._queue.push(i),r=()=>{this._keyToItem.delete(i),this.notifyChange("updating")};return this._keyToItem.set(i,e),n.then(r,r),this.notifyChange("updating"),n}reset(){this._queue.reset(),this.notifyChange("updating")}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(u=>{const h=this._keyToItem.get(u),m=this.tileInfoView.getTileScale(h.key);Wh.has(m)||(Wh.set(m,[]),i=Math.max(m,i),n=Math.min(m,n)),Wh.get(m).push(h.key),YS.add(m)});let r=this.state.scale;Wh.has(r)||(gEe(Qv,YS),Qv.sort((u,h)=>u-h),r=Qv.reduce((u,h)=>Math.abs(h-r)<Math.abs(u-r)?h:u,Qv[0])),r=Math.min(r,i),r=Math.max(r,n);const a=Wh.get(r),o=t.getClosestInfoForScale(r),s=o.getColumnForX(this.state.center[0]),l=o.getRowForY(this.state.center[1]);return a.sort((u,h)=>{const m=o.denormalizeCol(u.col,u.world),f=o.denormalizeCol(h.col,h.world);return Math.sqrt((s-m)*(s-m)+(l-u.row)*(l-u.row))-Math.sqrt((s-f)*(s-f)+(l-h.row)*(l-h.row))}),YS.clear(),Wh.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return e.forEach(a=>{const o=this._keyToItem.get(a);t.getTileCoords(R4,o.key);const s=$b(R4,i);s<n&&(n=s,r=o.key)}),r.id}};c([d({constructOnly:!0})],Wl.prototype,"concurrency",void 0),c([d({constructOnly:!0})],Wl.prototype,"process",void 0),c([d()],Wl.prototype,"state",void 0),c([d({constructOnly:!0})],Wl.prototype,"strategy",void 0),c([d({constructOnly:!0})],Wl.prototype,"tileInfoView",void 0),c([d({readOnly:!0})],Wl.prototype,"updating",null),Wl=c([_("esri.views.2d.tiling.PagedTileQueue")],Wl);class Jn{constructor(t,i,n,r){this.set(t,i,n,r)}static getId(t,i,n,r){return typeof t=="object"?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${i}/${n}/${r}`}get key(){return this}get id(){return this.toString()}set id(t){this.set(t)}get hash(){const t=4095&this.row,i=4095&this.col,n=63&this.level;return(3&this.world)<<30|i<<22|t<<8|n}acquire(t,i,n,r){this.set(t,i,n,r)}contains(t){const i=t.level-this.level;return this.row===t.row>>i&&this.col===t.col>>i&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new Jn(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,i,n,r){if(t==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof t=="object")this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if(typeof t=="string"){const[a,o,s,l]=t.split("/");this.level=parseFloat(a),this.row=parseFloat(o),this.col=parseFloat(s),this.world=parseFloat(l)}else this.level=+t,this.row=+i,this.col=+n,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new Jn(this.level-1,this.row>>1,this.col>>1,this.world)}getChildKeys(){const t=this.level+1,i=this.row<<1,n=this.col<<1,r=this.world;return[new Jn(t,i,n,r),new Jn(t,i,n+1,r),new Jn(t,i+1,n,r),new Jn(t,i+1,n+1,r)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:this.col>t.col?1:0}}Jn.pool=new co(Jn,null,null,25,50);function Jl(e,t){return[e,t]}function Eu(e,t,i){return e[0]=t,e[1]=i,e}function yEe(e,t,i,n,r){return e[0]=t,e[1]=i,e[2]=n,e[3]=r,e}const Oa=new Jn("0/0/0/0");class cM{constructor(t,i,n,r,a,o,s,l,u,h,m,f){this.level=t,this.resolution=i,this.scale=n,this.origin=r,this.first=a,this.last=o,this.size=s,this.norm=l,this.worldStart=u,this.worldEnd=h,this.worldSize=m,this.wrap=f}static create(t,i,n=null){const r=oo(t.spatialReference),a=i.origin||Jl(t.origin.x,t.origin.y),o=Jl(t.size[0]*i.resolution,t.size[1]*i.resolution),s=Jl(-1/0,-1/0),l=Jl(1/0,1/0),u=Jl(1/0,1/0);$(n)&&(Eu(s,Math.max(0,Math.floor((n.xmin-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymax)/o[1]))),Eu(l,Math.max(0,Math.floor((n.xmax-a[0])/o[0])),Math.max(0,Math.floor((a[1]-n.ymin)/o[1]))),Eu(u,l[0]-s[0]+1,l[1]-s[1]+1));const{cols:h,rows:m}=i;let f,g,b,v;return!n&&h&&m&&(Eu(s,h[0],m[0]),Eu(l,h[1],m[1]),Eu(u,h[1]-h[0]+1,m[1]-m[0]+1)),t.isWrappable?(f=Jl(Math.ceil(Math.round((r.valid[1]-r.valid[0])/i.resolution)/t.size[0]),u[1]),g=Jl(Math.floor((r.origin[0]-a[0])/o[0]),s[1]),b=Jl(f[0]+g[0]-1,l[1]),v=!0):(g=s,b=l,f=u,v=!1),new cM(i.level,i.resolution,i.scale,a,s,l,u,o,g,b,f,v)}normalizeCol(t){if(!this.wrap)return t;const i=this.worldSize[0];return t<0?i-1-Math.abs((t+1)%i):t%i}denormalizeCol(t,i){return this.wrap?this.worldSize[0]*i+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){return this.origin[0]+t*this.norm[0]}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,i,n=!1){Oa.set(i);const r=n?Oa.col:this.denormalizeCol(Oa.col,Oa.world),a=Oa.row;return yEe(t,this.getXForColumn(r),this.getYForRow(a+1),this.getXForColumn(r+1),this.getYForRow(a)),t}getTileCoords(t,i,n=!1){Oa.set(i);const r=n?Oa.col:this.denormalizeCol(Oa.col,Oa.world);return Array.isArray(t)?Eu(t,this.getXForColumn(r),this.getYForRow(Oa.row)):(t.x=this.getXForColumn(r),t.y=this.getYForRow(Oa.row)),t}}class Gm{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}forEach(t,i){const{spans:n,lodInfo:r}=this,{level:a}=r;if(n.length!==0)for(const{row:o,colFrom:s,colTo:l}of n)for(let u=s;u<=l;u++)t.call(i,a,o,r.normalizeCol(u),r.getWorldForColumn(u))}}Gm.pool=new co(Gm);class KS{constructor(t,i,n){this.row=t,this.colFrom=i,this.colTo=n}}const Tt=new Jn("0/0/0/0");class uM{constructor(t,i,n,r,a,o,s,l){this.x=t,this.ymin=i,this.ymax=n,this.invM=r,this.leftAdjust=a,this.rightAdjust=o,this.leftBound=s,this.rightBound=l}static create(t,i){t[1]>i[1]&&([t,i]=[i,t]);const[n,r]=t,[a,o]=i,s=a-n,l=o-r,u=l!==0?s/l:0,h=(Math.ceil(r)-r)*u,m=(Math.floor(r)-r)*u;return new uM(n,Math.floor(r),Math.ceil(o),u,s<0?h:m,s<0?m:h,s<0?a:n,s<0?n:a)}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const hr=[[0,0],[0,0],[0,0],[0,0]],bEe=1e-6;class vEe{constructor(t,i=null){this.tileInfo=t,this.fullExtent=i,this.scales=[],this._lodInfos=null,this._infoByScale={},this._infoByLevel={};const n=t.lods.slice();n.sort(function(a,o){return o.scale-a.scale});const r=this._lodInfos=n.map(a=>cM.create(t,a,i));n.forEach((a,o)=>{this._infoByLevel[a.level]=r[o],this._infoByScale[a.scale]=r[o],this.scales[o]=a.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel[typeof t=="number"?t:t.level]}getTileBounds(t,i,n=!1){Tt.set(i);const r=this._infoByLevel[Tt.level];return r?r.getTileBounds(t,Tt,n):t}getTileCoords(t,i,n=!1){Tt.set(i);const r=this._infoByLevel[Tt.level];return r?r.getTileCoords(t,Tt,n):t}getTileCoverage(t,i=192,n="closest"){const r=n==="closest"?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=Gm.pool.acquire(r),o=this._wrap;let s,l,u,h=1/0,m=-1/0;const f=a.spans;hr[0][0]=hr[0][1]=hr[1][1]=hr[3][0]=-i,hr[1][0]=hr[2][0]=t.size[0]+i,hr[2][1]=hr[3][1]=t.size[1]+i;for(const w of hr)t.toMap(w,w),w[0]=r.getColumnForX(w[0]),w[1]=r.getRowForY(w[1]);const g=[];let b=3;for(let w=0;w<4;w++){if(hr[w][1]===hr[b][1]){b=w;continue}const x=uM.create(hr[w],hr[b]);h=Math.min(x.ymin,h),m=Math.max(x.ymax,m),g[x.ymin]===void 0&&(g[x.ymin]=[]),g[x.ymin].push(x),b=w}if(h==null||m==null||m-h>100)return null;let v=[];for(s=h;s<m;){g[s]!=null&&(v=v.concat(g[s])),l=1/0,u=-1/0;for(let w=v.length-1;w>=0;w--){const x=v[w];l=Math.min(l,x.getLeftCol()),u=Math.max(u,x.getRightCol())}if(l=Math.floor(l),u=Math.floor(u),s>=r.first[1]&&s<=r.last[1])if(o)if(r.size[0]<r.worldSize[0]){const w=Math.floor(u/r.worldSize[0]);for(let x=Math.floor(l/r.worldSize[0]);x<=w;x++)f.push(new KS(s,Math.max(r.getFirstColumnForWorld(x),l),Math.min(r.getLastColumnForWorld(x),u)))}else f.push(new KS(s,l,u));else l>r.last[0]||u<r.first[0]||(l=Math.max(l,r.first[0]),u=Math.min(u,r.last[0]),f.push(new KS(s,l,u)));s+=1;for(let w=v.length-1;w>=0;w--){const x=v[w];x.ymax>=s?x.incrRow():v.splice(w,1)}}return a}getTileParentId(t){Tt.set(t);const i=this._infoByLevel[Tt.level],n=this._lodInfos.indexOf(i)-1;return n<0?null:(this._getTileIdAtLOD(Tt,this._lodInfos[n],Tt),Tt.id)}getTileResolution(t){const i=this._infoByLevel[typeof t=="object"?t.level:t];return i?i.resolution:-1}getTileScale(t){const i=this._infoByLevel[t.level];return i?i.scale:-1}intersects(t,i){Tt.set(i);const n=this._infoByLevel[Tt.level],r=t.lodInfo;if(r.resolution>n.resolution){this._getTileIdAtLOD(Tt,r,Tt);const o=r.denormalizeCol(Tt.col,Tt.world);for(const s of t.spans)if(s.row===Tt.row&&s.colFrom<=o&&s.colTo>=o)return!0}if(r.resolution<n.resolution){const[o,s,l,u]=t.spans.reduce((v,w)=>(v[0]=Math.min(v[0],w.row),v[1]=Math.max(v[1],w.row),v[2]=Math.min(v[2],w.colFrom),v[3]=Math.max(v[3],w.colTo),v),[1/0,-1/0,1/0,-1/0]),h=n.denormalizeCol(Tt.col,Tt.world),m=r.getColumnForX(n.getXForColumn(h)),f=r.getRowForY(n.getYForRow(Tt.row)),g=r.getColumnForX(n.getXForColumn(h+1))-1,b=r.getRowForY(n.getYForRow(Tt.row+1))-1;return!(m>u||g<l||f>s||b<o)}const a=r.denormalizeCol(Tt.col,Tt.world);return t.spans.some(o=>o.row===Tt.row&&o.colFrom<=a&&o.colTo>=a)}normalizeBounds(t,i,n){if(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],this._wrap){const r=oo(this.tileInfo.spatialReference),a=-n*(r.valid[1]-r.valid[0]);t[0]+=a,t[2]+=a}return t}getSmallestInfoForScale(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>i[0])return this._infoByScale[i[0]];for(let n=1;n<i.length-1;n++)if(t>i[n]+bEe)return this._infoByScale[i[n-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(t){const i=this.scales;return this._infoByScale[t]||(t=i.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n,i[0])),this._infoByScale[t]}scaleToLevel(t){const i=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let n=i.length-1;n>=0;n--)if(t<i[n])return n===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[n]].level+(i[n]-t)/(i[n]-i[n+1]);return this._infoByScale[i[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}_getTileIdAtLOD(t,i,n){const r=this._infoByLevel[n.level];return t.set(n),i.resolution<r.resolution?null:(i.resolution===r.resolution||(t.level=i.level,t.col=Math.floor(n.col*r.resolution/i.resolution+.01),t.row=Math.floor(n.row*r.resolution/i.resolution+.01)),t)}}function wEe(e,t){return e.length=0,t.forEach(i=>e.push(i)),e}const ZS=new Set,e1=[],Jh=new Map,F4=[0,0];let Qs=class extends he{constructor(e){super(e),this._keyToItem=new Map,this.concurrency=6,this.strategy="scale-first",this.tileInfoView=null}initialize(){const{concurrency:e,process:t,strategy:i}=this;this._queue=new NB({concurrency:e,process:(n,r)=>{const a=this._keyToItem.get(n);return t(a,{signal:r})},peeker:i==="scale-first"?n=>this._peekByScaleFirst(n):n=>this._peekByCenterFirst(n)})}destroy(){this.clear(),this._queue.destroy(),this._queue=null}get length(){return this._queue?this._queue.length:0}get onGoingCount(){return this._keyToItem.size}get updating(){return this.length>0||this.onGoingCount>0}abort(e){const t=typeof e=="string"?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this.notifyChange("updating")}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}isOngoing(e){const t=typeof e=="string"?e:e.id;return this.has(t)&&this._queue.isOngoing(t)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const i=this._queue.push(t),n=()=>{this._keyToItem.delete(t),this.notifyChange("updating")};return this._keyToItem.set(t,e),i.then(n,n),this.notifyChange("updating"),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peekByScaleFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView;let i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;e.forEach(u=>{const h=this._keyToItem.get(u),m=this.tileInfoView.getTileScale(h.key);Jh.has(m)||(Jh.set(m,[]),i=Math.max(m,i),n=Math.min(m,n)),Jh.get(m).push(h.key),ZS.add(m)});let r=this.state.scale;Jh.has(r)||(wEe(e1,ZS),e1.sort((u,h)=>u-h),r=e1.reduce((u,h)=>Math.abs(h-r)<Math.abs(u-r)?h:u,e1[0])),r=Math.min(r,i),r=Math.max(r,n);const a=Jh.get(r),o=t.getClosestInfoForScale(r),s=o.getColumnForX(this.state.center[0]),l=o.getRowForY(this.state.center[1]);return a.sort((u,h)=>{const m=o.denormalizeCol(u.col,u.world),f=o.denormalizeCol(h.col,h.world);return Math.sqrt((s-m)*(s-m)+(l-u.row)*(l-u.row))-Math.sqrt((s-f)*(s-f)+(l-h.row)*(l-h.row))}),ZS.clear(),Jh.clear(),a[0].id}_peekByCenterFirst(e){if(!this.state)return e.values().next().value;const t=this.tileInfoView,i=this.state.center;let n=Number.POSITIVE_INFINITY,r=null;return e.forEach(a=>{const o=this._keyToItem.get(a);t.getTileCoords(F4,o.key);const s=$b(F4,i);s<n&&(n=s,r=o.key)}),r.id}};c([d({constructOnly:!0})],Qs.prototype,"concurrency",void 0),c([d({constructOnly:!0})],Qs.prototype,"process",void 0),c([d()],Qs.prototype,"state",void 0),c([d({constructOnly:!0})],Qs.prototype,"strategy",void 0),c([d({constructOnly:!0})],Qs.prototype,"tileInfoView",void 0),c([d({readOnly:!0})],Qs.prototype,"updating",null),Qs=c([_("esri.views.2d.tiling.TileQueue")],Qs);const vPe=Qs;class xEe{constructor(t,i,n){this.maxSize=t,this.tileInfoView=i,this.removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){const i=this._tilePerId.get(t);if(!i)return null;const n=i.key.level,r=this._tileKeysPerLevel[n];N4(this._tilePerId,t);for(let a=0;a<r.length;a++)if(r[a].id===t){r.splice(a,1);break}return i.visible=!0,i}add(t){t.visible=!1;const i=t.key,n=i.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,t);const r=i.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(i)}prune(t,i,n){let r=this._tilePerId.size;if(r<=this.maxSize)return;let a=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&a>=0;)a!==t&&(r=this._pruneAroundCenterTile(r,i,n,a)),a--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,i,n,t))}_pruneAroundCenterTile(t,i,n,r){const a=this._tileKeysPerLevel[r];if(!a||a.length===0)return t;const{size:o,origin:s}=this.tileInfoView.tileInfo,l=n*o[0],u=n*o[1],h=[0,0],m=[0,0];for(a.sort((f,g)=>(h[0]=s.x+l*(f.col+.5),h[1]=s.y-u*(f.row+.5),m[0]=s.x+l*(g.col+.5),m[1]=s.y-u*(g.row+.5),sk(h,i)-sk(m,i)));a.length>0;){const f=a.pop();if(this._removeTile(f.id),--t===this.maxSize)break}return t}_removeTile(t){const i=this._tilePerId.get(t);this.removedFunc&&this.removedFunc(i),N4(this._tilePerId,t)}}function N4(e,t){e.delete(t)}const Iu=new Jn(0,0,0,0),Jr=new Map,Yh=[],t1=[];class wPe{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,this.resampling=t.resampling==null||!!t.resampling,t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),t.buffer!=null&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new xEe(t.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(t){const{resampling:i,tileIndex:n}=this,r=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.coveragePolicy);if(t1.length=0,Yh.length=0,Jr.clear(),!r)return;const{minScale:a,maxScale:o}=this.tileInfoView.tileInfo,{spans:s,lodInfo:l}=r,{level:u}=l,{scale:h,center:m,resolution:f}=t.state,g=!t.stationary&&h>this._previousScale;if(this._previousScale=h,this.tiles.length=0,!i&&(h>a||h<o))return this.tiles.length=0,Jr.clear(),n.forEach(x=>{this.releaseTile(x)}),n.clear(),t1.length=0,Yh.length=0,Jr.clear(),Gm.pool.release(r),!0;n.forEach(x=>x.visible=!0);let b=0,v=0;if(s.length>0)for(const{row:x,colFrom:S,colTo:E}of s)for(let T=S;T<=E;T++){b++;const C=Iu.set(u,x,l.normalizeCol(T),l.getWorldForColumn(T)).id;if(n.has(C)){const M=n.get(C);M.isReady?(Jr.set(C,M),v++):g||this._addParentTile(C,Jr)}else{let M;if(this._tileCache&&this._tileCache.has(C)){if(M=this._tileCache.pop(C),this.tileIndex.set(C,M),M.isReady){Jr.set(C,M),v++;continue}}else M=this.acquireTile(Iu),this.tileIndex.set(C,M);g||this._addParentTile(C,Jr)}}const w=v===b;n.forEach((x,S)=>{if(Iu.set(S),Jr.has(S))return;const E=this.tileInfoView.intersects(r,Iu),T=this.cachePolicy==="purge"?Iu.level!==u:Iu.level>u;!E||!g&&w?!T&&E||Yh.push(S):x.isReady?T&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Iu,u)?Yh.push(S):t1.push(S):T&&Yh.push(S)});for(const x of t1){const S=n.get(x);S&&S.isReady&&Jr.set(x,S)}for(const x of Yh){const S=n.get(x);this._tileCache?this._tileCache.add(S):this.releaseTile(S),n.delete(x)}return Jr.forEach(x=>this.tiles.push(x)),n.forEach(x=>{Jr.has(x.key.id)||(x.visible=!1)}),this._tileCache&&this._tileCache.prune(u,m,f),Gm.pool.release(r),Jr.clear(),w}clear(t=!0){const{tileIndex:i}=this;t&&i.forEach(n=>{this.releaseTile(n)}),i.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,i){let n=t,r=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(r=this.tileIndex.get(n),r&&r.isReady){i.has(r.key.id)||i.set(r.key.id,r);break}}else if(this._tileCache&&this._tileCache.has(n)&&(r=this._tileCache.pop(n),this.tileIndex.set(n,r),r&&r.isReady)){i.has(r.key.id)||i.set(r.key.id,r);break}}_hasReadyAncestor(t,i){const n=ch();this.tileInfoView.getTileBounds(n,t,!0);for(const r of this.tileIndex.values())if(r.isReady&&r.key.level>=i&&r.key.level<t.level){const a=ch();if(this.tileInfoView.getTileBounds(a,r.key,!0),gfe(a,n))return!0}return!1}}function dM(e,t){switch(t){case"primary":return e.pointerType==="touch"||e.button===0;case"secondary":return e.pointerType!=="touch"&&e.button===2;case"tertiary":return e.pointerType!=="touch"&&e.button===1}}class z4 extends Gi{constructor(t,i){super(!0),this.view=t,this.registerIncoming("double-click",i,n=>this._handleDoubleClick(n,i))}_handleDoubleClick(t,i){dM(t.data,"primary")&&(t.stopPropagation(),i?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class kEe extends Gi{constructor(t,i,n){super(!0),this.view=t,this.pointerType=i,this.registerIncoming("double-tap-drag",n,r=>this._handleDoubleTapDrag(r))}_handleDoubleTapDrag(t){const{data:i}=t,{pointerType:n}=i;if(n!==this.pointerType)return;t.stopPropagation();const{action:r,delta:a}=i,{view:o}=this,{mapViewNavigation:s}=o;switch(r){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=a,s.begin();break}case"update":{if(this._previousDelta.y===a.y)return;this._previousDelta=a;const l=1.015**a.y,u=this._startScale*l,h=u/this._currentScale;s.setViewpointImmediate(h),this._currentScale=u;break}case"end":{const{constraints:l}=o,{effectiveLODs:u,snapToZoom:h}=l;if(!h||!u)return void s.end();const m=l.snapScale(this._currentScale),f=(a.y>0?Math.max(m,l.snapToPreviousScale(this._startScale)):Math.min(m,l.snapToNextScale(this._startScale)))/this._currentScale;s.zoom(f);break}}}}class M_{constructor(t){this.callbacks=t,this.currentCount=0,this.callbacks.condition||(this.callbacks.condition=()=>!0)}handle(t){const i=t.data,n=i.pointers.size;switch(i.action){case"start":this.currentCount=n,this._emitStart(t);break;case"added":this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this.startEvent&&this._emitEnd(this.previousEvent),this.currentCount=n,this._emitStart(t);break;case"end":this._emitEnd(t),this.currentCount=0}this.previousEvent=t}_emitStart(t){this.startEvent=t,this.callbacks.condition(this.currentCount,t)&&this.callbacks.start(this.currentCount,t,this.startEvent)}_emitUpdate(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.update(this.currentCount,t,this.startEvent)}_emitEnd(t){this.callbacks.condition(this.currentCount,t)&&this.callbacks.end(this.currentCount,t,this.startEvent),this.startEvent=null}}class _Ee extends Gi{constructor(t,i,n){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",n,r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this.dragEventSeparator=new M_({start:(i,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(i,n)=>i===1&&dM(n.data,this.pointerAction)})}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class SEe extends Gi{constructor(t,i,n){super(!0),this.view=t,this.pointerAction=i;const r=this.view.mapViewNavigation;this.dragEventSeparator=new M_({start:(a,o)=>{r.rotate.begin(this.view,o.data),o.stopPropagation()},update:(a,o)=>{r.rotate.update(this.view,o.data),o.stopPropagation()},end:(a,o)=>{r.rotate.end(),o.stopPropagation()},condition:(a,o)=>a===1&&dM(o.data,this.pointerAction)}),this.registerIncoming("drag",n,a=>this.dragEventSeparator.handle(a))}}function Aa(e){let t=e*e;return e<0&&(t*=-1),t}function DEe(e){return e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0,e}function $Ee(e,t,i){const n=i,r=e.state,a=e.device,o=t.tiltDirection==="forward-down"?1:-1,s=1;return a.deviceType==="standard"?(n.translation[0]=Aa(r.axes[0]),n.translation[1]=Aa(r.axes[1]),n.translation[2]=Aa(r.buttons[7])-Aa(r.buttons[6]),n.heading=Aa(r.axes[2]),n.tilt=Aa(r.axes[3])):a.deviceType==="spacemouse"&&(n.translation[0]=1.2*Aa(r.axes[0]),n.translation[1]=1.2*Aa(r.axes[1]),n.translation[2]=2*-Aa(r.axes[2]),n.heading=1.2*Aa(r.axes[5]),n.tilt=1.2*Aa(r.axes[3])),n.tilt*=o,k8(n.translation,n.translation,s),n}function CEe(e){return e.translation[0]===0&&e.translation[1]===0&&e.translation[2]===0&&e.heading===0&&e.tilt===0&&e.zoom===0}class TEe extends Gi{constructor(t){super(!0),this.view=t,this.frameTask=null,this.watchHandles=new gn,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this.handle.pause()}onInstall(t){super.onInstall(t),this.watchHandles.add([Gt(this.view.navigation.gamepad,"enabled",i=>{i?(this.handle.resume(),this.frameTask||(this.frameTask=Em({update:n=>this._frameUpdate(n.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null))})])}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall()}_handleGamePadEvent(t){const i=this.view.navigation.gamepad.device;i&&t.data.device!==i||this.currentDevice&&this.currentDevice!==t.data.device||(t.data.action==="end"?(this.currentDevice=null,DEe(this.transformation)):(this.currentDevice=t.data.device,$Ee(t.data,this.view.navigation.gamepad,this.transformation)))}_frameUpdate(t){const i=this.transformation;if(CEe(i))return;const n=this.view.viewpoint.clone(),r=this.view.navigation.gamepad.velocityFactor,a=IEe*r*t;I_(n,n,[i.translation[0]*a,-i.translation[1]*a]);const o=1+i.translation[2]*MEe*t,s=this.view.constraints.rotationEnabled?-i.heading*EEe*t:0,l=this.view.size,u=[l[0]/2,l[1]];xB(n,n,o,s,u,l);const h=this.view.constraints.constrain(n,this.view.viewpoint);this.view.viewpoint=h}}const EEe=.06,IEe=.7,MEe=6e-4;class OEe extends Gi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=this._keyMap[t.data.key];if(this._pressed=n!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),n){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}class AEe extends Gi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),this.registerIncoming("key-up",n,r=>this._handleKeyUp(r)),this.registerIncoming("blur",n,()=>this._handleBlur())}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,i){const n=t.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection[t.data.key];if(this._pressed=r!=null,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}var Zp;(function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"})(Zp||(Zp={}));class PEe extends Gi{constructor(t,i,n){super(!0),this.view=t,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",n,r=>this._handleKeyDown(r)),i.zoomIn.forEach(r=>this._keysToZoomAction[r]=Zp.IN),i.zoomOut.forEach(r=>this._keysToZoomAction[r]=Zp.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){const i=t.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:n}=t.data;if(!(n in this._keysToZoomAction))return;const r=this._keysToZoomAction[n],{mapViewNavigation:a}=this.view;let o=null;switch(r){case Zp.IN:o=a.zoomIn();break;case Zp.OUT:o=a.zoomOut();break;default:return}a.begin(),o.then(()=>a.end()),t.stopPropagation()}}const LEe=.6;class REe extends Gi{constructor(t,i){super(!0),this.view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,n=>this._handleMouseWheel(n))}_handleMouseWheel(t){if(!this.view.navigation.mouseWheelZoomEnabled||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;const i=this.view.mapViewNavigation,{x:n,y:r,deltaY:a}=t.data,o=1/LEe**(1/60*a),s=i.zoom(o,[n,r]);s&&(this._canZoom=!1,s.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()}))}}class FEe extends Gi{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this.dragEventSeparator=new M_({start:(n,r)=>{i.pinch.begin(this.view,r.data),r.stopPropagation()},update:(n,r)=>{i.pinch.update(this.view,r.data),r.stopPropagation()},end:(n,r)=>{i.pinch.end(this.view),r.stopPropagation()},condition:n=>n>=2})}_handleDrag(t){this.dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function j4(e){const t=e.native;return t?{buttons:t.buttons.map(i=>i.pressed?i.value?i.value:1:0),axes:t.axes.map(i=>jEe(i,e.axisThreshold))}:{buttons:[],axes:[]}}function NEe(e,t){if(e.axes.length!==t.axes.length||e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}function zEe(e){for(let t=0;t<e.axes.length;t++)if(e.axes[t]!==0)return!1;for(let t=0;t<e.buttons.length;t++)if(e.buttons[t]!==0)return!1;return!0}function jEe(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}class VEe{constructor(t,i){this.element=t,this.input=i,this._hasEventListeners=!1,this._onConnectGamepad=a=>{this._connectGamepad(a.gamepad)},this._onDisconnectGamepad=a=>{const o=a.gamepad,s=o.index,l=this.inputDevices[s];l&&(this._emitGamepadEvent(o,j4(l),!1),this.inputDevices.splice(s,1),this.latestUpdate.splice(s,1),this.input.gamepad.devices.remove(l),this.ensurePollingState())},this.frameTask=null,this.latestUpdate=new Array,this.inputDevices=new Array,this.callback=null;const n="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=n&&r,this.supported&&(this._forEachGamepad(a=>this._connectGamepad(a)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get eventsEnabled(){return this.supported&&this.inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this.callback=t}_connectGamepad(t){const i=new QI(t);i.deviceType!=="unknown"&&(this.inputDevices[t.index]=i,this.input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this.eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this.frameTask==null&&(this.frameTask=Em({update:()=>this._readGamepadState()}))}_stopPolling(){this.frameTask!=null&&(this.frameTask.remove(),this.frameTask=null,this.latestUpdate=new Array)}_readGamepadState(){const t=document.hasFocus(),i=this.element.contains(document.activeElement),n=this.input.gamepad.enabledFocusMode==="document"&&!t||this.input.gamepad.enabledFocusMode==="view"&&!i;this._forEachGamepad(r=>{const a=this.inputDevices[r.index];if(!a)return;const o=this.latestUpdate[r.index],s=j4(a),l=n||zEe(s);o&&(o.timestamp===r.timestamp||!o.active&&l||NEe(o.state,s))||this._emitGamepadEvent(r,s,!l)})}_forEachGamepad(t){const i=window.navigator.getGamepads();for(let n=0;n<i.length;n++){const r=i[n];this._validate(r)&&t(r)}}_emitGamepadEvent(t,i,n){const r=this.latestUpdate[t.index],a=r&&r.active;if(!a&&!n)return;const o=!a&&n?"start":a&&n?"update":"end";this.latestUpdate[t.index]={timestamp:t.timestamp,state:i,active:n},this.callback&&this.callback({device:this.inputDevices[t.index],state:i,action:o})}_validate(t){if(!t||!t.connected)return!1;for(let i=0;i<t.axes.length;i++)if(isNaN(t.axes[i]))return!1;return!0}}const V4=V("trident"),H4=V("edge"),HEe=V("chrome"),qEe=V("ff"),UEe=V("safari"),Kh={touchNone:"esri-view-surface--touch-none",touchPan:"esri-view-surface--touch-pan"};class O_{constructor(t,i){this.input=i,this._active={},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new VEe(t,this.input),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=null,this.activeEvents=null,this._activePointerCaptures.forEach(t=>{this._releasePointerCaptureSafe(t)}),this._gamepadSource&&(this._gamepadSource.destroy(),this._gamepadSource=null),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(const i in this._active)if(!t||!t.has(i)){const n=this._active[i];this._element.removeEventListener(XS[i],n),delete this._active[i]}t&&t.forEach(i=>{if(!this._active[i]&&XS[i]){const n=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(XS[i],n),this._active[i]=n}}),this._gamepadSource.hasEventListeners=t&&t.has("gamepad")}setPointerCapture(t,i){i?(this._element.setPointerCapture(t.pointerId),this._activePointerCaptures.add(t.pointerId)):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Kh.touchNone:Kh.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Kh.touchPan:Kh.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Kh.touchNone),this._element.classList.remove(Kh.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch{}}_updateNormalizedPointerLikeEvent(t,i){const n=WU(this._element,t);return O_.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),i.x=n.x,i.y=n.y,i}_handleKey(t,i){const n=l$e(i);n&&t==="key-up"&&this._keyDownState.delete(n);const r={native:i,key:n,repeat:n&&this._keyDownState.has(n)};n&&t==="key-down"&&this._keyDownState.add(r.key),this._callback(t,r)}_handlePointer(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(t,n)}_handlePointerPreventDefault(t,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(t,n)}_handleMouseWheel(t,i){let n=i.deltaY;switch(i.deltaMode){case 0:(V4||H4)&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}V4||H4?n*=.7:HEe||UEe?n*=.6:qEe&&(n*=1.375);const r=100,a=Math.abs(n);a>r&&(n=n/a*200/(1+Math.exp(-.02*(a-r))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:n});this._callback(t,o)}_handlePointerCaptureLost(t,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(t,i)}_handleDefault(t,i){const n={native:i};i.preventDefault(),this._callback(t,n)}_preventAltKeyDefault(t){t.key==="Alt"&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}O_.test={disableSubpixelCoordinates:!1};const XS={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class BEe extends Gi{constructor(){super(!0),this.registerIncoming("context-menu",t=>{t.data.native.preventDefault()})}}function hM(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function GEe(e,t){const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}function WEe(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:Kn()},e.length===0)return t;if(e.length===1)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(e.length===2){const[E,T]=e,[C,M]=[T.x-E.x,T.y-E.y];return t.radius=Math.sqrt(C*C+M*M)/2,t.center.x=(E.x+T.x)/2,t.center.y=(E.y+T.y)/2,t}let i=0,n=0;for(let E=0;E<e.length;E++)i+=e[E].x,n+=e[E].y;i/=e.length,n/=e.length;const r=e.map(E=>E.x-i),a=e.map(E=>E.y-n);let o=0,s=0,l=0,u=0,h=0,m=0,f=0;for(let E=0;E<r.length;E++){const T=r[E],C=a[E],M=T*T,L=C*C;o+=M,s+=L,l+=T*C,u+=M*T,h+=L*C,m+=T*L,f+=C*M}const g=.5*(u+m),b=.5*(h+f),v=o*s-l*l,w=(g*s-b*l)/v,x=(o*b-l*g)/v,S=Kn(w+i,x+n);return{radius:Math.sqrt(w*w+x*x+(o+s)/e.length),center:S}}const da={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class JEe extends Gi{constructor(t=da.maximumDoubleClickDelay,i=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,r=da.maximumDoubleTouchDistance,a=Xy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("drag",this._handleDrag.bind(this))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimeout=bh(t.doubleClickTimeout))}get hasPendingInputs(){return Fk(this._pointerState,t=>t.doubleClickTimeout!=null)}_pointerId(t){const i=t.native;return i.pointerType==="mouse"?`${i.pointerId}:${i.button}`:`${i.pointerType}`}_handleImmediateClick(t){const i=t.data,n=this._pointerId(i),r=this._pointerState.get(n);if(r){const a=i.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;hM(r.event.data,i)>a?(this._clearDoubleClickTimeout(n,!0),this._startClick(t)):(this._clearDoubleClickTimeout(n,!1),this._doubleClick.emit(r.event.data,void 0,r.event.modifiers))}else this._startClick(t)}_startClick(t){const i=this._pointerId(t.data),n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;this._pointerState.set(i,{event:t,doubleClickTimeout:this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(i),n)}),this.refreshHasPendingInputs()}_handlePointerDrag(t){const i=this._pointerId(t.data.currentEvent);this._clearDoubleClickTimeout(i,!0)}_handleDrag(t){const i=this._pointerId(t.data.pointer);this._clearDoubleClickTimeout(i,!0)}_clearDoubleClickTimeout(t,i){const n=this._pointerState.get(t);n&&(n.doubleClickTimeout.remove(),n.doubleClickTimeout=null,i&&this._doubleClickTimeoutExceeded(t),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){const i=this._pointerState.get(t);this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}}class YEe extends Gi{constructor(t=da.maximumDoubleClickDelay,i=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,r=da.maximumDoubleTouchDistance,a=Xy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Kn(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new M_({start:(o,s)=>this._dragStart(o,s),update:(o,s)=>this._dragUpdate(s),end:(o,s)=>this._dragEnd(s)}),this.registerIncoming("drag",o=>this._dragEventSeparator.handle(o)),this.registerIncoming("pointer-down",o=>this._handlePointerDown(o)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout!=null&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null)})}get hasPendingInputs(){return Fk(this._pointerState,t=>t.doubleTapTimeout!=null)}_clearPointerDown(t){const i=this._pointerState.get(t);i&&(i.doubleTapTimeout.remove(),i.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs())}_createDoubleTapDragData(t,i,n){const{button:r,buttons:a,pointer:o,pointers:s,pointerType:l,timestamp:u}=n;return{action:t,delta:i,button:r,buttons:a,pointer:o,pointers:s,pointerType:l,timestamp:u}}_dragStart(t,i){if(!this._doubleTapDragReady||t!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:r}=i,{center:a}=n;this._dragStartCenter=a;const o=this._createDoubleTapDragData("begin",Kn(0,0),n);this._doubleTapDrag.emit(o,void 0,r),i.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,a=Kn(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("update",a,i);this._doubleTapDrag.emit(o,void 0,n),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=t,{center:r}=i,a=Kn(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),o=this._createDoubleTapDragData("end",a,i);this._doubleTapDrag.emit(o,void 0,n),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){const{data:i}=t,n=this._pointerId(i),r=this._pointerState.get(n),{pointerType:a}=i.native;if(r){const o=a==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(n),hM(r.event.data,i)>o?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_pointerId(t){const{native:i}=t,{pointerId:n,button:r,pointerType:a}=i;return a==="mouse"?`${n}:${r}`:`${a}`}_storePointerDown(t){const{data:i}=t,{pointerType:n}=i.native,r=this._pointerId(i),a=n==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(r),a);this._pointerState.set(r,{event:t,doubleTapTimeout:o}),this.refreshHasPendingInputs()}}class KEe extends Gi{constructor(t){super(!1),this.navigationTouch=t,this.startStateModifiers=new Set,this.activePointerMap=new Map,this.isDragging=!1,this.isCurrentDragSuppressed=!1,this.drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,i,n,r){return{action:t,pointerType:this.pointerType,button:this.mouseButton,buttons:i.buttons,timestamp:r,pointers:ZEe(this.activePointerMap),pointer:i,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(t){const i=t.native.pointerId,n=i1(this.activePointerMap).angle,r={event:t,initialAngle:0,lastAngle:0};this.activePointerMap.set(i,r);const a=$w(r,zB(this.activePointerMap));r.initialAngle=a,r.lastAngle=a,this._updatePointerAngles(n)}_updatePointer(t){if(t&&t.x==null&&t.y==null)return;const i=t.native.pointerId,n=this.activePointerMap.get(i);n?n.event=t:this._addPointer(t)}_removePointer(t){const i=i1(this.activePointerMap).angle;this.activePointerMap.delete(t),this._updatePointerAngles(i)}_updatePointerAngles(t){const i=i1(this.activePointerMap);this.activePointerMap.forEach(n=>{n.initialAngle=$w(n,i)-t,n.lastAngle=$w(n,i)-t})}_emitEvent(t,i,n){const r=i1(this.activePointerMap);this.drag.emit(this._createPayload(t,i,r,n),void 0,this.startStateModifiers)}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,n=t.timestamp;this.activePointerMap.get(i)&&(this.activePointerMap.size===1?(this._updatePointer(t.data),!this.isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this.isDragging=!1,this.isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,t.timestamp)))}_handlePointerDrag(t){const i=t.data,n=i.currentEvent,r=t.timestamp;switch(i.action){case"start":case"update":this.isDragging?this.activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this.isCurrentDragSuppressed&&this._emitEvent("update",n,r)):(this._addPointer(n),this._emitEvent("added",n,r),this.isCurrentDragSuppressed=this.isSuppressed):(this._updatePointer(n),this.pointerType=t.data.startEvent.pointerType,this.mouseButton=t.data.startEvent.button,this.startStateModifiers=t.modifiers,this.isDragging=!0,this.isCurrentDragSuppressed=this.isSuppressed,!this.isCurrentDragSuppressed&&this._emitEvent("start",n,r))}}get isSuppressed(){return this.navigationTouch&&!this.navigationTouch.browserTouchPanEnabled&&this.pointerType==="touch"&&this.activePointerMap.size===1}}function zB(e){const t=[];return e.forEach(i=>{t.push(Kn(i.event.x,i.event.y))}),WEe(t)}function i1(e){const t=zB(e);let i=0;return e.forEach(n=>{let r=$w(n,t),a=r-n.lastAngle;for(;a>Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;r=n.lastAngle+a,n.lastAngle=r,i+=r-n.initialAngle}),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function ZEe(e){const t=new Map;return e.forEach((i,n)=>t.set(n,i.event)),t}function $w(e,t){const i=e.event,n=i.x-t.center.x,r=i.y-t.center.y;return Math.atan2(r,n)}var q4;(function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"})(q4||(q4={}));class XEe extends Gi{constructor(t=da.maximumDoubleClickDelay,i=da.maximumDoubleClickDistance,n=da.maximumDoubleTouchDelay,r=da.maximumDoubleTouchDistance,a=Xy){super(!1),this.maximumDoubleClickDelay=t,this.maximumDoubleClickDistance=i,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=r,this._clock=a,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",o=>{this._handlePointerLoss(o,"pointer-up")}),this.registerIncoming("pointer-capture-lost",o=>{this._handlePointerLoss(o,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",o=>{this._handlePointerLoss(o,"pointer-cancel")})}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=this._pointerId(i);if(!this._pointerState.has(n)){const r={downButton:i.native.button,immediateDoubleClick:null};this._pointerState.set(n,r),this.startCapturingPointer(i.native)}}_handlePointerLoss(t,i){const n=t.data,r=this._pointerId(n),a=this._pointerState.get(r);if(a&&i==="pointer-up"&&a.downButton===n.native.button){const o=a.immediateDoubleClick;if(o){o.timeoutHandle.remove();const s=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;hM(o,t.data)>s?this._startImmediateDoubleClick(t,a):(this._immediateDoubleClick.emit(t.data,void 0,o.modifiers),this._removeState(n))}else this._startImmediateDoubleClick(t,a)}}_startImmediateDoubleClick(t,i){const n=t.data.native.pointerType==="touch"?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay;i.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),n)}}_pointerId(t){const i=t.native;return i.pointerType==="mouse"?`${i.pointerId}:${i.button}`:`${i.pointerType}`}_removeState(t){const i=this._pointerId(t);this._pointerState.delete(i),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}const c0={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class QEe extends Gi{constructor(t=c0.maximumClickDelay,i=c0.movementUntilMouseDrag,n=c0.movementUntilPenDrag,r=c0.movementUntilTouchDrag,a=c0.holdDelay,o=Xy){super(!1),this.maximumClickDelay=t,this.movementUntilMouseDrag=i,this.movementUntilPenDrag=n,this.movementUntilTouchDrag=r,this.holdDelay=a,this._clock=o,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",s=>{this._handlePointerLoss(s,"pointer-up")}),this.registerIncoming("pointer-capture-lost",s=>{this._handlePointerLoss(s,"pointer-capture-lost")}),this.registerIncoming("pointer-cancel",s=>{this._handlePointerLoss(s,"pointer-cancel")}),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout!=null&&(t.holdTimeout.remove(),t.holdTimeout=null)}),super.onUninstall()}_handlePointerDown(t){const i=t.data,n=i.native.pointerId;let r=null;this._pointerState.size===0&&(r=this._clock.setTimeout(()=>{const o=this._pointerState.get(n);if(o){if(!o.isDragging){const s=o.previousEvent;this._pointerHold.emit(s,void 0,t.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this.holdDelay));const a={startEvent:i,previousEvent:i,startTimestamp:t.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(n,a),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_createPointerDragData(t,i,n){return{action:t,startEvent:i.startEvent,previousEvent:i.previousEvent,currentEvent:n}}_handlePointerMove(t){const i=t.data,n=i.native.pointerId,r=this._pointerState.get(n);r&&(r.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",r,i),void 0,r.modifiers):GEe(i,r.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(t),r.previousEvent=i)}_getDragThreshold(t){switch(t){case"touch":return this.movementUntilTouchDrag;case"pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}}_startDragging(t){const i=t.data,n=i.native.pointerId;this._pointerState.forEach(r=>{r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=t.modifiers,r.isDragging=!0,n===r.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",r,i)):this._pointerDrag.emit(this._createPointerDragData("start",r,r.previousEvent),t.timestamp))})}_handlePointerLoss(t,i){const n=t.data,r=n.native.pointerId,a=this._pointerState.get(r);a&&(a.holdTimeout!=null&&(a.holdTimeout.remove(),a.holdTimeout=null),a.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",a,i==="pointer-up"?n:a.previousEvent),void 0,a.modifiers):i==="pointer-up"&&a.downButton===n.native.button&&t.timestamp-a.startTimestamp<=this.maximumClickDelay&&!a.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(r),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}}const n1={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let Cw=class extends he{constructor(){super(...arguments),this._handles=new gn}initialize(){this._handles.add([Vbe(this.view,"ready",()=>this._disconnect()),eV(this.view,"ready",()=>this._connect())])}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect()}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null)}_connect(){const e=this.view.surface,t=new O_(e,this.view.input),i=[new XEe,new QEe,new JEe,new KEe(this.view.navigation),new YEe],n=new hd({eventSource:t,recognizers:i});n.installHandlers("prevent-context-menu",[new BEe],Xc.INTERNAL),n.installHandlers("navigation",[new FEe(this.view),new TEe(this.view),new REe(this.view),new z4(this.view),new z4(this.view,[n1.counter]),new _Ee(this.view,"primary"),new OEe(this.view,n1.pan),new PEe(this.view,n1.zoom),new AEe(this.view,n1.rotate),new SEe(this.view,"secondary"),new kEe(this.view,"touch")],Xc.INTERNAL),this.view.viewEvents.connect(n),this._source=t,this._inputManager=n,Gt(this.view.navigation,"browserTouchPanEnabled",r=>{this._source.browserTouchPanningEnabled=!r})}get test(){return{inputManager:this._inputManager}}};c([d()],Cw.prototype,"view",void 0),Cw=c([_("esri.views.2d.input.MapViewInputManager")],Cw);const eIe=Cw;var U4,B4,G4,jB={exports:{}};U4=jB,B4=function(){function e(r,a,o,s,l){t(r,a,o||0,s||r.length-1,l||n)}function t(r,a,o,s,l){for(;s>o;){if(s-o>600){var u=s-o+1,h=a-o+1,m=Math.log(u),f=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*f*(u-f)/u)*(h-u/2<0?-1:1);t(r,a,Math.max(o,Math.floor(a-h*f/u+g)),Math.min(s,Math.floor(a+(u-h)*f/u+g)),l)}var b=r[a],v=o,w=s;for(i(r,o,a),l(r[s],b)>0&&i(r,o,s);v<w;){for(i(r,v,w),v++,w--;l(r[v],b)<0;)v++;for(;l(r[w],b)>0;)w--}l(r[o],b)===0?i(r,o,w):i(r,++w,s),w<=a&&(o=w+1),a<=w&&(s=w-1)}}function i(r,a,o){var s=r[a];r[a]=r[o],r[o]=s}function n(r,a){return r<a?-1:r>a?1:0}return e},(G4=B4())!==void 0&&(U4.exports=G4);const tIe=jB.exports;function ck(e,t){if(!(this instanceof ck))return new ck(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&(typeof t=="function"?this.toBBox=t:this._initFormat(t)),this.clear()}function iIe(e,t,i){if(!i)return t.indexOf(e);for(var n=0;n<t.length;n++)if(i(e,t[n]))return n;return-1}function Zh(e,t){hg(e,0,e.children.length,t,e)}function hg(e,t,i,n,r){r||(r=Pp(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a,o=t;o<i;o++)a=e.children[o],pg(r,e.leaf?n(a):a);return r}function pg(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function W4(e,t){return e.minX-t.minX}function J4(e,t){return e.minY-t.minY}function QS(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function r1(e){return e.maxX-e.minX+(e.maxY-e.minY)}function nIe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function rIe(e,t){var i=Math.max(e.minX,t.minX),n=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,r-i)*Math.max(0,a-n)}function e3(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function a1(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Pp(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Y4(e,t,i,n,r){for(var a,o=[t,i];o.length;)(i=o.pop())-(t=o.pop())<=n||(a=t+Math.ceil((i-t)/n/2)*n,tIe(e,a,t,i,r),o.push(t,a,a,i))}ck.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],n=this.toBBox;if(!a1(e,t))return i;for(var r,a,o,s,l=[];t;){for(r=0,a=t.children.length;r<a;r++)o=t.children[r],a1(e,s=t.leaf?n(o):o)&&(t.leaf?i.push(o):e3(e,s)?this._all(o,i):l.push(o));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!a1(e,t))return!1;for(var n,r,a,o,s=[];t;){for(n=0,r=t.children.length;n<r;n++)if(a=t.children[n],a1(e,o=t.leaf?i(a):a)){if(t.leaf||e3(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Pp([]),this},remove:function(e,t){if(!e)return this;for(var i,n,r,a,o=this.data,s=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),n=l[l.length-1],i=u.pop(),a=!0),o.leaf&&(r=iIe(e,o.children,t))!==-1)return o.children.splice(r,1),l.push(o),this._condense(l),this;a||o.leaf||!e3(o,s)?n?(i++,o=n.children[i],a=!1):o=null:(l.push(o),u.push(i),i=0,n=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:W4,compareMinY:J4,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,n){var r,a=i-t+1,o=this._maxEntries;if(a<=o)return Zh(r=Pp(e.slice(t,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(r=Pp([])).leaf=!1,r.height=n;var s,l,u,h,m=Math.ceil(a/o),f=m*Math.ceil(Math.sqrt(o));for(Y4(e,t,i,f,this.compareMinX),s=t;s<=i;s+=f)for(Y4(e,s,u=Math.min(s+f-1,i),m,this.compareMinY),l=s;l<=u;l+=m)h=Math.min(l+m-1,u),r.children.push(this._build(e,l,h,n-1));return Zh(r,this.toBBox),r},_chooseSubtree:function(e,t,i,n){for(var r,a,o,s,l,u,h,m;n.push(t),!t.leaf&&n.length-1!==i;){for(h=m=1/0,r=0,a=t.children.length;r<a;r++)l=QS(o=t.children[r]),(u=nIe(e,o)-l)<m?(m=u,h=l<h?l:h,s=o):u===m&&l<h&&(h=l,s=o);t=s||t.children[0]}return t},_insert:function(e,t,i){var n=this.toBBox,r=i?e:n(e),a=[],o=this._chooseSubtree(r,this.data,t,a);for(o.children.push(e),pg(o,r);t>=0&&a[t].children.length>this._maxEntries;)this._split(a,t),t--;this._adjustParentBBoxes(r,a,t)},_split:function(e,t){var i=e[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),o=Pp(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,Zh(i,this.toBBox),Zh(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(e,t){this.data=Pp([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Zh(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var n,r,a,o,s,l,u,h;for(l=u=1/0,n=t;n<=i-t;n++)o=rIe(r=hg(e,0,n,this.toBBox),a=hg(e,n,i,this.toBBox)),s=QS(r)+QS(a),o<l?(l=o,h=n,u=s<u?s:u):o===l&&s<u&&(u=s,h=n);return h},_chooseSplitAxis:function(e,t,i){var n=e.leaf?this.compareMinX:W4,r=e.leaf?this.compareMinY:J4;this._allDistMargin(e,t,i,n)<this._allDistMargin(e,t,i,r)&&e.children.sort(n)},_allDistMargin:function(e,t,i,n){e.children.sort(n);var r,a,o=this.toBBox,s=hg(e,0,t,o),l=hg(e,i-t,i,o),u=r1(s)+r1(l);for(r=t;r<i-t;r++)a=e.children[r],pg(s,e.leaf?o(a):a),u+=r1(s);for(r=i-t-1;r>=t;r--)a=e.children[r],pg(l,e.leaf?o(a):a),u+=r1(l);return u},_adjustParentBBoxes:function(e,t,i){for(var n=i;n>=0;n--)pg(t[n],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():Zh(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};class uk{constructor(t,i){this.key=new Jn(0,0,0,0),this.bounds=ch(),this.objectIds=new Set,this.key.set(i);const n=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.scale=n.scale,this.level=n.level}get id(){return this.key.id}get extent(){return lt.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createChildTiles(){const t=this.key.getChildKeys(),i=In.acquire();for(let n=0;n<t.length;n++)i[n]=new uk(this.tileInfoView,t[n]);return i}getQuantizationParameters(){return GV.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}const Mu={added:[],removed:[]},t3=new Set,aIe=new Jn(0,0,0,0);class oIe extends ys{constructor(t){super(),this._tiles=new Map,this._index=ck(9,V("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){const i={added:[],removed:[]};for(const n of t.added)if(!this.has(n)){const r=new uk(this.tileScheme,n);this._tiles.set(n,r),this._index.insert(r),i.added.push(r)}for(const n of t.removed)if(this.has(n)){const r=this.get(n);this._tiles.delete(n),this._index.remove(r),i.removed.push(r)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(t){const i=this.tileScheme.getTileCoverage(t,0);if(!i)return;const{spans:n,lodInfo:r}=i,{level:a}=r;if(n.length>0)for(const{row:o,colFrom:s,colTo:l}of n)for(let u=s;u<=l;u++){const h=aIe.set(a,o,r.normalizeCol(u),r.getWorldForColumn(u)).id;if(t3.add(h),!this.has(h)){const m=new uk(this.tileScheme,h);this._tiles.set(h,m),this._index.insert(m),this.tiles.push(m),Mu.added.push(m)}}for(let o=this.tiles.length-1;o>=0;o--){const s=this.tiles[o];t3.has(s.id)||(this._tiles.delete(s.id),this.tiles.splice(o,1),this._index.remove(s),Mu.removed.push(s))}(Mu.added.length||Mu.removed.length)&&this.emit("update",Mu),Gm.pool.release(i),t3.clear(),Mu.added.length=0,Mu.removed.length=0}}let sIe=0,kc=class extends he{constructor(){super(...arguments),this.color=new Ie([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25}get version(){return sIe++}};c([d({readOnly:!0})],kc.prototype,"version",null),c([d({type:Ie})],kc.prototype,"color",void 0),c([d({type:Ie})],kc.prototype,"haloColor",void 0),c([d()],kc.prototype,"haloOpacity",void 0),c([d()],kc.prototype,"fillOpacity",void 0),kc=c([_("esri.views.2d.support.HighlightOptions")],kc);const VB=kc,lIe=e=>e.indexOf("Brush")!==-1;class HB{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),lIe(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}function cIe(e,t,i,n,r,a,o,s){let l;e.ignorePadding&&(n={left:0,right:0,top:0,bottom:0}),e.width!=null&&e.height!=null?l=[e.width,e.height]:e.width==null&&e.height!=null?l=[e.height,e.height]:e.width!=null&&e.height==null?l=[e.width,e.width]:e.width==null&&e.height==null&&(l=null);const u=i[0]-(n.left+n.right),h=i[1]-(n.top+n.bottom);let m,f,g=e.area||{x:0,y:0,width:u,height:h};if(l){const b=u/h,v=l[0]/l[1];if(v>b){const w=g.width/v;g={x:g.x,y:Math.round(g.y+(g.height-w)/2),width:g.width,height:Math.round(w)}}else{const w=g.height*v;g={x:Math.round(g.x+(g.width-w)/2),y:g.y,width:Math.round(w),height:g.height}}}else l=[g.width,g.height];return l[0]>g.width?(m=Math.min(l[0]/g.width,t),f=l[0]/g.width/m):(m=1,f=l[0]/g.width),{resolutionScale:m,cropArea:{x:Math.round((g.x+n.left)*m),y:Math.round((g.y+n.top)*m),width:Math.round(g.width*m),height:Math.round(g.height*m)},outputScale:f,format:r,quality:a,children:o,rotation:s}}function xPe(e,t,i,n){n.premultipliedAlpha&&gIe(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.putImageData(e,0,0),n.flipY&&fIe(r);const a=r.getImageData(0,0,e.width,e.height),o=uIe(i,t);return i.width=0,i.height=0,{dataUrl:o,data:a}}function uIe(e,t){const i=yIe[t.format],n=t.quality/100;return e.toDataURL(i,n)}function dIe(e,t){const i=mIe(e),n=vIe[i];return{format:i,quality:ga(t!=null?t:n,0,100)}}function hIe(e,t){return t/Math.max(e[0],e[1])}function kPe(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(dk)try{return new ImageData(e,t)}catch{dk=!1}return qB(e,t,i)}function _Pe(e,t,i,n){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(dk)try{return new ImageData(e,t,i)}catch{dk=!1}const r=qB(t,i,n);return r.data.set(e,0),r}function SPe(e,t,i,n=0,r=0,a=e.width-n,o=e.height-r,s=!1){const{data:l}=e,{width:u,height:h,data:m}=t,f=a/u,g=o/h,b=Math.ceil(f/2),v=Math.ceil(g/2),w=e.width;for(let x=0;x<h;x++)for(let S=0;S<u;S++){const E=4*(S+(s?h-x-1:x)*u);let T=0,C=0,M=0,L=0,j=0,G=0;const J=(x+.5)*g;for(let q=Math.floor(x*g);q<(x+1)*g;q++){const ue=Math.abs(J-(q+.5))/v,re=(S+.5)*f,de=ue*ue;for(let it=Math.floor(S*f);it<(S+1)*f;it++){const Ke=Math.abs(re-(it+.5))/b,He=Math.sqrt(de+Ke*Ke);if(He>=1)continue;let At=2*He*He*He-3*He*He+1;const ai=4*(n+it+(r+q)*w);G+=At*l[ai+3],C+=At,!i&&l[ai+3]<255&&(At=At*l[ai+3]/255),M+=At*l[ai],L+=At*l[ai+1],j+=At*l[ai+2],T+=At}}m[E]=M/T,m[E+1]=L/T,m[E+2]=j/T,m[E+3]=G/C}return t}function qB(e,t,i){return i||(i=pIe()),i.getContext("2d").createImageData(e,t)}let u0=null,dk=!0;function pIe(){return u0||(u0=document.createElement("canvas"),u0.width=1,u0.height=1),u0}function mIe(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return bIe}}function fIe(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}function gIe(e){const t=e.data,i=t.length;for(let n=0;n<i;n+=4){const r=t[n+3];if(r>0){const a=r/255;t[n+0]=t[n+0]/a,t[n+1]=t[n+1]/a,t[n+2]=t[n+2]/a}}}const yIe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},K4=98,bIe="png",vIe={png:100,jpg:K4,jpeg:K4};var qi;function DPe(e,t,i={}){const n=UB(e);for(;n.length>1;){const r=hk(t,n.shift(),i);if($(r))return r}return wIe(t,n.shift(),i)}function UB(e){const t=V("esri-force-webgl");if(t===qi.WEBGL1||t===qi.WEBGL2)return[t];switch(e){case"2d":return[qi.WEBGL1];case"3d":return[qi.WEBGL2,qi.WEBGL1]}}function wIe(e,t,i={}){if(!window.WebGLRenderingContext)return Z4(e,xIe),null;const n=hk(e,t,i);return z(n)&&Z4(e,kIe),n}function hk(e,t,i={}){const n=t===qi.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let r=null;for(const a of n){try{r=e.getContext(a,i)}catch{}if(r)break}return r}function Z4(e,t){const i=e.parentNode;i&&(i.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}(function(e){e[e.WEBGL1=1]="WEBGL1",e[e.WEBGL2=2]="WEBGL2"})(qi||(qi={}));const xIe='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',kIe=`It doesn't appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>`;let i3,n3;function X4(e){switch(e){case qi.WEBGL1:return _Ie();case qi.WEBGL2:return SIe()}}function _Ie(){return i3||(i3=CIe()),i3}function SIe(){return n3||(n3=TIe()),n3}class BB{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1}}class DIe extends BB{constructor(){super(...arguments),this.type=qi.WEBGL1,this.supportsElementIndexUint=!1,this.supportsStandardDerivatives=!1,this.supportsInstancedArrays=!1,this.supportsTextureFloat=!1}}class $Ie extends BB{constructor(){super(...arguments),this.type=qi.WEBGL2}}function GB(e,t){if(e===qi.WEBGL1&&typeof WebGLRenderingContext===void 0||e===qi.WEBGL2&&typeof WebGL2RenderingContext===void 0)return null;const i=document.createElement("canvas");if(!i)return null;let n=hk(i,e,{failIfMajorPerformanceCaveat:!0});if(z(n)&&(n=hk(i,e),$(n)&&(t.majorPerformanceCaveat=!0)),z(n))return n;if(e===qi.WEBGL1){const a=n.getParameter(n.VERSION),o=a==null?void 0:a.match(/^WebGL\s+([\d.]*)/);if(o){const s=parseFloat(o[1]);t.available=s>=.94}}else t.available=!0;t.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),n}function CIe(){const e=new DIe,t=GB(qi.WEBGL1,e);return z(t)||(e.supportsElementIndexUint=t.getExtension("OES_element_index_uint")!==null,e.supportsStandardDerivatives=t.getExtension("OES_standard_derivatives")!==null,e.supportsInstancedArrays=t.getExtension("ANGLE_instanced_arrays")!==null,e.supportsTextureFloat=t.getExtension("OES_texture_float")!==null),e}function TIe(){const e=new $Ie,t=GB(qi.WEBGL2,e);return z(t),e}function EIe(e){const t=IIe(e);if(!t.available)return new P("webgl:required","WebGL is required but not supported.");if(e==="3d"&&t.majorPerformanceCaveat)return new P("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!t.supportsHighPrecisionFragment)return new P("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!t.supportsVertexShaderSamplers)return new P("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(t.type===qi.WEBGL1){if(!t.supportsElementIndexUint)return new P("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!t.supportsStandardDerivatives)return new P("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!t.supportsInstancedArrays)return new P("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}function IIe(e){const t=UB(e);for(;t.length>1;){const i=X4(t.shift());if(i.available)return i}return X4(t.shift())}function MIe(e){return e&&"nodeType"in e}function OIe(e){return e&&typeof e.render=="function"}const Q4={component:"esri-component"};let md=class extends he{constructor(){super(...arguments),this.widget=null}destroy(){this.widget&&this.widget.destroy(),this.node=null}get id(){return this.get("widget.id")||this.get("node.id")}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(Q4.component),t&&t.classList.remove(Q4.component),this._set("node",e))}castNode(e){return e?typeof e=="string"||MIe(e)?(this._set("widget",null),JE(e)):(OIe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};c([d({dependsOn:[]})],md.prototype,"id",null),c([d()],md.prototype,"node",null),c([Ye("node")],md.prototype,"castNode",null),c([d({readOnly:!0})],md.prototype,"widget",void 0),md=c([_("esri.views.ui.Component")],md);const Tw=md,AIe={left:0,top:0,bottom:0,right:0},WB={bottom:30,top:15,right:15,left:15},r3="manual",vn={ui:"esri-ui",corner:"esri-ui-corner",innerContainer:"esri-ui-inner-container",manualContainer:"esri-ui-manual-container",cornerContainer:"esri-ui-corner-container",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"};function PIe(e){return e&&!e._started&&typeof e.postMixInProperties=="function"&&typeof e.buildRendering=="function"&&typeof e.postCreate=="function"&&typeof e.startup=="function"}function a3(e){const t=e,i=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(i===null||i===Object.prototype)&&("component"in t||"index"in t||"position"in t)?e:null}function o3(e,{top:t,bottom:i,left:n,right:r}){e.style.top=t,e.style.bottom=i,e.style.left=n,e.style.right=r}let el=class extends ys.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentToKey=new Map,this._handles=new gn,this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&o3(t,this._toPxPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const t=this._innerContainer;t&&o3(t,this._toPxPosition(this.padding))},this._initContainers()}initialize(){this._handles.add([bt(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,rs),bt(()=>this.padding,this._applyUIPadding,rs)])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._handles.destroy(),this._componentToKey.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(vn.ui),e.classList.add(Yve()),this._attachContainers(e)),t&&(t.classList.remove(vn.ui),o3(t,{top:"",bottom:"",left:"",right:""}),C7(t)),this._set("container",e))}get height(){const e=this.get("view.height")||0;if(e===0)return e;const t=this._getViewPadding(),i=t.top+t.bottom;return Math.max(e-i,0)}get padding(){return this._get("padding")}set padding(e){e?this._override("padding",e):this._clearOverride("padding")}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:D(D({},WB),e)}get width(){const e=this.get("view.width")||0;if(e===0)return e;const t=this._getViewPadding(),i=t.left+t.right;return Math.max(e-i,0)}add(e,t){let i,n;if(Array.isArray(e))return void e.forEach(a=>this.add(a,t));const r=a3(e);r&&({index:i,position:t,component:e,key:n}=r),t&&typeof t=="object"&&({index:i,key:n,position:t}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,i,n)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,t));const i=this._find(e);if(i){const n=this._componentToKey;if(n.has(e)&&n.get(e)!==t)return;const r=this._components.indexOf(i);return i.node.parentNode&&i.node.parentNode.removeChild(i.node),this._componentToKey.delete(e),this._components.splice(r,1)[0]}}empty(e){return Array.isArray(e)?e.map(t=>this.empty(t)).reduce((t,i)=>t.concat(i)):(e=e||r3)===r3?Array.prototype.slice.call(this._manualContainer.children).filter(t=>!t.classList.contains(vn.corner)).map(t=>this.remove(t)):this._isValidPosition(e)?Array.prototype.slice.call(this._cornerNameToContainerLookup[e].children).map(this.remove,this):null}move(e,t){if(Array.isArray(e)&&e.forEach(a=>this.move(a,t)),!e)return;let i;const n=a3(e)||a3(t);if(n&&(i=n.index,t=n.position,e=n.component||e),t&&!this._isValidPosition(t))return;const r=this.remove(e);r&&this.add(r,{position:t,index:i})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,i,n){e instanceof Tw||(e=new Tw({node:e})),this._place({component:e,position:t,index:i}),this._components.push(e),n&&this._componentToKey.set(e,n)}_find(e){return e?e instanceof Tw?this._findByComponent(e):typeof e=="string"?this._findById(e):this._findByNode(e.domNode||e):null}_getViewPadding(){return this.get("view.padding")||AIe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(vn.innerContainer),e.classList.add(vn.cornerContainer);const t=document.createElement("div");t.classList.add(vn.innerContainer),t.classList.add(vn.manualContainer);const i=document.createElement("div");i.classList.add(vn.topLeft),i.classList.add(vn.corner),e.appendChild(i);const n=document.createElement("div");n.classList.add(vn.topRight),n.classList.add(vn.corner),e.appendChild(n);const r=document.createElement("div");r.classList.add(vn.bottomLeft),r.classList.add(vn.corner),e.appendChild(r);const a=document.createElement("div");a.classList.add(vn.bottomRight),a.classList.add(vn.corner),e.appendChild(a),this._innerContainer=e,this._manualContainer=t;const o=Wc();this._cornerNameToContainerLookup={"top-left":i,"top-right":n,"bottom-left":r,"bottom-right":a,"top-leading":o?n:i,"top-trailing":o?i:n,"bottom-leading":o?a:r,"bottom-trailing":o?r:a},this._positionNameToContainerLookup=D({manual:t},this._cornerNameToContainerLookup)}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.component,i=e.position||r3,n=e.index,r=this._positionNameToContainerLookup[i],a=n>-1;if(PIe(t.widget)&&t.widget.startup(),!a)return void r.appendChild(t.node);const o=Array.prototype.slice.call(r.children);if(n===0)return void(r.firstChild?_L(t.node,r.firstChild):r.appendChild(t.node));n>=o.length?r.appendChild(t.node):_L(t.node,o[n])}_toPxPosition(e){return{top:this._toPxUnit(e.top),left:this._toPxUnit(e.left),right:this._toPxUnit(e.right),bottom:this._toPxUnit(e.bottom)}}_toPxUnit(e){return e===0?"0":e+"px"}_findByComponent(e){let t,i=null;return this._components.some(n=>(t=n===e,t&&(i=n),t)),i}_findById(e){let t,i=null;return this._components.some(n=>(t=n.id===e,t&&(i=n),t)),i}_findByNode(e){let t,i=null;return this._components.some(n=>(t=n.node===e,t&&(i=n),t)),i}};c([d()],el.prototype,"container",null),c([d()],el.prototype,"height",null),c([d({value:WB})],el.prototype,"padding",null),c([Ye("padding")],el.prototype,"castPadding",null),c([d()],el.prototype,"view",void 0),c([d()],el.prototype,"width",null),el=c([_("esri.views.ui.UI")],el);const LIe=el;function eN(e,t){return e&&"copyright"in e&&(!t||typeof e.originOf=="function"&&e.originOf("copyright")==="user")}function RIe(e,t){return e.length!==t.length||e.some((i,n)=>i.text!==t[n].text)}function o1(e,t,i){!i||!t||e.find(n=>n.layerView===t&&n.text===i)||e.push({text:i,layerView:t})}function FIe(e){return e.type==="bing-maps"}const Yl=[];let Lp=class extends Mm{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ge,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const i=this.get("view.allLayerViews");i&&this.handles.add(i.map(n=>n.watch(["suspended","attributionVisible"],this._updateAttributionItems)),"suspension"),t&&t.removed&&t.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this._updateAttributionItems=()=>{const t=this.get("view.allLayerViews");Yl.length=0,t?(t.forEach(i=>{if(i.suspended||!i.get("layer.attributionVisible"))return;const n=i.layer;if(eN(n,"user"))return void o1(Yl,i,n.copyright);if(n.hasAttributionData){if(this._fetchedAttributionData.has(i)){const a=this._fetchedAttributionData.get(i);return void(a?o1(Yl,i,this._getDynamicAttribution(a,this.view,n)):eN(n)&&o1(Yl,i,n.copyright))}return void this._fetchAttributionData(i)}const r=n.get("portalItem.accessInformation");o1(Yl,i,r||n.copyright)}),RIe(this.items,Yl)&&(this.items.removeAll(),this.items.addMany(Yl)),Yl.length=0,this.notifyChange("state")):this._clear()},this.handles.add([r_(this,"view.allLayerViews","change",this._allLayerViewsChange,this._allLayerViewsChange,this._clear),Hbe(this,"view.stationary",()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await jk(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,FIe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,n={};if(!i)return n;for(let r=0;r<i.length;r++){const a=i[r],o=a.coverageAreas;if(!o)return;for(const s of o){const l=s.bbox,u=s.zoomMin-(t&&s.zoomMin?1:0),h=s.zoomMax-(t&&s.zoomMax?1:0),m={xmin:l[1],ymin:l[0],xmax:l[3],ymax:l[2],spatialReference:Le.WGS84},f={extent:vl(m),attribution:a.attribution||"",score:s.score!=null?s.score:100,id:r};for(let g=u;g<=h;g++)n[g]=n[g]||[],n[g].push(f)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,t,i){const{extent:n,scale:r}=t;let a=i.tileInfo.scaleToZoom(r);if(a=Math.min(e.maxKey,Math.round(a)),!n||a==null||a<=-1)return"";const o=e[a],s=Bk(n.center.clone().normalize(),t.spatialReference),l={};return o?o.filter(u=>{const h=!l[u.id]&&s&&Gk(u.extent,s);return h&&(l[u.id]=!0),h}).sort((u,h)=>h.score-u.score||u.objectId-h.objectId).map(u=>u.attribution).join(", "):""}};c([d({readOnly:!0,type:ge})],Lp.prototype,"items",void 0),c([d({readOnly:!0})],Lp.prototype,"state",null),c([d()],Lp.prototype,"view",void 0),Lp=c([_("esri.widgets.Attribution.AttributionViewModel")],Lp);const JB=Lp,Kl={base:"esri-attribution esri-widget",poweredBy:"esri-attribution__powered-by",sources:"esri-attribution__sources",open:"esri-attribution--open",sourcesOpen:"esri-attribution__sources--open",link:"esri-attribution__link",widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let Sn=class extends an{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this.iconClass=Kl.widgetIcon,this.itemDelimiter=" | ",this.label=void 0,this.messages=null,this.view=null,this.viewModel=new JB}initialize(){this.own(r_(this,"viewModel.items","change",()=>this.scheduleRender()))}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,t)=>(e.indexOf(t.text)===-1&&e.push(t.text),e),[]).join(this.itemDelimiter)}render(){const e={[Kl.open]:this._isOpen};return R("div",{bind:this,class:this.classes(Kl.base,e),onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return R("div",{class:Kl.poweredBy},"Powered by"," ",R("a",{class:Kl.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,i=t?0:-1,{attributionText:n}=this,r=t?"button":void 0,a={[Kl.sourcesOpen]:e,[Kl.interactive]:t};return R("div",{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,class:this.classes(Kl.sources,a),innerHTML:n,role:r,tabIndex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth}_afterSourcesNodeUpdate(e){let t=!1;const{clientHeight:i,clientWidth:n,scrollWidth:r}=e,a=r>=n,o=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,o&&(t=!0),this._isOpen){const s=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,s&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};c([d()],Sn.prototype,"_isOpen",void 0),c([d()],Sn.prototype,"_isInteractive",null),c([d()],Sn.prototype,"_attributionTextOverflowed",void 0),c([d()],Sn.prototype,"_prevSourceNodeHeight",void 0),c([d({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Sn.prototype,"attributionText",null),c([d()],Sn.prototype,"iconClass",void 0),c([d()],Sn.prototype,"itemDelimiter",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Sn.prototype,"label",void 0),c([d(),Ui("esri/widgets/Attribution/t9n/Attribution")],Sn.prototype,"messages",void 0),c([ce("viewModel.view")],Sn.prototype,"view",void 0),c([d({type:JB})],Sn.prototype,"viewModel",void 0),c([Gn()],Sn.prototype,"_toggleState",null),Sn=c([_("esri.widgets.Attribution")],Sn);const NIe=Sn,zIe="esri.widgets.CompassViewModel";let fd=class extends T_(he){constructor(e){super(e),this._handles=new gn,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._handles.add(Gt(this,"view",this._updateRotationWatcher))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get canShowNorth(){const e=this.get("view.spatialReference");return!(!e||!e.isWebMercator&&!e.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const e={};this.view.type==="2d"?e.rotation=0:e.heading=0,this.callGoTo({target:e})}_updateForRotation(e){e!=null&&(this.orientation={z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this.orientation={x:0,y:0,z:t}}_updateRotationWatcher(e){this._handles.removeAll(),e&&(e.type==="2d"?this._handles.add(Gt(this,"view.rotation",this._updateForRotation)):this._handles.add(Gt(this,"view.camera",this._updateForCamera)))}};c([d({readOnly:!0})],fd.prototype,"canShowNorth",null),c([d()],fd.prototype,"orientation",void 0),c([d({readOnly:!0})],fd.prototype,"state",null),c([d()],fd.prototype,"view",void 0),fd=c([_(zIe)],fd);const YB=fd,Zl={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};let Ho=class extends an{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=Zl.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new YB}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,i=t==="disabled",n=(t==="rotation"?"rotation":"compass")=="compass",r=i?-1:0,a={[Zl.disabled]:i,[Zl.interactive]:!i},o={[Zl.northIcon]:n,[Zl.rotationIcon]:!n},{messages:s}=this;return R("div",{bind:this,class:this.classes(Zl.base,a),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":s.reset,title:s.reset},R("span",{"aria-hidden":"true",class:this.classes(Zl.icon,o),styles:this._toRotationTransform(e)}),R("span",{class:Zl.text},s.reset))}_reset(){this.viewModel.reset()}_toRotationTransform(e){return{transform:`rotateZ(${e.z}deg)`}}};c([ce("viewModel.goToOverride")],Ho.prototype,"goToOverride",void 0),c([d()],Ho.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ho.prototype,"label",void 0),c([d(),Ui("esri/widgets/Compass/t9n/Compass")],Ho.prototype,"messages",void 0),c([ce("viewModel.view")],Ho.prototype,"view",void 0),c([d({type:YB})],Ho.prototype,"viewModel",void 0),c([Gn()],Ho.prototype,"_reset",null),Ho=c([_("esri.widgets.Compass")],Ho);const jIe=Ho;let Rp=class extends he{constructor(e){super(e),this._handles=new gn,this.navigationMode="pan",this.view=null}initialize(){this._handles.add(eV(this,"view.inputManager",this._setNavigationMode.bind(this)))}destroy(){this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get("view.ready")&&this.view.type==="3d"?"ready":"disabled"}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate",this._setNavigationMode())}_setNavigationMode(){this.get("view.inputManager").primaryDragAction=this.navigationMode==="pan"?"pan":"rotate"}};c([d({readOnly:!0})],Rp.prototype,"state",null),c([d()],Rp.prototype,"navigationMode",void 0),c([d()],Rp.prototype,"view",void 0),Rp=c([_("esri.widgets.NavigationToggleViewModel")],Rp);const KB=Rp,Yr={base:"esri-navigation-toggle esri-widget",button:"esri-navigation-toggle__button esri-widget--button",activeButton:"esri-navigation-toggle__button--active",panButton:"esri-navigation-toggle__button--pan",rotateButton:"esri-navigation-toggle__button--rotate",isLayoutHorizontal:"esri-navigation-toggle--horizontal",rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};let qo=class extends an{constructor(e,t){super(e,t),this.iconClass=Yr.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new KB}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}toggle(){return this.viewModel.toggle()}render(){const e=this.get("viewModel.state")==="disabled",t=this.get("viewModel.navigationMode")==="pan",i={[Yr.disabled]:e,[Yr.isLayoutHorizontal]:this.layout==="horizontal"},n={[Yr.activeButton]:t},r={[Yr.activeButton]:!t},a=e?-1:0,o=this.messages.toggle;return R("div",{bind:this,class:this.classes(Yr.base,i),onclick:this._toggle,onkeydown:this._toggle,tabIndex:a,"aria-label":o,title:o},R("div",{class:this.classes(Yr.button,Yr.panButton,n)},R("span",{class:Yr.panIcon})),R("div",{class:this.classes(Yr.button,Yr.rotateButton,r)},R("span",{class:Yr.rotationIcon})))}_toggle(){this.toggle()}};c([d()],qo.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],qo.prototype,"label",void 0),c([d({value:"vertical"})],qo.prototype,"layout",null),c([d(),Ui("esri/widgets/NavigationToggle/t9n/NavigationToggle")],qo.prototype,"messages",void 0),c([ce("viewModel.view")],qo.prototype,"view",void 0),c([d({type:KB})],qo.prototype,"viewModel",void 0),c([Gn()],qo.prototype,"_toggle",null),qo=c([_("esri.widgets.NavigationToggle")],qo);const VIe=qo,d0={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let _c=class extends an{constructor(){super(...arguments),this.enabled=!0,this.iconClass="",this.title=""}render(){const e=this.enabled?0:-1,t={[d0.disabled]:!this.enabled,[d0.interactive]:this.enabled},i={[this.iconClass]:!!this.iconClass};return R("div",{bind:this,class:this.classes(d0.button,t),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:e,title:this.title},R("span",{"aria-hidden":"true",role:"presentation",class:this.classes(d0.icon,i)}),R("span",{class:d0.iconText},this.title))}_triggerAction(){this.action.call(this)}};c([d()],_c.prototype,"action",void 0),c([d()],_c.prototype,"enabled",void 0),c([d()],_c.prototype,"iconClass",void 0),c([d()],_c.prototype,"title",void 0),c([Gn()],_c.prototype,"_triggerAction",null),_c=c([_("esri.widgets.IconButton")],_c);const tN=_c;let Fp=class extends he{get canZoomIn(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return t===0||e>t}get canZoomOut(){if(!this.get("view.ready"))return!1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return t===0||e<t}};c([d({readOnly:!0})],Fp.prototype,"canZoomIn",null),c([d({readOnly:!0})],Fp.prototype,"canZoomOut",null),c([d()],Fp.prototype,"view",void 0),Fp=c([_("esri.widgets.Zoom.ZoomConditions2D")],Fp);const HIe=Fp;let Np=class extends he{get canZoomIn(){return!!this.get("view.ready")}get canZoomOut(){return!!this.get("view.ready")}};c([d({readOnly:!0})],Np.prototype,"canZoomIn",null),c([d({readOnly:!0})],Np.prototype,"canZoomOut",null),c([d()],Np.prototype,"view",void 0),Np=c([_("esri.widgets.Zoom.ZoomConditions3D")],Np);const qIe=Np;let Sc=class extends he{constructor(e){super(e),this.canZoomIn=!1,this.canZoomOut=!1}destroy(){this.view=null}get state(){return this.get("view.ready")?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new HIe({view:e}):e.type==="3d"&&(this._zoomConditions=new qIe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){if(!this.canZoomIn)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomIn():L3(e.goTo({zoomFactor:2}))}zoomOut(){if(!this.canZoomOut)return;const e=this.view;e.type==="2d"?e.mapViewNavigation.zoomOut():L3(e.goTo({zoomFactor:.5}))}};c([d()],Sc.prototype,"_zoomConditions",void 0),c([d({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],Sc.prototype,"canZoomIn",void 0),c([d({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],Sc.prototype,"canZoomOut",void 0),c([d({readOnly:!0})],Sc.prototype,"state",null),c([d()],Sc.prototype,"view",null),Sc=c([_("esri.widgets.Zoom.ZoomViewModel")],Sc);const ZB=Sc,h0={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let tl=class extends an{constructor(e,t){super(e,t),this.iconClass=h0.widgetIcon,this.label=void 0,this.messages=null,this.view=null,this.viewModel=new ZB}initialize(){this._zoomInButton=new tN({action:this.zoomIn.bind(this),iconClass:h0.zoomInIcon}),this._zoomOutButton=new tN({action:this.zoomOut.bind(this),iconClass:h0.zoomOutIcon})}destroy(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._zoomInButton=null,this._zoomOutButton=null}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}render(){const e=this.viewModel,t={[h0.horizontalLayout]:this.layout==="horizontal"};return this._zoomInButton.enabled=e.state==="ready"&&e.canZoomIn,this._zoomOutButton.enabled=e.state==="ready"&&e.canZoomOut,this._zoomInButton.title=this.messages.zoomIn,this._zoomOutButton.title=this.messages.zoomOut,R("div",{class:this.classes(h0.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};c([d()],tl.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],tl.prototype,"label",void 0),c([d({value:"vertical"})],tl.prototype,"layout",null),c([d(),Ui("esri/widgets/Zoom/t9n/Zoom")],tl.prototype,"messages",void 0),c([ce("viewModel.view")],tl.prototype,"view",void 0),c([d({type:ZB})],tl.prototype,"viewModel",void 0),tl=c([_("esri.widgets.Zoom")],tl);const UIe=tl,XB="esri.views.ui.DefaultUI";function BIe(e){return e&&e.view!==void 0}Z.getLogger(XB);let Ew=class extends LIe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-leading","navigation-toggle":"top-leading",zoom:"top-leading"},this.components=[]}initialize(){this._handles.add([bt(()=>this.components,this._componentsWatcher.bind(this),rs),bt(()=>this.view,this._updateViewAwareWidgets.bind(this),rs)])}_add(e,t,i,n){if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;e=this._createComponent(e)}super._add(e,t,i,n)}_removeComponents(e){e.forEach(t=>{const i=this._find(t);i&&(this.remove(i),i.destroy())})}_updateViewAwareWidgets(e){this.components.forEach(t=>{const i=this._find(t),n=i&&i.widget;BIe(n)&&(n.view=e)})}_componentsWatcher(e,t){this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}_adjustPadding(e){if(e.indexOf("attribution")===-1&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t}}_addComponents(e){this.initialized&&e.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(e){const t=this._createWidget(e);if(t)return new Tw({id:e,node:t})}_createWidget(e){return e==="attribution"?this._createAttribution():e==="compass"?this._createCompass():e==="navigation-toggle"?this._createNavigationToggle():e==="zoom"?this._createZoom():void 0}_createAttribution(){return new NIe({view:this.view})}_createCompass(){return new jIe({view:this.view})}_createNavigationToggle(){return new VIe({view:this.view})}_createZoom(){return new UIe({view:this.view})}};c([d()],Ew.prototype,"components",void 0),Ew=c([_(XB)],Ew);const GIe=Ew;let Iw=class extends GIe{constructor(e){super(e),this.components=["attribution","zoom"]}};c([d()],Iw.prototype,"components",void 0),Iw=c([_("esri.views.ui.2d.DefaultUI2D")],Iw);const QB=Iw;var qC;let Mw=qC=class extends B{constructor(e){super(e),this.color=new Ie([0,0,0,1])}clone(){return new qC(N({color:this.color}))}};c([d({type:Ie,json:{write:!0}})],Mw.prototype,"color",void 0),Mw=qC=c([_("esri.webmap.background.ColorBackground")],Mw);const WIe=Mw,As=Z.getLogger("esri.views.MapView");let eG,tG,iG,nG,rG,aG;async function JIe(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:n,MagnifierView2D:r,Stage:a}]=await Promise.all([import("./webglDeps.78bb96e9.js"),import("./mapViewDeps.9c7cb086.js")]);tG=e,iG=t,nG=i,rG=n,aG=r,eG=a}const iN=160;function YIe(e){return e&&e.declaredClass==="esri.Viewpoint"}let Se=class extends bye(M$e(O$e(aCe))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new dm({getCollections:()=>{var t,i;return[(t=this.basemapView)==null?void 0:t.baseLayerViews,this.layerViews,(i=this.basemapView)==null?void 0:i.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new kTe(this),this._pePromise=null,this.floors=new ge,this.highlightOptions=new VB,this.inputManager=new eIe({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new HB,this.type="2d",this.ui=new QB,this.constraints=new $B,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([bt(()=>this.viewpoint,()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(iN)},u5),this.on("resize",t=>this._resizeHandler(t)),bt(()=>{var t;return(t=this.animationManager)==null?void 0:t.animation},t=>{this.animation=t})]),L0e()}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new oIe(this.featuresTilingScheme)}get initialExtentRequired(){var e;const{scale:t,constraints:i,center:n,viewpoint:r,extent:a}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&(e=this.map.initialViewProperties)!=null&&e.viewpoint)&&!a&&(i!=null&&i.effectiveLODs||(o=-1),(!n||t===0&&o===-1)&&(!r||!$(r.targetGeometry)||r.targetGeometry.type!=="extent"&&!r.scale))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return{required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return!!Nm()||(this._pePromise||(this._pePromise=zm().finally(()=>{this._pePromise=null})),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=this.spatialReference,i=e.targetGeometry;return!!hh(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1};e.when(i,i)}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){e===void 0?this._clearOverride("background"):this._override("background",e)}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new be({x:e[0],y:e[1],spatialReference:t})}set center(e){if(e==null)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void As.error(new P("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const i=this.viewpoint;LC(i,i,t),this.viewpoint=i}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(bt(()=>e.version,()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint))},u5),"map-view-constraints"))}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void As.error(new P("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference)}catch(n){return void As.error(new P("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const i=this.viewpoint;oTe(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;bTe(t,t,e),this.viewpoint=t}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;O4(t,t,e),this.viewpoint=t}get stationary(){return!(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,i;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?i=new P("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):z(e.targetGeometry)&&(i=new P("mapview:invalid-viewpoint","geometry not defined"))}catch(r){i=new P("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:r})}if(i)return void As.error(i);this._scaleBeforeChangingSpatialReference=null;const n=new so({targetGeometry:new be,scale:0,rotation:0});vo(n,t),this.constraints.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this.frameTask.requestFrame(),this._set("viewpoint",n)}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(e==null)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const i=this._get("extent");return i&&(this._set("extent",null),this._set("center",i.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;O4(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale))}get navigating(){return!(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),dE(()=>this.ready,t).then(()=>{const i=D({animate:!0},t),n=nTe(e,this);return this.animation.update(n),this._gotoTask={},i.animate?this._gotoAnimated(n,i):this._gotoImmediate(n,i)});As.error("#goTo()","target cannot be null or undefined")}async hitTest(e,t){const i=D4(e)?S4(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return{screenPoint:i,results:[]};let n=new Set,r=!1,a=null,o=null;t!=null&&t.include?rN(t.include,nN(this,h=>n.add(h),h=>{a||(a=new Set),a.add(h)},h=>n.add(h),()=>r=!0)):(r=!0,n=new Set(this.allLayerViews)),t!=null&&t.exclude&&rN(t.exclude,nN(this,h=>n.delete(h),h=>{o||(o=new Set),o.add(h)}));const s=this.allLayerViews.filter(h=>!h.suspended&&n.has(h)).reverse(),l=this.toMap(i);let u=(await Promise.all([r?this.graphicsView.hitTest(l):null,...s.map(h=>h.hitTest(l,i))])).filter($).flat();return a&&(u=u.filter(h=>a.has(UC(h)))),o&&(u=u.filter(h=>!o.has(UC(h)))),{screenPoint:i,results:u.map(h=>({mapPoint:l,graphic:h}))}}takeScreenshot(e){e=e||{};const t=this.supersampleScreenshotsEnabled?Math.min(4,hIe(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach(o=>{const s=this.allLayerViews.find(l=>l.layer.id===o.id);s&&"container"in s&&s.container&&i.push(s.container)})):i=this._stage.children;const{format:n,quality:r}=dIe(e.format,e.quality),a=cIe(e,t,this.size,this.padding,n,r,i,e.rotation);return this._stage.takeScreenshot(a)}toMap(e){if(!this.ready)return null;const t=D4(e)?S4(this,e):e,i=[0,0],[n,r]=this.state.toMap(i,[t.x,t.y]),a=this.spatialReference;return new be({x:n,y:r,spatialReference:a})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),Kn(i[0],i[1])}on(e,t,i,n){return this.inputManager&&this.viewEvents.on(e,t,i,n)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e,t,i;return this.map&&"initialViewProperties"in this.map&&((e=this.map)==null||(t=e.initialViewProperties)==null?void 0:t.spatialReference)||((i=this.defaultsFromMap)==null?void 0:i.spatialReference)||null}hasLayerViewModule(e){return P4.hasLayerViewModule(e)}importLayerView(e){return P4.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(As.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then(t=>ne(D({},t),{mapPoint:this.toMap(e)}))}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){let e=EIe(this.type);return V("safari")&&V("safari")<9&&(e=new P("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:V("safari")})),$(e)?(As.warn("#validate()",e.message),Promise.reject(e)):JIe()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new AC),this.animation}_cancellableGoTo(e,t,i){const n=()=>e===this._gotoTask,r=i.then(()=>{n()&&(this.animation=null)}).catch(o=>{throw n()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),o}),a=new Promise(o=>o(r));return t.when().catch(()=>{n()&&a.cancel&&a.cancel()}),a}_gotoImmediate(e,t){const i=this._gotoTask,n=this.animation,r=e.then(a=>{if(hi(t),i!==this._gotoTask)throw new P("view:goto-interrupted","Goto was interrupted");this.viewpoint=n.target=a,n.finish()});return this._cancellableGoTo(i,n,r)}_flipStationary(e){return this._stationaryTimer!==null||(this._stationaryTimer=setTimeout(()=>{this._stationaryTimer=null;const t=performance.now()-this._lastStationaryEventTimestamp;t<iN&&(this._stationaryTimer=this._flipStationary(t))},e)),this._stationaryTimer}_getDefaultViewpoint(){var e,t,i,n;const{constraints:r,initialExtent:a,map:o}=this;if(!r)return null;const s=o&&"initialViewProperties"in o&&o.initialViewProperties,l={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};r.effectiveLODs?l.zoom!==-1&&(l.scale=r.zoomToScale(l.zoom)):l.zoom=-1;let u=null,h=null,m=0;const f=l.viewpoint&&l.viewpoint.rotation,g=l.viewpoint&&l.viewpoint.targetGeometry;$(g)&&(g.type==="extent"?u=g:g.type==="point"&&(h=g,m=l.viewpoint.scale));const b=l.extent||u||((e=s==null||(t=s.viewpoint)==null?void 0:t.targetGeometry)==null?void 0:e.extent)||a,v=l.center||h||(b==null?void 0:b.center),w=l.scale||m||(s==null||(i=s.viewpoint)==null?void 0:i.scale)||b&&Kg(b,this.size),x=l.rotation||f||(s==null||(n=s.viewpoint)==null?void 0:n.rotation)||0;return v&&w?new so({targetGeometry:v,scale:w,rotation:x}):null}_gotoAnimated(e,t){const i=this._gotoTask,n=this.animation,r=e.then(a=>{if(hi(t),i!==this._gotoTask)throw new P("view:goto-interrupted","Goto was interrupted");return n.update(a),this.animationManager.animate(n,this.viewpoint,t),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,n,r)}_project(e,t){var i;const n=e&&e.targetGeometry||e;if(!t)return e;if(!n)return null;if(t.imageCoordinateSystem||(i=n.spatialReference)!=null&&i.imageCoordinateSystem||cr(t,n.spatialReference))return e;const r=hb(n,t);if(!r)throw new P("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:t});return YIe(e)?(e.targetGeometry=r,e):r}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],yTe(i,i,n,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i}_startup(){var e;this.timeline.begin("MapView Startup");const t=this._getDefaultViewpoint(),i=t.targetGeometry;try{this._project(t,this.spatialReference)}catch(u){var n;As.warn(new Rn("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:i.toJSON(),spatialReference:this.spatialReference,error:u})),t.targetGeometry=((n=this.defaultsFromMap.extent)==null?void 0:n.center)||new be({x:0,y:0,spatialReference:this.spatialReference})}(e=this.constraints)==null||e.fit(t),this._set("state",new mEe({padding:this._get("padding"),size:this.size,viewpoint:t})),this.graphics.owner=this;const r=new eG(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=r,this._magnifierView=new aG,this._magnifierView.magnifier=this.magnifier;const a=new nG({view:this});this._set("labelManager",a);const o=new xTe({view:this});this._set("animationManager",o);const s=new rG({view:this,animationManager:o});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("post-render",()=>this._set("rendering",r.renderRequested)),r.on("will-render",()=>this._set("rendering",r.renderRequested)),r.on("webgl-error",u=>this.fatalError=u.error),bt(()=>this.stationary,u=>r.stationary=u,Fu),bt(()=>this.background,u=>{r.background=u,this._magnifierView.background=u},Fu),bt(()=>this.magnifier,u=>this._magnifierView.magnifier=u,Fu),bt(()=>this.renderingOptions,u=>r.renderingOptions=u,Fu),bt(()=>this.highlightOptions,u=>r.highlightOptions=u,Fu),bt(()=>this.state.id,()=>r.state=this.state,Fu)],"map-view"),this._updateStageChildren();const l=this._resolveWhenReady;this._resolveWhenReady=[],l.forEach(u=>u(this)),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:n,scale:r}=this.state.paddedViewState,a=new be({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",n),this._set("scale",r),this._set("spatialReference",i),this._set("state",null),this.animation=null}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this._stage.addChild(t.container)});const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView)}_setupSpatialReferenceDependentProperties(){const e=new vEe(gye.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new tG({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new iG(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null)}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const s of this.allLayerViews)s.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(z(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else{const s=t.viewpoint.clone();s.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=s}const i=t.clone(),[n,r]=t.center;let a=null;try{a=this._project(new be({x:n,y:r,spatialReference:t.spatialReference}),e)}catch(s){Nm()||As.warn(new Rn("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a.toJSON(),spatialReference:e,error:s}))}a||(a=new be({x:0,y:0,spatialReference:e}));const o=LC(new so({targetGeometry:new be,scale:0,rotation:0}),t.viewpoint,a);i.viewpoint=o;try{const l=[t.size[0]/2,t.size[1]/2],u=[l[0]+20,l[1]],h=t.toMap([0,0],u),{x:m,y:f}=this._project(new be({x:h[0],y:h[1],spatialReference:t.spatialReference}),e);h[0]=m,h[1]=f,i.toScreen(h,h);const g=fTe(l,h,u),b=Math.hypot(h[0]-l[0],h[1]-l[1])/20;!Number.isFinite(b)||Math.abs(b)>4?(o.rotation=0,o.targetGeometry=new be({x:0,y:0,spatialReference:e})):(o.scale*=b,o.scale>V("mapview-srswitch-adjust-rotation-scale-threshold")?o.rotation=0:o.rotation+=Number.isFinite(g)?g:0)}catch{}this._get("constraints").constrain(o,null),this._get("state").viewpoint=o,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const s of this.allLayerViews)s.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}};c([d({readOnly:!0})],Se.prototype,"animationManager",void 0),c([d({constructOnly:!0})],Se.prototype,"deactivatedWebGLExtensions",void 0),c([d({constructOnly:!0})],Se.prototype,"debugWebGLExtensions",void 0),c([d({readOnly:!0})],Se.prototype,"featuresTilingScheme",void 0),c([d({readOnly:!0})],Se.prototype,"fullOpacity",void 0),c([d({readOnly:!0})],Se.prototype,"graphicsTileStore",null),c([d()],Se.prototype,"graphicsView",void 0),c([d({readOnly:!0})],Se.prototype,"state",void 0),c([d()],Se.prototype,"initialExtentRequired",null),c([d()],Se.prototype,"labelManager",void 0),c([d({readOnly:!0})],Se.prototype,"resourceManager",null),c([d({readOnly:!0})],Se.prototype,"textureManager",null),c([d({readOnly:!0})],Se.prototype,"mapViewNavigation",void 0),c([d({constructOnly:!0})],Se.prototype,"renderCanvas",void 0),c([d()],Se.prototype,"renderingOptions",void 0),c([d({readOnly:!0})],Se.prototype,"rendering",void 0),c([d({constructOnly:!0})],Se.prototype,"supersampleScreenshotsEnabled",void 0),c([d({readOnly:!0})],Se.prototype,"supportsGround",void 0),c([d()],Se.prototype,"_stationaryTimer",void 0),c([d()],Se.prototype,"_defaultsFromMapSettings",null),c([d()],Se.prototype,"_pePromise",void 0),c([d({readOnly:!0})],Se.prototype,"typeSpecificPreconditionsReady",null),c([d()],Se.prototype,"animation",null),c([d({type:WIe})],Se.prototype,"background",null),c([d({value:null,type:be,dependsOn:["state.id","ready"]})],Se.prototype,"center",null),c([d({type:$B})],Se.prototype,"constraints",null),c([d({value:null,type:lt,dependsOn:["state.id","ready"]})],Se.prototype,"extent",null),c([d()],Se.prototype,"floors",void 0),c([d({type:VB})],Se.prototype,"highlightOptions",void 0),c([d({readOnly:!0})],Se.prototype,"inputManager",void 0),c([d()],Se.prototype,"map",void 0),c([d({value:{top:0,right:0,bottom:0,left:0},cast:e=>D({top:0,right:0,bottom:0,left:0},e)})],Se.prototype,"padding",null),c([d()],Se.prototype,"resizeAlign",void 0),c([d({readOnly:!0,dependsOn:["state.id"]})],Se.prototype,"resolution",null),c([d({value:0,type:Number,dependsOn:["state.id","ready"]})],Se.prototype,"rotation",null),c([d({value:0,type:Number,dependsOn:["state.id","ready"]})],Se.prototype,"scale",null),c([d({constructOnly:!0})],Se.prototype,"spatialReferenceLocked",void 0),c([d()],Se.prototype,"stationary",null),c([d({type:HB,readOnly:!0})],Se.prototype,"timeline",void 0),c([d({readOnly:!0})],Se.prototype,"type",void 0),c([d({readOnly:!0})],Se.prototype,"updating",null),c([d({value:null,type:so,dependsOn:["state.id","ready"]})],Se.prototype,"viewpoint",null),c([d({value:-1,dependsOn:["state.id"]})],Se.prototype,"zoom",null),c([d({type:Boolean})],Se.prototype,"navigating",null),c([d({type:QB})],Se.prototype,"ui",void 0),Se=c([_("esri.views.MapView")],Se);const KIe=Se;function UC(e){const t=e.getObjectId();var i,n,r,a;return t?`${(i=(n=(r=e.layer)==null?void 0:r.uid)!=null?n:(a=e.sourceLayer)==null?void 0:a.uid)!=null?i:"MapView"}/${t}`:`"MapView/${e.uid}`}function nN(e,t,i,n,r){return a=>{if(a instanceof Nn){if(a.layer===e)r==null||r();else{const o=e.allLayerViews.find(s=>s.layer===a.layer);o&&(n==null||n(o))}i(UC(a))}else{const o=e.allLayerViews.find(s=>s.layer===a);o&&t(o)}}}function rN(e,t){if(e)if(XP(e))for(const i of e)if(XP(i))for(const n of i)t(n);else t(i);else t(e)}const $Pe=new Te({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),ZIe=new Te({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function CPe(e){const{geometries:t,deviationUnit:i,maxDeviation:n}=e.toJSON(),r={maxDeviation:n};return t&&t.length&&(r.geometries=JSON.stringify({geometryType:ya(t[0]),geometries:t}),r.sr=JSON.stringify(t[0].spatialReference)),ZIe.write(i,r,"deviationUnit"),r}let Dc=class extends B{constructor(e){super(e),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null}};c([d({type:String,json:{write:!0}})],Dc.prototype,"deviationUnit",void 0),c([d({json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(i=>i.toJSON())}}}})],Dc.prototype,"geometries",void 0),c([d({type:Number,json:{write:!0}})],Dc.prototype,"maxDeviation",void 0),Dc=c([_("esri.rest.support.GeneralizeParameters")],Dc),Dc.from=_t(Dc);const TPe=Dc,XIe=new Te({preserveShape:"preserve-shape"});function EPe(e){const{polylines:t,lengthUnit:i,geodesic:n,calculationType:r}=e.toJSON(),a={};a.polylines=JSON.stringify(t);const o=e.polylines[0].spatialReference;return a.sr=o.wkid?o.wkid:JSON.stringify(o.toJSON()),i&&(a.lengthUnit=i),n&&(a.geodesic=n),r&&(a.calculationType=XIe.toJSON(r)),a}let il=class extends B{constructor(e){super(e),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null}};c([d({type:String,json:{write:!0}})],il.prototype,"calculationType",void 0),c([d({type:Boolean,json:{write:!0}})],il.prototype,"geodesic",void 0),c([d({json:{write:!0}})],il.prototype,"lengthUnit",void 0),c([d({type:[On],json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(i=>i.toJSON())}}}})],il.prototype,"polylines",void 0),il=c([_("esri.rest.support.LengthsParameters")],il),il.from=_t(il);const IPe=il,QIe=new Te({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),eMe=new Te({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function MPe(e){const{geometries:t,bevelRatio:i,offsetDistance:n,offsetHow:r,offsetUnit:a}=e.toJSON(),o={bevelRatio:i,offsetDistance:n};return t&&t.length&&(o.geometries=JSON.stringify({geometryType:ya(t[0]),geometries:t}),o.sr=JSON.stringify(t[0].spatialReference)),r&&(o.offsetHow=QIe.toJSON(r)),a&&(o.offsetUnit=eMe.toJSON(a)),o}let Uo=class extends B{constructor(e){super(e),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null}};c([d({type:Number,json:{write:!0}})],Uo.prototype,"bevelRatio",void 0),c([d({json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.geometries=e.map(i=>i.toJSON())}}}})],Uo.prototype,"geometries",void 0),c([d({type:Number,json:{write:!0}})],Uo.prototype,"offsetDistance",void 0),c([d({type:String,json:{write:!0}})],Uo.prototype,"offsetHow",void 0),c([d({type:String,json:{write:!0}})],Uo.prototype,"offsetUnit",void 0),Uo=c([_("esri.rest.support.OffsetParameters")],Uo),Uo.from=_t(Uo);const OPe=Uo;function APe(e){return{geometryType:ya(e[0]),geometries:e.map(t=>t.toJSON())}}function tMe(e,t,i){const n=Q8(t);return e.map(r=>{const a=n.fromJSON(r);return a.spatialReference=i,a})}let gd=class extends B{constructor(e){super(e),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(function(n){return n.toJSON()}),t=this.geometries[0],i={};return i.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),i.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),i.geometries=JSON.stringify({geometryType:ya(t),geometries:e}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(i.transformForward=this.transformForward),i}};c([d()],gd.prototype,"geometries",void 0),c([d({json:{read:{source:"outSR"}}})],gd.prototype,"outSpatialReference",void 0),c([d()],gd.prototype,"transformation",void 0),c([d()],gd.prototype,"transformForward",void 0),gd=c([_("esri.rest.support.ProjectParameters")],gd);const oG=gd,iMe=_t(oG);async function nMe(e,t,i){t=iMe(t);const n=zr(e),r=D(ne(D({},n.query),{f:"json"}),t.toJSON()),a=t.outSpatialReference,o=ya(t.geometries[0]),s=hwe(r,i);return $t(n.path+"/project",s).then(({data:{geometries:l}})=>tMe(l,o,a))}const rMe=new Te({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function PPe(e){const{geometries1:t,geometries2:i,relation:n,relationParameter:r}=e.toJSON(),a={};if(t&&t.length){a.geometries1=JSON.stringify({geometryType:ya(t[0]),geometries:t});const o=t[0].spatialReference;a.sr=o.wkid?o.wkid:JSON.stringify(o)}return i&&i.length>0&&(a.geometries2=JSON.stringify({geometryType:ya(i[0]),geometries:i})),n&&(a.relation=rMe.toJSON(n)),r&&(a.relationParam=r),a}let nl=class extends B{constructor(e){super(e),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null}};c([d({json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.geometries1=e.map(i=>i.toJSON())}}}})],nl.prototype,"geometries1",void 0),c([d({json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.geometries2=e.map(i=>i.toJSON())}}}})],nl.prototype,"geometries2",void 0),c([d({type:String,json:{write:!0}})],nl.prototype,"relation",void 0),c([d({type:String,json:{write:!0}})],nl.prototype,"relationParameter",void 0),nl=c([_("esri.rest.support.RelationParameters")],nl),nl.from=_t(nl);const LPe=nl,aMe=new Te({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function RPe(e){const{extendHow:t,polylines:i,trimExtendTo:n}=e.toJSON(),r={};return r.extendHow=aMe.toJSON(t),i&&i.length&&(r.polylines=JSON.stringify(i),r.sr=JSON.stringify(i[0].spatialReference)),n&&(r.trimExtendTo=JSON.stringify(n)),r}let $c=class extends B{constructor(e){super(e),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null}};c([d({type:String,json:{write:!0}})],$c.prototype,"extendHow",void 0),c([d({type:[On],json:{read:{reader:e=>e?e.map(t=>Fn(t)):null},write:{writer:(e,t)=>{t.polylines=e.map(i=>i.toJSON())}}}})],$c.prototype,"polylines",void 0),c([d({json:{read:{reader:e=>e?Fn(e):null},write:{writer:(e,t)=>{t.trimExtendTo=e.toJSON()}}}})],$c.prototype,"trimExtendTo",void 0),$c=c([_("esri.rest.support.TrimExtendParameters")],$c),$c.from=_t($c);const FPe=$c,sG=Z.getLogger("esri.widgets.support.geolocationUtils"),oMe={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function sMe(){const e=V("esri-geolocation");return e||sG.warn("geolocation-unsupported","Geolocation unsupported."),e}function lMe(){const e=window.isSecureContext;return e||sG.warn("insecure-context","Geolocation requires a secure origin."),e}function cMe(){return sMe()&&lMe()}function uMe(e){return e||(e=oMe),new Promise((i,n)=>{setTimeout(()=>n(new P("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(i,n,e)})}function dMe(e,t){const{position:i,view:n}=e;return mMe(pMe(hMe(i)),n,t)}function hMe(e){const t=e&&e.coords||{},i={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e&&{coords:i,timestamp:e.timestamp}}function pMe(e){const t=e&&e.coords;return t?new be({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function mMe(e,t,i){if(!t)return Promise.resolve(e);const n=t.spatialReference;return n.isWGS84?Promise.resolve(e):n.isWebMercator?Promise.resolve(vl(e)):fMe(i).then(r=>{if(!r)throw new P("geometry-service:missing-url","Geometry service URL is missing");const a=new oG({geometries:[e],outSpatialReference:n});return nMe(r,a,i).then(o=>o[0])})}function fMe(e){if(rt.geometryServiceUrl)return Promise.resolve(rt.geometryServiceUrl);const t=rr.getDefault();return t.load(e).catch(()=>{}).then(()=>t.get("helperServices.geometry.url"))}const gMe=2500;let Bo=class extends T_(ys.EventedMixin(he)){constructor(){super(...arguments),this._geolocationUsable=!0,this._iconPath=Ze("esri/images/support/sdk_gps_location.png"),this.geolocationOptions=null,this.goToLocationEnabled=!0,this.graphic=new Nn({symbol:new cb({url:this._iconPath,width:21,height:21})}),this.scale=null,this.useHeadingEnabled=!0,this.view=null}initialize(){cMe()||(this._geolocationUsable=!1)}destroy(){this._clear(),this.view=null}_clear(){this.view&&this.view.graphics.remove(this.graphic)}_getScaleWithinConstraints(e,t){if(!t)return e;if(t.type==="2d"){const{effectiveMaxScale:i,effectiveMinScale:n}=t.constraints;return Math.min(n,Math.max(i,e))}return e}_getScale(e){const{scale:t}=this,i=typeof t=="number"?t:gMe;return this._getScaleWithinConstraints(i,e)}_getHeading(e,t){const i=t&&t.spatialReference,n=i&&(i.isWebMercator||i.isGeographic),r=e.coords&&e.coords.heading;if(!(!n||typeof r!="number"||isNaN(r)||r<0||r>360))return r}_addHeading(e){const{heading:t,target:i,view:n}=e;n&&typeof t=="number"&&!isNaN(t)&&(n.type!=="3d"?n.type==="2d"&&(i.rotation=360-t):i.heading=t)}_animatePoint(e,t,i,n){const{view:r}=this;if(!this.goToLocationEnabled||!r)return Promise.resolve(t);const a=this.useHeadingEnabled?this._getHeading(t,r):void 0,o={target:e,scale:i};return this._addHeading({heading:a,target:o,view:r}),this.callGoTo({target:o,options:n}).then(()=>t)}async _setPosition(e,t){try{const i=await dMe({position:e,view:this.view},t),{graphic:n}=this,{timestamp:r}=e,{coords:a}=e,{accuracy:o,altitude:s,altitudeAccuracy:l,heading:u,latitude:h,longitude:m,speed:f}=a,g={timestamp:r,accuracy:o,altitude:s,altitudeAccuracy:l,heading:u,latitude:h,longitude:m,speed:f};n&&(n.geometry=i,n.attributes=g);const b=this._getScale(this.view);return this._animatePoint(i,e,b,t)}catch(i){throw new P("positioning:invalid-point","Cannot position invalid point",{error:i})}}};c([d()],Bo.prototype,"_geolocationUsable",void 0),c([d()],Bo.prototype,"geolocationOptions",void 0),c([d()],Bo.prototype,"goToLocationEnabled",void 0),c([d()],Bo.prototype,"graphic",void 0),c([d()],Bo.prototype,"scale",void 0),c([d()],Bo.prototype,"useHeadingEnabled",void 0),c([d()],Bo.prototype,"view",void 0),Bo=c([_("esri.widgets.support.GeolocationPositioning")],Bo);const yMe=Bo;async function bMe(){const e=await rE("esri/widgets/Locate/t9n/Locate");return new ab({title:e.currentLocation,fieldInfos:[{fieldName:"timestamp",label:e.timestamp,format:{dateFormat:"short-date-short-time"}},{fieldName:"latitude",label:e.latitude,format:{places:4,digitSeparator:!0}},{fieldName:"longitude",label:e.longitude,format:{places:4,digitSeparator:!0}},{fieldName:"accuracy",label:e.accuracy,format:{places:0,digitSeparator:!0}},{fieldName:"altitude",label:e.altitude,format:{places:0,digitSeparator:!0}},{fieldName:"altitudeAccuracy",label:e.altitudeAccuracy,format:{places:0,digitSeparator:!0}},{fieldName:"heading",label:e.heading,format:{places:0,digitSeparator:!0}},{fieldName:"speed",label:e.speed,format:{places:0,digitSeparator:!0}}],actions:[EC.clone()],content:[{type:"fields"}]})}let Cc=class extends yMe{constructor(e){super(e),this._locateController=null,this._handles=new gn,this.popupEnabled=!0,this.locate=this.locate.bind(this)}initialize(){this._handles.add([s8(()=>{var e;const{graphic:t,view:i}=this;!(i==null||(e=i.graphics)==null)&&e.includes(t)&&this._updatePopupTemplate(t)})])}destroy(){this.cancelLocate(),this._handles.destroy(),this._handles=null}get state(){return this._geolocationUsable?this.get("view.ready")?this._locateController?"locating":"ready":"disabled":"feature-unsupported"}async locate(){if(this.cancelLocate(),this.state==="disabled")throw new P("locate:disabled-state","Cannot locate when disabled.");if(this.state==="feature-unsupported")throw new P("locate:feature-unsupported-state","Cannot locate in unsecure domain.");const e=new AbortController;this._locateController=e;try{let t=await uMe(this.geolocationOptions);return t=await this._setPosition(t,{signal:e.signal}),this._locateController!==e?null:(this.graphic&&(this.graphic=this.graphic.clone(),await this._updatePopupTemplate(this.graphic),this.view.graphics.push(this.graphic)),this.emit("locate",{position:t}),this._locateController=null,t)}catch(t){throw this._locateController=null,this.emit("locate-error",{error:t}),t}}cancelLocate(){this._clear(),this._locateController&&this._locateController.abort(),this._locateController=null}async _updatePopupTemplate(e){if(!this.popupEnabled)return;const t=await bMe(),i=e!==this.graphic;this.destroyed||i||(e.popupTemplate=t)}};c([d()],Cc.prototype,"_locateController",void 0),c([d()],Cc.prototype,"popupEnabled",void 0),c([d({readOnly:!0})],Cc.prototype,"state",null),c([d()],Cc.prototype,"locate",null),c([d()],Cc.prototype,"cancelLocate",null),Cc=c([_("esri.widgets.Locate.LocateViewModel")],Cc);const lG=Cc,Ps={base:"esri-locate esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-icon",locate:"esri-icon-locate",loading:"esri-icon-loading-indicator",rotating:"esri-rotating",widgetIcon:"esri-icon-north-navigation",disabled:"esri-disabled",hidden:"esri-hidden"};let Ei=class extends an{constructor(e,t){super(e,t),this.geolocationOptions=null,this.goToLocationEnabled=null,this.goToOverride=null,this.graphic=null,this.iconClass=Ps.widgetIcon,this.label=void 0,this.messages=null,this.messagesCommon=null,this.popupEnabled=null,this.scale=null,this.useHeadingEnabled=null,this.view=null,this.viewModel=new lG}cancelLocate(){}locate(){}render(){const e=this.get("viewModel.state"),t=e==="locating",i={[Ps.disabled]:e==="disabled",[Ps.hidden]:e==="feature-unsupported"},n={[Ps.loading]:t,[Ps.rotating]:t,[Ps.locate]:!t},r=e==="locating"?this.messagesCommon.cancel:this.messages.title;return R("div",{bind:this,class:this.classes(Ps.base,i),hidden:e==="feature-unsupported",onclick:this._locate,onkeydown:this._locate,role:"button",tabIndex:0,"aria-label":r,title:r},R("span",{"aria-hidden":"true",class:this.classes(Ps.icon,n)}),R("span",{class:Ps.text},this.messages.title))}_locate(){const{viewModel:e}=this;e.state==="locating"?e.cancelLocate():e.locate()}};c([ce("viewModel.geolocationOptions")],Ei.prototype,"geolocationOptions",void 0),c([ce("viewModel.goToLocationEnabled")],Ei.prototype,"goToLocationEnabled",void 0),c([ce("viewModel.goToOverride")],Ei.prototype,"goToOverride",void 0),c([ce("viewModel.graphic")],Ei.prototype,"graphic",void 0),c([d()],Ei.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Ei.prototype,"label",void 0),c([d(),Ui("esri/widgets/Locate/t9n/Locate")],Ei.prototype,"messages",void 0),c([d(),Ui("esri/t9n/common")],Ei.prototype,"messagesCommon",void 0),c([ce("viewModel.popupEnabled")],Ei.prototype,"popupEnabled",void 0),c([ce("viewModel.scale")],Ei.prototype,"scale",void 0),c([ce("viewModel.useHeadingEnabled")],Ei.prototype,"useHeadingEnabled",void 0),c([ce("viewModel.view")],Ei.prototype,"view",void 0),c([d({type:lG}),uI(["locate","locate-error"])],Ei.prototype,"viewModel",void 0),c([ce("viewModel.cancelLocate")],Ei.prototype,"cancelLocate",null),c([ce("viewModel.locate")],Ei.prototype,"locate",null),c([Gn()],Ei.prototype,"_locate",null),Ei=c([_("esri.widgets.Locate")],Ei);const vMe=Ei;let rl=class extends T_(ys.EventedAccessor){constructor(e){super(e),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.get("view.ready")?this._goingHomeController?"going-home":"ready":"disabled"}set view(e){this._initialViewpoint=null,this._set("view",e),e&&e.when().then(()=>{this.view===e&&(this._initialViewpoint=e.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(e){this._set("viewpoint",e)}async go(){if(!this.get("view.ready"))throw new P("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const e=new AbortController;this._goingHomeController=e;try{await this.view.when(),await this.callGoTo({target:this.viewpoint,options:{signal:e.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:e}=this;e&&e.abort(),this._goingHomeController=null}};c([d()],rl.prototype,"_goingHomeController",void 0),c([d({readOnly:!0})],rl.prototype,"state",null),c([d()],rl.prototype,"view",null),c([d({type:so})],rl.prototype,"viewpoint",null),c([d()],rl.prototype,"go",null),c([d()],rl.prototype,"cancelGo",null),rl=c([_("esri.widgets.Home.HomeViewModel")],rl);const cG=rl,Ou={base:"esri-home esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",homeIcon:"esri-icon esri-icon-home",loadingIcon:"esri-icon-loading-indicator",rotatingIcon:"esri-rotating",widgetIcon:"esri-icon-home",disabled:"esri-disabled"};let Dn=class extends an{constructor(e,t){super(e,t),this.goToOverride=null,this.iconClass=Ou.widgetIcon,this.label=void 0,this.messages=null,this.messagesCommon=null,this.view=null,this.viewModel=new cG,this.viewpoint=null}get homeTitle(){var e;const t=(e=this.viewModel)==null?void 0:e.state,{messagesCommon:i,messages:n}=this;return t==="going-home"?i.cancel:n.title}cancelGo(){return null}go(){return null}render(){var e;const t=(e=this.viewModel)==null?void 0:e.state,{homeTitle:i}=this,n={[Ou.disabled]:t==="disabled"};return R("div",{bind:this,class:this.classes(Ou.base,n),role:"button",tabIndex:0,onclick:this._go,onkeydown:this._go,"aria-label":i,title:i},this.renderIcon(),this.renderText())}renderIcon(){var e;const t=(e=this.viewModel)==null?void 0:e.state,i={[Ou.loadingIcon]:t==="going-home",[Ou.rotatingIcon]:t==="going-home"};return R("span",{"aria-hidden":"true",class:this.classes(Ou.homeIcon,i)})}renderText(){const{messages:e}=this;return R("span",{class:Ou.text},e.button)}_go(){const{viewModel:e}=this;e.state==="going-home"?e.cancelGo():e.go()}};c([ce("viewModel.goToOverride")],Dn.prototype,"goToOverride",void 0),c([d({readOnly:!0})],Dn.prototype,"homeTitle",null),c([d()],Dn.prototype,"iconClass",void 0),c([d({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],Dn.prototype,"label",void 0),c([d(),Ui("esri/widgets/Home/t9n/Home")],Dn.prototype,"messages",void 0),c([d(),Ui("esri/t9n/common")],Dn.prototype,"messagesCommon",void 0),c([ce("viewModel.view")],Dn.prototype,"view",void 0),c([d({type:cG}),uI("go")],Dn.prototype,"viewModel",void 0),c([ce("viewModel.viewpoint")],Dn.prototype,"viewpoint",void 0),c([ce("viewModel.cancelGo")],Dn.prototype,"cancelGo",null),c([ce("viewModel.go")],Dn.prototype,"go",null),c([Gn()],Dn.prototype,"_go",null),Dn=c([_("esri.widgets.Home")],Dn);const wMe=Dn;function aN(e){let t,i;return t=new cle({}),{c(){ki(t.$$.fragment)},m(n,r){ci(t,n,r),i=!0},i(n){i||(Ee(t.$$.fragment,n),i=!0)},o(n){Be(t.$$.fragment,n),i=!1},d(n){ui(t,n)}}}function xMe(e){let t,i,n,r,a,o,s=e[0]&&aN();return{c(){t=Ne("div"),i=xi(),s&&s.c(),n=Tl(),le(t,"class","view svelte-1iga405")},m(l,u){We(l,t,u),We(l,i,u),s&&s.m(l,u),We(l,n,u),r=!0,a||(o=XG(e[1].call(null,t)),a=!0)},p(l,[u]){l[0]?s?u&1&&Ee(s,1):(s=aN(),s.c(),Ee(s,1),s.m(n.parentNode,n)):s&&(es(),Be(s,1,1,()=>{s=null}),ts())},i(l){r||(Ee(s),r=!0)},o(l){Be(s),r=!1},d(l){l&&Ge(t),l&&Ge(i),s&&s.d(l),l&&Ge(n),a=!1,o()}}}let oN='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32" class="svg-icon"><path d="M26 30H2V6h14V4H0v28h28V18h-2zM21 8C12.715 8 6 14.717 6 23c0 .336.029.668.051 1h4A11.464 11.464 0 0 1 10 23c0-6.065 4.936-11 11-11h3.004l-6 6h4L30 10l-7.996-8h-4l6 6H21z"/></svg>';function kMe(e,t,i){let n;s3(e,Rc,o=>i(2,n=o));let{centerText:r}=t;const a=o=>{const s=T=>{T==="select"?(Rc.add(),Jw.refresh()):T==="remove"?(Rc.remove(),Rc.refresh()):(Rc.refresh(),Jw.refresh()),v.refresh()},l={id:"select-station",title:"Select & Add Station",image:"https://raw.githubusercontent.com/Esri/calcite-ui-icons/master/icons/check-square-16-f.svg"},u={id:"remove-from-user-config",title:"Remove Station",image:"https://raw.githubusercontent.com/Esri/calcite-ui-icons/master/icons/minus-square-16.svg"},h=new Bg({url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/ahps_riv_gauges/MapServer/0",id:"nws-stations",definitionExpression:"status NOT IN ('obs_not_current', 'out_of_service', 'not_defined')",renderer:{type:"unique-value",symbol:{type:"simple-marker",style:"circle",size:"18px",color:"darkblue  ",outline:null},valueExpression:`
          var observed = Number($feature.observed);
          var action = Number($feature.action);
          var moderate = Number($feature.moderate);
          var major = Number($feature.major);
          var flood_thresholds = [observed, action, moderate, major];
          //console($feature.location, flood_thresholds);

          // Match the maximum value with the label
          // of the respective field and return it for
          // use in a UniqueValueRenderer
          return IndexOf(
            Sort(flood_thresholds),
            observed
           );
        `,uniqueValueInfos:[{value:"0",symbol:{type:"simple-marker",style:"circle",size:"12px",color:"[255, 255, 255, 0.5]",outline:null},label:"Normal"},{value:"1",symbol:{type:"simple-marker",style:"circle",size:"12px",color:"orange",outline:null},label:"Minor Flooding"},{value:"2",symbol:{type:"simple-marker",style:"circle",size:"12px",color:"red",outline:null},label:"Moderate Flooding"},{value:"3",symbol:{type:"simple-marker",style:"circle",size:"12px",color:"purple",outline:null},label:"Major Flooding"}]},outFields:["gaugelid","location","observed","flood","action","moderate","major","status","state","url","obstime"],labelingInfo:[{labelExpressionInfo:{expression:"$feature.location"},symbol:{type:"text",color:"darkblue",haloColor:"white",haloSize:"1px",font:{size:"12px",family:"Noto Sans",style:"normal",weight:"normal"}},labelPlacement:"above-center",minScale:1e7}],minScale:1e6,popupTemplate:{title:"{location}, {state}",content:`<p>{observed}' @ {obstime}</p><a href="{url}" target="_blank">View Data for this Station (ID: {gaugelid})${oN}</a>`,overwriteActions:!0}}),m=new Bg({url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NOS_Observations/CO_OPS_Products/MapServer/5",id:"coops-prediction-stations",minScale:1e5}),f=new Bg({url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NOS_Observations/CO_OPS_Stations/MapServer/0",id:"coops-stations",renderer:{type:"simple",symbol:{type:"simple-marker",style:"square",size:"16px",color:"black",outline:null}},outFields:["id","name","latitude","longitude","data"],featureReduction:{type:"cluster",clusterRadius:100},popupTemplate:{title:"{name}, {state}",content:`<a href="{data}" target="_blank">View Data for this Station (ID: {id})${oN}</a>`,overwriteActions:!0,actions:[l,u]}});let g=!1,b="1=1";n.savedStations.length>0&&(g=!0,b=`id IN ('${n.savedStations.map(C=>C.id).join("','")}')`);const v=f.clone();v.id="user-stations",v.definitionExpression=b,v.visible=g,v.popupTemplate=null,v.renderer={type:"simple",symbol:{type:"simple-marker",style:"square",size:"12px",color:"yellow",outline:null}};const w=new tj({basemap:"gray-vector",layers:[h,f,m,v]}),x=new KIe({container:o,map:w,zoom:3,center:[-100,35]}),S=new wMe({view:x}),E=new vMe({view:x,graphic:new Nn({symbol:{type:"simple-marker"}}),scale:5e5,geolocationOptions:{maximumAge:0,timeout:15e3,enableHighAccuracy:!1},goToLocationEnabled:!0});if(x.ui.add(S,"top-left"),x.ui.add(E,"top-left"),x.watch("center",T=>{const{latitude:C,longitude:M}=T;i(0,r=`Lat: ${C.toFixed(2)} | Lon: ${M.toFixed(2)}`)}),x.popup.dockOptions={buttonEnabled:!1,position:"bottom-right"},x.popup.watch("selectedFeature",function(T){if(T&&T.layer.id==="coops-stations"){const C=T.attributes;let M={id:C.id,name:C.name};l6.set(M)}}),x.popup.on("trigger-action",T=>{T.action.id==="select-station"&&s("select"),T.action.id==="add-to-user-config"&&s("add"),T.action.id==="remove-from-user-config"&&s("remove")}),n.savedStations.length>0){const T=v.createQuery();v.queryFeatures(T).then(C=>{console.log("features",C.features),x.goTo({target:C.features}),v.set("effect",{filter:{where:`id = '${n.selectedStation}'`},excludedEffect:"opacity(50%)",includedEffect:"brightness(1.05)"})})}};return e.$$set=o=>{"centerText"in o&&i(0,r=o.centerText)},[r,a]}class _Me extends Fr{constructor(t){super();Rr(this,t,kMe,xMe,or,{centerText:0})}}function SMe(e){let t,i,n;return i=new _Me({props:{centerText:"Loading ..."}}),{c(){t=xi(),ki(i.$$.fragment),document.title="Map"},m(r,a){We(r,t,a),ci(i,r,a),n=!0},p:kt,i(r){n||(Ee(i.$$.fragment,r),n=!0)},o(r){Be(i.$$.fragment,r),n=!1},d(r){r&&Ge(t),ui(i,r)}}}class DMe extends Fr{constructor(t){super();Rr(this,t,null,SMe,or,{})}}function $Me(e){let t,i;return t=new Lre({props:{routes:e[0]}}),{c(){ki(t.$$.fragment)},m(n,r){ci(t,n,r),i=!0},p:kt,i(n){i||(Ee(t.$$.fragment,n),i=!0)},o(n){Be(t.$$.fragment,n),i=!1},d(n){ui(t,n)}}}function CMe(e){return UW("https://js.arcgis.com/calcite-components/1.0.0-beta.80/assets"),Ere(),[{"/":oae,"/map":DMe}]}class TMe extends Fr{constructor(t){super();Rr(this,t,CMe,$Me,or,{})}}new TMe({target:document.getElementById("app")});export{NT as $,nf as A,Fc as B,$t as C,AT as D,GMe as E,ni as F,Qc as G,HB as H,Em as I,Ak as J,Gt as K,Dw as L,iM as M,E_ as N,Yo as O,SPe as P,xPe as Q,kPe as R,sE as S,ga as T,Pi as U,Nq as V,wh as W,he as X,XE as Y,c as Z,d as _,Tle as a,zC as a$,_ as a0,Xc as a1,Kn as a2,bs as a3,b8 as a4,lE as a5,k8 as a6,so as a7,be as a8,Wk as a9,vAe as aA,ho as aB,ya as aC,TAe as aD,Jpe as aE,gH as aF,LAe as aG,xR as aH,mH as aI,VOe as aJ,ar as aK,ck as aL,wAe as aM,HOe as aN,LOe as aO,vE as aP,_Ie as aQ,mfe as aR,ffe as aS,Le as aT,Qy as aU,fOe as aV,mPe as aW,fPe as aX,pPe as aY,IB as aZ,lM as a_,I_ as aa,POe as ab,wB as ac,aB as ad,xB as ae,rTe as af,yPe as ag,fTe as ah,Ly as ai,bPe as aj,gn as ak,rz as al,tOe as am,ch as an,oo as ao,nh as ap,Wp as aq,yE as ar,gE as as,X8 as at,Bd as au,bE as av,yOe as aw,jde as ax,Ng as ay,Fd as az,zMe as b,EB as b$,Bm as b0,FTe as b1,MB as b2,N as b3,iB as b4,CB as b5,tB as b6,Py as b7,ITe as b8,ROe as b9,of as bA,aPe as bB,Z5e as bC,X5e as bD,Q5e as bE,xSe as bF,xOe as bG,ae as bH,Bq as bI,Jp as bJ,X2e as bK,xH as bL,Fn as bM,wH as bN,OAe as bO,EAe as bP,Iwe as bQ,NAe as bR,u$ as bS,ASe as bT,LMe as bU,RMe as bV,rDe as bW,NTe as bX,Xa as bY,axe as bZ,vH as b_,co as ba,ru as bb,zOe as bc,cOe as bd,Ie as be,pU as bf,E3e as bg,I3e as bh,ice as bi,Hp as bj,Eg as bk,oAe as bl,ir as bm,cr as bn,k1 as bo,pL as bp,Jn as bq,zAe as br,IAe as bs,at as bt,NSe as bu,oPe as bv,zSe as bw,rPe as bx,rr as by,Bi as bz,AMe as c,$Oe as c$,b0 as c0,db as c1,TC as c2,Ze as c3,PT as c4,nb as c5,Te as c6,Ye as c7,B as c8,ge as c9,gfe as cA,vEe as cB,vPe as cC,wPe as cD,bt as cE,nr as cF,th as cG,Fu as cH,c5 as cI,zk as cJ,hx as cK,L3 as cL,R0e as cM,Gm as cN,i5e as cO,t5e as cP,dPe as cQ,r_ as cR,nj as cS,kOe as cT,mle as cU,Mn as cV,$l as cW,TOe as cX,_Oe as cY,DOe as cZ,SOe as c_,qz as ca,hI as cb,Nn as cc,Dl as cd,nz as ce,Mxe as cf,r3e as cg,lt as ch,xs as ci,fwe as cj,Pr as ck,W5e as cl,J5e as cm,Y5e as cn,tr as co,pDe as cp,yx as cq,NOe as cr,Gk as cs,Bk as ct,hb as cu,FOe as cv,iz as cw,jk as cx,rf as cy,On as cz,V as d,eOe as d$,hy as d0,pa as d1,Rme as d2,$h as d3,rs as d4,dE as d5,COe as d6,gye as d7,ab as d8,sPe as d9,EE as dA,WP as dB,bOe as dC,UOe as dD,Ve as dE,nEe as dF,OSe as dG,_d as dH,Ui as dI,an as dJ,R as dK,Hs as dL,PD as dM,Xm as dN,jV as dO,L6 as dP,lm as dQ,px as dR,XMe as dS,ao as dT,Vk as dU,Zm as dV,to as dW,rOe as dX,q6 as dY,_b as dZ,d3e as d_,NI as da,Tz as db,Mm as dc,Yg as dd,u5 as de,Ape as df,zTe as dg,Nm as dh,zm as di,hh as dj,CD as dk,Mt as dl,$D as dm,ED as dn,Ex as dp,Gge as dq,pTe as dr,yt as ds,Xz as dt,zz as du,zr as dv,cy as dw,ZOe as dx,ii as dy,dP as dz,P as e,bh as e$,te as e0,Ixe as e1,rn as e2,ye as e3,hwe as e4,Bz as e5,wle as e6,g3e as e7,b5e as e8,_5e as e9,y_ as eA,jq as eB,Vq as eC,Hq as eD,cSe as eE,Qz as eF,FMe as eG,tu as eH,E6 as eI,iOe as eJ,ur as eK,q2e as eL,U2e as eM,Sme as eN,ms as eO,rde as eP,i2e as eQ,qOe as eR,KOe as eS,RAe as eT,GDe as eU,EOe as eV,K8 as eW,vOe as eX,gOe as eY,Kq as eZ,tPe as e_,iU as ea,PMe as eb,b_ as ec,d5e as ed,wE as ee,jMe as ef,jx as eg,WMe as eh,Ud as ei,APe as ej,$Pe as ek,TPe as el,CPe as em,IPe as en,EPe as eo,OPe as ep,MPe as eq,LPe as er,PPe as es,tMe as et,FPe as eu,RPe as ev,nMe as ew,_t as ex,pwe as ey,l_ as ez,lOe as f,O8 as f$,Ko as f0,xfe as f1,qU as f2,IMe as f3,J0e as f4,Yz as f5,FAe as f6,$Ae as f7,yH as f8,dH as f9,nAe as fA,cAe as fB,h7 as fC,pb as fD,Pge as fE,Yhe as fF,Age as fG,ghe as fH,nOe as fI,qk as fJ,Uk as fK,MTe as fL,ATe as fM,Hhe as fN,aOe as fO,BTe as fP,eEe as fQ,rge as fR,W0e as fS,Fm as fT,ta as fU,_e as fV,ape as fW,spe as fX,ppe as fY,bpe as fZ,vpe as f_,Rde as fa,Hde as fb,oOe as fc,NMe as fd,A6 as fe,tIe as ff,M6 as fg,Che as fh,o5 as fi,VMe as fj,HMe as fk,a5 as fl,$8 as fm,Rhe as fn,dOe as fo,Zhe as fp,v8 as fq,_8 as fr,sOe as fs,ope as ft,P8 as fu,cge as fv,age as fw,nge as fx,ege as fy,Vhe as fz,MMe as g,by as g$,A8 as g0,ype as g1,Spe as g2,Dpe as g3,npe as g4,Hc as g5,YMe as g6,I6 as g7,nH as g8,QV as g9,g0e as gA,nPe as gB,tce as gC,cS as gD,uS as gE,gle as gF,dU as gG,Ct as gH,xAe as gI,oIe as gJ,MAe as gK,c_ as gL,qMe as gM,qhe as gN,xt as gO,LI as gP,K2e as gQ,Gc as gR,xle as gS,iAe as gT,tAe as gU,Vue as gV,ZT as gW,ome as gX,In as gY,ePe as gZ,Gue as g_,kAe as ga,AAe as gb,XV as gc,yAe as gd,iH as ge,bAe as gf,jOe as gg,Sl as gh,um as gi,wU as gj,uAe as gk,owe as gl,CAe as gm,kE as gn,IOe as go,MOe as gp,OOe as gq,hOe as gr,w7 as gs,mOe as gt,Cg as gu,Wwe as gv,Vwe as gw,fR as gx,eH as gy,PAe as gz,Yd as h,h2e as h$,Rg as h0,dD as h1,Tn as h2,En as h3,Qi as h4,ks as h5,Q1 as h6,Cy as h7,OI as h8,Zx as h9,$2e as hA,C2e as hB,T2e as hC,II as hD,I2e as hE,E2e as hF,M2e as hG,$y as hH,n2e as hI,k2e as hJ,w2e as hK,f2e as hL,j2e as hM,F2e as hN,R2e as hO,YAe as hP,N2e as hQ,z2e as hR,g2e as hS,y2e as hT,FT as hU,x2e as hV,P2e as hW,vI as hX,QA as hY,QAe as hZ,d2e as h_,tz as ha,Vp as hb,qt as hc,D2e as hd,Zc as he,hn as hf,_2e as hg,ba as hh,b2e as hi,m2e as hj,p2e as hk,gh as hl,$r as hm,Tq as hn,Il as ho,Xxe as hp,s2e as hq,u2e as hr,Oe as hs,Cq as ht,Mr as hu,S2e as hv,v2e as hw,Q3 as hx,Ch as hy,hE as hz,$le as i,M5e as i$,c2e as i0,l2e as i1,gAe as i2,pAe as i3,dAe as i4,oV as i5,mve as i6,fAe as i7,mAe as i8,hAe as i9,kue as iA,$j as iB,Jbe as iC,l3e as iD,dm as iE,Lz as iF,hPe as iG,p5e as iH,f5e as iI,h3e as iJ,HI as iK,m3e as iL,f3e as iM,OE as iN,mme as iO,dme as iP,EP as iQ,Ln as iR,uy as iS,h5e as iT,bo as iU,cb as iV,uf as iW,_h as iX,x5e as iY,e5e as iZ,n5e as i_,oG as ia,GOe as ib,XOe as ic,QOe as id,uh as ie,lb as ig,_Pe as ih,jT as ii,lAe as ij,YT as ik,vhe as il,uge as im,Q3e as io,T5e as ip,C5e as iq,kF as ir,uPe as is,Bg as it,gDe as iu,c5e as iv,VSe as iw,fU as ix,oDe as iy,Rn as iz,va as j,y5e as j$,qP as j0,ij as j1,iDe as j2,gU as j3,YI as j4,GF as j5,fw as j6,Qq as j7,u5e as j8,KI as j9,Ir as jA,Ffe as jB,Hk as jC,Ik as jD,eAe as jE,sAe as jF,ib as jG,UMe as jH,aAe as jI,zT as jJ,vp as jK,uDe as jL,Dr as jM,Qw as jN,h4 as jO,df as jP,zP as jQ,WE as jR,hs as jS,cs as jT,xj as jU,Gd as jV,OMe as jW,eU as jX,yw as jY,VF as jZ,dy as j_,CU as ja,ce as jb,xh as jc,R3 as jd,DAe as je,Kwe as jf,Jwe as jg,Ace as jh,la as ji,hDe as jj,xb as jk,J2e as jl,Rq as jm,r$e as jn,dSe as jo,a$e as jp,Yq as jq,ek as jr,zI as js,JMe as jt,Oq as ju,tk as jv,p3e as jw,bz as jx,yy as jy,Vc as jz,hi as k,KCe as k$,g5e as k0,Qm as k1,Zj as k2,lPe as k3,eb as k4,tf as k5,KMe as k6,m5e as k7,cPe as k8,mue as k9,rF as kA,BAe as kB,O2e as kC,g_ as kD,Iq as kE,Mq as kF,Fhe as kG,S8 as kH,vh as kI,_le as kJ,ude as kK,uOe as kL,WOe as kM,JOe as kN,D8 as kO,pOe as kP,Lge as kQ,Ay as kR,v_ as kS,BOe as kT,yhe as kU,YOe as kV,x8 as kW,ZMe as kX,dge as kY,kce as kZ,ix as k_,BMe as ka,k as kb,rAe as kc,JI as kd,wOe as ke,nu as kf,dj as kg,lh as kh,xU as ki,KAe as kj,JAe as kk,iF as kl,jAe as km,tF as kn,A2e as ko,WAe as kp,XAe as kq,WV as kr,ZAe as ks,fh as kt,HAe as ku,VAe as kv,qAe as kw,UAe as kx,GAe as ky,o2e as kz,NB as l,bhe as l0,y8 as l1,QMe as l2,kde as l3,_Ae as l4,SAe as l5,iPe as l6,gPe as l7,di as m,DPe as n,qi as o,us as p,rt as q,$ as r,Z as s,z as t,Vi as u,uo as v,P3 as w,AOe as x,AB as y,ys as z};
